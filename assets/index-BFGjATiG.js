(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(r){const n=Object.create(null);for(const a of r.split(","))n[a]=1;return a=>a in n}const EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),isModelListener=r=>r.startsWith("onUpdate:"),extend$2=Object.assign,remove=(r,n)=>{const a=r.indexOf(n);a>-1&&r.splice(a,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(r,n)=>hasOwnProperty$2.call(r,n),isArray$4=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isFunction$2=r=>typeof r=="function",isString$2=r=>typeof r=="string",isSymbol=r=>typeof r=="symbol",isObject$6=r=>r!==null&&typeof r=="object",isPromise$1=r=>(isObject$6(r)||isFunction$2(r))&&isFunction$2(r.then)&&isFunction$2(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString$2(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=r=>{const n=Object.create(null);return a=>n[a]||(n[a]=r(a))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(r=>r.replace(camelizeRE$1,(n,a)=>a?a.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(r=>r.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize=cacheStringFunction$1(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction$1(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,n)=>!Object.is(r,n),invokeArrayFns=(r,...n)=>{for(let a=0;a<r.length;a++)r[a](...n)},def=(r,n,a,o=!1)=>{Object.defineProperty(r,n,{configurable:!0,enumerable:!1,writable:o,value:a})},looseToNumber=r=>{const n=parseFloat(r);return isNaN(n)?r:n},toNumber=r=>{const n=isString$2(r)?Number(r):NaN;return isNaN(n)?r:n};let _globalThis;const getGlobalThis$1=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$2(r){if(isArray$4(r)){const n={};for(let a=0;a<r.length;a++){const o=r[a],s=isString$2(o)?parseStringStyle$1(o):normalizeStyle$2(o);if(s)for(const l in s)n[l]=s[l]}return n}else if(isString$2(r)||isObject$6(r))return r}const listDelimiterRE$1=/;(?![^(]*\))/g,propertyDelimiterRE$1=/:([^]+)/,styleCommentRE$1=/\/\*[^]*?\*\//g;function parseStringStyle$1(r){const n={};return r.replace(styleCommentRE$1,"").split(listDelimiterRE$1).forEach(a=>{if(a){const o=a.split(propertyDelimiterRE$1);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function normalizeClass$1(r){let n="";if(isString$2(r))n=r;else if(isArray$4(r))for(let a=0;a<r.length;a++){const o=normalizeClass$1(r[a]);o&&(n+=o+" ")}else if(isObject$6(r))for(const a in r)r[a]&&(n+=a+" ");return n.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}const isRef$1=r=>!!(r&&r.__v_isRef===!0),toDisplayString=r=>isString$2(r)?r:r==null?"":isArray$4(r)||isObject$6(r)&&(r.toString===objectToString||!isFunction$2(r.toString))?isRef$1(r)?toDisplayString(r.value):JSON.stringify(r,replacer,2):String(r),replacer=(r,n)=>isRef$1(n)?replacer(r,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((a,[o,s],l)=>(a[stringifySymbol(o,l)+" =>"]=s,a),{})}:isSet(n)?{[`Set(${n.size})`]:[...n.values()].map(a=>stringifySymbol(a))}:isSymbol(n)?stringifySymbol(n):isObject$6(n)&&!isArray$4(n)&&!isPlainObject(n)?String(n):n,stringifySymbol=(r,n="")=>{var a;return isSymbol(r)?`Symbol(${(a=r.description)!=null?a:n})`:r};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,a;if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].pause();for(n=0,a=this.effects.length;n<a;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,a;if(this.scopes)for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].resume();for(n=0,a=this.effects.length;n<a;n++)this.effects[n].resume()}}run(n){if(this._active){const a=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=a}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this._active){let a,o;for(a=0,o=this.effects.length;a<o;a++)this.effects[a].stop();for(a=0,o=this.cleanups.length;a<o;a++)this.cleanups[a]();if(this.scopes)for(a=0,o=this.scopes.length;a<o;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!n){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const n=activeSub,a=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=n,shouldTrack=a,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)removeSub(n);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(r,n=!1){if(r.flags|=8,n){r.next=batchedComputed,batchedComputed=r;return}r.next=batchedSub,batchedSub=r}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let n=batchedComputed;for(batchedComputed=void 0;n;){const a=n.next;n.next=void 0,n.flags&=-9,n=a}}let r;for(;batchedSub;){let n=batchedSub;for(batchedSub=void 0;n;){const a=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(o){r||(r=o)}n=a}}if(r)throw r}function prepareDeps(r){for(let n=r.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function cleanupDeps(r){let n,a=r.depsTail,o=a;for(;o;){const s=o.prevDep;o.version===-1?(o===a&&(a=s),removeSub(o),removeDep(o)):n=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}r.deps=n,r.depsTail=a}function isDirty(r){for(let n=r.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(refreshComputed(n.dep.computed)||n.dep.version!==n.version))return!0;return!!r._dirty}function refreshComputed(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===globalVersion))return;r.globalVersion=globalVersion;const n=r.dep;if(r.flags|=2,n.version>0&&!r.isSSR&&r.deps&&!isDirty(r)){r.flags&=-3;return}const a=activeSub,o=shouldTrack;activeSub=r,shouldTrack=!0;try{prepareDeps(r);const s=r.fn(r._value);(n.version===0||hasChanged(s,r._value))&&(r._value=s,n.version++)}catch(s){throw n.version++,s}finally{activeSub=a,shouldTrack=o,cleanupDeps(r),r.flags&=-3}}function removeSub(r,n=!1){const{dep:a,prevSub:o,nextSub:s}=r;if(o&&(o.nextSub=s,r.prevSub=void 0),s&&(s.prevSub=o,r.nextSub=void 0),a.subs===r&&(a.subs=o,!o&&a.computed)){a.computed.flags&=-5;for(let l=a.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!n&&!--a.sc&&a.map&&a.map.delete(a.key)}function removeDep(r){const{prevDep:n,nextDep:a}=r;n&&(n.nextDep=a,r.prevDep=void 0),a&&(a.prevDep=n,r.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function cleanupEffect(r){const{cleanup:n}=r;if(r.cleanup=void 0,n){const a=activeSub;activeSub=void 0;try{n()}finally{activeSub=a}}}let globalVersion=0;class Link{constructor(n,a){this.sub=n,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==activeSub)a=this.activeLink=new Link(activeSub,this),activeSub.deps?(a.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=a,activeSub.depsTail=a):activeSub.deps=activeSub.depsTail=a,addSub(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const o=a.nextDep;o.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=o),a.prevDep=activeSub.depsTail,a.nextDep=void 0,activeSub.depsTail.nextDep=a,activeSub.depsTail=a,activeSub.deps===a&&(activeSub.deps=o)}return a}trigger(n){this.version++,globalVersion++,this.notify(n)}notify(n){startBatch();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{endBatch()}}}function addSub(r){if(r.dep.sc++,r.sub.flags&4){const n=r.dep.computed;if(n&&!r.dep.subs){n.flags|=20;for(let o=n.deps;o;o=o.nextDep)addSub(o)}const a=r.dep.subs;a!==r&&(r.prevSub=a,a&&(a.nextSub=r)),r.dep.subs=r}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(r,n,a){if(shouldTrack&&activeSub){let o=targetMap.get(r);o||targetMap.set(r,o=new Map);let s=o.get(a);s||(o.set(a,s=new Dep),s.map=o,s.key=a),s.track()}}function trigger$2(r,n,a,o,s,l){const c=targetMap.get(r);if(!c){globalVersion++;return}const u=d=>{d&&d.trigger()};if(startBatch(),n==="clear")c.forEach(u);else{const d=isArray$4(r),f=d&&isIntegerKey(a);if(d&&a==="length"){const v=Number(o);c.forEach((g,y)=>{(y==="length"||y===ARRAY_ITERATE_KEY||!isSymbol(y)&&y>=v)&&u(g)})}else switch((a!==void 0||c.has(void 0))&&u(c.get(a)),f&&u(c.get(ARRAY_ITERATE_KEY)),n){case"add":d?f&&u(c.get("length")):(u(c.get(ITERATE_KEY)),isMap(r)&&u(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":d||(u(c.get(ITERATE_KEY)),isMap(r)&&u(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&u(c.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(r,n){const a=targetMap.get(r);return a&&a.get(n)}function reactiveReadArray(r){const n=toRaw(r);return n===r?n:(track(n,"iterate",ARRAY_ITERATE_KEY),isShallow(r)?n:n.map(toReactive))}function shallowReadArray(r){return track(r=toRaw(r),"iterate",ARRAY_ITERATE_KEY),r}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator$1(this,Symbol.iterator,toReactive)},concat(...r){return reactiveReadArray(this).concat(...r.map(n=>isArray$4(n)?reactiveReadArray(n):n))},entries(){return iterator$1(this,"entries",r=>(r[1]=toReactive(r[1]),r))},every(r,n){return apply(this,"every",r,n,void 0,arguments)},filter(r,n){return apply(this,"filter",r,n,a=>a.map(toReactive),arguments)},find(r,n){return apply(this,"find",r,n,toReactive,arguments)},findIndex(r,n){return apply(this,"findIndex",r,n,void 0,arguments)},findLast(r,n){return apply(this,"findLast",r,n,toReactive,arguments)},findLastIndex(r,n){return apply(this,"findLastIndex",r,n,void 0,arguments)},forEach(r,n){return apply(this,"forEach",r,n,void 0,arguments)},includes(...r){return searchProxy(this,"includes",r)},indexOf(...r){return searchProxy(this,"indexOf",r)},join(r){return reactiveReadArray(this).join(r)},lastIndexOf(...r){return searchProxy(this,"lastIndexOf",r)},map(r,n){return apply(this,"map",r,n,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...r){return noTracking(this,"push",r)},reduce(r,...n){return reduce$1(this,"reduce",r,n)},reduceRight(r,...n){return reduce$1(this,"reduceRight",r,n)},shift(){return noTracking(this,"shift")},some(r,n){return apply(this,"some",r,n,void 0,arguments)},splice(...r){return noTracking(this,"splice",r)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(r){return reactiveReadArray(this).toSorted(r)},toSpliced(...r){return reactiveReadArray(this).toSpliced(...r)},unshift(...r){return noTracking(this,"unshift",r)},values(){return iterator$1(this,"values",toReactive)}};function iterator$1(r,n,a){const o=shallowReadArray(r),s=o[n]();return o!==r&&!isShallow(r)&&(s._next=s.next,s.next=()=>{const l=s._next();return l.value&&(l.value=a(l.value)),l}),s}const arrayProto$1=Array.prototype;function apply(r,n,a,o,s,l){const c=shallowReadArray(r),u=c!==r&&!isShallow(r),d=c[n];if(d!==arrayProto$1[n]){const g=d.apply(r,l);return u?toReactive(g):g}let f=a;c!==r&&(u?f=function(g,y){return a.call(this,toReactive(g),y,r)}:a.length>2&&(f=function(g,y){return a.call(this,g,y,r)}));const v=d.call(c,f,o);return u&&s?s(v):v}function reduce$1(r,n,a,o){const s=shallowReadArray(r);let l=a;return s!==r&&(isShallow(r)?a.length>3&&(l=function(c,u,d){return a.call(this,c,u,d,r)}):l=function(c,u,d){return a.call(this,c,toReactive(u),d,r)}),s[n](l,...o)}function searchProxy(r,n,a){const o=toRaw(r);track(o,"iterate",ARRAY_ITERATE_KEY);const s=o[n](...a);return(s===-1||s===!1)&&isProxy(a[0])?(a[0]=toRaw(a[0]),o[n](...a)):s}function noTracking(r,n,a=[]){pauseTracking(),startBatch();const o=toRaw(r)[n].apply(r,a);return endBatch(),resetTracking(),o}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(isSymbol));function hasOwnProperty$1(r){isSymbol(r)||(r=String(r));const n=toRaw(this);return track(n,"has",r),n.hasOwnProperty(r)}class BaseReactiveHandler{constructor(n=!1,a=!1){this._isReadonly=n,this._isShallow=a}get(n,a,o){const s=this._isReadonly,l=this._isShallow;if(a==="__v_isReactive")return!s;if(a==="__v_isReadonly")return s;if(a==="__v_isShallow")return l;if(a==="__v_raw")return o===(s?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(o)?n:void 0;const c=isArray$4(n);if(!s){let d;if(c&&(d=arrayInstrumentations[a]))return d;if(a==="hasOwnProperty")return hasOwnProperty$1}const u=Reflect.get(n,a,isRef(n)?n:o);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(s||track(n,"get",a),l)?u:isRef(u)?c&&isIntegerKey(a)?u:u.value:isObject$6(u)?s?readonly(u):reactive(u):u}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!1,n)}set(n,a,o,s){let l=n[a];if(!this._isShallow){const d=isReadonly(l);if(!isShallow(o)&&!isReadonly(o)&&(l=toRaw(l),o=toRaw(o)),!isArray$4(n)&&isRef(l)&&!isRef(o))return d?!1:(l.value=o,!0)}const c=isArray$4(n)&&isIntegerKey(a)?Number(a)<n.length:hasOwn$1(n,a),u=Reflect.set(n,a,o,isRef(n)?n:s);return n===toRaw(s)&&(c?hasChanged(o,l)&&trigger$2(n,"set",a,o):trigger$2(n,"add",a,o)),u}deleteProperty(n,a){const o=hasOwn$1(n,a);n[a];const s=Reflect.deleteProperty(n,a);return s&&o&&trigger$2(n,"delete",a,void 0),s}has(n,a){const o=Reflect.has(n,a);return(!isSymbol(a)||!builtInSymbols.has(a))&&track(n,"has",a),o}ownKeys(n){return track(n,"iterate",isArray$4(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!0,n)}set(n,a){return!0}deleteProperty(n,a){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function createIterableMethod(r,n,a){return function(...o){const s=this.__v_raw,l=toRaw(s),c=isMap(l),u=r==="entries"||r===Symbol.iterator&&c,d=r==="keys"&&c,f=s[r](...o),v=a?toShallow:n?toReadonly:toReactive;return!n&&track(l,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:g,done:y}=f.next();return y?{value:g,done:y}:{value:u?[v(g[0]),v(g[1])]:v(g),done:y}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...n){return r==="delete"?!1:r==="clear"?void 0:this}}function createInstrumentations(r,n){const a={get(s){const l=this.__v_raw,c=toRaw(l),u=toRaw(s);r||(hasChanged(s,u)&&track(c,"get",s),track(c,"get",u));const{has:d}=getProto(c),f=n?toShallow:r?toReadonly:toReactive;if(d.call(c,s))return f(l.get(s));if(d.call(c,u))return f(l.get(u));l!==c&&l.get(s)},get size(){const s=this.__v_raw;return!r&&track(toRaw(s),"iterate",ITERATE_KEY),Reflect.get(s,"size",s)},has(s){const l=this.__v_raw,c=toRaw(l),u=toRaw(s);return r||(hasChanged(s,u)&&track(c,"has",s),track(c,"has",u)),s===u?l.has(s):l.has(s)||l.has(u)},forEach(s,l){const c=this,u=c.__v_raw,d=toRaw(u),f=n?toShallow:r?toReadonly:toReactive;return!r&&track(d,"iterate",ITERATE_KEY),u.forEach((v,g)=>s.call(l,f(v),f(g),c))}};return extend$2(a,r?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(s){!n&&!isShallow(s)&&!isReadonly(s)&&(s=toRaw(s));const l=toRaw(this);return getProto(l).has.call(l,s)||(l.add(s),trigger$2(l,"add",s,s)),this},set(s,l){!n&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const c=toRaw(this),{has:u,get:d}=getProto(c);let f=u.call(c,s);f||(s=toRaw(s),f=u.call(c,s));const v=d.call(c,s);return c.set(s,l),f?hasChanged(l,v)&&trigger$2(c,"set",s,l):trigger$2(c,"add",s,l),this},delete(s){const l=toRaw(this),{has:c,get:u}=getProto(l);let d=c.call(l,s);d||(s=toRaw(s),d=c.call(l,s)),u&&u.call(l,s);const f=l.delete(s);return d&&trigger$2(l,"delete",s,void 0),f},clear(){const s=toRaw(this),l=s.size!==0,c=s.clear();return l&&trigger$2(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{a[s]=createIterableMethod(s,r,n)}),a}function createInstrumentationGetter(r,n){const a=createInstrumentations(r,n);return(o,s,l)=>s==="__v_isReactive"?!r:s==="__v_isReadonly"?r:s==="__v_raw"?o:Reflect.get(hasOwn$1(a,s)&&s in o?a:o,s,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(r){return createReactiveObject(r,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(r,n,a,o,s){if(!isObject$6(r)||r.__v_raw&&!(n&&r.__v_isReactive))return r;const l=s.get(r);if(l)return l;const c=getTargetType(r);if(c===0)return r;const u=new Proxy(r,c===2?o:a);return s.set(r,u),u}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return r?!!r.__v_raw:!1}function toRaw(r){const n=r&&r.__v_raw;return n?toRaw(n):r}function markRaw(r){return!hasOwn$1(r,"__v_skip")&&Object.isExtensible(r)&&def(r,"__v_skip",!0),r}const toReactive=r=>isObject$6(r)?reactive(r):r,toReadonly=r=>isObject$6(r)?readonly(r):r;function isRef(r){return r?r.__v_isRef===!0:!1}function ref(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,n){return isRef(r)?r:new RefImpl(r,n)}class RefImpl{constructor(n,a){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?n:toRaw(n),this._value=a?n:toReactive(n),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(n){const a=this._rawValue,o=this.__v_isShallow||isShallow(n)||isReadonly(n);n=o?n:toRaw(n),hasChanged(n,a)&&(this._rawValue=n,this._value=o?n:toReactive(n),this.dep.trigger())}}function unref(r){return isRef(r)?r.value:r}const shallowUnwrapHandlers={get:(r,n,a)=>n==="__v_raw"?r:unref(Reflect.get(r,n,a)),set:(r,n,a,o)=>{const s=r[n];return isRef(s)&&!isRef(a)?(s.value=a,!0):Reflect.set(r,n,a,o)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}function toRefs(r){const n=isArray$4(r)?new Array(r.length):{};for(const a in r)n[a]=propertyToRef(r,a);return n}class ObjectRefImpl{constructor(n,a,o){this._object=n,this._key=a,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const n=this._object[this._key];return this._value=n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(r,n,a){const o=r[n];return isRef(o)?o:new ObjectRefImpl(r,n,a)}class ComputedRefImpl{constructor(n,a,o){this.fn=n,this.setter=a,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const n=this.dep.track();return refreshComputed(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function computed$1(r,n,a=!1){let o,s;return isFunction$2(r)?o=r:(o=r.get,s=r.set),new ComputedRefImpl(o,s,a)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(r,n=!1,a=activeWatcher){if(a){let o=cleanupMap.get(a);o||cleanupMap.set(a,o=[]),o.push(r)}}function watch$1(r,n,a=EMPTY_OBJ$1){const{immediate:o,deep:s,once:l,scheduler:c,augmentJob:u,call:d}=a,f=I=>s?I:isShallow(I)||s===!1||s===0?traverse(I,1):traverse(I);let v,g,y,_,b=!1,T=!1;if(isRef(r)?(g=()=>r.value,b=isShallow(r)):isReactive(r)?(g=()=>f(r),b=!0):isArray$4(r)?(T=!0,b=r.some(I=>isReactive(I)||isShallow(I)),g=()=>r.map(I=>{if(isRef(I))return I.value;if(isReactive(I))return f(I);if(isFunction$2(I))return d?d(I,2):I()})):isFunction$2(r)?n?g=d?()=>d(r,2):r:g=()=>{if(y){pauseTracking();try{y()}finally{resetTracking()}}const I=activeWatcher;activeWatcher=v;try{return d?d(r,3,[_]):r(_)}finally{activeWatcher=I}}:g=NOOP,n&&s){const I=g,L=s===!0?1/0:s;g=()=>traverse(I(),L)}const C=getCurrentScope(),P=()=>{v.stop(),C&&remove(C.effects,v)};if(l&&n){const I=n;n=(...L)=>{I(...L),P()}}let E=T?new Array(r.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const M=I=>{if(!(!(v.flags&1)||!v.dirty&&!I))if(n){const L=v.run();if(s||b||(T?L.some((N,V)=>hasChanged(N,E[V])):hasChanged(L,E))){y&&y();const N=activeWatcher;activeWatcher=v;try{const V=[L,E===INITIAL_WATCHER_VALUE?void 0:T&&E[0]===INITIAL_WATCHER_VALUE?[]:E,_];d?d(n,3,V):n(...V),E=L}finally{activeWatcher=N}}}else v.run()};return u&&u(M),v=new ReactiveEffect(g),v.scheduler=c?()=>c(M,!1):M,_=I=>onWatcherCleanup(I,!1,v),y=v.onStop=()=>{const I=cleanupMap.get(v);if(I){if(d)d(I,4);else for(const L of I)L();cleanupMap.delete(v)}},n?o?M(!0):E=v.run():c?c(M.bind(null,!0),!0):v.run(),P.pause=v.pause.bind(v),P.resume=v.resume.bind(v),P.stop=P,P}function traverse(r,n=1/0,a){if(n<=0||!isObject$6(r)||r.__v_skip||(a=a||new Set,a.has(r)))return r;if(a.add(r),n--,isRef(r))traverse(r.value,n,a);else if(isArray$4(r))for(let o=0;o<r.length;o++)traverse(r[o],n,a);else if(isSet(r)||isMap(r))r.forEach(o=>{traverse(o,n,a)});else if(isPlainObject(r)){for(const o in r)traverse(r[o],n,a);for(const o of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,o)&&traverse(r[o],n,a)}return r}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(r,...n){if(isWarning)return;isWarning=!0,pauseTracking();const a=stack.length?stack[stack.length-1].component:null,o=a&&a.appContext.config.warnHandler,s=getComponentTrace();if(o)callWithErrorHandling(o,a,11,[r+n.map(l=>{var c,u;return(u=(c=l.toString)==null?void 0:c.call(l))!=null?u:JSON.stringify(l)}).join(""),a&&a.proxy,s.map(({vnode:l})=>`at <${formatComponentName(a,l.type)}>`).join(`
`),s]);else{const l=[`[Vue warn]: ${r}`,...n];s.length&&l.push(`
`,...formatTrace(s)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let r=stack[stack.length-1];if(!r)return[];const n=[];for(;r;){const a=n[0];a&&a.vnode===r?a.recurseCount++:n.push({vnode:r,recurseCount:0});const o=r.component&&r.component.parent;r=o&&o.vnode}return n}function formatTrace(r){const n=[];return r.forEach((a,o)=>{n.push(...o===0?[]:[`
`],...formatTraceEntry(a))}),n}function formatTraceEntry({vnode:r,recurseCount:n}){const a=n>0?`... (${n} recursive calls)`:"",o=r.component?r.component.parent==null:!1,s=` at <${formatComponentName(r.component,r.type,o)}`,l=">"+a;return r.props?[s,...formatProps(r.props),l]:[s+l]}function formatProps(r){const n=[],a=Object.keys(r);return a.slice(0,3).forEach(o=>{n.push(...formatProp(o,r[o]))}),a.length>3&&n.push(" ..."),n}function formatProp(r,n,a){return isString$2(n)?(n=JSON.stringify(n),a?n:[`${r}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?a?n:[`${r}=${n}`]:isRef(n)?(n=formatProp(r,toRaw(n.value),!0),a?n:[`${r}=Ref<`,n,">"]):isFunction$2(n)?[`${r}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),a?n:[`${r}=`,n])}function callWithErrorHandling(r,n,a,o){try{return o?r(...o):r()}catch(s){handleError(s,n,a)}}function callWithAsyncErrorHandling(r,n,a,o){if(isFunction$2(r)){const s=callWithErrorHandling(r,n,a,o);return s&&isPromise$1(s)&&s.catch(l=>{handleError(l,n,a)}),s}if(isArray$4(r)){const s=[];for(let l=0;l<r.length;l++)s.push(callWithAsyncErrorHandling(r[l],n,a,o));return s}}function handleError(r,n,a,o=!0){const s=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||EMPTY_OBJ$1;if(n){let u=n.parent;const d=n.proxy,f=`https://vuejs.org/error-reference/#runtime-${a}`;for(;u;){const v=u.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](r,d,f)===!1)return}u=u.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[r,d,f]),resetTracking();return}}logError$1(r,a,s,o,c)}function logError$1(r,n,a,o=!0,s=!1){if(s)throw r;console.error(r)}const queue$1=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(r){const n=currentFlushPromise||resolvedPromise;return r?n.then(this?r.bind(this):r):n}function findInsertionIndex$1(r){let n=flushIndex+1,a=queue$1.length;for(;n<a;){const o=n+a>>>1,s=queue$1[o],l=getId$1(s);l<r||l===r&&s.flags&2?n=o+1:a=o}return n}function queueJob(r){if(!(r.flags&1)){const n=getId$1(r),a=queue$1[queue$1.length-1];!a||!(r.flags&2)&&n>=getId$1(a)?queue$1.push(r):queue$1.splice(findInsertionIndex$1(n),0,r),r.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(r){isArray$4(r)?pendingPostFlushCbs.push(...r):activePostFlushCbs&&r.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,r):r.flags&1||(pendingPostFlushCbs.push(r),r.flags|=1),queueFlush()}function flushPreFlushCbs(r,n,a=flushIndex+1){for(;a<queue$1.length;a++){const o=queue$1[a];if(o&&o.flags&2){if(r&&o.id!==r.uid)continue;queue$1.splice(a,1),a--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)].sort((a,o)=>getId$1(a)-getId$1(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const a=activePostFlushCbs[postFlushIndex];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId$1=r=>r.id==null?r.flags&2?-1:1/0:r.id;function flushJobs(r){try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const n=queue$1[flushIndex];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),callWithErrorHandling(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;flushIndex<queue$1.length;flushIndex++){const n=queue$1[flushIndex];n&&(n.flags&=-2)}flushIndex=-1,queue$1.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue$1.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const n=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,n}function withCtx(r,n=currentRenderingInstance,a){if(!n||r._n)return r;const o=(...s)=>{o._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(n);let c;try{c=r(...s)}finally{setCurrentRenderingInstance(l),o._d&&setBlockTracking(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function withDirectives(r,n){if(currentRenderingInstance===null)return r;const a=getComponentPublicInstance(currentRenderingInstance),o=r.dirs||(r.dirs=[]);for(let s=0;s<n.length;s++){let[l,c,u,d=EMPTY_OBJ$1]=n[s];l&&(isFunction$2(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),o.push({dir:l,instance:a,value:c,oldValue:void 0,arg:u,modifiers:d}))}return r}function invokeDirectiveHook(r,n,a,o){const s=r.dirs,l=n&&n.dirs;for(let c=0;c<s.length;c++){const u=s[c];l&&(u.oldValue=l[c].value);let d=u.dir[o];d&&(pauseTracking(),callWithAsyncErrorHandling(d,a,8,[r.el,u,r,n]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=r=>r.__isTeleport,isTeleportDisabled=r=>r&&(r.disabled||r.disabled===""),isTeleportDeferred=r=>r&&(r.defer||r.defer===""),isTargetSVG=r=>typeof SVGElement<"u"&&r instanceof SVGElement,isTargetMathML=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,resolveTarget=(r,n)=>{const a=r&&r.to;return isString$2(a)?n?n(a):null:a},TeleportImpl={name:"Teleport",__isTeleport:!0,process(r,n,a,o,s,l,c,u,d,f){const{mc:v,pc:g,pbc:y,o:{insert:_,querySelector:b,createText:T,createComment:C}}=f,P=isTeleportDisabled(n.props);let{shapeFlag:E,children:M,dynamicChildren:I}=n;if(r==null){const L=n.el=T(""),N=n.anchor=T("");_(L,a,o),_(N,a,o);const V=(z,G)=>{E&16&&(s&&s.isCE&&(s.ce._teleportTarget=z),v(M,z,G,s,l,c,u,d))},B=()=>{const z=n.target=resolveTarget(n.props,b),G=prepareAnchor(z,n,T,_);z&&(c!=="svg"&&isTargetSVG(z)?c="svg":c!=="mathml"&&isTargetMathML(z)&&(c="mathml"),P||(V(z,G),updateCssVars(n,!1)))};P&&(V(a,N),updateCssVars(n,!0)),isTeleportDeferred(n.props)?queuePostRenderEffect(B,l):B()}else{n.el=r.el,n.targetStart=r.targetStart;const L=n.anchor=r.anchor,N=n.target=r.target,V=n.targetAnchor=r.targetAnchor,B=isTeleportDisabled(r.props),z=B?a:N,G=B?L:V;if(c==="svg"||isTargetSVG(N)?c="svg":(c==="mathml"||isTargetMathML(N))&&(c="mathml"),I?(y(r.dynamicChildren,I,z,s,l,c,u),traverseStaticChildren(r,n,!0)):d||g(r,n,z,G,s,l,c,u,!1),P)B?n.props&&r.props&&n.props.to!==r.props.to&&(n.props.to=r.props.to):moveTeleport(n,a,L,f,1);else if((n.props&&n.props.to)!==(r.props&&r.props.to)){const H=n.target=resolveTarget(n.props,b);H&&moveTeleport(n,H,null,f,0)}else B&&moveTeleport(n,N,V,f,1);updateCssVars(n,P)}},remove(r,n,a,{um:o,o:{remove:s}},l){const{shapeFlag:c,children:u,anchor:d,targetStart:f,targetAnchor:v,target:g,props:y}=r;if(g&&(s(f),s(v)),l&&s(d),c&16){const _=l||!isTeleportDisabled(y);for(let b=0;b<u.length;b++){const T=u[b];o(T,n,a,_,!!T.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(r,n,a,{o:{insert:o},m:s},l=2){l===0&&o(r.targetAnchor,n,a);const{el:c,anchor:u,shapeFlag:d,children:f,props:v}=r,g=l===2;if(g&&o(c,n,a),(!g||isTeleportDisabled(v))&&d&16)for(let y=0;y<f.length;y++)s(f[y],n,a,2);g&&o(u,n,a)}function hydrateTeleport(r,n,a,o,s,l,{o:{nextSibling:c,parentNode:u,querySelector:d,insert:f,createText:v}},g){const y=n.target=resolveTarget(n.props,d);if(y){const _=isTeleportDisabled(n.props),b=y._lpa||y.firstChild;if(n.shapeFlag&16)if(_)n.anchor=g(c(r),n,u(r),a,o,s,l),n.targetStart=b,n.targetAnchor=b&&c(b);else{n.anchor=c(r);let T=b;for(;T;){if(T&&T.nodeType===8){if(T.data==="teleport start anchor")n.targetStart=T;else if(T.data==="teleport anchor"){n.targetAnchor=T,y._lpa=n.targetAnchor&&c(n.targetAnchor);break}}T=c(T)}n.targetAnchor||prepareAnchor(y,n,v,f),g(b&&c(b),n,y,a,o,s,l)}updateCssVars(n,_)}return n.anchor&&c(n.anchor)}const Teleport=TeleportImpl;function updateCssVars(r,n){const a=r.ctx;if(a&&a.ut){let o,s;for(n?(o=r.el,s=r.anchor):(o=r.targetStart,s=r.targetAnchor);o&&o!==s;)o.nodeType===1&&o.setAttribute("data-v-owner",a.uid),o=o.nextSibling;a.ut()}}function prepareAnchor(r,n,a,o){const s=n.targetStart=a(""),l=n.targetAnchor=a("");return s[TeleportEndKey]=l,r&&(o(s,r),o(l,r)),l}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{r.isMounted=!0}),onBeforeUnmount(()=>{r.isUnmounting=!0}),r}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=r=>{const n=r.subTree;return n.component?recursiveGetSubtree(n.component):n},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(r,{slots:n}){const a=getCurrentInstance(),o=useTransitionState();return()=>{const s=n.default&&getTransitionRawChildren(n.default(),!0);if(!s||!s.length)return;const l=findNonCommentChild(s),c=toRaw(r),{mode:u}=c;if(o.isLeaving)return emptyPlaceholder(l);const d=getInnerChild$1(l);if(!d)return emptyPlaceholder(l);let f=resolveTransitionHooks(d,c,o,a,y=>f=y);d.type!==Comment&&setTransitionHooks(d,f);const v=a.subTree,g=v&&getInnerChild$1(v);if(g&&g.type!==Comment&&!isSameVNodeType(d,g)&&recursiveGetSubtree(a).type!==Comment){const y=resolveTransitionHooks(g,c,o,a);if(setTransitionHooks(g,y),u==="out-in"&&d.type!==Comment)return o.isLeaving=!0,y.afterLeave=()=>{o.isLeaving=!1,a.job.flags&8||a.update(),delete y.afterLeave},emptyPlaceholder(l);u==="in-out"&&d.type!==Comment&&(y.delayLeave=(_,b,T)=>{const C=getLeavingNodesForType(o,g);C[String(g.key)]=g,_[leaveCbKey]=()=>{b(),_[leaveCbKey]=void 0,delete f.delayedLeave},f.delayedLeave=T})}return l}}};function findNonCommentChild(r){let n=r[0];if(r.length>1){for(const a of r)if(a.type!==Comment){n=a;break}}return n}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(r,n){const{leavingVNodes:a}=r;let o=a.get(n.type);return o||(o=Object.create(null),a.set(n.type,o)),o}function resolveTransitionHooks(r,n,a,o,s){const{appear:l,mode:c,persisted:u=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:v,onEnterCancelled:g,onBeforeLeave:y,onLeave:_,onAfterLeave:b,onLeaveCancelled:T,onBeforeAppear:C,onAppear:P,onAfterAppear:E,onAppearCancelled:M}=n,I=String(r.key),L=getLeavingNodesForType(a,r),N=(z,G)=>{z&&callWithAsyncErrorHandling(z,o,9,G)},V=(z,G)=>{const H=G[1];N(z,G),isArray$4(z)?z.every(W=>W.length<=1)&&H():z.length<=1&&H()},B={mode:c,persisted:u,beforeEnter(z){let G=d;if(!a.isMounted)if(l)G=C||d;else return;z[leaveCbKey]&&z[leaveCbKey](!0);const H=L[I];H&&isSameVNodeType(r,H)&&H.el[leaveCbKey]&&H.el[leaveCbKey](),N(G,[z])},enter(z){let G=f,H=v,W=g;if(!a.isMounted)if(l)G=P||f,H=E||v,W=M||g;else return;let j=!1;const X=z[enterCbKey]=Z=>{j||(j=!0,Z?N(W,[z]):N(H,[z]),B.delayedLeave&&B.delayedLeave(),z[enterCbKey]=void 0)};G?V(G,[z,X]):X()},leave(z,G){const H=String(r.key);if(z[enterCbKey]&&z[enterCbKey](!0),a.isUnmounting)return G();N(y,[z]);let W=!1;const j=z[leaveCbKey]=X=>{W||(W=!0,G(),X?N(T,[z]):N(b,[z]),z[leaveCbKey]=void 0,L[H]===r&&delete L[H])};L[H]=r,_?V(_,[z,j]):j()},clone(z){const G=resolveTransitionHooks(z,n,a,o,s);return s&&s(G),G}};return B}function emptyPlaceholder(r){if(isKeepAlive(r))return r=cloneVNode(r),r.children=null,r}function getInnerChild$1(r){if(!isKeepAlive(r))return isTeleport(r.type)&&r.children?findNonCommentChild(r.children):r;const{shapeFlag:n,children:a}=r;if(a){if(n&16)return a[0];if(n&32&&isFunction$2(a.default))return a.default()}}function setTransitionHooks(r,n){r.shapeFlag&6&&r.component?(r.transition=n,setTransitionHooks(r.component.subTree,n)):r.shapeFlag&128?(r.ssContent.transition=n.clone(r.ssContent),r.ssFallback.transition=n.clone(r.ssFallback)):r.transition=n}function getTransitionRawChildren(r,n=!1,a){let o=[],s=0;for(let l=0;l<r.length;l++){let c=r[l];const u=a==null?c.key:String(a)+String(c.key!=null?c.key:l);c.type===Fragment?(c.patchFlag&128&&s++,o=o.concat(getTransitionRawChildren(c.children,n,u))):(n||c.type!==Comment)&&o.push(u!=null?cloneVNode(c,{key:u}):c)}if(s>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(r,n){return isFunction$2(r)?extend$2({name:r.name},n,{setup:r}):r}function markAsyncBoundary(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function setRef(r,n,a,o,s=!1){if(isArray$4(r)){r.forEach((b,T)=>setRef(b,n&&(isArray$4(n)?n[T]:n),a,o,s));return}if(isAsyncWrapper(o)&&!s)return;const l=o.shapeFlag&4?getComponentPublicInstance(o.component):o.el,c=s?null:l,{i:u,r:d}=r,f=n&&n.r,v=u.refs===EMPTY_OBJ$1?u.refs={}:u.refs,g=u.setupState,y=toRaw(g),_=g===EMPTY_OBJ$1?()=>!1:b=>hasOwn$1(y,b);if(f!=null&&f!==d&&(isString$2(f)?(v[f]=null,_(f)&&(g[f]=null)):isRef(f)&&(f.value=null)),isFunction$2(d))callWithErrorHandling(d,u,12,[c,v]);else{const b=isString$2(d),T=isRef(d);if(b||T){const C=()=>{if(r.f){const P=b?_(d)?g[d]:v[d]:d.value;s?isArray$4(P)&&remove(P,l):isArray$4(P)?P.includes(l)||P.push(l):b?(v[d]=[l],_(d)&&(g[d]=v[d])):(d.value=[l],r.k&&(v[r.k]=d.value))}else b?(v[d]=c,_(d)&&(g[d]=c)):T&&(d.value=c,r.k&&(v[r.k]=c))};c?(C.id=-1,queuePostRenderEffect(C,a)):C()}}}getGlobalThis$1().requestIdleCallback;getGlobalThis$1().cancelIdleCallback;const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,n){registerKeepAliveHook(r,"a",n)}function onDeactivated(r,n){registerKeepAliveHook(r,"da",n)}function registerKeepAliveHook(r,n,a=currentInstance){const o=r.__wdc||(r.__wdc=()=>{let s=a;for(;s;){if(s.isDeactivated)return;s=s.parent}return r()});if(injectHook(n,o,a),a){let s=a.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(o,n,a,s),s=s.parent}}function injectToKeepAliveRoot(r,n,a,o){const s=injectHook(n,r,o,!0);onUnmounted(()=>{remove(o[n],s)},a)}function injectHook(r,n,a=currentInstance,o=!1){if(a){const s=a[r]||(a[r]=[]),l=n.__weh||(n.__weh=(...c)=>{pauseTracking();const u=setCurrentInstance(a),d=callWithAsyncErrorHandling(n,a,r,c);return u(),resetTracking(),d});return o?s.unshift(l):s.push(l),l}}const createHook=r=>(n,a=currentInstance)=>{(!isInSSRComponentSetup||r==="sp")&&injectHook(r,(...o)=>n(...o),a)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,n=currentInstance){injectHook("ec",r,n)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(r,n){return resolveAsset(COMPONENTS,r,!0,n)||r}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(r){return isString$2(r)?resolveAsset(COMPONENTS,r,!1)||r:r||NULL_DYNAMIC_COMPONENT}function resolveDirective(r){return resolveAsset(DIRECTIVES,r)}function resolveAsset(r,n,a=!0,o=!1){const s=currentRenderingInstance||currentInstance;if(s){const l=s.type;if(r===COMPONENTS){const u=getComponentName(l,!1);if(u&&(u===n||u===camelize$1(n)||u===capitalize(camelize$1(n))))return l}const c=resolve(s[r]||l[r],n)||resolve(s.appContext[r],n);return!c&&o?l:c}}function resolve(r,n){return r&&(r[n]||r[camelize$1(n)]||r[capitalize(camelize$1(n))])}function renderList(r,n,a,o){let s;const l=a,c=isArray$4(r);if(c||isString$2(r)){const u=c&&isReactive(r);let d=!1;u&&(d=!isShallow(r),r=shallowReadArray(r)),s=new Array(r.length);for(let f=0,v=r.length;f<v;f++)s[f]=n(d?toReactive(r[f]):r[f],f,void 0,l)}else if(typeof r=="number"){s=new Array(r);for(let u=0;u<r;u++)s[u]=n(u+1,u,void 0,l)}else if(isObject$6(r))if(r[Symbol.iterator])s=Array.from(r,(u,d)=>n(u,d,void 0,l));else{const u=Object.keys(r);s=new Array(u.length);for(let d=0,f=u.length;d<f;d++){const v=u[d];s[d]=n(r[v],v,d,l)}}else s=[];return s}const getPublicInstance=r=>r?isStatefulComponent(r)?getComponentPublicInstance(r):getPublicInstance(r.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>r.f||(r.f=()=>{queueJob(r.update)}),$nextTick:r=>r.n||(r.n=nextTick.bind(r.proxy)),$watch:r=>instanceWatch.bind(r)}),hasSetupBinding=(r,n)=>r!==EMPTY_OBJ$1&&!r.__isScriptSetup&&hasOwn$1(r,n),PublicInstanceProxyHandlers={get({_:r},n){if(n==="__v_skip")return!0;const{ctx:a,setupState:o,data:s,props:l,accessCache:c,type:u,appContext:d}=r;let f;if(n[0]!=="$"){const _=c[n];if(_!==void 0)switch(_){case 1:return o[n];case 2:return s[n];case 4:return a[n];case 3:return l[n]}else{if(hasSetupBinding(o,n))return c[n]=1,o[n];if(s!==EMPTY_OBJ$1&&hasOwn$1(s,n))return c[n]=2,s[n];if((f=r.propsOptions[0])&&hasOwn$1(f,n))return c[n]=3,l[n];if(a!==EMPTY_OBJ$1&&hasOwn$1(a,n))return c[n]=4,a[n];shouldCacheAccess&&(c[n]=0)}}const v=publicPropertiesMap[n];let g,y;if(v)return n==="$attrs"&&track(r.attrs,"get",""),v(r);if((g=u.__cssModules)&&(g=g[n]))return g;if(a!==EMPTY_OBJ$1&&hasOwn$1(a,n))return c[n]=4,a[n];if(y=d.config.globalProperties,hasOwn$1(y,n))return y[n]},set({_:r},n,a){const{data:o,setupState:s,ctx:l}=r;return hasSetupBinding(s,n)?(s[n]=a,!0):o!==EMPTY_OBJ$1&&hasOwn$1(o,n)?(o[n]=a,!0):hasOwn$1(r.props,n)||n[0]==="$"&&n.slice(1)in r?!1:(l[n]=a,!0)},has({_:{data:r,setupState:n,accessCache:a,ctx:o,appContext:s,propsOptions:l}},c){let u;return!!a[c]||r!==EMPTY_OBJ$1&&hasOwn$1(r,c)||hasSetupBinding(n,c)||(u=l[0])&&hasOwn$1(u,c)||hasOwn$1(o,c)||hasOwn$1(publicPropertiesMap,c)||hasOwn$1(s.config.globalProperties,c)},defineProperty(r,n,a){return a.get!=null?r._.accessCache[n]=0:hasOwn$1(a,"value")&&this.set(r,n,a.value,null),Reflect.defineProperty(r,n,a)}};function normalizePropsOrEmits(r){return isArray$4(r)?r.reduce((n,a)=>(n[a]=null,n),{}):r}let shouldCacheAccess=!0;function applyOptions(r){const n=resolveMergedOptions(r),a=r.proxy,o=r.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook$1(n.beforeCreate,r,"bc");const{data:s,computed:l,methods:c,watch:u,provide:d,inject:f,created:v,beforeMount:g,mounted:y,beforeUpdate:_,updated:b,activated:T,deactivated:C,beforeDestroy:P,beforeUnmount:E,destroyed:M,unmounted:I,render:L,renderTracked:N,renderTriggered:V,errorCaptured:B,serverPrefetch:z,expose:G,inheritAttrs:H,components:W,directives:j,filters:X}=n;if(f&&resolveInjections(f,o,null),c)for(const le in c){const ae=c[le];isFunction$2(ae)&&(o[le]=ae.bind(a))}if(s){const le=s.call(a,a);isObject$6(le)&&(r.data=reactive(le))}if(shouldCacheAccess=!0,l)for(const le in l){const ae=l[le],he=isFunction$2(ae)?ae.bind(a,a):isFunction$2(ae.get)?ae.get.bind(a,a):NOOP,ve=!isFunction$2(ae)&&isFunction$2(ae.set)?ae.set.bind(a):NOOP,ce=computed({get:he,set:ve});Object.defineProperty(o,le,{enumerable:!0,configurable:!0,get:()=>ce.value,set:fe=>ce.value=fe})}if(u)for(const le in u)createWatcher(u[le],o,a,le);if(d){const le=isFunction$2(d)?d.call(a):d;Reflect.ownKeys(le).forEach(ae=>{provide(ae,le[ae])})}v&&callHook$1(v,r,"c");function q(le,ae){isArray$4(ae)?ae.forEach(he=>le(he.bind(a))):ae&&le(ae.bind(a))}if(q(onBeforeMount,g),q(onMounted,y),q(onBeforeUpdate,_),q(onUpdated,b),q(onActivated,T),q(onDeactivated,C),q(onErrorCaptured,B),q(onRenderTracked,N),q(onRenderTriggered,V),q(onBeforeUnmount,E),q(onUnmounted,I),q(onServerPrefetch,z),isArray$4(G))if(G.length){const le=r.exposed||(r.exposed={});G.forEach(ae=>{Object.defineProperty(le,ae,{get:()=>a[ae],set:he=>a[ae]=he})})}else r.exposed||(r.exposed={});L&&r.render===NOOP&&(r.render=L),H!=null&&(r.inheritAttrs=H),W&&(r.components=W),j&&(r.directives=j),z&&markAsyncBoundary(r)}function resolveInjections(r,n,a=NOOP){isArray$4(r)&&(r=normalizeInject(r));for(const o in r){const s=r[o];let l;isObject$6(s)?"default"in s?l=inject(s.from||o,s.default,!0):l=inject(s.from||o):l=inject(s),isRef(l)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):n[o]=l}}function callHook$1(r,n,a){callWithAsyncErrorHandling(isArray$4(r)?r.map(o=>o.bind(n.proxy)):r.bind(n.proxy),n,a)}function createWatcher(r,n,a,o){let s=o.includes(".")?createPathGetter(a,o):()=>a[o];if(isString$2(r)){const l=n[r];isFunction$2(l)&&watch(s,l)}else if(isFunction$2(r))watch(s,r.bind(a));else if(isObject$6(r))if(isArray$4(r))r.forEach(l=>createWatcher(l,n,a,o));else{const l=isFunction$2(r.handler)?r.handler.bind(a):n[r.handler];isFunction$2(l)&&watch(s,l,r)}}function resolveMergedOptions(r){const n=r.type,{mixins:a,extends:o}=n,{mixins:s,optionsCache:l,config:{optionMergeStrategies:c}}=r.appContext,u=l.get(n);let d;return u?d=u:!s.length&&!a&&!o?d=n:(d={},s.length&&s.forEach(f=>mergeOptions$1(d,f,c,!0)),mergeOptions$1(d,n,c)),isObject$6(n)&&l.set(n,d),d}function mergeOptions$1(r,n,a,o=!1){const{mixins:s,extends:l}=n;l&&mergeOptions$1(r,l,a,!0),s&&s.forEach(c=>mergeOptions$1(r,c,a,!0));for(const c in n)if(!(o&&c==="expose")){const u=internalOptionMergeStrats[c]||a&&a[c];r[c]=u?u(r[c],n[c]):n[c]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,n){return n?r?function(){return extend$2(isFunction$2(r)?r.call(this,this):r,isFunction$2(n)?n.call(this,this):n)}:n:r}function mergeInject(r,n){return mergeObjectOptions(normalizeInject(r),normalizeInject(n))}function normalizeInject(r){if(isArray$4(r)){const n={};for(let a=0;a<r.length;a++)n[r[a]]=r[a];return n}return r}function mergeAsArray(r,n){return r?[...new Set([].concat(r,n))]:n}function mergeObjectOptions(r,n){return r?extend$2(Object.create(null),r,n):n}function mergeEmitsOrPropsOptions(r,n){return r?isArray$4(r)&&isArray$4(n)?[...new Set([...r,...n])]:extend$2(Object.create(null),normalizePropsOrEmits(r),normalizePropsOrEmits(n??{})):n}function mergeWatchOptions(r,n){if(!r)return n;if(!n)return r;const a=extend$2(Object.create(null),r);for(const o in n)a[o]=mergeAsArray(r[o],n[o]);return a}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(r,n){return function(o,s=null){isFunction$2(o)||(o=extend$2({},o)),s!=null&&!isObject$6(s)&&(s=null);const l=createAppContext(),c=new WeakSet,u=[];let d=!1;const f=l.app={_uid:uid$1++,_component:o,_props:s,_container:null,_context:l,_instance:null,version:version$1,get config(){return l.config},set config(v){},use(v,...g){return c.has(v)||(v&&isFunction$2(v.install)?(c.add(v),v.install(f,...g)):isFunction$2(v)&&(c.add(v),v(f,...g))),f},mixin(v){return l.mixins.includes(v)||l.mixins.push(v),f},component(v,g){return g?(l.components[v]=g,f):l.components[v]},directive(v,g){return g?(l.directives[v]=g,f):l.directives[v]},mount(v,g,y){if(!d){const _=f._ceVNode||createVNode$1(o,s);return _.appContext=l,y===!0?y="svg":y===!1&&(y=void 0),g&&n?n(_,v):r(_,v,y),d=!0,f._container=v,v.__vue_app__=f,getComponentPublicInstance(_.component)}},onUnmount(v){u.push(v)},unmount(){d&&(callWithAsyncErrorHandling(u,f._instance,16),r(null,f._container),delete f._container.__vue_app__)},provide(v,g){return l.provides[v]=g,f},runWithContext(v){const g=currentApp;currentApp=f;try{return v()}finally{currentApp=g}}};return f}}let currentApp=null;function provide(r,n){if(currentInstance){let a=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===a&&(a=currentInstance.provides=Object.create(o)),a[r]=n}}function inject(r,n,a=!1){const o=currentInstance||currentRenderingInstance;if(o||currentApp){const s=currentApp?currentApp._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&r in s)return s[r];if(arguments.length>1)return a&&isFunction$2(n)?n.call(o&&o.proxy):n}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=r=>Object.getPrototypeOf(r)===internalObjectProto;function initProps$1(r,n,a,o=!1){const s={},l=createInternalObject();r.propsDefaults=Object.create(null),setFullProps(r,n,s,l);for(const c in r.propsOptions[0])c in s||(s[c]=void 0);a?r.props=o?s:shallowReactive(s):r.type.props?r.props=s:r.props=l,r.attrs=l}function updateProps$2(r,n,a,o){const{props:s,attrs:l,vnode:{patchFlag:c}}=r,u=toRaw(s),[d]=r.propsOptions;let f=!1;if((o||c>0)&&!(c&16)){if(c&8){const v=r.vnode.dynamicProps;for(let g=0;g<v.length;g++){let y=v[g];if(isEmitListener(r.emitsOptions,y))continue;const _=n[y];if(d)if(hasOwn$1(l,y))_!==l[y]&&(l[y]=_,f=!0);else{const b=camelize$1(y);s[b]=resolvePropValue(d,u,b,_,r,!1)}else _!==l[y]&&(l[y]=_,f=!0)}}}else{setFullProps(r,n,s,l)&&(f=!0);let v;for(const g in u)(!n||!hasOwn$1(n,g)&&((v=hyphenate$1(g))===g||!hasOwn$1(n,v)))&&(d?a&&(a[g]!==void 0||a[v]!==void 0)&&(s[g]=resolvePropValue(d,u,g,void 0,r,!0)):delete s[g]);if(l!==u)for(const g in l)(!n||!hasOwn$1(n,g))&&(delete l[g],f=!0)}f&&trigger$2(r.attrs,"set","")}function setFullProps(r,n,a,o){const[s,l]=r.propsOptions;let c=!1,u;if(n)for(let d in n){if(isReservedProp(d))continue;const f=n[d];let v;s&&hasOwn$1(s,v=camelize$1(d))?!l||!l.includes(v)?a[v]=f:(u||(u={}))[v]=f:isEmitListener(r.emitsOptions,d)||(!(d in o)||f!==o[d])&&(o[d]=f,c=!0)}if(l){const d=toRaw(a),f=u||EMPTY_OBJ$1;for(let v=0;v<l.length;v++){const g=l[v];a[g]=resolvePropValue(s,d,g,f[g],r,!hasOwn$1(f,g))}}return c}function resolvePropValue(r,n,a,o,s,l){const c=r[a];if(c!=null){const u=hasOwn$1(c,"default");if(u&&o===void 0){const d=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$2(d)){const{propsDefaults:f}=s;if(a in f)o=f[a];else{const v=setCurrentInstance(s);o=f[a]=d.call(null,n),v()}}else o=d;s.ce&&s.ce._setProp(a,o)}c[0]&&(l&&!u?o=!1:c[1]&&(o===""||o===hyphenate$1(a))&&(o=!0))}return o}const mixinPropsCache=new WeakMap;function normalizePropsOptions(r,n,a=!1){const o=a?mixinPropsCache:n.propsCache,s=o.get(r);if(s)return s;const l=r.props,c={},u=[];let d=!1;if(!isFunction$2(r)){const v=g=>{d=!0;const[y,_]=normalizePropsOptions(g,n,!0);extend$2(c,y),_&&u.push(..._)};!a&&n.mixins.length&&n.mixins.forEach(v),r.extends&&v(r.extends),r.mixins&&r.mixins.forEach(v)}if(!l&&!d)return isObject$6(r)&&o.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$4(l))for(let v=0;v<l.length;v++){const g=camelize$1(l[v]);validatePropName(g)&&(c[g]=EMPTY_OBJ$1)}else if(l)for(const v in l){const g=camelize$1(v);if(validatePropName(g)){const y=l[v],_=c[g]=isArray$4(y)||isFunction$2(y)?{type:y}:extend$2({},y),b=_.type;let T=!1,C=!0;if(isArray$4(b))for(let P=0;P<b.length;++P){const E=b[P],M=isFunction$2(E)&&E.name;if(M==="Boolean"){T=!0;break}else M==="String"&&(C=!1)}else T=isFunction$2(b)&&b.name==="Boolean";_[0]=T,_[1]=C,(T||hasOwn$1(_,"default"))&&u.push(g)}}const f=[c,u];return isObject$6(r)&&o.set(r,f),f}function validatePropName(r){return r[0]!=="$"&&!isReservedProp(r)}const isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray$4(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot$1=(r,n,a)=>{if(n._n)return n;const o=withCtx((...s)=>normalizeSlotValue(n(...s)),a);return o._c=!1,o},normalizeObjectSlots=(r,n,a)=>{const o=r._ctx;for(const s in r){if(isInternalKey(s))continue;const l=r[s];if(isFunction$2(l))n[s]=normalizeSlot$1(s,l,o);else if(l!=null){const c=normalizeSlotValue(l);n[s]=()=>c}}},normalizeVNodeSlots=(r,n)=>{const a=normalizeSlotValue(n);r.slots.default=()=>a},assignSlots=(r,n,a)=>{for(const o in n)(a||o!=="_")&&(r[o]=n[o])},initSlots=(r,n,a)=>{const o=r.slots=createInternalObject();if(r.vnode.shapeFlag&32){const s=n._;s?(assignSlots(o,n,a),a&&def(o,"_",s,!0)):normalizeObjectSlots(n,o)}else n&&normalizeVNodeSlots(r,n)},updateSlots=(r,n,a)=>{const{vnode:o,slots:s}=r;let l=!0,c=EMPTY_OBJ$1;if(o.shapeFlag&32){const u=n._;u?a&&u===1?l=!1:assignSlots(s,n,a):(l=!n.$stable,normalizeObjectSlots(n,s)),c=n}else n&&(normalizeVNodeSlots(r,n),c={default:1});if(l)for(const u in s)!isInternalKey(u)&&c[u]==null&&delete s[u]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,n){const a=getGlobalThis$1();a.__VUE__=!0;const{insert:o,remove:s,patchProp:l,createElement:c,createText:u,createComment:d,setText:f,setElementText:v,parentNode:g,nextSibling:y,setScopeId:_=NOOP,insertStaticContent:b}=r,T=(te,oe,ge,Ae=null,be=null,$e=null,Me=void 0,Ve=null,Le=!!oe.dynamicChildren)=>{if(te===oe)return;te&&!isSameVNodeType(te,oe)&&(Ae=ne(te),fe(te,be,$e,!0),te=null),oe.patchFlag===-2&&(Le=!1,oe.dynamicChildren=null);const{type:ke,ref:Ge,shapeFlag:Fe}=oe;switch(ke){case Text:C(te,oe,ge,Ae);break;case Comment:P(te,oe,ge,Ae);break;case Static:te==null&&E(oe,ge,Ae,Me);break;case Fragment:W(te,oe,ge,Ae,be,$e,Me,Ve,Le);break;default:Fe&1?L(te,oe,ge,Ae,be,$e,Me,Ve,Le):Fe&6?j(te,oe,ge,Ae,be,$e,Me,Ve,Le):(Fe&64||Fe&128)&&ke.process(te,oe,ge,Ae,be,$e,Me,Ve,Le,Te)}Ge!=null&&be&&setRef(Ge,te&&te.ref,$e,oe||te,!oe)},C=(te,oe,ge,Ae)=>{if(te==null)o(oe.el=u(oe.children),ge,Ae);else{const be=oe.el=te.el;oe.children!==te.children&&f(be,oe.children)}},P=(te,oe,ge,Ae)=>{te==null?o(oe.el=d(oe.children||""),ge,Ae):oe.el=te.el},E=(te,oe,ge,Ae)=>{[te.el,te.anchor]=b(te.children,oe,ge,Ae,te.el,te.anchor)},M=({el:te,anchor:oe},ge,Ae)=>{let be;for(;te&&te!==oe;)be=y(te),o(te,ge,Ae),te=be;o(oe,ge,Ae)},I=({el:te,anchor:oe})=>{let ge;for(;te&&te!==oe;)ge=y(te),s(te),te=ge;s(oe)},L=(te,oe,ge,Ae,be,$e,Me,Ve,Le)=>{oe.type==="svg"?Me="svg":oe.type==="math"&&(Me="mathml"),te==null?N(oe,ge,Ae,be,$e,Me,Ve,Le):z(te,oe,be,$e,Me,Ve,Le)},N=(te,oe,ge,Ae,be,$e,Me,Ve)=>{let Le,ke;const{props:Ge,shapeFlag:Fe,transition:We,dirs:Ze}=te;if(Le=te.el=c(te.type,$e,Ge&&Ge.is,Ge),Fe&8?v(Le,te.children):Fe&16&&B(te.children,Le,null,Ae,be,resolveChildrenNamespace(te,$e),Me,Ve),Ze&&invokeDirectiveHook(te,null,Ae,"created"),V(Le,te,te.scopeId,Me,Ae),Ge){for(const it in Ge)it!=="value"&&!isReservedProp(it)&&l(Le,it,null,Ge[it],$e,Ae);"value"in Ge&&l(Le,"value",null,Ge.value,$e),(ke=Ge.onVnodeBeforeMount)&&invokeVNodeHook(ke,Ae,te)}Ze&&invokeDirectiveHook(te,null,Ae,"beforeMount");const Je=needTransition(be,We);Je&&We.beforeEnter(Le),o(Le,oe,ge),((ke=Ge&&Ge.onVnodeMounted)||Je||Ze)&&queuePostRenderEffect(()=>{ke&&invokeVNodeHook(ke,Ae,te),Je&&We.enter(Le),Ze&&invokeDirectiveHook(te,null,Ae,"mounted")},be)},V=(te,oe,ge,Ae,be)=>{if(ge&&_(te,ge),Ae)for(let $e=0;$e<Ae.length;$e++)_(te,Ae[$e]);if(be){let $e=be.subTree;if(oe===$e||isSuspense($e.type)&&($e.ssContent===oe||$e.ssFallback===oe)){const Me=be.vnode;V(te,Me,Me.scopeId,Me.slotScopeIds,be.parent)}}},B=(te,oe,ge,Ae,be,$e,Me,Ve,Le=0)=>{for(let ke=Le;ke<te.length;ke++){const Ge=te[ke]=Ve?cloneIfMounted(te[ke]):normalizeVNode(te[ke]);T(null,Ge,oe,ge,Ae,be,$e,Me,Ve)}},z=(te,oe,ge,Ae,be,$e,Me)=>{const Ve=oe.el=te.el;let{patchFlag:Le,dynamicChildren:ke,dirs:Ge}=oe;Le|=te.patchFlag&16;const Fe=te.props||EMPTY_OBJ$1,We=oe.props||EMPTY_OBJ$1;let Ze;if(ge&&toggleRecurse(ge,!1),(Ze=We.onVnodeBeforeUpdate)&&invokeVNodeHook(Ze,ge,oe,te),Ge&&invokeDirectiveHook(oe,te,ge,"beforeUpdate"),ge&&toggleRecurse(ge,!0),(Fe.innerHTML&&We.innerHTML==null||Fe.textContent&&We.textContent==null)&&v(Ve,""),ke?G(te.dynamicChildren,ke,Ve,ge,Ae,resolveChildrenNamespace(oe,be),$e):Me||ae(te,oe,Ve,null,ge,Ae,resolveChildrenNamespace(oe,be),$e,!1),Le>0){if(Le&16)H(Ve,Fe,We,ge,be);else if(Le&2&&Fe.class!==We.class&&l(Ve,"class",null,We.class,be),Le&4&&l(Ve,"style",Fe.style,We.style,be),Le&8){const Je=oe.dynamicProps;for(let it=0;it<Je.length;it++){const nt=Je[it],_t=Fe[nt],ct=We[nt];(ct!==_t||nt==="value")&&l(Ve,nt,_t,ct,be,ge)}}Le&1&&te.children!==oe.children&&v(Ve,oe.children)}else!Me&&ke==null&&H(Ve,Fe,We,ge,be);((Ze=We.onVnodeUpdated)||Ge)&&queuePostRenderEffect(()=>{Ze&&invokeVNodeHook(Ze,ge,oe,te),Ge&&invokeDirectiveHook(oe,te,ge,"updated")},Ae)},G=(te,oe,ge,Ae,be,$e,Me)=>{for(let Ve=0;Ve<oe.length;Ve++){const Le=te[Ve],ke=oe[Ve],Ge=Le.el&&(Le.type===Fragment||!isSameVNodeType(Le,ke)||Le.shapeFlag&70)?g(Le.el):ge;T(Le,ke,Ge,null,Ae,be,$e,Me,!0)}},H=(te,oe,ge,Ae,be)=>{if(oe!==ge){if(oe!==EMPTY_OBJ$1)for(const $e in oe)!isReservedProp($e)&&!($e in ge)&&l(te,$e,oe[$e],null,be,Ae);for(const $e in ge){if(isReservedProp($e))continue;const Me=ge[$e],Ve=oe[$e];Me!==Ve&&$e!=="value"&&l(te,$e,Ve,Me,be,Ae)}"value"in ge&&l(te,"value",oe.value,ge.value,be)}},W=(te,oe,ge,Ae,be,$e,Me,Ve,Le)=>{const ke=oe.el=te?te.el:u(""),Ge=oe.anchor=te?te.anchor:u("");let{patchFlag:Fe,dynamicChildren:We,slotScopeIds:Ze}=oe;Ze&&(Ve=Ve?Ve.concat(Ze):Ze),te==null?(o(ke,ge,Ae),o(Ge,ge,Ae),B(oe.children||[],ge,Ge,be,$e,Me,Ve,Le)):Fe>0&&Fe&64&&We&&te.dynamicChildren?(G(te.dynamicChildren,We,ge,be,$e,Me,Ve),(oe.key!=null||be&&oe===be.subTree)&&traverseStaticChildren(te,oe,!0)):ae(te,oe,ge,Ge,be,$e,Me,Ve,Le)},j=(te,oe,ge,Ae,be,$e,Me,Ve,Le)=>{oe.slotScopeIds=Ve,te==null?oe.shapeFlag&512?be.ctx.activate(oe,ge,Ae,Me,Le):X(oe,ge,Ae,be,$e,Me,Le):Z(te,oe,Le)},X=(te,oe,ge,Ae,be,$e,Me)=>{const Ve=te.component=createComponentInstance(te,Ae,be);if(isKeepAlive(te)&&(Ve.ctx.renderer=Te),setupComponent(Ve,!1,Me),Ve.asyncDep){if(be&&be.registerDep(Ve,q,Me),!te.el){const Le=Ve.subTree=createVNode$1(Comment);P(null,Le,oe,ge)}}else q(Ve,te,oe,ge,be,$e,Me)},Z=(te,oe,ge)=>{const Ae=oe.component=te.component;if(shouldUpdateComponent(te,oe,ge))if(Ae.asyncDep&&!Ae.asyncResolved){le(Ae,oe,ge);return}else Ae.next=oe,Ae.update();else oe.el=te.el,Ae.vnode=oe},q=(te,oe,ge,Ae,be,$e,Me)=>{const Ve=()=>{if(te.isMounted){let{next:Fe,bu:We,u:Ze,parent:Je,vnode:it}=te;{const mt=locateNonHydratedAsyncRoot(te);if(mt){Fe&&(Fe.el=it.el,le(te,Fe,Me)),mt.asyncDep.then(()=>{te.isUnmounted||Ve()});return}}let nt=Fe,_t;toggleRecurse(te,!1),Fe?(Fe.el=it.el,le(te,Fe,Me)):Fe=it,We&&invokeArrayFns(We),(_t=Fe.props&&Fe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(_t,Je,Fe,it),toggleRecurse(te,!0);const ct=renderComponentRoot(te),St=te.subTree;te.subTree=ct,T(St,ct,g(St.el),ne(St),te,be,$e),Fe.el=ct.el,nt===null&&updateHOCHostEl(te,ct.el),Ze&&queuePostRenderEffect(Ze,be),(_t=Fe.props&&Fe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(_t,Je,Fe,it),be)}else{let Fe;const{el:We,props:Ze}=oe,{bm:Je,m:it,parent:nt,root:_t,type:ct}=te,St=isAsyncWrapper(oe);if(toggleRecurse(te,!1),Je&&invokeArrayFns(Je),!St&&(Fe=Ze&&Ze.onVnodeBeforeMount)&&invokeVNodeHook(Fe,nt,oe),toggleRecurse(te,!0),We&&Ie){const mt=()=>{te.subTree=renderComponentRoot(te),Ie(We,te.subTree,te,be,null)};St&&ct.__asyncHydrate?ct.__asyncHydrate(We,te,mt):mt()}else{_t.ce&&_t.ce._injectChildStyle(ct);const mt=te.subTree=renderComponentRoot(te);T(null,mt,ge,Ae,te,be,$e),oe.el=mt.el}if(it&&queuePostRenderEffect(it,be),!St&&(Fe=Ze&&Ze.onVnodeMounted)){const mt=oe;queuePostRenderEffect(()=>invokeVNodeHook(Fe,nt,mt),be)}(oe.shapeFlag&256||nt&&isAsyncWrapper(nt.vnode)&&nt.vnode.shapeFlag&256)&&te.a&&queuePostRenderEffect(te.a,be),te.isMounted=!0,oe=ge=Ae=null}};te.scope.on();const Le=te.effect=new ReactiveEffect(Ve);te.scope.off();const ke=te.update=Le.run.bind(Le),Ge=te.job=Le.runIfDirty.bind(Le);Ge.i=te,Ge.id=te.uid,Le.scheduler=()=>queueJob(Ge),toggleRecurse(te,!0),ke()},le=(te,oe,ge)=>{oe.component=te;const Ae=te.vnode.props;te.vnode=oe,te.next=null,updateProps$2(te,oe.props,Ae,ge),updateSlots(te,oe.children,ge),pauseTracking(),flushPreFlushCbs(te),resetTracking()},ae=(te,oe,ge,Ae,be,$e,Me,Ve,Le=!1)=>{const ke=te&&te.children,Ge=te?te.shapeFlag:0,Fe=oe.children,{patchFlag:We,shapeFlag:Ze}=oe;if(We>0){if(We&128){ve(ke,Fe,ge,Ae,be,$e,Me,Ve,Le);return}else if(We&256){he(ke,Fe,ge,Ae,be,$e,Me,Ve,Le);return}}Ze&8?(Ge&16&&De(ke,be,$e),Fe!==ke&&v(ge,Fe)):Ge&16?Ze&16?ve(ke,Fe,ge,Ae,be,$e,Me,Ve,Le):De(ke,be,$e,!0):(Ge&8&&v(ge,""),Ze&16&&B(Fe,ge,Ae,be,$e,Me,Ve,Le))},he=(te,oe,ge,Ae,be,$e,Me,Ve,Le)=>{te=te||EMPTY_ARR,oe=oe||EMPTY_ARR;const ke=te.length,Ge=oe.length,Fe=Math.min(ke,Ge);let We;for(We=0;We<Fe;We++){const Ze=oe[We]=Le?cloneIfMounted(oe[We]):normalizeVNode(oe[We]);T(te[We],Ze,ge,null,be,$e,Me,Ve,Le)}ke>Ge?De(te,be,$e,!0,!1,Fe):B(oe,ge,Ae,be,$e,Me,Ve,Le,Fe)},ve=(te,oe,ge,Ae,be,$e,Me,Ve,Le)=>{let ke=0;const Ge=oe.length;let Fe=te.length-1,We=Ge-1;for(;ke<=Fe&&ke<=We;){const Ze=te[ke],Je=oe[ke]=Le?cloneIfMounted(oe[ke]):normalizeVNode(oe[ke]);if(isSameVNodeType(Ze,Je))T(Ze,Je,ge,null,be,$e,Me,Ve,Le);else break;ke++}for(;ke<=Fe&&ke<=We;){const Ze=te[Fe],Je=oe[We]=Le?cloneIfMounted(oe[We]):normalizeVNode(oe[We]);if(isSameVNodeType(Ze,Je))T(Ze,Je,ge,null,be,$e,Me,Ve,Le);else break;Fe--,We--}if(ke>Fe){if(ke<=We){const Ze=We+1,Je=Ze<Ge?oe[Ze].el:Ae;for(;ke<=We;)T(null,oe[ke]=Le?cloneIfMounted(oe[ke]):normalizeVNode(oe[ke]),ge,Je,be,$e,Me,Ve,Le),ke++}}else if(ke>We)for(;ke<=Fe;)fe(te[ke],be,$e,!0),ke++;else{const Ze=ke,Je=ke,it=new Map;for(ke=Je;ke<=We;ke++){const yt=oe[ke]=Le?cloneIfMounted(oe[ke]):normalizeVNode(oe[ke]);yt.key!=null&&it.set(yt.key,ke)}let nt,_t=0;const ct=We-Je+1;let St=!1,mt=0;const Pt=new Array(ct);for(ke=0;ke<ct;ke++)Pt[ke]=0;for(ke=Ze;ke<=Fe;ke++){const yt=te[ke];if(_t>=ct){fe(yt,be,$e,!0);continue}let bt;if(yt.key!=null)bt=it.get(yt.key);else for(nt=Je;nt<=We;nt++)if(Pt[nt-Je]===0&&isSameVNodeType(yt,oe[nt])){bt=nt;break}bt===void 0?fe(yt,be,$e,!0):(Pt[bt-Je]=ke+1,bt>=mt?mt=bt:St=!0,T(yt,oe[bt],ge,null,be,$e,Me,Ve,Le),_t++)}const ut=St?getSequence(Pt):EMPTY_ARR;for(nt=ut.length-1,ke=ct-1;ke>=0;ke--){const yt=Je+ke,bt=oe[yt],qt=yt+1<Ge?oe[yt+1].el:Ae;Pt[ke]===0?T(null,bt,ge,qt,be,$e,Me,Ve,Le):St&&(nt<0||ke!==ut[nt]?ce(bt,ge,qt,2):nt--)}}},ce=(te,oe,ge,Ae,be=null)=>{const{el:$e,type:Me,transition:Ve,children:Le,shapeFlag:ke}=te;if(ke&6){ce(te.component.subTree,oe,ge,Ae);return}if(ke&128){te.suspense.move(oe,ge,Ae);return}if(ke&64){Me.move(te,oe,ge,Te);return}if(Me===Fragment){o($e,oe,ge);for(let Fe=0;Fe<Le.length;Fe++)ce(Le[Fe],oe,ge,Ae);o(te.anchor,oe,ge);return}if(Me===Static){M(te,oe,ge);return}if(Ae!==2&&ke&1&&Ve)if(Ae===0)Ve.beforeEnter($e),o($e,oe,ge),queuePostRenderEffect(()=>Ve.enter($e),be);else{const{leave:Fe,delayLeave:We,afterLeave:Ze}=Ve,Je=()=>o($e,oe,ge),it=()=>{Fe($e,()=>{Je(),Ze&&Ze()})};We?We($e,Je,it):it()}else o($e,oe,ge)},fe=(te,oe,ge,Ae=!1,be=!1)=>{const{type:$e,props:Me,ref:Ve,children:Le,dynamicChildren:ke,shapeFlag:Ge,patchFlag:Fe,dirs:We,cacheIndex:Ze}=te;if(Fe===-2&&(be=!1),Ve!=null&&setRef(Ve,null,ge,te,!0),Ze!=null&&(oe.renderCache[Ze]=void 0),Ge&256){oe.ctx.deactivate(te);return}const Je=Ge&1&&We,it=!isAsyncWrapper(te);let nt;if(it&&(nt=Me&&Me.onVnodeBeforeUnmount)&&invokeVNodeHook(nt,oe,te),Ge&6)Se(te.component,ge,Ae);else{if(Ge&128){te.suspense.unmount(ge,Ae);return}Je&&invokeDirectiveHook(te,null,oe,"beforeUnmount"),Ge&64?te.type.remove(te,oe,ge,Te,Ae):ke&&!ke.hasOnce&&($e!==Fragment||Fe>0&&Fe&64)?De(ke,oe,ge,!1,!0):($e===Fragment&&Fe&384||!be&&Ge&16)&&De(Le,oe,ge),Ae&&_e(te)}(it&&(nt=Me&&Me.onVnodeUnmounted)||Je)&&queuePostRenderEffect(()=>{nt&&invokeVNodeHook(nt,oe,te),Je&&invokeDirectiveHook(te,null,oe,"unmounted")},ge)},_e=te=>{const{type:oe,el:ge,anchor:Ae,transition:be}=te;if(oe===Fragment){Ce(ge,Ae);return}if(oe===Static){I(te);return}const $e=()=>{s(ge),be&&!be.persisted&&be.afterLeave&&be.afterLeave()};if(te.shapeFlag&1&&be&&!be.persisted){const{leave:Me,delayLeave:Ve}=be,Le=()=>Me(ge,$e);Ve?Ve(te.el,$e,Le):Le()}else $e()},Ce=(te,oe)=>{let ge;for(;te!==oe;)ge=y(te),s(te),te=ge;s(oe)},Se=(te,oe,ge)=>{const{bum:Ae,scope:be,job:$e,subTree:Me,um:Ve,m:Le,a:ke}=te;invalidateMount(Le),invalidateMount(ke),Ae&&invokeArrayFns(Ae),be.stop(),$e&&($e.flags|=8,fe(Me,te,oe,ge)),Ve&&queuePostRenderEffect(Ve,oe),queuePostRenderEffect(()=>{te.isUnmounted=!0},oe),oe&&oe.pendingBranch&&!oe.isUnmounted&&te.asyncDep&&!te.asyncResolved&&te.suspenseId===oe.pendingId&&(oe.deps--,oe.deps===0&&oe.resolve())},De=(te,oe,ge,Ae=!1,be=!1,$e=0)=>{for(let Me=$e;Me<te.length;Me++)fe(te[Me],oe,ge,Ae,be)},ne=te=>{if(te.shapeFlag&6)return ne(te.component.subTree);if(te.shapeFlag&128)return te.suspense.next();const oe=y(te.anchor||te.el),ge=oe&&oe[TeleportEndKey];return ge?y(ge):oe};let pe=!1;const de=(te,oe,ge)=>{te==null?oe._vnode&&fe(oe._vnode,null,null,!0):T(oe._vnode||null,te,oe,null,null,null,ge),oe._vnode=te,pe||(pe=!0,flushPreFlushCbs(),flushPostFlushCbs(),pe=!1)},Te={p:T,um:fe,m:ce,r:_e,mt:X,mc:B,pc:ae,pbc:G,n:ne,o:r};let we,Ie;return{render:de,hydrate:we,createApp:createAppAPI(de,we)}}function resolveChildrenNamespace({type:r,props:n},a){return a==="svg"&&r==="foreignObject"||a==="mathml"&&r==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:a}function toggleRecurse({effect:r,job:n},a){a?(r.flags|=32,n.flags|=4):(r.flags&=-33,n.flags&=-5)}function needTransition(r,n){return(!r||r&&!r.pendingBranch)&&n&&!n.persisted}function traverseStaticChildren(r,n,a=!1){const o=r.children,s=n.children;if(isArray$4(o)&&isArray$4(s))for(let l=0;l<o.length;l++){const c=o[l];let u=s[l];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[l]=cloneIfMounted(s[l]),u.el=c.el),!a&&u.patchFlag!==-2&&traverseStaticChildren(c,u)),u.type===Text&&(u.el=c.el)}}function getSequence(r){const n=r.slice(),a=[0];let o,s,l,c,u;const d=r.length;for(o=0;o<d;o++){const f=r[o];if(f!==0){if(s=a[a.length-1],r[s]<f){n[o]=s,a.push(o);continue}for(l=0,c=a.length-1;l<c;)u=l+c>>1,r[a[u]]<f?l=u+1:c=u;f<r[a[l]]&&(l>0&&(n[o]=a[l-1]),a[l]=o)}}for(l=a.length,c=a[l-1];l-- >0;)a[l]=c,c=n[c];return a}function locateNonHydratedAsyncRoot(r){const n=r.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:locateNonHydratedAsyncRoot(n)}function invalidateMount(r){if(r)for(let n=0;n<r.length;n++)r[n].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(r,n){return doWatch(r,null,n)}function watch(r,n,a){return doWatch(r,n,a)}function doWatch(r,n,a=EMPTY_OBJ$1){const{immediate:o,deep:s,flush:l,once:c}=a,u=extend$2({},a),d=n&&o||!n&&l!=="post";let f;if(isInSSRComponentSetup){if(l==="sync"){const _=useSSRContext();f=_.__watcherHandles||(_.__watcherHandles=[])}else if(!d){const _=()=>{};return _.stop=NOOP,_.resume=NOOP,_.pause=NOOP,_}}const v=currentInstance;u.call=(_,b,T)=>callWithAsyncErrorHandling(_,v,b,T);let g=!1;l==="post"?u.scheduler=_=>{queuePostRenderEffect(_,v&&v.suspense)}:l!=="sync"&&(g=!0,u.scheduler=(_,b)=>{b?_():queueJob(_)}),u.augmentJob=_=>{n&&(_.flags|=4),g&&(_.flags|=2,v&&(_.id=v.uid,_.i=v))};const y=watch$1(r,n,u);return isInSSRComponentSetup&&(f?f.push(y):d&&y()),y}function instanceWatch(r,n,a){const o=this.proxy,s=isString$2(r)?r.includes(".")?createPathGetter(o,r):()=>o[r]:r.bind(o,o);let l;isFunction$2(n)?l=n:(l=n.handler,a=n);const c=setCurrentInstance(this),u=doWatch(s,l.bind(o),a);return c(),u}function createPathGetter(r,n){const a=n.split(".");return()=>{let o=r;for(let s=0;s<a.length&&o;s++)o=o[a[s]];return o}}const getModelModifiers=(r,n)=>n==="modelValue"||n==="model-value"?r.modelModifiers:r[`${n}Modifiers`]||r[`${camelize$1(n)}Modifiers`]||r[`${hyphenate$1(n)}Modifiers`];function emit(r,n,...a){if(r.isUnmounted)return;const o=r.vnode.props||EMPTY_OBJ$1;let s=a;const l=n.startsWith("update:"),c=l&&getModelModifiers(o,n.slice(7));c&&(c.trim&&(s=a.map(v=>isString$2(v)?v.trim():v)),c.number&&(s=a.map(looseToNumber)));let u,d=o[u=toHandlerKey(n)]||o[u=toHandlerKey(camelize$1(n))];!d&&l&&(d=o[u=toHandlerKey(hyphenate$1(n))]),d&&callWithAsyncErrorHandling(d,r,6,s);const f=o[u+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[u])return;r.emitted[u]=!0,callWithAsyncErrorHandling(f,r,6,s)}}function normalizeEmitsOptions(r,n,a=!1){const o=n.emitsCache,s=o.get(r);if(s!==void 0)return s;const l=r.emits;let c={},u=!1;if(!isFunction$2(r)){const d=f=>{const v=normalizeEmitsOptions(f,n,!0);v&&(u=!0,extend$2(c,v))};!a&&n.mixins.length&&n.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}return!l&&!u?(isObject$6(r)&&o.set(r,null),null):(isArray$4(l)?l.forEach(d=>c[d]=null):extend$2(c,l),isObject$6(r)&&o.set(r,c),c)}function isEmitListener(r,n){return!r||!isOn$1(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn$1(r,n[0].toLowerCase()+n.slice(1))||hasOwn$1(r,hyphenate$1(n))||hasOwn$1(r,n))}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:n,vnode:a,proxy:o,withProxy:s,propsOptions:[l],slots:c,attrs:u,emit:d,render:f,renderCache:v,props:g,data:y,setupState:_,ctx:b,inheritAttrs:T}=r,C=setCurrentRenderingInstance(r);let P,E;try{if(a.shapeFlag&4){const I=s||o,L=I;P=normalizeVNode(f.call(L,I,v,g,_,y,b)),E=u}else{const I=n;P=normalizeVNode(I.length>1?I(g,{attrs:u,slots:c,emit:d}):I(g,null)),E=n.props?u:getFunctionalFallthrough(u)}}catch(I){blockStack.length=0,handleError(I,r,1),P=createVNode$1(Comment)}let M=P;if(E&&T!==!1){const I=Object.keys(E),{shapeFlag:L}=M;I.length&&L&7&&(l&&I.some(isModelListener)&&(E=filterModelListeners(E,l)),M=cloneVNode(M,E,!1,!0))}return a.dirs&&(M=cloneVNode(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(a.dirs):a.dirs),a.transition&&setTransitionHooks(M,a.transition),P=M,setCurrentRenderingInstance(C),P}const getFunctionalFallthrough=r=>{let n;for(const a in r)(a==="class"||a==="style"||isOn$1(a))&&((n||(n={}))[a]=r[a]);return n},filterModelListeners=(r,n)=>{const a={};for(const o in r)(!isModelListener(o)||!(o.slice(9)in n))&&(a[o]=r[o]);return a};function shouldUpdateComponent(r,n,a){const{props:o,children:s,component:l}=r,{props:c,children:u,patchFlag:d}=n,f=l.emitsOptions;if(n.dirs||n.transition)return!0;if(a&&d>=0){if(d&1024)return!0;if(d&16)return o?hasPropsChanged(o,c,f):!!c;if(d&8){const v=n.dynamicProps;for(let g=0;g<v.length;g++){const y=v[g];if(c[y]!==o[y]&&!isEmitListener(f,y))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:o===c?!1:o?c?hasPropsChanged(o,c,f):!0:!!c;return!1}function hasPropsChanged(r,n,a){const o=Object.keys(n);if(o.length!==Object.keys(r).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(n[l]!==r[l]&&!isEmitListener(a,l))return!0}return!1}function updateHOCHostEl({vnode:r,parent:n},a){for(;n;){const o=n.subTree;if(o.suspense&&o.suspense.activeBranch===r&&(o.el=r.el),o===r)(r=n.vnode).el=a,n=n.parent;else break}}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,n){n&&n.pendingBranch?isArray$4(r)?n.effects.push(...r):n.effects.push(r):queuePostFlushCb(r)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r,r<0&&currentBlock&&(currentBlock.hasOnce=!0)}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,n,a,o,s,l){return setupBlock(createBaseVNode(r,n,a,o,s,l,!0))}function createBlock(r,n,a,o,s){return setupBlock(createVNode$1(r,n,a,o,s,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,n){return r.type===n.type&&r.key===n.key}const normalizeKey=({key:r})=>r??null,normalizeRef=({ref:r,ref_key:n,ref_for:a})=>(typeof r=="number"&&(r=""+r),r!=null?isString$2(r)||isRef(r)||isFunction$2(r)?{i:currentRenderingInstance,r,k:n,f:!!a}:r:null);function createBaseVNode(r,n=null,a=null,o=0,s=null,l=r===Fragment?0:1,c=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:r,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(d,a),l&128&&r.normalize(d)):a&&(d.shapeFlag|=isString$2(a)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode$1=_createVNode;function _createVNode(r,n=null,a=null,o=0,s=null,l=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const u=cloneVNode(r,n,!0);return a&&normalizeChildren(u,a),isBlockTreeEnabled>0&&!l&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(r)]=u:currentBlock.push(u)),u.patchFlag=-2,u}if(isClassComponent(r)&&(r=r.__vccOpts),n){n=guardReactiveProps(n);let{class:u,style:d}=n;u&&!isString$2(u)&&(n.class=normalizeClass$1(u)),isObject$6(d)&&(isProxy(d)&&!isArray$4(d)&&(d=extend$2({},d)),n.style=normalizeStyle$2(d))}const c=isString$2(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject$6(r)?4:isFunction$2(r)?2:0;return createBaseVNode(r,n,a,o,s,c,l,!0)}function guardReactiveProps(r){return r?isProxy(r)||isInternalObject(r)?extend$2({},r):r:null}function cloneVNode(r,n,a=!1,o=!1){const{props:s,ref:l,patchFlag:c,children:u,transition:d}=r,f=n?mergeProps(s||{},n):s,v={__v_isVNode:!0,__v_skip:!0,type:r.type,props:f,key:f&&normalizeKey(f),ref:n&&n.ref?a&&l?isArray$4(l)?l.concat(normalizeRef(n)):[l,normalizeRef(n)]:normalizeRef(n):l,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:u,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:n&&r.type!==Fragment?c===-1?16:c|16:c,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:d,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return d&&o&&setTransitionHooks(v,d.clone(v)),v}function createTextVNode(r=" ",n=0){return createVNode$1(Text,null,r,n)}function createCommentVNode(r="",n=!1){return n?(openBlock(),createBlock(Comment,null,r)):createVNode$1(Comment,null,r)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode$1(Comment):isArray$4(r)?createVNode$1(Fragment,null,r.slice()):isVNode(r)?cloneIfMounted(r):createVNode$1(Text,null,String(r))}function cloneIfMounted(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:cloneVNode(r)}function normalizeChildren(r,n){let a=0;const{shapeFlag:o}=r;if(n==null)n=null;else if(isArray$4(n))a=16;else if(typeof n=="object")if(o&65){const s=n.default;s&&(s._c&&(s._d=!1),normalizeChildren(r,s()),s._c&&(s._d=!0));return}else{a=32;const s=n._;!s&&!isInternalObject(n)?n._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,r.patchFlag|=1024))}else isFunction$2(n)?(n={default:n,_ctx:currentRenderingInstance},a=32):(n=String(n),o&64?(a=16,n=[createTextVNode(n)]):a=8);r.children=n,r.shapeFlag|=a}function mergeProps(...r){const n={};for(let a=0;a<r.length;a++){const o=r[a];for(const s in o)if(s==="class")n.class!==o.class&&(n.class=normalizeClass$1([n.class,o.class]));else if(s==="style")n.style=normalizeStyle$2([n.style,o.style]);else if(isOn$1(s)){const l=n[s],c=o[s];c&&l!==c&&!(isArray$4(l)&&l.includes(c))&&(n[s]=l?[].concat(l,c):c)}else s!==""&&(n[s]=o[s])}return n}function invokeVNodeHook(r,n,a,o=null){callWithAsyncErrorHandling(r,n,7,[a,o])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(r,n,a){const o=r.type,s=(n?n.appContext:r.appContext)||emptyAppContext,l={uid:uid$2++,vnode:r,type:o,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=emit.bind(null,l),r.ce&&r.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const r=getGlobalThis$1(),n=(a,o)=>{let s;return(s=r[a])||(s=r[a]=[]),s.push(o),l=>{s.length>1?s.forEach(c=>c(l)):s[0](l)}};internalSetCurrentInstance=n("__VUE_INSTANCE_SETTERS__",a=>currentInstance=a),setInSSRSetupState=n("__VUE_SSR_SETTERS__",a=>isInSSRComponentSetup=a)}const setCurrentInstance=r=>{const n=currentInstance;return internalSetCurrentInstance(r),r.scope.on(),()=>{r.scope.off(),internalSetCurrentInstance(n)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,n=!1,a=!1){n&&setInSSRSetupState(n);const{props:o,children:s}=r.vnode,l=isStatefulComponent(r);initProps$1(r,o,l,n),initSlots(r,s,a);const c=l?setupStatefulComponent(r,n):void 0;return n&&setInSSRSetupState(!1),c}function setupStatefulComponent(r,n){const a=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,PublicInstanceProxyHandlers);const{setup:o}=a;if(o){pauseTracking();const s=r.setupContext=o.length>1?createSetupContext(r):null,l=setCurrentInstance(r),c=callWithErrorHandling(o,r,0,[r.props,s]),u=isPromise$1(c);if(resetTracking(),l(),(u||r.sp)&&!isAsyncWrapper(r)&&markAsyncBoundary(r),u){if(c.then(unsetCurrentInstance,unsetCurrentInstance),n)return c.then(d=>{handleSetupResult(r,d,n)}).catch(d=>{handleError(d,r,0)});r.asyncDep=c}else handleSetupResult(r,c,n)}else finishComponentSetup(r,n)}function handleSetupResult(r,n,a){isFunction$2(n)?r.type.__ssrInlineRender?r.ssrRender=n:r.render=n:isObject$6(n)&&(r.setupState=proxyRefs(n)),finishComponentSetup(r,a)}let compile;function finishComponentSetup(r,n,a){const o=r.type;if(!r.render){if(!n&&compile&&!o.render){const s=o.template||resolveMergedOptions(r).template;if(s){const{isCustomElement:l,compilerOptions:c}=r.appContext.config,{delimiters:u,compilerOptions:d}=o,f=extend$2(extend$2({isCustomElement:l,delimiters:u},c),d);o.render=compile(s,f)}}r.render=o.render||NOOP}{const s=setCurrentInstance(r);pauseTracking();try{applyOptions(r)}finally{resetTracking(),s()}}}const attrsProxyHandlers={get(r,n){return track(r,"get",""),r[n]}};function createSetupContext(r){const n=a=>{r.exposed=a||{}};return{attrs:new Proxy(r.attrs,attrsProxyHandlers),slots:r.slots,emit:r.emit,expose:n}}function getComponentPublicInstance(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(n,a){if(a in n)return n[a];if(a in publicPropertiesMap)return publicPropertiesMap[a](r)},has(n,a){return a in n||a in publicPropertiesMap}})):r.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=r=>r.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(r,n=!0){return isFunction$2(r)?r.displayName||r.name:r.name||n&&r.__name}function formatComponentName(r,n,a=!1){let o=getComponentName(n);if(!o&&n.__file){const s=n.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&r&&r.parent){const s=l=>{for(const c in l)if(l[c]===n)return c};o=s(r.components||r.parent.type.components)||s(r.appContext.components)}return o?classify(o):a?"App":"Anonymous"}function isClassComponent(r){return isFunction$2(r)&&"__vccOpts"in r}const computed=(r,n)=>computed$1(r,n,isInSSRComponentSetup);function h(r,n,a){const o=arguments.length;return o===2?isObject$6(n)&&!isArray$4(n)?isVNode(n)?createVNode$1(r,null,[n]):createVNode$1(r,n):createVNode$1(r,null,n):(o>3?a=Array.prototype.slice.call(arguments,2):o===3&&isVNode(a)&&(a=[a]),createVNode$1(r,n,a))}const version$1="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:r=>r})}catch{}const unsafeToTrustedHTML=policy?r=>policy.createHTML(r):r=>r,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,n,a)=>{n.insertBefore(r,a||null)},remove:r=>{const n=r.parentNode;n&&n.removeChild(r)},createElement:(r,n,a,o)=>{const s=n==="svg"?doc.createElementNS(svgNS,r):n==="mathml"?doc.createElementNS(mathmlNS,r):a?doc.createElement(r,{is:a}):doc.createElement(r);return r==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,n)=>{r.nodeValue=n},setElementText:(r,n)=>{r.textContent=n},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,n){r.setAttribute(n,"")},insertStaticContent(r,n,a,o,s,l){const c=a?a.previousSibling:n.lastChild;if(s&&(s===l||s.nextSibling))for(;n.insertBefore(s.cloneNode(!0),a),!(s===l||!(s=s.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(o==="svg"?`<svg>${r}</svg>`:o==="mathml"?`<math>${r}</math>`:r);const u=templateContainer.content;if(o==="svg"||o==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}n.insertBefore(u,a)}return[c?c.nextSibling:n.firstChild,a?a.previousSibling:n.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$2({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=r=>(r.displayName="Transition",r.props=TransitionPropsValidators,r),Transition=decorate$1((r,{slots:n})=>h(BaseTransition,resolveTransitionProps(r),n)),callHook=(r,n=[])=>{isArray$4(r)?r.forEach(a=>a(...n)):r&&r(...n)},hasExplicitCallback=r=>r?isArray$4(r)?r.some(n=>n.length>1):r.length>1:!1;function resolveTransitionProps(r){const n={};for(const W in r)W in DOMTransitionPropsValidators||(n[W]=r[W]);if(r.css===!1)return n;const{name:a="v",type:o,duration:s,enterFromClass:l=`${a}-enter-from`,enterActiveClass:c=`${a}-enter-active`,enterToClass:u=`${a}-enter-to`,appearFromClass:d=l,appearActiveClass:f=c,appearToClass:v=u,leaveFromClass:g=`${a}-leave-from`,leaveActiveClass:y=`${a}-leave-active`,leaveToClass:_=`${a}-leave-to`}=r,b=normalizeDuration(s),T=b&&b[0],C=b&&b[1],{onBeforeEnter:P,onEnter:E,onEnterCancelled:M,onLeave:I,onLeaveCancelled:L,onBeforeAppear:N=P,onAppear:V=E,onAppearCancelled:B=M}=n,z=(W,j,X)=>{removeTransitionClass(W,j?v:u),removeTransitionClass(W,j?f:c),X&&X()},G=(W,j)=>{W._isLeaving=!1,removeTransitionClass(W,g),removeTransitionClass(W,_),removeTransitionClass(W,y),j&&j()},H=W=>(j,X)=>{const Z=W?V:E,q=()=>z(j,W,X);callHook(Z,[j,q]),nextFrame(()=>{removeTransitionClass(j,W?d:l),addTransitionClass(j,W?v:u),hasExplicitCallback(Z)||whenTransitionEnds(j,o,T,q)})};return extend$2(n,{onBeforeEnter(W){callHook(P,[W]),addTransitionClass(W,l),addTransitionClass(W,c)},onBeforeAppear(W){callHook(N,[W]),addTransitionClass(W,d),addTransitionClass(W,f)},onEnter:H(!1),onAppear:H(!0),onLeave(W,j){W._isLeaving=!0;const X=()=>G(W,j);addTransitionClass(W,g),addTransitionClass(W,y),forceReflow(),nextFrame(()=>{W._isLeaving&&(removeTransitionClass(W,g),addTransitionClass(W,_),hasExplicitCallback(I)||whenTransitionEnds(W,o,C,X))}),callHook(I,[W,X])},onEnterCancelled(W){z(W,!1),callHook(M,[W])},onAppearCancelled(W){z(W,!0),callHook(B,[W])},onLeaveCancelled(W){G(W),callHook(L,[W])}})}function normalizeDuration(r){if(r==null)return null;if(isObject$6(r))return[NumberOf(r.enter),NumberOf(r.leave)];{const n=NumberOf(r);return[n,n]}}function NumberOf(r){return toNumber(r)}function addTransitionClass(r,n){n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),(r[vtcKey]||(r[vtcKey]=new Set)).add(n)}function removeTransitionClass(r,n){n.split(/\s+/).forEach(o=>o&&r.classList.remove(o));const a=r[vtcKey];a&&(a.delete(n),a.size||(r[vtcKey]=void 0))}function nextFrame(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let endId=0;function whenTransitionEnds(r,n,a,o){const s=r._endId=++endId,l=()=>{s===r._endId&&o()};if(a!=null)return setTimeout(l,a);const{type:c,timeout:u,propCount:d}=getTransitionInfo(r,n);if(!c)return o();const f=c+"end";let v=0;const g=()=>{r.removeEventListener(f,y),l()},y=_=>{_.target===r&&++v>=d&&g()};setTimeout(()=>{v<d&&g()},u+1),r.addEventListener(f,y)}function getTransitionInfo(r,n){const a=window.getComputedStyle(r),o=b=>(a[b]||"").split(", "),s=o(`${TRANSITION}Delay`),l=o(`${TRANSITION}Duration`),c=getTimeout(s,l),u=o(`${ANIMATION}Delay`),d=o(`${ANIMATION}Duration`),f=getTimeout(u,d);let v=null,g=0,y=0;n===TRANSITION?c>0&&(v=TRANSITION,g=c,y=l.length):n===ANIMATION?f>0&&(v=ANIMATION,g=f,y=d.length):(g=Math.max(c,f),v=g>0?c>f?TRANSITION:ANIMATION:null,y=v?v===TRANSITION?l.length:d.length:0);const _=v===TRANSITION&&/\b(transform|all)(,|$)/.test(o(`${TRANSITION}Property`).toString());return{type:v,timeout:g,propCount:y,hasTransform:_}}function getTimeout(r,n){for(;r.length<n.length;)r=r.concat(r);return Math.max(...n.map((a,o)=>toMs(a)+toMs(r[o])))}function toMs(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(r,n,a){const o=r[vtcKey];o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?r.removeAttribute("class"):a?r.setAttribute("class",n):r.className=n}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(r,{value:n},{transition:a}){r[vShowOriginalDisplay]=r.style.display==="none"?"":r.style.display,a&&n?a.beforeEnter(r):setDisplay(r,n)},mounted(r,{value:n},{transition:a}){a&&n&&a.enter(r)},updated(r,{value:n,oldValue:a},{transition:o}){!n!=!a&&(o?n?(o.beforeEnter(r),setDisplay(r,!0),o.enter(r)):o.leave(r,()=>{setDisplay(r,!1)}):setDisplay(r,n))},beforeUnmount(r,{value:n}){setDisplay(r,n)}};function setDisplay(r,n){r.style.display=n?r[vShowOriginalDisplay]:"none",r[vShowHidden]=!n}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(r,n,a){const o=r.style,s=isString$2(a);let l=!1;if(a&&!s){if(n)if(isString$2(n))for(const c of n.split(";")){const u=c.slice(0,c.indexOf(":")).trim();a[u]==null&&setStyle(o,u,"")}else for(const c in n)a[c]==null&&setStyle(o,c,"");for(const c in a)c==="display"&&(l=!0),setStyle(o,c,a[c])}else if(s){if(n!==a){const c=o[CSS_VAR_TEXT];c&&(a+=";"+c),o.cssText=a,l=displayRE.test(a)}}else n&&r.removeAttribute("style");vShowOriginalDisplay in r&&(r[vShowOriginalDisplay]=l?o.display:"",r[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle(r,n,a){if(isArray$4(a))a.forEach(o=>setStyle(r,n,o));else if(a==null&&(a=""),n.startsWith("--"))r.setProperty(n,a);else{const o=autoPrefix(r,n);importantRE.test(a)?r.setProperty(hyphenate$1(o),a.replace(importantRE,""),"important"):r[o]=a}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,n){const a=prefixCache[n];if(a)return a;let o=camelize$1(n);if(o!=="filter"&&o in r)return prefixCache[n]=o;o=capitalize(o);for(let s=0;s<prefixes.length;s++){const l=prefixes[s]+o;if(l in r)return prefixCache[n]=l}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,n,a,o,s,l=isSpecialBooleanAttr(n)){o&&n.startsWith("xlink:")?a==null?r.removeAttributeNS(xlinkNS,n.slice(6,n.length)):r.setAttributeNS(xlinkNS,n,a):a==null||l&&!includeBooleanAttr(a)?r.removeAttribute(n):r.setAttribute(n,l?"":isSymbol(a)?String(a):a)}function patchDOMProp(r,n,a,o,s){if(n==="innerHTML"||n==="textContent"){a!=null&&(r[n]=n==="innerHTML"?unsafeToTrustedHTML(a):a);return}const l=r.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?r.getAttribute("value")||"":r.value,d=a==null?r.type==="checkbox"?"on":"":String(a);(u!==d||!("_value"in r))&&(r.value=d),a==null&&r.removeAttribute(n),r._value=a;return}let c=!1;if(a===""||a==null){const u=typeof r[n];u==="boolean"?a=includeBooleanAttr(a):a==null&&u==="string"?(a="",c=!0):u==="number"&&(a=0,c=!0)}try{r[n]=a}catch{}c&&r.removeAttribute(s||n)}function addEventListener$1(r,n,a,o){r.addEventListener(n,a,o)}function removeEventListener$1(r,n,a,o){r.removeEventListener(n,a,o)}const veiKey=Symbol("_vei");function patchEvent(r,n,a,o,s=null){const l=r[veiKey]||(r[veiKey]={}),c=l[n];if(o&&c)c.value=o;else{const[u,d]=parseName(n);if(o){const f=l[n]=createInvoker(o,s);addEventListener$1(r,u,f,d)}else c&&(removeEventListener$1(r,u,c,d),l[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let n;if(optionsModifierRE.test(r)){n={};let o;for(;o=r.match(optionsModifierRE);)r=r.slice(0,r.length-o[0].length),n[o[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):hyphenate$1(r.slice(2)),n]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(r,n){const a=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=a.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,a.value),n,5,[o])};return a.value=r,a.attached=getNow(),a}function patchStopImmediatePropagation(r,n){if(isArray$4(n)){const a=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{a.call(r),r._stopped=!0},n.map(o=>s=>!s._stopped&&o&&o(s))}else return n}const isNativeOn=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,patchProp=(r,n,a,o,s,l)=>{const c=s==="svg";n==="class"?patchClass(r,o,c):n==="style"?patchStyle(r,a,o):isOn$1(n)?isModelListener(n)||patchEvent(r,n,a,o,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(r,n,o,c))?(patchDOMProp(r,n,o),!r.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&patchAttr(r,n,o,c,l,n!=="value")):r._isVueCE&&(/[A-Z]/.test(n)||!isString$2(o))?patchDOMProp(r,camelize$1(n),o,l,n):(n==="true-value"?r._trueValue=o:n==="false-value"&&(r._falseValue=o),patchAttr(r,n,o,c))};function shouldSetAsProp(r,n,a,o){if(o)return!!(n==="innerHTML"||n==="textContent"||n in r&&isNativeOn(n)&&isFunction$2(a));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&r.tagName==="INPUT"||n==="type"&&r.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const s=r.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(n)&&isString$2(a)?!1:n in r}const keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(r,n)=>{const a=r._withKeys||(r._withKeys={}),o=n.join(".");return a[o]||(a[o]=s=>{if(!("key"in s))return;const l=hyphenate$1(s.key);if(n.some(c=>c===l||keyNames[c]===l))return r(s)})},rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...r)=>{const n=ensureRenderer().createApp(...r),{mount:a}=n;return n.mount=o=>{const s=normalizeContainer(o);if(!s)return;const l=n._component;!isFunction$2(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=a(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},n};function resolveRootNamespace(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function normalizeContainer(r){return isString$2(r)?document.querySelector(r):r}const _export_sfc=(r,n)=>{const a=r.__vccOpts||r;for(const[o,s]of n)a[o]=s;return a},_sfc_main$d={},_hoisted_1$d={id:"app"};function _sfc_render(r,n){const a=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$d,[createVNode$1(a)])}const App=_export_sfc(_sfc_main$d,[["render",_sfc_render]]);function noop$2(){}const extend$1=Object.assign,inBrowser$1=typeof window<"u",isObject$5=r=>r!==null&&typeof r=="object",isDef$1=r=>r!=null,isFunction$1=r=>typeof r=="function",isPromise=r=>isObject$5(r)&&isFunction$1(r.then)&&isFunction$1(r.catch),isDate=r=>Object.prototype.toString.call(r)==="[object Date]"&&!Number.isNaN(r.getTime());function isMobile(r){return r=r.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(r)||/^0[0-9-]{10,13}$/.test(r)}const isNumeric$1=r=>typeof r=="number"||/^\d+(\.\d+)?$/.test(r),isIOS$1=()=>inBrowser$1?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function get$1(r,n){const a=n.split(".");let o=r;return a.forEach(s=>{var l;o=isObject$5(o)&&(l=o[s])!=null?l:""}),o}function pick(r,n,a){return n.reduce((o,s)=>((!a||r[s]!==void 0)&&(o[s]=r[s]),o),{})}const isSameValue=(r,n)=>JSON.stringify(r)===JSON.stringify(n),toArray=r=>Array.isArray(r)?r:[r],flat=r=>r.reduce((n,a)=>n.concat(a),[]),unknownProp=null,numericProp=[Number,String],truthProp={type:Boolean,default:!0},makeRequiredProp=r=>({type:r,required:!0}),makeArrayProp=()=>({type:Array,default:()=>[]}),makeNumberProp=r=>({type:Number,default:r}),makeNumericProp=r=>({type:numericProp,default:r}),makeStringProp=r=>({type:String,default:r});var inBrowser=typeof window<"u";function raf(r){return inBrowser?requestAnimationFrame(r):-1}function cancelRaf(r){inBrowser&&cancelAnimationFrame(r)}function doubleRaf(r){raf(()=>raf(r))}var isWindow=r=>r===window,makeDOMRect=(r,n)=>({top:0,left:0,right:r,bottom:n,width:r,height:n}),useRect=r=>{const n=unref(r);if(isWindow(n)){const a=n.innerWidth,o=n.innerHeight;return makeDOMRect(a,o)}return n!=null&&n.getBoundingClientRect?n.getBoundingClientRect():makeDOMRect(0,0)};function useToggle(r=!1){const n=ref(r);return[n,(o=!n.value)=>{n.value=o}]}function useParent(r){const n=inject(r,null);if(n){const a=getCurrentInstance(),{link:o,unlink:s,internalChildren:l}=n;o(a),onUnmounted(()=>s(a));const c=computed(()=>l.indexOf(a));return{parent:n,index:c}}return{parent:null,index:ref(-1)}}function flattenVNodes(r){const n=[],a=o=>{Array.isArray(o)&&o.forEach(s=>{var l;isVNode(s)&&(n.push(s),(l=s.component)!=null&&l.subTree&&(n.push(s.component.subTree),a(s.component.subTree.children)),s.children&&a(s.children))})};return a(r),n}var findVNodeIndex=(r,n)=>{const a=r.indexOf(n);return a===-1?r.findIndex(o=>n.key!==void 0&&n.key!==null&&o.type===n.type&&o.key===n.key):a};function sortChildren(r,n,a){const o=flattenVNodes(r.subTree.children);a.sort((l,c)=>findVNodeIndex(o,l.vnode)-findVNodeIndex(o,c.vnode));const s=a.map(l=>l.proxy);n.sort((l,c)=>{const u=s.indexOf(l),d=s.indexOf(c);return u-d})}function useChildren(r){const n=reactive([]),a=reactive([]),o=getCurrentInstance();return{children:n,linkChildren:l=>{provide(r,Object.assign({link:d=>{d.proxy&&(a.push(d),n.push(d.proxy),sortChildren(o,n,a))},unlink:d=>{const f=a.indexOf(d);n.splice(f,1),a.splice(f,1)},children:n,internalChildren:a},l))}}}var SECOND=1e3,MINUTE=60*SECOND,HOUR=60*MINUTE,DAY=24*HOUR;function parseTime(r){const n=Math.floor(r/DAY),a=Math.floor(r%DAY/HOUR),o=Math.floor(r%HOUR/MINUTE),s=Math.floor(r%MINUTE/SECOND),l=Math.floor(r%SECOND);return{total:r,days:n,hours:a,minutes:o,seconds:s,milliseconds:l}}function isSameSecond(r,n){return Math.floor(r/1e3)===Math.floor(n/1e3)}function useCountDown(r){let n,a,o,s;const l=ref(r.time),c=computed(()=>parseTime(l.value)),u=()=>{o=!1,cancelRaf(n)},d=()=>Math.max(a-Date.now(),0),f=T=>{var C,P;l.value=T,(C=r.onChange)==null||C.call(r,c.value),T===0&&(u(),(P=r.onFinish)==null||P.call(r))},v=()=>{n=raf(()=>{o&&(f(d()),l.value>0&&v())})},g=()=>{n=raf(()=>{if(o){const T=d();(!isSameSecond(T,l.value)||T===0)&&f(T),l.value>0&&g()}})},y=()=>{inBrowser&&(r.millisecond?v():g())},_=()=>{o||(a=Date.now()+l.value,o=!0,y())},b=(T=r.time)=>{u(),l.value=T};return onBeforeUnmount(u),onActivated(()=>{s&&(o=!0,s=!1,y())}),onDeactivated(()=>{o&&(u(),s=!0)}),{start:_,pause:u,reset:b,current:c}}function onMountedOrActivated(r){let n;onMounted(()=>{r(),nextTick(()=>{n=!0})}),onActivated(()=>{n&&r()})}function useEventListener(r,n,a={}){if(!inBrowser)return;const{target:o=window,passive:s=!1,capture:l=!1}=a;let c=!1,u;const d=g=>{if(c)return;const y=unref(g);y&&!u&&(y.addEventListener(r,n,{capture:l,passive:s}),u=!0)},f=g=>{if(c)return;const y=unref(g);y&&u&&(y.removeEventListener(r,n,l),u=!1)};onUnmounted(()=>f(o)),onDeactivated(()=>f(o)),onMountedOrActivated(()=>d(o));let v;return isRef(o)&&(v=watch(o,(g,y)=>{f(y),d(g)})),()=>{v==null||v(),f(o),c=!0}}function useClickAway(r,n,a={}){if(!inBrowser)return;const{eventName:o="click"}=a;useEventListener(o,l=>{(Array.isArray(r)?r:[r]).every(d=>{const f=unref(d);return f&&!f.contains(l.target)})&&n(l)},{target:document})}var width,height;function useWindowSize(){if(!width&&(width=ref(0),height=ref(0),inBrowser)){const r=()=>{width.value=window.innerWidth,height.value=window.innerHeight};r(),window.addEventListener("resize",r,{passive:!0}),window.addEventListener("orientationchange",r,{passive:!0})}return{width,height}}var overflowScrollReg=/scroll|auto|overlay/i,defaultRoot=inBrowser?window:void 0;function isElement$1(r){return r.tagName!=="HTML"&&r.tagName!=="BODY"&&r.nodeType===1}function getScrollParent$1(r,n=defaultRoot){let a=r;for(;a&&a!==n&&isElement$1(a);){const{overflowY:o}=window.getComputedStyle(a);if(overflowScrollReg.test(o))return a;a=a.parentNode}return n}function useScrollParent(r,n=defaultRoot){const a=ref();return onMounted(()=>{r.value&&(a.value=getScrollParent$1(r.value,n))}),a}var visibility;function usePageVisibility(){if(!visibility&&(visibility=ref("visible"),inBrowser)){const r=()=>{visibility.value=document.hidden?"hidden":"visible"};r(),window.addEventListener("visibilitychange",r)}return visibility}var CUSTOM_FIELD_INJECTION_KEY=Symbol("van-field");function useCustomFieldValue(r){const n=inject(CUSTOM_FIELD_INJECTION_KEY,null);n&&!n.customValue.value&&(n.customValue.value=r,watch(r,()=>{n.resetValidation(),n.validateWithTrigger("onChange")}))}function getScrollTop(r){const n="scrollTop"in r?r.scrollTop:r.pageYOffset;return Math.max(n,0)}function setScrollTop(r,n){"scrollTop"in r?r.scrollTop=n:r.scrollTo(r.scrollX,n)}function getRootScrollTop(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function setRootScrollTop(r){setScrollTop(window,r),setScrollTop(document.body,r)}function getElementTop(r,n){if(r===window)return 0;const a=n?getScrollTop(n):getRootScrollTop();return useRect(r).top+a}const isIOS=isIOS$1();function resetScroll(){isIOS&&setRootScrollTop(getRootScrollTop())}const stopPropagation=r=>r.stopPropagation();function preventDefault$1(r,n){(typeof r.cancelable!="boolean"||r.cancelable)&&r.preventDefault(),n&&stopPropagation(r)}function isHidden(r){const n=unref(r);if(!n)return!1;const a=window.getComputedStyle(n),o=a.display==="none",s=n.offsetParent===null&&a.position!=="fixed";return o||s}const{width:windowWidth,height:windowHeight}=useWindowSize();function isContainingBlock(r){const n=window.getComputedStyle(r);return n.transform!=="none"||n.perspective!=="none"||["transform","perspective","filter"].some(a=>(n.willChange||"").includes(a))}function getContainingBlock$1(r){let n=r.parentElement;for(;n;){if(n&&n.tagName!=="HTML"&&n.tagName!=="BODY"&&isContainingBlock(n))return n;n=n.parentElement}return null}function addUnit(r){if(isDef$1(r))return isNumeric$1(r)?`${r}px`:String(r)}function getSizeStyle(r){if(isDef$1(r)){if(Array.isArray(r))return{width:addUnit(r[0]),height:addUnit(r[1])};const n=addUnit(r);return{width:n,height:n}}}function getZIndexStyle(r){const n={};return r!==void 0&&(n.zIndex=+r),n}let rootFontSize;function getRootFontSize(){if(!rootFontSize){const r=document.documentElement,n=r.style.fontSize||window.getComputedStyle(r).fontSize;rootFontSize=parseFloat(n)}return rootFontSize}function convertRem(r){return r=r.replace(/rem/g,""),+r*getRootFontSize()}function convertVw(r){return r=r.replace(/vw/g,""),+r*windowWidth.value/100}function convertVh(r){return r=r.replace(/vh/g,""),+r*windowHeight.value/100}function unitToPx(r){if(typeof r=="number")return r;if(inBrowser$1){if(r.includes("rem"))return convertRem(r);if(r.includes("vw"))return convertVw(r);if(r.includes("vh"))return convertVh(r)}return parseFloat(r)}const camelizeRE=/-(\w)/g,camelize=r=>r.replace(camelizeRE,(n,a)=>a.toUpperCase()),kebabCase=r=>r.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function padZero(r,n=2){let a=r+"";for(;a.length<n;)a="0"+a;return a}const clamp$1=(r,n,a)=>Math.min(Math.max(r,n),a);function trimExtraChar(r,n,a){const o=r.indexOf(n);return o===-1?r:n==="-"&&o!==0?r.slice(0,o):r.slice(0,o+1)+r.slice(o).replace(a,"")}function formatNumber(r,n=!0,a=!0){n?r=trimExtraChar(r,".",/\./g):r=r.split(".")[0],a?r=trimExtraChar(r,"-",/-/g):r=r.replace(/-/,"");const o=n?/[^-0-9.]/g:/[^-0-9]/g;return r.replace(o,"")}function addNumber(r,n){return Math.round((r+n)*1e10)/1e10}const{hasOwnProperty}=Object.prototype;function assignKey(r,n,a){const o=n[a];isDef$1(o)&&(!hasOwnProperty.call(r,a)||!isObject$5(o)?r[a]=o:r[a]=deepAssign(Object(r[a]),o))}function deepAssign(r,n){return Object.keys(n).forEach(a=>{assignKey(r,n,a)}),r}var stdin_default$1T={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(r,n)=>`${r}年${n}月`,rangePrompt:r=>`最多选择 ${r} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:r=>`${r}折`,condition:r=>`满${r}元可用`},vanCouponCell:{title:"优惠券",count:r=>`${r}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const lang=ref("zh-CN"),messages=reactive({"zh-CN":stdin_default$1T}),Locale={messages(){return messages[lang.value]},use(r,n){lang.value=r,this.add({[r]:n})},add(r={}){deepAssign(messages,r)}};var stdin_default$1S=Locale;function createTranslate(r){const n=camelize(r)+".";return(a,...o)=>{const s=stdin_default$1S.messages(),l=get$1(s,n+a)||get$1(s,a);return isFunction$1(l)?l(...o):l}}function genBem(r,n){return n?typeof n=="string"?` ${r}--${n}`:Array.isArray(n)?n.reduce((a,o)=>a+genBem(r,o),""):Object.keys(n).reduce((a,o)=>a+(n[o]?genBem(r,o):""),""):""}function createBEM(r){return(n,a)=>(n&&typeof n!="string"&&(a=n,n=""),n=n?`${r}__${n}`:r,`${n}${genBem(n,a)}`)}function createNamespace(r){const n=`van-${r}`;return[n,createBEM(n),createTranslate(n)]}const BORDER="van-hairline",BORDER_TOP=`${BORDER}--top`,BORDER_LEFT=`${BORDER}--left`,BORDER_RIGHT=`${BORDER}--right`,BORDER_BOTTOM=`${BORDER}--bottom`,BORDER_SURROUND=`${BORDER}--surround`,BORDER_TOP_BOTTOM=`${BORDER}--top-bottom`,BORDER_UNSET_TOP_BOTTOM=`${BORDER}-unset--top-bottom`,HAPTICS_FEEDBACK="van-haptics-feedback",FORM_KEY=Symbol("van-form"),LONG_PRESS_START_TIME=500,TAP_OFFSET=5;function callInterceptor(r,{args:n=[],done:a,canceled:o,error:s}){if(r){const l=r.apply(null,n);isPromise(l)?l.then(c=>{c?a():o&&o()}).catch(s||noop$2):l?a():o&&o()}else a()}function withInstall(r){return r.install=n=>{const{name:a}=r;a&&(n.component(a,r),n.component(camelize(`-${a}`),r))},r}function closest(r,n){return r.reduce((a,o)=>Math.abs(a-n)<Math.abs(o-n)?a:o)}const POPUP_TOGGLE_KEY=Symbol();function onPopupReopen(r){const n=inject(POPUP_TOGGLE_KEY,null);n&&watch(n,a=>{a&&r()})}const useHeight=(r,n)=>{const a=ref(),o=()=>{a.value=useRect(r).height};return onMounted(()=>{if(nextTick(o),n)for(let s=1;s<=3;s++)setTimeout(o,100*s)}),onPopupReopen(()=>nextTick(o)),watch([windowWidth,windowHeight],o),a};function usePlaceholder(r,n){const a=useHeight(r,!0);return o=>createVNode$1("div",{class:n("placeholder"),style:{height:a.value?`${a.value}px`:void 0}},[o()])}const[name$1K,bem$1F]=createNamespace("action-bar"),ACTION_BAR_KEY=Symbol(name$1K),actionBarProps={placeholder:Boolean,safeAreaInsetBottom:truthProp};var stdin_default$1R=defineComponent({name:name$1K,props:actionBarProps,setup(r,{slots:n}){const a=ref(),o=usePlaceholder(a,bem$1F),{linkChildren:s}=useChildren(ACTION_BAR_KEY);s();const l=()=>{var c;return createVNode$1("div",{ref:a,class:[bem$1F(),{"van-safe-area-bottom":r.safeAreaInsetBottom}]},[(c=n.default)==null?void 0:c.call(n)])};return()=>r.placeholder?o(l):l()}});const ActionBar=withInstall(stdin_default$1R);function useExpose(r){const n=getCurrentInstance();n&&extend$1(n.proxy,r)}const routeProps={to:[String,Object],url:String,replace:Boolean};function route({to:r,url:n,replace:a,$router:o}){r&&o?o[a?"replace":"push"](r):n&&(a?location.replace(n):location.href=n)}function useRoute(){const r=getCurrentInstance().proxy;return()=>route(r)}const[name$1J,bem$1E]=createNamespace("badge"),badgeProps={dot:Boolean,max:numericProp,tag:makeStringProp("div"),color:String,offset:Array,content:numericProp,showZero:truthProp,position:makeStringProp("top-right")};var stdin_default$1Q=defineComponent({name:name$1J,props:badgeProps,setup(r,{slots:n}){const a=()=>{if(n.content)return!0;const{content:u,showZero:d}=r;return isDef$1(u)&&u!==""&&(d||u!==0&&u!=="0")},o=()=>{const{dot:u,max:d,content:f}=r;if(!u&&a())return n.content?n.content():isDef$1(d)&&isNumeric$1(f)&&+f>+d?`${d}+`:f},s=u=>u.startsWith("-")?u.replace("-",""):`-${u}`,l=computed(()=>{const u={background:r.color};if(r.offset){const[d,f]=r.offset,{position:v}=r,[g,y]=v.split("-");n.default?(typeof f=="number"?u[g]=addUnit(g==="top"?f:-f):u[g]=g==="top"?addUnit(f):s(f),typeof d=="number"?u[y]=addUnit(y==="left"?d:-d):u[y]=y==="left"?addUnit(d):s(d)):(u.marginTop=addUnit(f),u.marginLeft=addUnit(d))}return u}),c=()=>{if(a()||r.dot)return createVNode$1("div",{class:bem$1E([r.position,{dot:r.dot,fixed:!!n.default}]),style:l.value},[o()])};return()=>{if(n.default){const{tag:u}=r;return createVNode$1(u,{class:bem$1E("wrapper")},{default:()=>[n.default(),c()]})}return c()}}});const Badge=withInstall(stdin_default$1Q);let globalZIndex=2e3;const useGlobalZIndex=()=>++globalZIndex,setGlobalZIndex=r=>{globalZIndex=r},[name$1I,bem$1D]=createNamespace("config-provider"),CONFIG_PROVIDER_KEY=Symbol(name$1I),configProviderProps={tag:makeStringProp("div"),theme:makeStringProp("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:makeStringProp("local"),iconPrefix:String};function insertDash(r){return r.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function mapThemeVarsToCSSVars(r){const n={};return Object.keys(r).forEach(a=>{const o=insertDash(kebabCase(a));n[`--van-${o}`]=r[a]}),n}function syncThemeVarsOnRoot(r={},n={}){Object.keys(r).forEach(a=>{r[a]!==n[a]&&document.documentElement.style.setProperty(a,r[a])}),Object.keys(n).forEach(a=>{r[a]||document.documentElement.style.removeProperty(a)})}var stdin_default$1P=defineComponent({name:name$1I,props:configProviderProps,setup(r,{slots:n}){const a=computed(()=>mapThemeVarsToCSSVars(extend$1({},r.themeVars,r.theme==="dark"?r.themeVarsDark:r.themeVarsLight)));if(inBrowser$1){const o=()=>{document.documentElement.classList.add(`van-theme-${r.theme}`)},s=(l=r.theme)=>{document.documentElement.classList.remove(`van-theme-${l}`)};watch(()=>r.theme,(l,c)=>{c&&s(c),o()},{immediate:!0}),onActivated(o),onDeactivated(s),onBeforeUnmount(s),watch(a,(l,c)=>{r.themeVarsScope==="global"&&syncThemeVarsOnRoot(l,c)}),watch(()=>r.themeVarsScope,(l,c)=>{c==="global"&&syncThemeVarsOnRoot({},a.value),l==="global"&&syncThemeVarsOnRoot(a.value,{})}),r.themeVarsScope==="global"&&syncThemeVarsOnRoot(a.value,{})}return provide(CONFIG_PROVIDER_KEY,r),watchEffect(()=>{r.zIndex!==void 0&&setGlobalZIndex(r.zIndex)}),()=>createVNode$1(r.tag,{class:bem$1D(),style:r.themeVarsScope==="local"?a.value:void 0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})}});const[name$1H,bem$1C]=createNamespace("icon"),isImage$1=r=>r==null?void 0:r.includes("/"),iconProps={dot:Boolean,tag:makeStringProp("i"),name:String,size:numericProp,badge:numericProp,color:String,badgeProps:Object,classPrefix:String};var stdin_default$1O=defineComponent({name:name$1H,props:iconProps,setup(r,{slots:n}){const a=inject(CONFIG_PROVIDER_KEY,null),o=computed(()=>r.classPrefix||(a==null?void 0:a.iconPrefix)||bem$1C());return()=>{const{tag:s,dot:l,name:c,size:u,badge:d,color:f}=r,v=isImage$1(c);return createVNode$1(Badge,mergeProps({dot:l,tag:s,class:[o.value,v?"":`${o.value}-${c}`],style:{color:f,fontSize:addUnit(u)},content:d},r.badgeProps),{default:()=>{var g;return[(g=n.default)==null?void 0:g.call(n),v&&createVNode$1("img",{class:bem$1C("image"),src:c},null)]}})}}});const Icon=withInstall(stdin_default$1O);var stdin_default$1N=Icon;const[name$1G,bem$1B]=createNamespace("loading"),SpinIcon=Array(12).fill(null).map((r,n)=>createVNode$1("i",{class:bem$1B("line",String(n+1))},null)),CircularIcon=createVNode$1("svg",{class:bem$1B("circular"),viewBox:"25 25 50 50"},[createVNode$1("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),loadingProps$1={size:numericProp,type:makeStringProp("circular"),color:String,vertical:Boolean,textSize:numericProp,textColor:String};var stdin_default$1M=defineComponent({name:name$1G,props:loadingProps$1,setup(r,{slots:n}){const a=computed(()=>extend$1({color:r.color},getSizeStyle(r.size))),o=()=>{const l=r.type==="spinner"?SpinIcon:CircularIcon;return createVNode$1("span",{class:bem$1B("spinner",r.type),style:a.value},[n.icon?n.icon():l])},s=()=>{var l;if(n.default)return createVNode$1("span",{class:bem$1B("text"),style:{fontSize:addUnit(r.textSize),color:(l=r.textColor)!=null?l:r.color}},[n.default()])};return()=>{const{type:l,vertical:c}=r;return createVNode$1("div",{class:bem$1B([l,{vertical:c}]),"aria-live":"polite","aria-busy":!0},[o(),s()])}}});const Loading=withInstall(stdin_default$1M),[name$1F,bem$1A]=createNamespace("button"),buttonProps=extend$1({},routeProps,{tag:makeStringProp("button"),text:String,icon:String,type:makeStringProp("default"),size:makeStringProp("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:makeStringProp("button"),loadingSize:numericProp,loadingText:String,loadingType:String,iconPosition:makeStringProp("left")});var stdin_default$1L=defineComponent({name:name$1F,props:buttonProps,emits:["click"],setup(r,{emit:n,slots:a}){const o=useRoute(),s=()=>a.loading?a.loading():createVNode$1(Loading,{size:r.loadingSize,type:r.loadingType,class:bem$1A("loading")},null),l=()=>{if(r.loading)return s();if(a.icon)return createVNode$1("div",{class:bem$1A("icon")},[a.icon()]);if(r.icon)return createVNode$1(Icon,{name:r.icon,class:bem$1A("icon"),classPrefix:r.iconPrefix},null)},c=()=>{let f;if(r.loading?f=r.loadingText:f=a.default?a.default():r.text,f)return createVNode$1("span",{class:bem$1A("text")},[f])},u=()=>{const{color:f,plain:v}=r;if(f){const g={color:v?f:"white"};return v||(g.background=f),f.includes("gradient")?g.border=0:g.borderColor=f,g}},d=f=>{r.loading?preventDefault$1(f):r.disabled||(n("click",f),o())};return()=>{const{tag:f,type:v,size:g,block:y,round:_,plain:b,square:T,loading:C,disabled:P,hairline:E,nativeType:M,iconPosition:I}=r,L=[bem$1A([v,g,{plain:b,block:y,round:_,square:T,loading:C,disabled:P,hairline:E}]),{[BORDER_SURROUND]:E}];return createVNode$1(f,{type:M,class:L,style:u(),disabled:P,onClick:d},{default:()=>[createVNode$1("div",{class:bem$1A("content")},[I==="left"&&l(),c(),I==="right"&&l()])]})}}});const Button=withInstall(stdin_default$1L),[name$1E,bem$1z]=createNamespace("action-bar-button"),actionBarButtonProps=extend$1({},routeProps,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var stdin_default$1K=defineComponent({name:name$1E,props:actionBarButtonProps,setup(r,{slots:n}){const a=useRoute(),{parent:o,index:s}=useParent(ACTION_BAR_KEY),l=computed(()=>{if(o){const u=o.children[s.value-1];return!(u&&"isButton"in u)}}),c=computed(()=>{if(o){const u=o.children[s.value+1];return!(u&&"isButton"in u)}});return useExpose({isButton:!0}),()=>{const{type:u,icon:d,text:f,color:v,loading:g,disabled:y}=r;return createVNode$1(Button,{class:bem$1z([u,{last:c.value,first:l.value}]),size:"large",type:u,icon:d,color:v,loading:g,disabled:y,onClick:a},{default:()=>[n.default?n.default():f]})}}});const ActionBarButton=withInstall(stdin_default$1K),[name$1D,bem$1y]=createNamespace("action-bar-icon"),actionBarIconProps=extend$1({},routeProps,{dot:Boolean,text:String,icon:String,color:String,badge:numericProp,iconClass:unknownProp,badgeProps:Object,iconPrefix:String});var stdin_default$1J=defineComponent({name:name$1D,props:actionBarIconProps,setup(r,{slots:n}){const a=useRoute();useParent(ACTION_BAR_KEY);const o=()=>{const{dot:s,badge:l,icon:c,color:u,iconClass:d,badgeProps:f,iconPrefix:v}=r;return n.icon?createVNode$1(Badge,mergeProps({dot:s,class:bem$1y("icon"),content:l},f),{default:n.icon}):createVNode$1(Icon,{tag:"div",dot:s,name:c,badge:l,color:u,class:[bem$1y("icon"),d],badgeProps:f,classPrefix:v},null)};return()=>createVNode$1("div",{role:"button",class:bem$1y(),tabindex:0,onClick:a},[o(),n.default?n.default():r.text])}});const ActionBarIcon=withInstall(stdin_default$1J),popupSharedProps={show:Boolean,zIndex:numericProp,overlay:truthProp,duration:numericProp,teleport:[String,Object],lockScroll:truthProp,lazyRender:truthProp,beforeClose:Function,overlayStyle:Object,overlayClass:unknownProp,transitionAppear:Boolean,closeOnClickOverlay:truthProp},popupSharedPropKeys=Object.keys(popupSharedProps);function getDirection(r,n){return r>n?"horizontal":n>r?"vertical":""}function useTouch(){const r=ref(0),n=ref(0),a=ref(0),o=ref(0),s=ref(0),l=ref(0),c=ref(""),u=ref(!0),d=()=>c.value==="vertical",f=()=>c.value==="horizontal",v=()=>{a.value=0,o.value=0,s.value=0,l.value=0,c.value="",u.value=!0};return{move:_=>{const b=_.touches[0];a.value=(b.clientX<0?0:b.clientX)-r.value,o.value=b.clientY-n.value,s.value=Math.abs(a.value),l.value=Math.abs(o.value);const T=10;(!c.value||s.value<T&&l.value<T)&&(c.value=getDirection(s.value,l.value)),u.value&&(s.value>TAP_OFFSET||l.value>TAP_OFFSET)&&(u.value=!1)},start:_=>{v(),r.value=_.touches[0].clientX,n.value=_.touches[0].clientY},reset:v,startX:r,startY:n,deltaX:a,deltaY:o,offsetX:s,offsetY:l,direction:c,isVertical:d,isHorizontal:f,isTap:u}}let totalLockCount=0;const BODY_LOCK_CLASS="van-overflow-hidden";function useLockScroll(r,n){const a=useTouch(),o="01",s="10",l=v=>{a.move(v);const g=a.deltaY.value>0?s:o,y=getScrollParent$1(v.target,r.value),{scrollHeight:_,offsetHeight:b,scrollTop:T}=y;let C="11";T===0?C=b>=_?"00":"01":T+b>=_&&(C="10"),C!=="11"&&a.isVertical()&&!(parseInt(C,2)&parseInt(g,2))&&preventDefault$1(v,!0)},c=()=>{document.addEventListener("touchstart",a.start),document.addEventListener("touchmove",l,{passive:!1}),totalLockCount||document.body.classList.add(BODY_LOCK_CLASS),totalLockCount++},u=()=>{totalLockCount&&(document.removeEventListener("touchstart",a.start),document.removeEventListener("touchmove",l),totalLockCount--,totalLockCount||document.body.classList.remove(BODY_LOCK_CLASS))},d=()=>n()&&c(),f=()=>n()&&u();onMountedOrActivated(d),onDeactivated(f),onBeforeUnmount(f),watch(n,v=>{v?c():u()})}function useLazyRender(r){const n=ref(!1);return watch(r,a=>{a&&(n.value=a)},{immediate:!0}),a=>()=>n.value?a():null}const useScopeId=()=>{var r;const{scopeId:n}=((r=getCurrentInstance())==null?void 0:r.vnode)||{};return n?{[n]:""}:null},[name$1C,bem$1x]=createNamespace("overlay"),overlayProps={show:Boolean,zIndex:numericProp,duration:numericProp,className:unknownProp,lockScroll:truthProp,lazyRender:truthProp,customStyle:Object,teleport:[String,Object]};var stdin_default$1I=defineComponent({name:name$1C,props:overlayProps,setup(r,{slots:n}){const a=ref(),o=useLazyRender(()=>r.show||!r.lazyRender),s=c=>{r.lockScroll&&preventDefault$1(c,!0)},l=o(()=>{var c;const u=extend$1(getZIndexStyle(r.zIndex),r.customStyle);return isDef$1(r.duration)&&(u.animationDuration=`${r.duration}s`),withDirectives(createVNode$1("div",{ref:a,style:u,class:[bem$1x(),r.className]},[(c=n.default)==null?void 0:c.call(n)]),[[vShow,r.show]])});return useEventListener("touchmove",s,{target:a}),()=>{const c=createVNode$1(Transition,{name:"van-fade",appear:!0},{default:l});return r.teleport?createVNode$1(Teleport,{to:r.teleport},{default:()=>[c]}):c}}});const Overlay=withInstall(stdin_default$1I),popupProps$2=extend$1({},popupSharedProps,{round:Boolean,position:makeStringProp("center"),closeIcon:makeStringProp("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:makeStringProp("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[name$1B,bem$1w]=createNamespace("popup");var stdin_default$1H=defineComponent({name:name$1B,inheritAttrs:!1,props:popupProps$2,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(r,{emit:n,attrs:a,slots:o}){let s,l;const c=ref(),u=ref(),d=useLazyRender(()=>r.show||!r.lazyRender),f=computed(()=>{const N={zIndex:c.value};if(isDef$1(r.duration)){const V=r.position==="center"?"animationDuration":"transitionDuration";N[V]=`${r.duration}s`}return N}),v=()=>{s||(s=!0,c.value=r.zIndex!==void 0?+r.zIndex:useGlobalZIndex(),n("open"))},g=()=>{s&&callInterceptor(r.beforeClose,{done(){s=!1,n("close"),n("update:show",!1)}})},y=N=>{n("clickOverlay",N),r.closeOnClickOverlay&&g()},_=()=>{if(r.overlay)return createVNode$1(Overlay,mergeProps({show:r.show,class:r.overlayClass,zIndex:c.value,duration:r.duration,customStyle:r.overlayStyle,role:r.closeOnClickOverlay?"button":void 0,tabindex:r.closeOnClickOverlay?0:void 0},useScopeId(),{onClick:y}),{default:o["overlay-content"]})},b=N=>{n("clickCloseIcon",N),g()},T=()=>{if(r.closeable)return createVNode$1(Icon,{role:"button",tabindex:0,name:r.closeIcon,class:[bem$1w("close-icon",r.closeIconPosition),HAPTICS_FEEDBACK],classPrefix:r.iconPrefix,onClick:b},null)};let C;const P=()=>{C&&clearTimeout(C),C=setTimeout(()=>{n("opened")})},E=()=>n("closed"),M=N=>n("keydown",N),I=d(()=>{var N;const{destroyOnClose:V,round:B,position:z,safeAreaInsetTop:G,safeAreaInsetBottom:H,show:W}=r;if(!(!W&&V))return withDirectives(createVNode$1("div",mergeProps({ref:u,style:f.value,role:"dialog",tabindex:0,class:[bem$1w({round:B,[z]:z}),{"van-safe-area-top":G,"van-safe-area-bottom":H}],onKeydown:M},a,useScopeId()),[(N=o.default)==null?void 0:N.call(o),T()]),[[vShow,W]])}),L=()=>{const{position:N,transition:V,transitionAppear:B}=r,z=N==="center"?"van-fade":`van-popup-slide-${N}`;return createVNode$1(Transition,{name:V||z,appear:B,onAfterEnter:P,onAfterLeave:E},{default:I})};return watch(()=>r.show,N=>{N&&!s&&(v(),a.tabindex===0&&nextTick(()=>{var V;(V=u.value)==null||V.focus()})),!N&&s&&(s=!1,n("close"))}),useExpose({popupRef:u}),useLockScroll(u,()=>r.show&&r.lockScroll),useEventListener("popstate",()=>{r.closeOnPopstate&&(g(),l=!1)}),onMounted(()=>{r.show&&v()}),onActivated(()=>{l&&(n("update:show",!0),l=!1)}),onDeactivated(()=>{r.show&&r.teleport&&(g(),l=!0)}),provide(POPUP_TOGGLE_KEY,()=>r.show),()=>r.teleport?createVNode$1(Teleport,{to:r.teleport},{default:()=>[_(),L()]}):createVNode$1(Fragment,null,[_(),L()])}});const Popup=withInstall(stdin_default$1H),[name$1A,bem$1v]=createNamespace("action-sheet"),actionSheetProps=extend$1({},popupSharedProps,{title:String,round:truthProp,actions:makeArrayProp(),closeIcon:makeStringProp("cross"),closeable:truthProp,cancelText:String,description:String,closeOnPopstate:truthProp,closeOnClickAction:Boolean,safeAreaInsetBottom:truthProp}),popupInheritKeys$2=[...popupSharedPropKeys,"round","closeOnPopstate","safeAreaInsetBottom"];var stdin_default$1G=defineComponent({name:name$1A,props:actionSheetProps,emits:["select","cancel","update:show"],setup(r,{slots:n,emit:a}){const o=g=>a("update:show",g),s=()=>{o(!1),a("cancel")},l=()=>{if(r.title)return createVNode$1("div",{class:bem$1v("header")},[r.title,r.closeable&&createVNode$1(Icon,{name:r.closeIcon,class:[bem$1v("close"),HAPTICS_FEEDBACK],onClick:s},null)])},c=()=>{if(n.cancel||r.cancelText)return[createVNode$1("div",{class:bem$1v("gap")},null),createVNode$1("button",{type:"button",class:bem$1v("cancel"),onClick:s},[n.cancel?n.cancel():r.cancelText])]},u=g=>{if(g.icon)return createVNode$1(Icon,{class:bem$1v("item-icon"),name:g.icon},null)},d=(g,y)=>g.loading?createVNode$1(Loading,{class:bem$1v("loading-icon")},null):n.action?n.action({action:g,index:y}):[createVNode$1("span",{class:bem$1v("name")},[g.name]),g.subname&&createVNode$1("div",{class:bem$1v("subname")},[g.subname])],f=(g,y)=>{const{color:_,loading:b,callback:T,disabled:C,className:P}=g,E=()=>{C||b||(T&&T(g),r.closeOnClickAction&&o(!1),nextTick(()=>a("select",g,y)))};return createVNode$1("button",{type:"button",style:{color:_},class:[bem$1v("item",{loading:b,disabled:C}),P],onClick:E},[u(g),d(g,y)])},v=()=>{if(r.description||n.description){const g=n.description?n.description():r.description;return createVNode$1("div",{class:bem$1v("description")},[g])}};return()=>createVNode$1(Popup,mergeProps({class:bem$1v(),position:"bottom","onUpdate:show":o},pick(r,popupInheritKeys$2)),{default:()=>{var g;return[l(),v(),createVNode$1("div",{class:bem$1v("content")},[r.actions.map(f),(g=n.default)==null?void 0:g.call(n)]),c()]}})}});const ActionSheet=withInstall(stdin_default$1G),[name$1z,bem$1u,t$k]=createNamespace("picker"),getFirstEnabledOption=r=>r.find(n=>!n.disabled)||r[0];function getColumnsType(r,n){const a=r[0];if(a){if(Array.isArray(a))return"multiple";if(n.children in a)return"cascade"}return"default"}function findIndexOfEnabledOption(r,n){n=clamp$1(n,0,r.length);for(let a=n;a<r.length;a++)if(!r[a].disabled)return a;for(let a=n-1;a>=0;a--)if(!r[a].disabled)return a;return 0}const isOptionExist=(r,n,a)=>n!==void 0&&!!r.find(o=>o[a.value]===n);function findOptionByValue(r,n,a){const o=r.findIndex(l=>l[a.value]===n),s=findIndexOfEnabledOption(r,o);return r[s]}function formatCascadeColumns(r,n,a){const o=[];let s={[n.children]:r},l=0;for(;s&&s[n.children];){const c=s[n.children],u=a.value[l];if(s=isDef$1(u)?findOptionByValue(c,u,n):void 0,!s&&c.length){const d=getFirstEnabledOption(c)[n.value];s=findOptionByValue(c,d,n)}l++,o.push(c)}return o}function getElementTranslateY(r){const{transform:n}=window.getComputedStyle(r),a=n.slice(7,n.length-1).split(", ")[5];return Number(a)}function assignDefaultFields(r){return extend$1({text:"text",value:"value",children:"children"},r)}const DEFAULT_DURATION=200,MOMENTUM_TIME=300,MOMENTUM_DISTANCE=15,[name$1y,bem$1t]=createNamespace("picker-column"),PICKER_KEY=Symbol(name$1y);var stdin_default$1F=defineComponent({name:name$1y,props:{value:numericProp,fields:makeRequiredProp(Object),options:makeArrayProp(),readonly:Boolean,allowHtml:Boolean,optionHeight:makeRequiredProp(Number),swipeDuration:makeRequiredProp(numericProp),visibleOptionNum:makeRequiredProp(numericProp)},emits:["change","clickOption","scrollInto"],setup(r,{emit:n,slots:a}){let o,s,l,c,u;const d=ref(),f=ref(),v=ref(0),g=ref(0),y=useTouch(),_=()=>r.options.length,b=()=>r.optionHeight*(+r.visibleOptionNum-1)/2,T=G=>{let H=findIndexOfEnabledOption(r.options,G);const W=-H*r.optionHeight,j=()=>{H>_()-1&&(H=findIndexOfEnabledOption(r.options,G));const X=r.options[H][r.fields.value];X!==r.value&&n("change",X)};o&&W!==v.value?u=j:j(),v.value=W},C=()=>r.readonly||!r.options.length,P=G=>{o||C()||(u=null,g.value=DEFAULT_DURATION,T(G),n("clickOption",r.options[G]))},E=G=>clamp$1(Math.round(-G/r.optionHeight),0,_()-1),M=computed(()=>E(v.value)),I=(G,H)=>{const W=Math.abs(G/H);G=v.value+W/.003*(G<0?-1:1);const j=E(G);g.value=+r.swipeDuration,T(j)},L=()=>{o=!1,g.value=0,u&&(u(),u=null)},N=G=>{if(!C()){if(y.start(G),o){const H=getElementTranslateY(f.value);v.value=Math.min(0,H-b())}g.value=0,s=v.value,l=Date.now(),c=s,u=null}},V=G=>{if(C())return;y.move(G),y.isVertical()&&(o=!0,preventDefault$1(G,!0));const H=clamp$1(s+y.deltaY.value,-(_()*r.optionHeight),r.optionHeight),W=E(H);W!==M.value&&n("scrollInto",r.options[W]),v.value=H;const j=Date.now();j-l>MOMENTUM_TIME&&(l=j,c=H)},B=()=>{if(C())return;const G=v.value-c,H=Date.now()-l;if(H<MOMENTUM_TIME&&Math.abs(G)>MOMENTUM_DISTANCE){I(G,H);return}const j=E(v.value);g.value=DEFAULT_DURATION,T(j),setTimeout(()=>{o=!1},0)},z=()=>{const G={height:`${r.optionHeight}px`};return r.options.map((H,W)=>{const j=H[r.fields.text],{disabled:X}=H,Z=H[r.fields.value],q={role:"button",style:G,tabindex:X?-1:0,class:[bem$1t("item",{disabled:X,selected:Z===r.value}),H.className],onClick:()=>P(W)},le={class:"van-ellipsis",[r.allowHtml?"innerHTML":"textContent"]:j};return createVNode$1("li",q,[a.option?a.option(H,W):createVNode$1("div",le,null)])})};return useParent(PICKER_KEY),useExpose({stopMomentum:L}),watchEffect(()=>{const G=o?Math.floor(-v.value/r.optionHeight):r.options.findIndex(j=>j[r.fields.value]===r.value),H=findIndexOfEnabledOption(r.options,G),W=-H*r.optionHeight;o&&H<G&&L(),v.value=W}),useEventListener("touchmove",V,{target:d}),()=>createVNode$1("div",{ref:d,class:bem$1t(),onTouchstartPassive:N,onTouchend:B,onTouchcancel:B},[createVNode$1("ul",{ref:f,style:{transform:`translate3d(0, ${v.value+b()}px, 0)`,transitionDuration:`${g.value}ms`,transitionProperty:g.value?"all":"none"},class:bem$1t("wrapper"),onTransitionend:L},[z()])])}});const[name$1x]=createNamespace("picker-toolbar"),pickerToolbarProps={title:String,cancelButtonText:String,confirmButtonText:String},pickerToolbarSlots=["cancel","confirm","title","toolbar"],pickerToolbarPropKeys=Object.keys(pickerToolbarProps);var stdin_default$1E=defineComponent({name:name$1x,props:pickerToolbarProps,emits:["confirm","cancel"],setup(r,{emit:n,slots:a}){const o=()=>{if(a.title)return a.title();if(r.title)return createVNode$1("div",{class:[bem$1u("title"),"van-ellipsis"]},[r.title])},s=()=>n("cancel"),l=()=>n("confirm"),c=()=>{var d;const f=(d=r.cancelButtonText)!=null?d:t$k("cancel");if(!(!a.cancel&&!f))return createVNode$1("button",{type:"button",class:[bem$1u("cancel"),HAPTICS_FEEDBACK],onClick:s},[a.cancel?a.cancel():f])},u=()=>{var d;const f=(d=r.confirmButtonText)!=null?d:t$k("confirm");if(!(!a.confirm&&!f))return createVNode$1("button",{type:"button",class:[bem$1u("confirm"),HAPTICS_FEEDBACK],onClick:l},[a.confirm?a.confirm():f])};return()=>createVNode$1("div",{class:bem$1u("toolbar")},[a.toolbar?a.toolbar():[c(),o(),u()]])}});const useSyncPropRef=(r,n)=>{const a=ref(r());return watch(r,o=>{o!==a.value&&(a.value=o)}),watch(a,o=>{o!==r()&&n(o)}),a};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const isArray$3=Array.isArray,isString$1=r=>typeof r=="string",isObject$4=r=>r!==null&&typeof r=="object",cacheStringFunction=r=>{const n=Object.create(null);return a=>n[a]||(n[a]=r(a))},hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase());function normalizeStyle$1(r){if(isArray$3(r)){const n={};for(let a=0;a<r.length;a++){const o=r[a],s=isString$1(o)?parseStringStyle(o):normalizeStyle$1(o);if(s)for(const l in s)n[l]=s[l]}return n}else if(isString$1(r)||isObject$4(r))return r}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(r){const n={};return r.replace(styleCommentRE,"").split(listDelimiterRE).forEach(a=>{if(a){const o=a.split(propertyDelimiterRE);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function stringifyStyle(r){if(!r)return"";if(isString$1(r))return r;let n="";for(const a in r){const o=r[a];if(isString$1(o)||typeof o=="number"){const s=a.startsWith("--")?a:hyphenate(a);n+=`${s}:${o};`}}return n}function normalizeClass(r){let n="";if(isString$1(r))n=r;else if(isArray$3(r))for(let a=0;a<r.length;a++){const o=normalizeClass(r[a]);o&&(n+=o+" ")}else if(isObject$4(r))for(const a in r)r[a]&&(n+=a+" ");return n.trim()}function scrollLeftTo(r,n,a){let o,s=0;const l=r.scrollLeft,c=a===0?1:Math.round(a*1e3/16);let u=l;function d(){cancelRaf(o)}function f(){u+=(n-l)/c,r.scrollLeft=u,++s<c&&(o=raf(f))}return f(),d}function scrollTopTo(r,n,a,o){let s,l=getScrollTop(r);const c=l<n,u=a===0?1:Math.round(a*1e3/16),d=(n-l)/u;function f(){cancelRaf(s)}function v(){l+=d,(c&&l>n||!c&&l<n)&&(l=n),setScrollTop(r,l),c&&l<n||!c&&l>n?s=raf(v):o&&(s=raf(o))}return v(),f}let current=0;function useId(){const r=getCurrentInstance(),{name:n="unknown"}=(r==null?void 0:r.type)||{};return`${n}-${++current}`}function useRefs(){const r=ref([]),n=[];return onBeforeUpdate(()=>{r.value=[]}),[r,o=>(n[o]||(n[o]=s=>{r.value[o]=s}),n[o])]}function useVisibilityChange(r,n){if(!inBrowser$1||!window.IntersectionObserver)return;const a=new IntersectionObserver(l=>{n(l[0].intersectionRatio>0)},{root:document.body}),o=()=>{r.value&&a.observe(r.value)},s=()=>{r.value&&a.unobserve(r.value)};onDeactivated(s),onBeforeUnmount(s),onMountedOrActivated(o)}const[name$1w,bem$1s]=createNamespace("sticky"),stickyProps={zIndex:numericProp,position:makeStringProp("top"),container:Object,offsetTop:makeNumericProp(0),offsetBottom:makeNumericProp(0)};var stdin_default$1D=defineComponent({name:name$1w,props:stickyProps,emits:["scroll","change"],setup(r,{emit:n,slots:a}){const o=ref(),s=useScrollParent(o),l=reactive({fixed:!1,width:0,height:0,transform:0}),c=ref(!1),u=computed(()=>unitToPx(r.position==="top"?r.offsetTop:r.offsetBottom)),d=computed(()=>{if(c.value)return;const{fixed:y,height:_,width:b}=l;if(y)return{width:`${b}px`,height:`${_}px`}}),f=computed(()=>{if(!l.fixed||c.value)return;const y=extend$1(getZIndexStyle(r.zIndex),{width:`${l.width}px`,height:`${l.height}px`,[r.position]:`${u.value}px`});return l.transform&&(y.transform=`translate3d(0, ${l.transform}px, 0)`),y}),v=y=>n("scroll",{scrollTop:y,isFixed:l.fixed}),g=()=>{if(!o.value||isHidden(o))return;const{container:y,position:_}=r,b=useRect(o),T=getScrollTop(window);if(l.width=b.width,l.height=b.height,_==="top")if(y){const C=useRect(y),P=C.bottom-u.value-l.height;l.fixed=u.value>b.top&&C.bottom>0,l.transform=P<0?P:0}else l.fixed=u.value>b.top;else{const{clientHeight:C}=document.documentElement;if(y){const P=useRect(y),E=C-P.top-u.value-l.height;l.fixed=C-u.value<b.bottom&&C>P.top,l.transform=E<0?-E:0}else l.fixed=C-u.value<b.bottom}v(T)};return watch(()=>l.fixed,y=>n("change",y)),useEventListener("scroll",g,{target:s,passive:!0}),useVisibilityChange(o,g),watch([windowWidth,windowHeight],()=>{!o.value||isHidden(o)||!l.fixed||(c.value=!0,nextTick(()=>{const y=useRect(o);l.width=y.width,l.height=y.height,c.value=!1}))}),()=>{var y;return createVNode$1("div",{ref:o,style:d.value},[createVNode$1("div",{class:bem$1s({fixed:l.fixed&&!c.value}),style:f.value},[(y=a.default)==null?void 0:y.call(a)])])}}});const Sticky=withInstall(stdin_default$1D),[name$1v,bem$1r]=createNamespace("swipe"),swipeProps={loop:truthProp,width:numericProp,height:numericProp,vertical:Boolean,autoplay:makeNumericProp(0),duration:makeNumericProp(500),touchable:truthProp,lazyRender:Boolean,initialSwipe:makeNumericProp(0),indicatorColor:String,showIndicators:truthProp,stopPropagation:truthProp},SWIPE_KEY=Symbol(name$1v);var stdin_default$1C=defineComponent({name:name$1v,props:swipeProps,emits:["change","dragStart","dragEnd"],setup(r,{emit:n,slots:a}){const o=ref(),s=ref(),l=reactive({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const u=useTouch(),{children:d,linkChildren:f}=useChildren(SWIPE_KEY),v=computed(()=>d.length),g=computed(()=>l[r.vertical?"height":"width"]),y=computed(()=>r.vertical?u.deltaY.value:u.deltaX.value),_=computed(()=>l.rect?(r.vertical?l.rect.height:l.rect.width)-g.value*v.value:0),b=computed(()=>g.value?Math.ceil(Math.abs(_.value)/g.value):v.value),T=computed(()=>v.value*g.value),C=computed(()=>(l.active+v.value)%v.value),P=computed(()=>{const ce=r.vertical?"vertical":"horizontal";return u.direction.value===ce}),E=computed(()=>{const ce={transitionDuration:`${l.swiping?0:r.duration}ms`,transform:`translate${r.vertical?"Y":"X"}(${+l.offset.toFixed(2)}px)`};if(g.value){const fe=r.vertical?"height":"width",_e=r.vertical?"width":"height";ce[fe]=`${T.value}px`,ce[_e]=r[_e]?`${r[_e]}px`:""}return ce}),M=ce=>{const{active:fe}=l;return ce?r.loop?clamp$1(fe+ce,-1,v.value):clamp$1(fe+ce,0,b.value):fe},I=(ce,fe=0)=>{let _e=ce*g.value;r.loop||(_e=Math.min(_e,-_.value));let Ce=fe-_e;return r.loop||(Ce=clamp$1(Ce,_.value,0)),Ce},L=({pace:ce=0,offset:fe=0,emitChange:_e})=>{if(v.value<=1)return;const{active:Ce}=l,Se=M(ce),De=I(Se,fe);if(r.loop){if(d[0]&&De!==_.value){const ne=De<_.value;d[0].setOffset(ne?T.value:0)}if(d[v.value-1]&&De!==0){const ne=De>0;d[v.value-1].setOffset(ne?-T.value:0)}}l.active=Se,l.offset=De,_e&&Se!==Ce&&n("change",C.value)},N=()=>{l.swiping=!0,l.active<=-1?L({pace:v.value}):l.active>=v.value&&L({pace:-v.value})},V=()=>{N(),u.reset(),doubleRaf(()=>{l.swiping=!1,L({pace:-1,emitChange:!0})})},B=()=>{N(),u.reset(),doubleRaf(()=>{l.swiping=!1,L({pace:1,emitChange:!0})})};let z;const G=()=>clearTimeout(z),H=()=>{G(),+r.autoplay>0&&v.value>1&&(z=setTimeout(()=>{B(),H()},+r.autoplay))},W=(ce=+r.initialSwipe)=>{if(!o.value)return;const fe=()=>{var _e,Ce;if(!isHidden(o)){const Se={width:o.value.offsetWidth,height:o.value.offsetHeight};l.rect=Se,l.width=+((_e=r.width)!=null?_e:Se.width),l.height=+((Ce=r.height)!=null?Ce:Se.height)}v.value&&(ce=Math.min(v.value-1,ce),ce===-1&&(ce=v.value-1)),l.active=ce,l.swiping=!0,l.offset=I(ce),d.forEach(Se=>{Se.setOffset(0)}),H()};isHidden(o)?nextTick().then(fe):fe()},j=()=>W(l.active);let X;const Z=ce=>{!r.touchable||ce.touches.length>1||(u.start(ce),c=!1,X=Date.now(),G(),N())},q=ce=>{r.touchable&&l.swiping&&(u.move(ce),P.value&&(!r.loop&&(l.active===0&&y.value>0||l.active===v.value-1&&y.value<0)||(preventDefault$1(ce,r.stopPropagation),L({offset:y.value}),c||(n("dragStart",{index:C.value}),c=!0))))},le=()=>{if(!r.touchable||!l.swiping)return;const ce=Date.now()-X,fe=y.value/ce;if((Math.abs(fe)>.25||Math.abs(y.value)>g.value/2)&&P.value){const Ce=r.vertical?u.offsetY.value:u.offsetX.value;let Se=0;r.loop?Se=Ce>0?y.value>0?-1:1:0:Se=-Math[y.value>0?"ceil":"floor"](y.value/g.value),L({pace:Se,emitChange:!0})}else y.value&&L({pace:0});c=!1,l.swiping=!1,n("dragEnd",{index:C.value}),H()},ae=(ce,fe={})=>{N(),u.reset(),doubleRaf(()=>{let _e;r.loop&&ce===v.value?_e=l.active===0?0:ce:_e=ce%v.value,fe.immediate?doubleRaf(()=>{l.swiping=!1}):l.swiping=!1,L({pace:_e-l.active,emitChange:!0})})},he=(ce,fe)=>{const _e=fe===C.value,Ce=_e?{backgroundColor:r.indicatorColor}:void 0;return createVNode$1("i",{style:Ce,class:bem$1r("indicator",{active:_e})},null)},ve=()=>{if(a.indicator)return a.indicator({active:C.value,total:v.value});if(r.showIndicators&&v.value>1)return createVNode$1("div",{class:bem$1r("indicators",{vertical:r.vertical})},[Array(v.value).fill("").map(he)])};return useExpose({prev:V,next:B,state:l,resize:j,swipeTo:ae}),f({size:g,props:r,count:v,activeIndicator:C}),watch(()=>r.initialSwipe,ce=>W(+ce)),watch(v,()=>W(l.active)),watch(()=>r.autoplay,H),watch([windowWidth,windowHeight,()=>r.width,()=>r.height],j),watch(usePageVisibility(),ce=>{ce==="visible"?H():G()}),onMounted(W),onActivated(()=>W(l.active)),onPopupReopen(()=>W(l.active)),onDeactivated(G),onBeforeUnmount(G),useEventListener("touchmove",q,{target:s}),()=>{var ce;return createVNode$1("div",{ref:o,class:bem$1r()},[createVNode$1("div",{ref:s,style:E.value,class:bem$1r("track",{vertical:r.vertical}),onTouchstartPassive:Z,onTouchend:le,onTouchcancel:le},[(ce=a.default)==null?void 0:ce.call(a)]),ve()])}}});const Swipe=withInstall(stdin_default$1C),[name$1u,bem$1q]=createNamespace("tabs");var stdin_default$1B=defineComponent({name:name$1u,props:{count:makeRequiredProp(Number),inited:Boolean,animated:Boolean,duration:makeRequiredProp(numericProp),swipeable:Boolean,lazyRender:Boolean,currentIndex:makeRequiredProp(Number)},emits:["change"],setup(r,{emit:n,slots:a}){const o=ref(),s=u=>n("change",u),l=()=>{var u;const d=(u=a.default)==null?void 0:u.call(a);return r.animated||r.swipeable?createVNode$1(Swipe,{ref:o,loop:!1,class:bem$1q("track"),duration:+r.duration*1e3,touchable:r.swipeable,lazyRender:r.lazyRender,showIndicators:!1,onChange:s},{default:()=>[d]}):d},c=u=>{const d=o.value;d&&d.state.active!==u&&d.swipeTo(u,{immediate:!r.inited})};return watch(()=>r.currentIndex,c),onMounted(()=>{c(r.currentIndex)}),useExpose({swipeRef:o}),()=>createVNode$1("div",{class:bem$1q("content",{animated:r.animated||r.swipeable})},[l()])}});const[name$1t,bem$1p]=createNamespace("tabs"),tabsProps={type:makeStringProp("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:makeNumericProp(0),duration:makeNumericProp(.3),animated:Boolean,ellipsis:truthProp,swipeable:Boolean,scrollspy:Boolean,offsetTop:makeNumericProp(0),background:String,lazyRender:truthProp,showHeader:truthProp,lineWidth:numericProp,lineHeight:numericProp,beforeChange:Function,swipeThreshold:makeNumericProp(5),titleActiveColor:String,titleInactiveColor:String},TABS_KEY=Symbol(name$1t);var stdin_default$1A=defineComponent({name:name$1t,props:tabsProps,emits:["change","scroll","rendered","clickTab","update:active"],setup(r,{emit:n,slots:a}){let o,s,l,c,u;const d=ref(),f=ref(),v=ref(),g=ref(),y=useId(),_=useScrollParent(d),[b,T]=useRefs(),{children:C,linkChildren:P}=useChildren(TABS_KEY),E=reactive({inited:!1,position:"",lineStyle:{},currentIndex:-1}),M=computed(()=>C.length>+r.swipeThreshold||!r.ellipsis||r.shrink),I=computed(()=>({borderColor:r.color,background:r.background})),L=(Se,De)=>{var ne;return(ne=Se.name)!=null?ne:De},N=computed(()=>{const Se=C[E.currentIndex];if(Se)return L(Se,E.currentIndex)}),V=computed(()=>unitToPx(r.offsetTop)),B=computed(()=>r.sticky?V.value+o:0),z=Se=>{const De=f.value,ne=b.value;if(!M.value||!De||!ne||!ne[E.currentIndex])return;const pe=ne[E.currentIndex].$el,de=pe.offsetLeft-(De.offsetWidth-pe.offsetWidth)/2;c&&c(),c=scrollLeftTo(De,de,Se?0:+r.duration)},G=()=>{const Se=E.inited;nextTick(()=>{const De=b.value;if(!De||!De[E.currentIndex]||r.type!=="line"||isHidden(d.value))return;const ne=De[E.currentIndex].$el,{lineWidth:pe,lineHeight:de}=r,Te=ne.offsetLeft+ne.offsetWidth/2,we={width:addUnit(pe),backgroundColor:r.color,transform:`translateX(${Te}px) translateX(-50%)`};if(Se&&(we.transitionDuration=`${r.duration}s`),isDef$1(de)){const Ie=addUnit(de);we.height=Ie,we.borderRadius=Ie}E.lineStyle=we})},H=Se=>{const De=Se<E.currentIndex?-1:1;for(;Se>=0&&Se<C.length;){if(!C[Se].disabled)return Se;Se+=De}},W=(Se,De)=>{const ne=H(Se);if(!isDef$1(ne))return;const pe=C[ne],de=L(pe,ne),Te=E.currentIndex!==null;E.currentIndex!==ne&&(E.currentIndex=ne,De||z(),G()),de!==r.active&&(n("update:active",de),Te&&n("change",de,pe.title)),l&&!r.scrollspy&&setRootScrollTop(Math.ceil(getElementTop(d.value)-V.value))},j=(Se,De)=>{const ne=C.find((de,Te)=>L(de,Te)===Se),pe=ne?C.indexOf(ne):0;W(pe,De)},X=(Se=!1)=>{if(r.scrollspy){const De=C[E.currentIndex].$el;if(De&&_.value){const ne=getElementTop(De,_.value)-B.value;s=!0,u&&u(),u=scrollTopTo(_.value,ne,Se?0:+r.duration,()=>{s=!1})}}},Z=(Se,De,ne)=>{const{title:pe,disabled:de}=C[De],Te=L(C[De],De);de||(callInterceptor(r.beforeChange,{args:[Te],done:()=>{W(De),X()}}),route(Se)),n("clickTab",{name:Te,title:pe,event:ne,disabled:de})},q=Se=>{l=Se.isFixed,n("scroll",Se)},le=Se=>{nextTick(()=>{j(Se),X(!0)})},ae=()=>{for(let Se=0;Se<C.length;Se++){const{top:De}=useRect(C[Se].$el);if(De>B.value)return Se===0?0:Se-1}return C.length-1},he=()=>{if(r.scrollspy&&!s){const Se=ae();W(Se)}},ve=()=>{if(r.type==="line"&&C.length)return createVNode$1("div",{class:bem$1p("line"),style:E.lineStyle},null)},ce=()=>{var Se,De,ne;const{type:pe,border:de,sticky:Te}=r,we=[createVNode$1("div",{ref:Te?void 0:v,class:[bem$1p("wrap"),{[BORDER_TOP_BOTTOM]:pe==="line"&&de}]},[createVNode$1("div",{ref:f,role:"tablist",class:bem$1p("nav",[pe,{shrink:r.shrink,complete:M.value}]),style:I.value,"aria-orientation":"horizontal"},[(Se=a["nav-left"])==null?void 0:Se.call(a),C.map(Ie=>Ie.renderTitle(Z)),ve(),(De=a["nav-right"])==null?void 0:De.call(a)])]),(ne=a["nav-bottom"])==null?void 0:ne.call(a)];return Te?createVNode$1("div",{ref:v},[we]):we},fe=()=>{G(),nextTick(()=>{var Se,De;z(!0),(De=(Se=g.value)==null?void 0:Se.swipeRef.value)==null||De.resize()})};watch(()=>[r.color,r.duration,r.lineWidth,r.lineHeight],G),watch(windowWidth,fe),watch(()=>r.active,Se=>{Se!==N.value&&j(Se)}),watch(()=>C.length,()=>{E.inited&&(j(r.active),G(),nextTick(()=>{z(!0)}))});const _e=()=>{j(r.active,!0),nextTick(()=>{E.inited=!0,v.value&&(o=useRect(v.value).height),z(!0)})},Ce=(Se,De)=>n("rendered",Se,De);return useExpose({resize:fe,scrollTo:le}),onActivated(G),onPopupReopen(G),onMountedOrActivated(_e),useVisibilityChange(d,G),useEventListener("scroll",he,{target:_,passive:!0}),P({id:y,props:r,setLine:G,scrollable:M,onRendered:Ce,currentName:N,setTitleRefs:T,scrollIntoView:z}),()=>createVNode$1("div",{ref:d,class:bem$1p([r.type])},[r.showHeader?r.sticky?createVNode$1(Sticky,{container:d.value,offsetTop:V.value,onScroll:q},{default:()=>[ce()]}):ce():null,createVNode$1(stdin_default$1B,{ref:g,count:C.length,inited:E.inited,animated:r.animated,duration:r.duration,swipeable:r.swipeable,lazyRender:r.lazyRender,currentIndex:E.currentIndex,onChange:W},{default:()=>{var Se;return[(Se=a.default)==null?void 0:Se.call(a)]}})])}});const TAB_STATUS_KEY=Symbol(),useTabStatus=()=>inject(TAB_STATUS_KEY,null),[name$1s,bem$1o]=createNamespace("tab"),TabTitle=defineComponent({name:name$1s,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:numericProp,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:truthProp},setup(r,{slots:n}){const a=computed(()=>{const s={},{type:l,color:c,disabled:u,isActive:d,activeColor:f,inactiveColor:v}=r;c&&l==="card"&&(s.borderColor=c,u||(d?s.backgroundColor=c:s.color=c));const y=d?f:v;return y&&(s.color=y),s}),o=()=>{const s=createVNode$1("span",{class:bem$1o("text",{ellipsis:!r.scrollable})},[n.title?n.title():r.title]);return r.dot||isDef$1(r.badge)&&r.badge!==""?createVNode$1(Badge,{dot:r.dot,content:r.badge,showZero:r.showZeroBadge},{default:()=>[s]}):s};return()=>createVNode$1("div",{id:r.id,role:"tab",class:[bem$1o([r.type,{grow:r.scrollable&&!r.shrink,shrink:r.shrink,active:r.isActive,disabled:r.disabled}])],style:a.value,tabindex:r.disabled?void 0:r.isActive?0:-1,"aria-selected":r.isActive,"aria-disabled":r.disabled||void 0,"aria-controls":r.controls,"data-allow-mismatch":"attribute"},[o()])}}),[name$1r,bem$1n]=createNamespace("swipe-item");var stdin_default$1z=defineComponent({name:name$1r,setup(r,{slots:n}){let a;const o=reactive({offset:0,inited:!1,mounted:!1}),{parent:s,index:l}=useParent(SWIPE_KEY);if(!s)return;const c=computed(()=>{const f={},{vertical:v}=s.props;return s.size.value&&(f[v?"height":"width"]=`${s.size.value}px`),o.offset&&(f.transform=`translate${v?"Y":"X"}(${o.offset}px)`),f}),u=computed(()=>{const{loop:f,lazyRender:v}=s.props;if(!v||a)return!0;if(!o.mounted)return!1;const g=s.activeIndicator.value,y=s.count.value-1,_=g===0&&f?y:g-1,b=g===y&&f?0:g+1;return a=l.value===g||l.value===_||l.value===b,a}),d=f=>{o.offset=f};return onMounted(()=>{nextTick(()=>{o.mounted=!0})}),useExpose({setOffset:d}),()=>{var f;return createVNode$1("div",{class:bem$1n(),style:c.value},[u.value?(f=n.default)==null?void 0:f.call(n):null])}}});const SwipeItem=withInstall(stdin_default$1z),[name$1q,bem$1m]=createNamespace("tab"),tabProps=extend$1({},routeProps,{dot:Boolean,name:numericProp,badge:numericProp,title:String,disabled:Boolean,titleClass:unknownProp,titleStyle:[String,Object],showZeroBadge:truthProp});var stdin_default$1y=defineComponent({name:name$1q,props:tabProps,setup(r,{slots:n}){const a=useId(),o=ref(!1),s=getCurrentInstance(),{parent:l,index:c}=useParent(TABS_KEY);if(!l)return;const u=()=>{var b;return(b=r.name)!=null?b:c.value},d=()=>{o.value=!0,l.props.lazyRender&&nextTick(()=>{l.onRendered(u(),r.title)})},f=computed(()=>{const b=u()===l.currentName.value;return b&&!o.value&&d(),b}),v=ref(""),g=ref("");watchEffect(()=>{const{titleClass:b,titleStyle:T}=r;v.value=b?normalizeClass(b):"",g.value=T&&typeof T!="string"?stringifyStyle(normalizeStyle$1(T)):T});const y=b=>createVNode$1(TabTitle,mergeProps({key:a,id:`${l.id}-${c.value}`,ref:l.setTitleRefs(c.value),style:g.value,class:v.value,isActive:f.value,controls:a,scrollable:l.scrollable.value,activeColor:l.props.titleActiveColor,inactiveColor:l.props.titleInactiveColor,onClick:T=>b(s.proxy,c.value,T)},pick(l.props,["type","color","shrink"]),pick(r,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),_=ref(!f.value);return watch(f,b=>{b?_.value=!1:doubleRaf(()=>{_.value=!0})}),watch(()=>r.title,()=>{l.setLine(),l.scrollIntoView()}),provide(TAB_STATUS_KEY,f),useExpose({id:a,renderTitle:y}),()=>{var b;const T=`${l.id}-${c.value}`,{animated:C,swipeable:P,scrollspy:E,lazyRender:M}=l.props;if(!n.default&&!C)return;const I=E||f.value;if(C||P)return createVNode$1(SwipeItem,{id:a,role:"tabpanel",class:bem$1m("panel-wrapper",{inactive:_.value}),tabindex:f.value?0:-1,"aria-hidden":!f.value,"aria-labelledby":T,"data-allow-mismatch":"attribute"},{default:()=>{var V;return[createVNode$1("div",{class:bem$1m("panel")},[(V=n.default)==null?void 0:V.call(n)])]}});const N=o.value||E||!M?(b=n.default)==null?void 0:b.call(n):null;return withDirectives(createVNode$1("div",{id:a,role:"tabpanel",class:bem$1m("panel"),tabindex:I?0:-1,"aria-labelledby":T,"data-allow-mismatch":"attribute"},[N]),[[vShow,I]])}}});const Tab=withInstall(stdin_default$1y),Tabs=withInstall(stdin_default$1A),[name$1p,bem$1l]=createNamespace("picker-group"),PICKER_GROUP_KEY=Symbol(name$1p),pickerGroupProps=extend$1({tabs:makeArrayProp(),activeTab:makeNumericProp(0),nextStepText:String,showToolbar:truthProp},pickerToolbarProps);var stdin_default$1x=defineComponent({name:name$1p,props:pickerGroupProps,emits:["confirm","cancel","update:activeTab"],setup(r,{emit:n,slots:a}){const o=useSyncPropRef(()=>r.activeTab,f=>n("update:activeTab",f)),{children:s,linkChildren:l}=useChildren(PICKER_GROUP_KEY);l();const c=()=>+o.value<r.tabs.length-1&&r.nextStepText,u=()=>{c()?o.value=+o.value+1:n("confirm",s.map(f=>f.confirm()))},d=()=>n("cancel");return()=>{var f,v;let g=(v=(f=a.default)==null?void 0:f.call(a))==null?void 0:v.filter(_=>_.type!==Comment).map(_=>_.type===Fragment?_.children:_);g&&(g=flat(g));const y=c()?r.nextStepText:r.confirmButtonText;return createVNode$1("div",{class:bem$1l()},[r.showToolbar?createVNode$1(stdin_default$1E,{title:r.title,cancelButtonText:r.cancelButtonText,confirmButtonText:y,onConfirm:u,onCancel:d},pick(a,pickerToolbarSlots)):null,createVNode$1(Tabs,{active:o.value,"onUpdate:active":_=>o.value=_,class:bem$1l("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[r.tabs.map((_,b)=>createVNode$1(Tab,{title:_,titleClass:bem$1l("tab-title")},{default:()=>[g==null?void 0:g[b]]}))]})])}}});const pickerSharedProps=extend$1({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:makeNumericProp(44),showToolbar:truthProp,swipeDuration:makeNumericProp(1e3),visibleOptionNum:makeNumericProp(6)},pickerToolbarProps),pickerProps=extend$1({},pickerSharedProps,{columns:makeArrayProp(),modelValue:makeArrayProp(),toolbarPosition:makeStringProp("top"),columnsFieldNames:Object});var stdin_default$1w=defineComponent({name:name$1z,props:pickerProps,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref(),s=ref(r.modelValue.slice(0)),{parent:l}=useParent(PICKER_GROUP_KEY),{children:c,linkChildren:u}=useChildren(PICKER_KEY);u();const d=computed(()=>assignDefaultFields(r.columnsFieldNames)),f=computed(()=>unitToPx(r.optionHeight)),v=computed(()=>getColumnsType(r.columns,d.value)),g=computed(()=>{const{columns:H}=r;switch(v.value){case"multiple":return H;case"cascade":return formatCascadeColumns(H,d.value,s);default:return[H]}}),y=computed(()=>g.value.some(H=>H.length)),_=computed(()=>g.value.map((H,W)=>findOptionByValue(H,s.value[W],d.value))),b=computed(()=>g.value.map((H,W)=>H.findIndex(j=>j[d.value.value]===s.value[W]))),T=(H,W)=>{if(s.value[H]!==W){const j=s.value.slice(0);j[H]=W,s.value=j}},C=()=>({selectedValues:s.value.slice(0),selectedOptions:_.value,selectedIndexes:b.value}),P=(H,W)=>{T(W,H),v.value==="cascade"&&s.value.forEach((j,X)=>{const Z=g.value[X];isOptionExist(Z,j,d.value)||T(X,Z.length?Z[0][d.value.value]:void 0)}),nextTick(()=>{n("change",extend$1({columnIndex:W},C()))})},E=(H,W)=>{const j={columnIndex:W,currentOption:H};n("clickOption",extend$1(C(),j)),n("scrollInto",j)},M=()=>{c.forEach(W=>W.stopMomentum());const H=C();return nextTick(()=>{n("confirm",H)}),H},I=()=>n("cancel",C()),L=()=>g.value.map((H,W)=>createVNode$1(stdin_default$1F,{value:s.value[W],fields:d.value,options:H,readonly:r.readonly,allowHtml:r.allowHtml,optionHeight:f.value,swipeDuration:r.swipeDuration,visibleOptionNum:r.visibleOptionNum,onChange:j=>P(j,W),onClickOption:j=>E(j,W),onScrollInto:j=>{n("scrollInto",{currentOption:j,columnIndex:W})}},{option:a.option})),N=H=>{if(y.value){const W={height:`${f.value}px`},j={backgroundSize:`100% ${(H-f.value)/2}px`};return[createVNode$1("div",{class:bem$1u("mask"),style:j},null),createVNode$1("div",{class:[BORDER_UNSET_TOP_BOTTOM,bem$1u("frame")],style:W},null)]}},V=()=>{const H=f.value*+r.visibleOptionNum,W={height:`${H}px`};return!r.loading&&!y.value&&a.empty?a.empty():createVNode$1("div",{ref:o,class:bem$1u("columns"),style:W},[L(),N(H)])},B=()=>{if(r.showToolbar&&!l)return createVNode$1(stdin_default$1E,mergeProps(pick(r,pickerToolbarPropKeys),{onConfirm:M,onCancel:I}),pick(a,pickerToolbarSlots))};watch(g,H=>{H.forEach((W,j)=>{W.length&&!isOptionExist(W,s.value[j],d.value)&&T(j,getFirstEnabledOption(W)[d.value.value])})},{immediate:!0});let z;return watch(()=>r.modelValue,H=>{!isSameValue(H,s.value)&&!isSameValue(H,z)&&(s.value=H.slice(0),z=H.slice(0))},{deep:!0}),watch(s,H=>{isSameValue(H,r.modelValue)||(z=H.slice(0),n("update:modelValue",z))},{immediate:!0}),useEventListener("touchmove",preventDefault$1,{target:o}),useExpose({confirm:M,getSelectedOptions:()=>_.value}),()=>{var H,W;return createVNode$1("div",{class:bem$1u()},[r.toolbarPosition==="top"?B():null,r.loading?createVNode$1(Loading,{class:bem$1u("loading")},null):null,(H=a["columns-top"])==null?void 0:H.call(a),V(),(W=a["columns-bottom"])==null?void 0:W.call(a),r.toolbarPosition==="bottom"?B():null])}}});const AREA_EMPTY_CODE="000000",INHERIT_SLOTS=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],INHERIT_PROPS=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],makeOption=(r="",n=AREA_EMPTY_CODE,a=void 0)=>({text:r,value:n,children:a});function formatDataForCascade({areaList:r,columnsNum:n,columnsPlaceholder:a}){const{city_list:o={},county_list:s={},province_list:l={}}=r,c=+n>1,u=+n>2,d=()=>{if(c)return a.length>1?[makeOption(a[1],AREA_EMPTY_CODE,u?[]:void 0)]:[]},f=new Map;Object.keys(l).forEach(y=>{f.set(y.slice(0,2),makeOption(l[y],y,d()))});const v=new Map;if(c){const y=()=>{if(u)return a.length>2?[makeOption(a[2])]:[]};Object.keys(o).forEach(_=>{const b=makeOption(o[_],_,y());v.set(_.slice(0,4),b);const T=f.get(_.slice(0,2));T&&T.children.push(b)})}u&&Object.keys(s).forEach(y=>{const _=v.get(y.slice(0,4));_&&_.children.push(makeOption(s[y],y))});const g=Array.from(f.values());if(a.length){const y=u?[makeOption(a[2])]:void 0,_=c?[makeOption(a[1],AREA_EMPTY_CODE,y)]:void 0;g.unshift(makeOption(a[0],AREA_EMPTY_CODE,_))}return g}const Picker=withInstall(stdin_default$1w),[name$1o,bem$1k]=createNamespace("area"),areaProps=extend$1({},pick(pickerSharedProps,INHERIT_PROPS),{modelValue:String,columnsNum:makeNumericProp(3),columnsPlaceholder:makeArrayProp(),areaList:{type:Object,default:()=>({})}});var stdin_default$1v=defineComponent({name:name$1o,props:areaProps,emits:["change","confirm","cancel","update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref([]),s=ref(),l=computed(()=>formatDataForCascade(r)),c=(...f)=>n("change",...f),u=(...f)=>n("cancel",...f),d=(...f)=>n("confirm",...f);return watch(o,f=>{const v=f.length?f[f.length-1]:"";v&&v!==r.modelValue&&n("update:modelValue",v)},{deep:!0}),watch(()=>r.modelValue,f=>{if(f){const v=o.value.length?o.value[o.value.length-1]:"";f!==v&&(o.value=[`${f.slice(0,2)}0000`,`${f.slice(0,4)}00`,f].slice(0,+r.columnsNum))}else o.value=[]},{immediate:!0}),useExpose({confirm:()=>{var f;return(f=s.value)==null?void 0:f.confirm()},getSelectedOptions:()=>{var f;return((f=s.value)==null?void 0:f.getSelectedOptions())||[]}}),()=>createVNode$1(Picker,mergeProps({ref:s,modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,class:bem$1k(),columns:l.value,onChange:c,onCancel:u,onConfirm:d},pick(r,INHERIT_PROPS)),pick(a,INHERIT_SLOTS))}});const Area=withInstall(stdin_default$1v),[name$1n,bem$1j]=createNamespace("cell"),cellSharedProps={tag:makeStringProp("div"),icon:String,size:String,title:numericProp,value:numericProp,label:numericProp,center:Boolean,isLink:Boolean,border:truthProp,iconPrefix:String,valueClass:unknownProp,labelClass:unknownProp,titleClass:unknownProp,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},cellProps=extend$1({},cellSharedProps,routeProps);var stdin_default$1u=defineComponent({name:name$1n,props:cellProps,setup(r,{slots:n}){const a=useRoute(),o=()=>{if(n.label||isDef$1(r.label))return createVNode$1("div",{class:[bem$1j("label"),r.labelClass]},[n.label?n.label():r.label])},s=()=>{var d;if(n.title||isDef$1(r.title)){const f=(d=n.title)==null?void 0:d.call(n);return Array.isArray(f)&&f.length===0?void 0:createVNode$1("div",{class:[bem$1j("title"),r.titleClass],style:r.titleStyle},[f||createVNode$1("span",null,[r.title]),o()])}},l=()=>{const d=n.value||n.default;if(d||isDef$1(r.value))return createVNode$1("div",{class:[bem$1j("value"),r.valueClass]},[d?d():createVNode$1("span",null,[r.value])])},c=()=>{if(n.icon)return n.icon();if(r.icon)return createVNode$1(Icon,{name:r.icon,class:bem$1j("left-icon"),classPrefix:r.iconPrefix},null)},u=()=>{if(n["right-icon"])return n["right-icon"]();if(r.isLink){const d=r.arrowDirection&&r.arrowDirection!=="right"?`arrow-${r.arrowDirection}`:"arrow";return createVNode$1(Icon,{name:d,class:bem$1j("right-icon")},null)}};return()=>{var d;const{tag:f,size:v,center:g,border:y,isLink:_,required:b}=r,T=(d=r.clickable)!=null?d:_,C={center:g,required:!!b,clickable:T,borderless:!y};return v&&(C[v]=!!v),createVNode$1(f,{class:bem$1j(C),role:T?"button":void 0,tabindex:T?0:void 0,onClick:a},{default:()=>{var P;return[c(),s(),l(),u(),(P=n.extra)==null?void 0:P.call(n)]}})}}});const Cell=withInstall(stdin_default$1u),[name$1m,bem$1i]=createNamespace("form"),formProps={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:numericProp,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:truthProp,showErrorMessage:truthProp,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var stdin_default$1t=defineComponent({name:name$1m,props:formProps,emits:["submit","failed"],setup(r,{emit:n,slots:a}){const{children:o,linkChildren:s}=useChildren(FORM_KEY),l=C=>C?o.filter(P=>C.includes(P.name)):o,c=C=>new Promise((P,E)=>{const M=[];l(C).reduce((L,N)=>L.then(()=>{if(!M.length)return N.validate().then(V=>{V&&M.push(V)})}),Promise.resolve()).then(()=>{M.length?E(M):P()})}),u=C=>new Promise((P,E)=>{const M=l(C);Promise.all(M.map(I=>I.validate())).then(I=>{I=I.filter(Boolean),I.length?E(I):P()})}),d=C=>{const P=o.find(E=>E.name===C);return P?new Promise((E,M)=>{P.validate().then(I=>{I?M(I):E()})}):Promise.reject()},f=C=>typeof C=="string"?d(C):r.validateFirst?c(C):u(C),v=C=>{typeof C=="string"&&(C=[C]),l(C).forEach(E=>{E.resetValidation()})},g=()=>o.reduce((C,P)=>(C[P.name]=P.getValidationStatus(),C),{}),y=(C,P)=>{o.some(E=>E.name===C?(E.$el.scrollIntoView(P),!0):!1)},_=()=>o.reduce((C,P)=>(P.name!==void 0&&(C[P.name]=P.formValue.value),C),{}),b=()=>{const C=_();f().then(()=>n("submit",C)).catch(P=>{n("failed",{values:C,errors:P});const{scrollToError:E,scrollToErrorPosition:M}=r;E&&P[0].name&&y(P[0].name,M?{block:M}:void 0)})},T=C=>{preventDefault$1(C),b()};return s({props:r}),useExpose({submit:b,validate:f,getValues:_,scrollToField:y,resetValidation:v,getValidationStatus:g}),()=>{var C;return createVNode$1("form",{class:bem$1i(),onSubmit:T},[(C=a.default)==null?void 0:C.call(a)])}}});const Form=withInstall(stdin_default$1t);function isEmptyValue$1(r){return Array.isArray(r)?!r.length:r===0?!1:!r}function runSyncRule(r,n){if(isEmptyValue$1(r)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(r)))}function runRuleValidator(r,n){return new Promise(a=>{const o=n.validator(r,n);if(isPromise(o)){o.then(a);return}a(o)})}function getRuleMessage(r,n){const{message:a}=n;return isFunction$1(a)?a(r,n):a||""}function startComposing({target:r}){r.composing=!0}function endComposing({target:r}){r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}function resizeTextarea(r,n){const a=getRootScrollTop();r.style.height="auto";let o=r.scrollHeight;if(isObject$5(n)){const{maxHeight:s,minHeight:l}=n;s!==void 0&&(o=Math.min(o,s)),l!==void 0&&(o=Math.max(o,l))}o&&(r.style.height=`${o}px`,setRootScrollTop(a))}function mapInputType(r,n){return r==="number"&&(r="text",n??(n="decimal")),r==="digit"&&(r="tel",n??(n="numeric")),{type:r,inputmode:n}}function getStringLength(r){return[...r].length}function cutString(r,n){return[...r].slice(0,n).join("")}const[name$1l,bem$1h]=createNamespace("field"),fieldSharedProps={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:numericProp,max:Number,min:Number,formatter:Function,clearIcon:makeStringProp("clear"),modelValue:makeNumericProp(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:makeStringProp("focus"),formatTrigger:makeStringProp("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},fieldProps=extend$1({},cellSharedProps,fieldSharedProps,{rows:numericProp,type:makeStringProp("text"),rules:Array,autosize:[Boolean,Object],labelWidth:numericProp,labelClass:unknownProp,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var stdin_default$1s=defineComponent({name:name$1l,props:fieldProps,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(r,{emit:n,slots:a}){const o=useId(),s=reactive({status:"unvalidated",focused:!1,validateMessage:""}),l=ref(),c=ref(),u=ref(),{parent:d}=useParent(FORM_KEY),f=()=>{var ne;return String((ne=r.modelValue)!=null?ne:"")},v=ne=>{if(isDef$1(r[ne]))return r[ne];if(d&&isDef$1(d.props[ne]))return d.props[ne]},g=computed(()=>{const ne=v("readonly");if(r.clearable&&!ne){const pe=f()!=="",de=r.clearTrigger==="always"||r.clearTrigger==="focus"&&s.focused;return pe&&de}return!1}),y=computed(()=>u.value&&a.input?u.value():r.modelValue),_=computed(()=>{var ne;const pe=v("required");return pe==="auto"?(ne=r.rules)==null?void 0:ne.some(de=>de.required):pe}),b=ne=>ne.reduce((pe,de)=>pe.then(()=>{if(s.status==="failed")return;let{value:Te}=y;if(de.formatter&&(Te=de.formatter(Te,de)),!runSyncRule(Te,de)){s.status="failed",s.validateMessage=getRuleMessage(Te,de);return}if(de.validator)return isEmptyValue$1(Te)&&de.validateEmpty===!1?void 0:runRuleValidator(Te,de).then(we=>{we&&typeof we=="string"?(s.status="failed",s.validateMessage=we):we===!1&&(s.status="failed",s.validateMessage=getRuleMessage(Te,de))})}),Promise.resolve()),T=()=>{s.status="unvalidated",s.validateMessage=""},C=()=>n("endValidate",{status:s.status,message:s.validateMessage}),P=(ne=r.rules)=>new Promise(pe=>{T(),ne?(n("startValidate"),b(ne).then(()=>{s.status==="failed"?(pe({name:r.name,message:s.validateMessage}),C()):(s.status="passed",pe(),C())})):pe()}),E=ne=>{if(d&&r.rules){const{validateTrigger:pe}=d.props,de=toArray(pe).includes(ne),Te=r.rules.filter(we=>we.trigger?toArray(we.trigger).includes(ne):de);Te.length&&P(Te)}},M=ne=>{var pe;const{maxlength:de}=r;if(isDef$1(de)&&getStringLength(ne)>+de){const Te=f();if(Te&&getStringLength(Te)===+de)return Te;const we=(pe=l.value)==null?void 0:pe.selectionEnd;if(s.focused&&we){const Ie=[...ne],te=Ie.length-+de;return Ie.splice(we-te,te),Ie.join("")}return cutString(ne,+de)}return ne},I=(ne,pe="onChange")=>{var de,Te;const we=ne;ne=M(ne);const Ie=getStringLength(we)-getStringLength(ne);if(r.type==="number"||r.type==="digit"){const oe=r.type==="number";ne=formatNumber(ne,oe,oe),pe==="onBlur"&&ne!==""&&(r.min!==void 0||r.max!==void 0)&&(ne=clamp$1(+ne,(de=r.min)!=null?de:-1/0,(Te=r.max)!=null?Te:1/0).toString())}let te=0;if(r.formatter&&pe===r.formatTrigger){const{formatter:oe,maxlength:ge}=r;if(ne=oe(ne),isDef$1(ge)&&getStringLength(ne)>+ge&&(ne=cutString(ne,+ge)),l.value&&s.focused){const{selectionEnd:Ae}=l.value,be=cutString(we,Ae);te=getStringLength(oe(be))-getStringLength(be)}}if(l.value&&l.value.value!==ne)if(s.focused){let{selectionStart:oe,selectionEnd:ge}=l.value;if(l.value.value=ne,isDef$1(oe)&&isDef$1(ge)){const Ae=getStringLength(ne);Ie?(oe-=Ie,ge-=Ie):te&&(oe+=te,ge+=te),l.value.setSelectionRange(Math.min(oe,Ae),Math.min(ge,Ae))}}else l.value.value=ne;ne!==r.modelValue&&n("update:modelValue",ne)},L=ne=>{ne.target.composing||I(ne.target.value)},N=()=>{var ne;return(ne=l.value)==null?void 0:ne.blur()},V=()=>{var ne;return(ne=l.value)==null?void 0:ne.focus()},B=()=>{const ne=l.value;r.type==="textarea"&&r.autosize&&ne&&resizeTextarea(ne,r.autosize)},z=ne=>{s.focused=!0,n("focus",ne),nextTick(B),v("readonly")&&N()},G=ne=>{s.focused=!1,I(f(),"onBlur"),n("blur",ne),!v("readonly")&&(E("onBlur"),nextTick(B),resetScroll())},H=ne=>n("clickInput",ne),W=ne=>n("clickLeftIcon",ne),j=ne=>n("clickRightIcon",ne),X=ne=>{preventDefault$1(ne),n("update:modelValue",""),n("clear",ne)},Z=computed(()=>{if(typeof r.error=="boolean")return r.error;if(d&&d.props.showError&&s.status==="failed")return!0}),q=computed(()=>{const ne=v("labelWidth"),pe=v("labelAlign");if(ne&&pe!=="top")return{width:addUnit(ne)}}),le=ne=>{ne.keyCode===13&&(!(d&&d.props.submitOnEnter)&&r.type!=="textarea"&&preventDefault$1(ne),r.type==="search"&&N()),n("keypress",ne)},ae=()=>r.id||`${o}-input`,he=()=>s.status,ve=()=>{const ne=bem$1h("control",[v("inputAlign"),{error:Z.value,custom:!!a.input,"min-height":r.type==="textarea"&&!r.autosize}]);if(a.input)return createVNode$1("div",{class:ne,onClick:H},[a.input()]);const pe={id:ae(),ref:l,name:r.name,rows:r.rows!==void 0?+r.rows:void 0,class:ne,disabled:v("disabled"),readonly:v("readonly"),autofocus:r.autofocus,placeholder:r.placeholder,autocomplete:r.autocomplete,autocapitalize:r.autocapitalize,autocorrect:r.autocorrect,enterkeyhint:r.enterkeyhint,spellcheck:r.spellcheck,"aria-labelledby":r.label?`${o}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:G,onFocus:z,onInput:L,onClick:H,onChange:endComposing,onKeypress:le,onCompositionend:endComposing,onCompositionstart:startComposing};return r.type==="textarea"?createVNode$1("textarea",mergeProps(pe,{inputmode:r.inputmode}),null):createVNode$1("input",mergeProps(mapInputType(r.type,r.inputmode),pe),null)},ce=()=>{const ne=a["left-icon"];if(r.leftIcon||ne)return createVNode$1("div",{class:bem$1h("left-icon"),onClick:W},[ne?ne():createVNode$1(Icon,{name:r.leftIcon,classPrefix:r.iconPrefix},null)])},fe=()=>{const ne=a["right-icon"];if(r.rightIcon||ne)return createVNode$1("div",{class:bem$1h("right-icon"),onClick:j},[ne?ne():createVNode$1(Icon,{name:r.rightIcon,classPrefix:r.iconPrefix},null)])},_e=()=>{if(r.showWordLimit&&r.maxlength){const ne=getStringLength(f());return createVNode$1("div",{class:bem$1h("word-limit")},[createVNode$1("span",{class:bem$1h("word-num")},[ne]),createTextVNode("/"),r.maxlength])}},Ce=()=>{if(d&&d.props.showErrorMessage===!1)return;const ne=r.errorMessage||s.validateMessage;if(ne){const pe=a["error-message"],de=v("errorMessageAlign");return createVNode$1("div",{class:bem$1h("error-message",de)},[pe?pe({message:ne}):ne])}},Se=()=>{const ne=v("labelWidth"),pe=v("labelAlign"),de=v("colon")?":":"";if(a.label)return[a.label(),de];if(r.label)return createVNode$1("label",{id:`${o}-label`,for:a.input?void 0:ae(),"data-allow-mismatch":"attribute",onClick:Te=>{preventDefault$1(Te),V()},style:pe==="top"&&ne?{width:addUnit(ne)}:void 0},[r.label+de])},De=()=>[createVNode$1("div",{class:bem$1h("body")},[ve(),g.value&&createVNode$1(Icon,{ref:c,name:r.clearIcon,class:bem$1h("clear")},null),fe(),a.button&&createVNode$1("div",{class:bem$1h("button")},[a.button()])]),_e(),Ce()];return useExpose({blur:N,focus:V,validate:P,formValue:y,resetValidation:T,getValidationStatus:he}),provide(CUSTOM_FIELD_INJECTION_KEY,{customValue:u,resetValidation:T,validateWithTrigger:E}),watch(()=>r.modelValue,()=>{I(f()),T(),E("onChange"),nextTick(B)}),onMounted(()=>{I(f(),r.formatTrigger),nextTick(B)}),useEventListener("touchstart",X,{target:computed(()=>{var ne;return(ne=c.value)==null?void 0:ne.$el})}),()=>{const ne=v("disabled"),pe=v("labelAlign"),de=ce(),Te=()=>{const we=Se();return pe==="top"?[de,we].filter(Boolean):we||[]};return createVNode$1(Cell,{size:r.size,class:bem$1h({error:Z.value,disabled:ne,[`label-${pe}`]:pe}),center:r.center,border:r.border,isLink:r.isLink,clickable:r.clickable,titleStyle:q.value,valueClass:bem$1h("value"),titleClass:[bem$1h("label",[pe,{required:_.value}]),r.labelClass],arrowDirection:r.arrowDirection},{icon:de&&pe!=="top"?()=>de:null,title:Te,value:De,extra:a.extra})}}});const Field=withInstall(stdin_default$1s);let lockCount=0;function lockClick(r){r?(lockCount||document.body.classList.add("van-toast--unclickable"),lockCount++):lockCount&&(lockCount--,lockCount||document.body.classList.remove("van-toast--unclickable"))}const[name$1k,bem$1g]=createNamespace("toast"),popupInheritProps$1=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],toastProps={icon:String,show:Boolean,type:makeStringProp("text"),overlay:Boolean,message:numericProp,iconSize:numericProp,duration:makeNumberProp(2e3),position:makeStringProp("middle"),teleport:[String,Object],wordBreak:String,className:unknownProp,iconPrefix:String,transition:makeStringProp("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:unknownProp,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:numericProp};var stdin_default$1r=defineComponent({name:name$1k,props:toastProps,emits:["update:show"],setup(r,{emit:n,slots:a}){let o,s=!1;const l=()=>{const g=r.show&&r.forbidClick;s!==g&&(s=g,lockClick(s))},c=g=>n("update:show",g),u=()=>{r.closeOnClick&&c(!1)},d=()=>clearTimeout(o),f=()=>{const{icon:g,type:y,iconSize:_,iconPrefix:b,loadingType:T}=r;if(g||y==="success"||y==="fail")return createVNode$1(Icon,{name:g||y,size:_,class:bem$1g("icon"),classPrefix:b},null);if(y==="loading")return createVNode$1(Loading,{class:bem$1g("loading"),size:_,type:T},null)},v=()=>{const{type:g,message:y}=r;if(a.message)return createVNode$1("div",{class:bem$1g("text")},[a.message()]);if(isDef$1(y)&&y!=="")return g==="html"?createVNode$1("div",{key:0,class:bem$1g("text"),innerHTML:String(y)},null):createVNode$1("div",{class:bem$1g("text")},[y])};return watch(()=>[r.show,r.forbidClick],l),watch(()=>[r.show,r.type,r.message,r.duration],()=>{d(),r.show&&r.duration>0&&(o=setTimeout(()=>{c(!1)},r.duration))}),onMounted(l),onUnmounted(l),()=>createVNode$1(Popup,mergeProps({class:[bem$1g([r.position,r.wordBreak==="normal"?"break-normal":r.wordBreak,{[r.type]:!r.icon}]),r.className],lockScroll:!1,onClick:u,onClosed:d,"onUpdate:show":c},pick(r,popupInheritProps$1)),{default:()=>[f(),v()]})}});function usePopupState(){const r=reactive({show:!1}),n=s=>{r.show=s},a=s=>{extend$1(r,s,{transitionAppear:!0}),n(!0)},o=()=>n(!1);return useExpose({open:a,close:o,toggle:n}),{open:a,close:o,state:r,toggle:n}}function mountComponent(r){const n=createApp(r),a=document.createElement("div");return document.body.appendChild(a),{instance:n.mount(a),unmount(){n.unmount(),document.body.removeChild(a)}}}const defaultOptions={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let queue=[],allowMultiple=!1,currentOptions=extend$1({},defaultOptions);const defaultOptionsMap=new Map;function parseOptions(r){return isObject$5(r)?r:{message:r}}function createInstance(){const{instance:r,unmount:n}=mountComponent({setup(){const a=ref(""),{open:o,state:s,close:l,toggle:c}=usePopupState(),u=()=>{},d=()=>createVNode$1(stdin_default$1r,mergeProps(s,{onClosed:u,"onUpdate:show":c}),null);return watch(a,f=>{s.message=f}),getCurrentInstance().render=d,{open:o,close:l,message:a}}});return r}function getInstance(){if(!queue.length||allowMultiple){const r=createInstance();queue.push(r)}return queue[queue.length-1]}function showToast(r={}){if(!inBrowser$1)return{};const n=getInstance(),a=parseOptions(r);return n.open(extend$1({},currentOptions,defaultOptionsMap.get(a.type||currentOptions.type),a)),n}const Toast=withInstall(stdin_default$1r),[name$1j,bem$1f]=createNamespace("switch"),switchProps={size:numericProp,loading:Boolean,disabled:Boolean,modelValue:unknownProp,activeColor:String,inactiveColor:String,activeValue:{type:unknownProp,default:!0},inactiveValue:{type:unknownProp,default:!1}};var stdin_default$1q=defineComponent({name:name$1j,props:switchProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const o=()=>r.modelValue===r.activeValue,s=()=>{if(!r.disabled&&!r.loading){const c=o()?r.inactiveValue:r.activeValue;n("update:modelValue",c),n("change",c)}},l=()=>{if(r.loading){const c=o()?r.activeColor:r.inactiveColor;return createVNode$1(Loading,{class:bem$1f("loading"),color:c},null)}if(a.node)return a.node()};return useCustomFieldValue(()=>r.modelValue),()=>{var c;const{size:u,loading:d,disabled:f,activeColor:v,inactiveColor:g}=r,y=o(),_={fontSize:addUnit(u),backgroundColor:y?v:g};return createVNode$1("div",{role:"switch",class:bem$1f({on:y,loading:d,disabled:f}),style:_,tabindex:f?void 0:0,"aria-checked":y,onClick:s},[createVNode$1("div",{class:bem$1f("node")},[l()]),(c=a.background)==null?void 0:c.call(a)])}}});const Switch=withInstall(stdin_default$1q),[name$1i,bem$1e]=createNamespace("address-edit-detail"),t$j=createNamespace("address-edit")[2];var stdin_default$1p=defineComponent({name:name$1i,props:{show:Boolean,rows:numericProp,value:String,rules:Array,focused:Boolean,maxlength:numericProp,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(r,{emit:n}){const a=ref(),o=()=>r.focused&&r.searchResult&&r.showSearchResult,s=f=>{n("selectSearch",f),n("input",`${f.address||""} ${f.name||""}`.trim())},l=()=>{if(!o())return;const{searchResult:f}=r;return f.map(v=>createVNode$1(Cell,{clickable:!0,key:(v.name||"")+(v.address||""),icon:"location-o",title:v.name,label:v.address,class:bem$1e("search-item"),border:!1,onClick:()=>s(v)},null))},c=f=>n("blur",f),u=f=>n("focus",f),d=f=>n("input",f);return()=>{if(r.show)return createVNode$1(Fragment,null,[createVNode$1(Field,{autosize:!0,clearable:!0,ref:a,class:bem$1e(),rows:r.rows,type:"textarea",rules:r.rules,label:t$j("addressDetail"),border:!o(),maxlength:r.maxlength,modelValue:r.value,placeholder:t$j("addressDetail"),onBlur:c,onFocus:u,"onUpdate:modelValue":d},null),l()])}}});const[name$1h,bem$1d,t$i]=createNamespace("address-edit"),DEFAULT_DATA={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,addressDetail:""},addressEditProps={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:truthProp,showDetail:truthProp,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:numericProp,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:makeNumericProp(1),detailMaxlength:makeNumericProp(200),areaColumnsPlaceholder:makeArrayProp(),addressInfo:{type:Object,default:()=>extend$1({},DEFAULT_DATA)},telValidator:{type:Function,default:isMobile}};var stdin_default$1o=defineComponent({name:name$1h,props:addressEditProps,emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(r,{emit:n,slots:a}){const o=ref(),s=reactive({}),l=ref(!1),c=ref(!1),u=computed(()=>isObject$5(r.areaList)&&Object.keys(r.areaList).length),d=computed(()=>{const{province:N,city:V,county:B,areaCode:z}=s;if(z){const G=[N,V,B];return N&&N===V&&G.splice(1,1),G.filter(Boolean).join("/")}return""}),f=computed(()=>{var N;return((N=r.searchResult)==null?void 0:N.length)&&c.value}),v=N=>{c.value=N==="addressDetail",n("focus",N)},g=(N,V)=>{n("change",{key:N,value:V})},y=computed(()=>{const{validator:N,telValidator:V}=r,B=(z,G)=>({validator:H=>{if(N){const W=N(z,H);if(W)return W}return H?!0:G}});return{name:[B("name",t$i("nameEmpty"))],tel:[B("tel",t$i("telInvalid")),{validator:V,message:t$i("telInvalid")}],areaCode:[B("areaCode",t$i("areaEmpty"))],addressDetail:[B("addressDetail",t$i("addressEmpty"))]}}),_=()=>n("save",s),b=N=>{s.addressDetail=N,n("changeDetail",N)},T=N=>{s.province=N[0].text,s.city=N[1].text,s.county=N[2].text},C=({selectedValues:N,selectedOptions:V})=>{N.some(B=>B===AREA_EMPTY_CODE)?showToast(t$i("areaEmpty")):(l.value=!1,T(V),n("changeArea",V))},P=()=>n("delete",s),E=N=>{s.areaCode=N||""},M=()=>{setTimeout(()=>{c.value=!1})},I=N=>{s.addressDetail=N},L=()=>{if(r.showSetDefault){const N={"right-icon":()=>createVNode$1(Switch,{modelValue:s.isDefault,"onUpdate:modelValue":V=>s.isDefault=V,onChange:V=>n("changeDefault",V)},null)};return withDirectives(createVNode$1(Cell,{center:!0,border:!1,title:t$i("defaultAddress"),class:bem$1d("default")},N),[[vShow,!f.value]])}};return useExpose({setAreaCode:E,setAddressDetail:I}),watch(()=>r.addressInfo,N=>{extend$1(s,DEFAULT_DATA,N),nextTick(()=>{var V;const B=(V=o.value)==null?void 0:V.getSelectedOptions();B&&B.every(z=>z&&z.value!==AREA_EMPTY_CODE)&&T(B)})},{deep:!0,immediate:!0}),()=>{const{disableArea:N}=r;return createVNode$1(Form,{class:bem$1d(),onSubmit:_},{default:()=>{var V;return[createVNode$1("div",{class:bem$1d("fields")},[createVNode$1(Field,{modelValue:s.name,"onUpdate:modelValue":[B=>s.name=B,B=>g("name",B)],clearable:!0,label:t$i("name"),rules:y.value.name,placeholder:t$i("name"),onFocus:()=>v("name")},null),createVNode$1(Field,{modelValue:s.tel,"onUpdate:modelValue":[B=>s.tel=B,B=>g("tel",B)],clearable:!0,type:"tel",label:t$i("tel"),rules:y.value.tel,maxlength:r.telMaxlength,placeholder:t$i("tel"),onFocus:()=>v("tel")},null),withDirectives(createVNode$1(Field,{readonly:!0,label:t$i("area"),"is-link":!N,modelValue:d.value,rules:r.showArea?y.value.areaCode:void 0,placeholder:r.areaPlaceholder||t$i("area"),onFocus:()=>v("areaCode"),onClick:()=>{n("clickArea"),l.value=!N}},null),[[vShow,r.showArea]]),createVNode$1(stdin_default$1p,{show:r.showDetail,rows:r.detailRows,rules:y.value.addressDetail,value:s.addressDetail,focused:c.value,maxlength:r.detailMaxlength,searchResult:r.searchResult,showSearchResult:r.showSearchResult,onBlur:M,onFocus:()=>v("addressDetail"),onInput:b,onSelectSearch:B=>n("selectSearch",B)},null),(V=a.default)==null?void 0:V.call(a)]),L(),withDirectives(createVNode$1("div",{class:bem$1d("buttons")},[createVNode$1(Button,{block:!0,round:!0,type:"primary",text:r.saveButtonText||t$i("save"),class:bem$1d("button"),loading:r.isSaving,nativeType:"submit"},null),r.showDelete&&createVNode$1(Button,{block:!0,round:!0,class:bem$1d("button"),loading:r.isDeleting,text:r.deleteButtonText||t$i("delete"),onClick:P},null)]),[[vShow,!f.value]]),createVNode$1(Popup,{show:l.value,"onUpdate:show":B=>l.value=B,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[createVNode$1(Area,{modelValue:s.areaCode,"onUpdate:modelValue":B=>s.areaCode=B,ref:o,loading:!u.value,areaList:r.areaList,columnsPlaceholder:r.areaColumnsPlaceholder,onConfirm:C,onCancel:()=>{l.value=!1}},null)]})]}})}}});const AddressEdit=withInstall(stdin_default$1o),[name$1g,bem$1c]=createNamespace("radio-group"),radioGroupProps={shape:String,disabled:Boolean,iconSize:numericProp,direction:String,modelValue:unknownProp,checkedColor:String},RADIO_KEY=Symbol(name$1g);var stdin_default$1n=defineComponent({name:name$1g,props:radioGroupProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const{linkChildren:o}=useChildren(RADIO_KEY),s=l=>n("update:modelValue",l);return watch(()=>r.modelValue,l=>n("change",l)),o({props:r,updateValue:s}),useCustomFieldValue(()=>r.modelValue),()=>{var l;return createVNode$1("div",{class:bem$1c([r.direction]),role:"radiogroup"},[(l=a.default)==null?void 0:l.call(a)])}}});const RadioGroup=withInstall(stdin_default$1n),[name$1f,bem$1b]=createNamespace("checkbox-group"),checkboxGroupProps={max:numericProp,shape:makeStringProp("round"),disabled:Boolean,iconSize:numericProp,direction:String,modelValue:makeArrayProp(),checkedColor:String},CHECKBOX_GROUP_KEY=Symbol(name$1f);var stdin_default$1m=defineComponent({name:name$1f,props:checkboxGroupProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const{children:o,linkChildren:s}=useChildren(CHECKBOX_GROUP_KEY),l=u=>n("update:modelValue",u),c=(u={})=>{typeof u=="boolean"&&(u={checked:u});const{checked:d,skipDisabled:f}=u,g=o.filter(y=>y.props.bindGroup?y.props.disabled&&f?y.checked.value:d??!y.checked.value:!1).map(y=>y.name);l(g)};return watch(()=>r.modelValue,u=>n("change",u)),useExpose({toggleAll:c}),useCustomFieldValue(()=>r.modelValue),s({props:r,updateValue:l}),()=>{var u;return createVNode$1("div",{class:bem$1b([r.direction])},[(u=a.default)==null?void 0:u.call(a)])}}});const CheckboxGroup=withInstall(stdin_default$1m),[name$1e,bem$1a]=createNamespace("tag"),tagProps={size:String,mark:Boolean,show:truthProp,type:makeStringProp("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var stdin_default$1l=defineComponent({name:name$1e,props:tagProps,emits:["close"],setup(r,{slots:n,emit:a}){const o=c=>{c.stopPropagation(),a("close",c)},s=()=>r.plain?{color:r.textColor||r.color,borderColor:r.color}:{color:r.textColor,background:r.color},l=()=>{var c;const{type:u,mark:d,plain:f,round:v,size:g,closeable:y}=r,_={mark:d,plain:f,round:v};g&&(_[g]=g);const b=y&&createVNode$1(Icon,{name:"cross",class:[bem$1a("close"),HAPTICS_FEEDBACK],onClick:o},null);return createVNode$1("span",{style:s(),class:bem$1a([_,u])},[(c=n.default)==null?void 0:c.call(n),b])};return()=>createVNode$1(Transition,{name:r.closeable?"van-fade":void 0},{default:()=>[r.show?l():null]})}});const Tag=withInstall(stdin_default$1l),checkerProps={name:unknownProp,disabled:Boolean,iconSize:numericProp,modelValue:unknownProp,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var stdin_default$1k=defineComponent({props:extend$1({},checkerProps,{bem:makeRequiredProp(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:truthProp,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(r,{emit:n,slots:a}){const o=ref(),s=y=>{if(r.parent&&r.bindGroup)return r.parent.props[y]},l=computed(()=>{if(r.parent&&r.bindGroup){const y=s("disabled")||r.disabled;if(r.role==="checkbox"){const _=s("modelValue").length,b=s("max"),T=b&&_>=+b;return y||T&&!r.checked}return y}return r.disabled}),c=computed(()=>s("direction")),u=computed(()=>{const y=r.checkedColor||s("checkedColor");if(y&&r.checked&&!l.value)return{borderColor:y,backgroundColor:y}}),d=computed(()=>r.shape||s("shape")||"round"),f=y=>{const{target:_}=y,b=o.value,T=b===_||(b==null?void 0:b.contains(_));!l.value&&(T||!r.labelDisabled)&&n("toggle"),n("click",y)},v=()=>{var y,_;const{bem:b,checked:T,indeterminate:C}=r,P=r.iconSize||s("iconSize");return createVNode$1("div",{ref:o,class:b("icon",[d.value,{disabled:l.value,checked:T,indeterminate:C}]),style:d.value!=="dot"?{fontSize:addUnit(P)}:{width:addUnit(P),height:addUnit(P),borderColor:(y=u.value)==null?void 0:y.borderColor}},[a.icon?a.icon({checked:T,disabled:l.value}):d.value!=="dot"?createVNode$1(Icon,{name:C?"minus":"success",style:u.value},null):createVNode$1("div",{class:b("icon--dot__icon"),style:{backgroundColor:(_=u.value)==null?void 0:_.backgroundColor}},null)])},g=()=>{const{checked:y}=r;if(a.default)return createVNode$1("span",{class:r.bem("label",[r.labelPosition,{disabled:l.value}])},[a.default({checked:y,disabled:l.value})])};return()=>{const y=r.labelPosition==="left"?[g(),v()]:[v(),g()];return createVNode$1("div",{role:r.role,class:r.bem([{disabled:l.value,"label-disabled":r.labelDisabled},c.value]),tabindex:l.value?void 0:0,"aria-checked":r.checked,onClick:f},[y])}}});const radioProps=extend$1({},checkerProps,{shape:String}),[name$1d,bem$19]=createNamespace("radio");var stdin_default$1j=defineComponent({name:name$1d,props:radioProps,emits:["update:modelValue"],setup(r,{emit:n,slots:a}){const{parent:o}=useParent(RADIO_KEY),s=()=>(o?o.props.modelValue:r.modelValue)===r.name,l=()=>{o?o.updateValue(r.name):n("update:modelValue",r.name)};return()=>createVNode$1(stdin_default$1k,mergeProps({bem:bem$19,role:"radio",parent:o,checked:s(),onToggle:l},r),pick(a,["default","icon"]))}});const Radio=withInstall(stdin_default$1j),[name$1c,bem$18]=createNamespace("checkbox"),checkboxProps=extend$1({},checkerProps,{shape:String,bindGroup:truthProp,indeterminate:{type:Boolean,default:null}});var stdin_default$1i=defineComponent({name:name$1c,props:checkboxProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const{parent:o}=useParent(CHECKBOX_GROUP_KEY),s=u=>{const{name:d}=r,{max:f,modelValue:v}=o.props,g=v.slice();if(u)!(f&&g.length>=+f)&&!g.includes(d)&&(g.push(d),r.bindGroup&&o.updateValue(g));else{const y=g.indexOf(d);y!==-1&&(g.splice(y,1),r.bindGroup&&o.updateValue(g))}},l=computed(()=>o&&r.bindGroup?o.props.modelValue.indexOf(r.name)!==-1:!!r.modelValue),c=(u=!l.value)=>{o&&r.bindGroup?s(u):n("update:modelValue",u),r.indeterminate!==null&&n("change",u)};return watch(()=>r.modelValue,u=>{r.indeterminate===null&&n("change",u)}),useExpose({toggle:c,props:r,checked:l}),useCustomFieldValue(()=>r.modelValue),()=>createVNode$1(stdin_default$1k,mergeProps({bem:bem$18,role:"checkbox",parent:o,checked:l.value,onToggle:c},r),pick(a,["default","icon"]))}});const Checkbox=withInstall(stdin_default$1i),[name$1b,bem$17]=createNamespace("address-item");var stdin_default$1h=defineComponent({name:name$1b,props:{address:makeRequiredProp(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:makeStringProp("edit")},emits:["edit","click","select"],setup(r,{slots:n,emit:a}){const o=u=>{r.switchable&&a("select"),a("click",u)},s=()=>createVNode$1(Icon,{name:r.rightIcon,class:bem$17("edit"),onClick:u=>{u.stopPropagation(),a("edit"),a("click",u)}},null),l=()=>{if(n.tag)return n.tag(r.address);if(r.address.isDefault&&r.defaultTagText)return createVNode$1(Tag,{type:"primary",round:!0,class:bem$17("tag")},{default:()=>[r.defaultTagText]})},c=()=>{const{address:u,disabled:d,switchable:f,singleChoice:v}=r,g=[createVNode$1("div",{class:bem$17("name")},[`${u.name} ${u.tel}`,l()]),createVNode$1("div",{class:bem$17("address")},[u.address])];return f&&!d?v?createVNode$1(Radio,{name:u.id,iconSize:18},{default:()=>[g]}):createVNode$1(Checkbox,{name:u.id,iconSize:18},{default:()=>[g]}):g};return()=>{var u;const{disabled:d}=r;return createVNode$1("div",{class:bem$17({disabled:d}),onClick:o},[createVNode$1(Cell,{border:!1,titleClass:bem$17("title")},{title:c,"right-icon":s}),(u=n.bottom)==null?void 0:u.call(n,extend$1({},r.address,{disabled:d}))])}}});const[name$1a,bem$16,t$h]=createNamespace("address-list"),addressListProps={list:makeArrayProp(),modelValue:[...numericProp,Array],switchable:truthProp,disabledText:String,disabledList:makeArrayProp(),showAddButton:truthProp,addButtonText:String,defaultTagText:String,rightIcon:makeStringProp("edit")};var stdin_default$1g=defineComponent({name:name$1a,props:addressListProps,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(r,{slots:n,emit:a}){const o=computed(()=>!Array.isArray(r.modelValue)),s=(u,d,f)=>{const v=()=>a(f?"editDisabled":"edit",u,d),g=_=>a("clickItem",u,d,{event:_}),y=()=>{if(a(f?"selectDisabled":"select",u,d),!f)if(o.value)a("update:modelValue",u.id);else{const _=r.modelValue;_.includes(u.id)?a("update:modelValue",_.filter(b=>b!==u.id)):a("update:modelValue",[..._,u.id])}};return createVNode$1(stdin_default$1h,{key:u.id,address:u,disabled:f,switchable:r.switchable,singleChoice:o.value,defaultTagText:r.defaultTagText,rightIcon:r.rightIcon,onEdit:v,onClick:g,onSelect:y},{bottom:n["item-bottom"],tag:n.tag})},l=(u,d)=>{if(u)return u.map((f,v)=>s(f,v,d))},c=()=>r.showAddButton?createVNode$1("div",{class:[bem$16("bottom"),"van-safe-area-bottom"]},[createVNode$1(Button,{round:!0,block:!0,type:"primary",text:r.addButtonText||t$h("add"),class:bem$16("add"),onClick:()=>a("add")},null)]):void 0;return()=>{var u,d;const f=l(r.list),v=l(r.disabledList,!0),g=r.disabledText&&createVNode$1("div",{class:bem$16("disabled-text")},[r.disabledText]);return createVNode$1("div",{class:bem$16()},[(u=n.top)==null?void 0:u.call(n),!o.value&&Array.isArray(r.modelValue)?createVNode$1(CheckboxGroup,{modelValue:r.modelValue},{default:()=>[f]}):createVNode$1(RadioGroup,{modelValue:r.modelValue},{default:()=>[f]}),g,v,(d=n.default)==null?void 0:d.call(n),c()])}}});const AddressList=withInstall(stdin_default$1g);function throttle$1(r,n){let a=null,o=0;return function(...s){if(a)return;const l=Date.now()-o,c=()=>{o=Date.now(),a=!1,r.apply(this,s)};l>=n?c():a=setTimeout(c,n)}}const[name$19,bem$15]=createNamespace("back-top"),backTopProps={right:numericProp,bottom:numericProp,zIndex:numericProp,target:[String,Object],offset:makeNumericProp(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var stdin_default$1f=defineComponent({name:name$19,inheritAttrs:!1,props:backTopProps,emits:["click"],setup(r,{emit:n,slots:a,attrs:o}){let s=!1;const l=ref(!1),c=ref(),u=ref(),d=computed(()=>extend$1(getZIndexStyle(r.zIndex),{right:addUnit(r.right),bottom:addUnit(r.bottom)})),f=_=>{var b;n("click",_),(b=u.value)==null||b.scrollTo({top:0,behavior:r.immediate?"auto":"smooth"})},v=()=>{l.value=u.value?getScrollTop(u.value)>=+r.offset:!1},g=()=>{const{target:_}=r;if(typeof _=="string"){const b=document.querySelector(_);if(b)return b}else return _},y=()=>{inBrowser$1&&nextTick(()=>{u.value=r.target?g():getScrollParent$1(c.value),v()})};return useEventListener("scroll",throttle$1(v,100),{target:u}),onMounted(y),onActivated(()=>{s&&(l.value=!0,s=!1)}),onDeactivated(()=>{l.value&&r.teleport&&(l.value=!1,s=!0)}),watch(()=>r.target,y),()=>{const _=createVNode$1("div",mergeProps({ref:r.teleport?void 0:c,class:bem$15({active:l.value}),style:d.value,onClick:f},o),[a.default?a.default():createVNode$1(Icon,{name:"back-top",class:bem$15("icon")},null)]);return r.teleport?[createVNode$1("div",{ref:c,class:bem$15("placeholder")},null),createVNode$1(Teleport,{to:r.teleport},{default:()=>[_]})]:_}}});const BackTop=withInstall(stdin_default$1f);var __async=(r,n,a)=>new Promise((o,s)=>{var l=d=>{try{u(a.next(d))}catch(f){s(f)}},c=d=>{try{u(a.throw(d))}catch(f){s(f)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,c);u((a=a.apply(r,n)).next())});const barrageProps={top:makeNumericProp(10),rows:makeNumericProp(4),duration:makeNumericProp(4e3),autoPlay:truthProp,delay:makeNumberProp(300),modelValue:makeArrayProp()},[name$18,bem$14]=createNamespace("barrage");var stdin_default$1e=defineComponent({name:name$18,props:barrageProps,emits:["update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref(),s=bem$14("item"),l=ref(0),c=[],u=(T,C=r.delay)=>{const P=document.createElement("span");return P.className=s,P.innerText=String(T),P.style.animationDuration=`${r.duration}ms`,P.style.animationDelay=`${C}ms`,P.style.animationName="van-barrage",P.style.animationTimingFunction="linear",P},d=ref(!0),f=ref(r.autoPlay),v=({id:T,text:C},P)=>{var E;const M=u(C,d.value?P*r.delay:void 0);!r.autoPlay&&f.value===!1&&(M.style.animationPlayState="paused"),(E=o.value)==null||E.append(M),l.value++;const I=(l.value-1)%+r.rows*M.offsetHeight+ +r.top;M.style.top=`${I}px`,M.dataset.id=String(T),c.push(M),M.addEventListener("animationend",()=>{n("update:modelValue",[...r.modelValue].filter(L=>String(L.id)!==M.dataset.id))})},g=(T,C)=>{const P=new Map(C.map(E=>[E.id,E]));T.forEach((E,M)=>{P.has(E.id)?P.delete(E.id):v(E,M)}),P.forEach(E=>{const M=c.findIndex(I=>I.dataset.id===String(E.id));M>-1&&(c[M].remove(),c.splice(M,1))}),d.value=!1};watch(()=>r.modelValue.slice(),(T,C)=>g(T??[],C??[]),{deep:!0});const y=ref({});return onMounted(()=>__async(this,null,function*(){var T;y.value["--move-distance"]=`-${(T=o.value)==null?void 0:T.offsetWidth}px`,yield nextTick(),g(r.modelValue,[])})),useExpose({play:()=>{f.value=!0,c.forEach(T=>{T.style.animationPlayState="running"})},pause:()=>{f.value=!1,c.forEach(T=>{T.style.animationPlayState="paused"})}}),()=>{var T;return createVNode$1("div",{class:bem$14(),ref:o,style:y.value},[(T=a.default)==null?void 0:T.call(a)])}}});const Barrage=withInstall(stdin_default$1e),[name$17,bem$13,t$g]=createNamespace("calendar"),formatMonthTitle=r=>t$g("monthTitle",r.getFullYear(),r.getMonth()+1);function compareMonth(r,n){const a=r.getFullYear(),o=n.getFullYear();if(a===o){const s=r.getMonth(),l=n.getMonth();return s===l?0:s>l?1:-1}return a>o?1:-1}function compareDay(r,n){const a=compareMonth(r,n);if(a===0){const o=r.getDate(),s=n.getDate();return o===s?0:o>s?1:-1}return a}const cloneDate=r=>new Date(r),cloneDates=r=>Array.isArray(r)?r.map(cloneDate):cloneDate(r);function getDayByOffset(r,n){const a=cloneDate(r);return a.setDate(a.getDate()+n),a}function getMonthByOffset(r,n){const a=cloneDate(r);return a.setMonth(a.getMonth()+n),a.getDate()!==r.getDate()&&a.setDate(0),a}function getYearByOffset(r,n){const a=cloneDate(r);return a.setFullYear(a.getFullYear()+n),a.getDate()!==r.getDate()&&a.setDate(0),a}const getPrevDay=r=>getDayByOffset(r,-1),getNextDay=r=>getDayByOffset(r,1),getPrevMonth=r=>getMonthByOffset(r,-1),getNextMonth=r=>getMonthByOffset(r,1),getPrevYear=r=>getYearByOffset(r,-1),getNextYear=r=>getYearByOffset(r,1),getToday=()=>{const r=new Date;return r.setHours(0,0,0,0),r};function calcDateNum(r){const n=r[0].getTime();return(r[1].getTime()-n)/(1e3*60*60*24)+1}const sharedProps=extend$1({},pickerSharedProps,{modelValue:makeArrayProp(),filter:Function,formatter:{type:Function,default:(r,n)=>n}}),pickerInheritKeys=Object.keys(pickerSharedProps);function times(r,n){if(r<0)return[];const a=Array(r);let o=-1;for(;++o<r;)a[o]=n(o);return a}const getMonthEndDay=(r,n)=>32-new Date(r,n-1,32).getDate(),genOptions=(r,n,a,o,s,l)=>{const c=times(n-r+1,u=>{const d=padZero(r+u);return o(a,{text:d,value:d})});return s?s(a,c,l):c},formatValueRange=(r,n)=>r.map((a,o)=>{const s=n[o];if(s.length){const l=+s[0].value,c=+s[s.length-1].value;return padZero(clamp$1(+a,l,c))}return a}),[name$16]=createNamespace("calendar-day");var stdin_default$1d=defineComponent({name:name$16,props:{item:makeRequiredProp(Object),color:String,index:Number,offset:makeNumberProp(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(r,{emit:n,slots:a}){const o=computed(()=>{var f;const{item:v,index:g,color:y,offset:_,rowHeight:b}=r,T={height:b};if(v.type==="placeholder")return T.width="100%",T;if(g===0&&(T.marginLeft=`${100*_/7}%`),y)switch(v.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":T.background=y;break;case"middle":T.color=y;break}return _+(((f=v.date)==null?void 0:f.getDate())||1)>28&&(T.marginBottom=0),T}),s=()=>{r.item.type!=="disabled"?n("click",r.item):n("clickDisabledDate",r.item)},l=()=>{const{topInfo:f}=r.item;if(f||a["top-info"])return createVNode$1("div",{class:bem$13("top-info")},[a["top-info"]?a["top-info"](r.item):f])},c=()=>{const{bottomInfo:f}=r.item;if(f||a["bottom-info"])return createVNode$1("div",{class:bem$13("bottom-info")},[a["bottom-info"]?a["bottom-info"](r.item):f])},u=()=>a.text?a.text(r.item):r.item.text,d=()=>{const{item:f,color:v,rowHeight:g}=r,{type:y}=f,_=[l(),u(),c()];return y==="selected"?createVNode$1("div",{class:bem$13("selected-day"),style:{width:g,height:g,background:v}},[_]):_};return()=>{const{type:f,className:v}=r.item;return f==="placeholder"?createVNode$1("div",{class:bem$13("day"),style:o.value},null):createVNode$1("div",{role:"gridcell",style:o.value,class:[bem$13("day",f),v],tabindex:f==="disabled"?void 0:-1,onClick:s},[d()])}}});const[name$15]=createNamespace("calendar-month"),calendarMonthProps={date:makeRequiredProp(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:numericProp,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var stdin_default$1c=defineComponent({name:name$15,props:calendarMonthProps,emits:["click","clickDisabledDate"],setup(r,{emit:n,slots:a}){const[o,s]=useToggle(),l=ref(),c=ref(),u=useHeight(c),d=computed(()=>formatMonthTitle(r.date)),f=computed(()=>addUnit(r.rowHeight)),v=computed(()=>{const G=r.date.getDate(),W=(r.date.getDay()-G%7+8)%7;return r.firstDayOfWeek?(W+7-r.firstDayOfWeek)%7:W}),g=computed(()=>getMonthEndDay(r.date.getFullYear(),r.date.getMonth()+1)),y=computed(()=>o.value||!r.lazyRender),_=()=>d.value,b=G=>{const H=W=>r.currentDate.some(j=>compareDay(j,W)===0);if(H(G)){const W=getPrevDay(G),j=getNextDay(G),X=H(W),Z=H(j);return X&&Z?"multiple-middle":X?"end":Z?"start":"multiple-selected"}return""},T=G=>{const[H,W]=r.currentDate;if(!H)return"";const j=compareDay(G,H);if(!W)return j===0?"start":"";const X=compareDay(G,W);return r.allowSameDay&&j===0&&X===0?"start-end":j===0?"start":X===0?"end":j>0&&X<0?"middle":""},C=G=>{const{type:H,minDate:W,maxDate:j,currentDate:X}=r;if(W&&compareDay(G,W)<0||j&&compareDay(G,j)>0)return"disabled";if(X===null)return"";if(Array.isArray(X)){if(H==="multiple")return b(G);if(H==="range")return T(G)}else if(H==="single")return compareDay(G,X)===0?"selected":"";return""},P=G=>{if(r.type==="range"){if(G==="start"||G==="end")return t$g(G);if(G==="start-end")return`${t$g("start")}/${t$g("end")}`}},E=()=>{if(r.showMonthTitle)return createVNode$1("div",{class:bem$13("month-title")},[a["month-title"]?a["month-title"]({date:r.date,text:d.value}):d.value])},M=()=>{if(r.showMark&&y.value)return createVNode$1("div",{class:bem$13("month-mark")},[r.date.getMonth()+1])},I=computed(()=>{const G=Math.ceil((g.value+v.value)/7);return Array(G).fill({type:"placeholder"})}),L=computed(()=>{const G=[],H=r.date.getFullYear(),W=r.date.getMonth();for(let j=1;j<=g.value;j++){const X=new Date(H,W,j),Z=C(X);let q={date:X,type:Z,text:j,bottomInfo:P(Z)};r.formatter&&(q=r.formatter(q)),G.push(q)}return G}),N=computed(()=>L.value.filter(G=>G.type==="disabled")),V=(G,H)=>{if(l.value){const W=useRect(l.value),j=I.value.length,Z=(Math.ceil((H.getDate()+v.value)/7)-1)*W.height/j;setScrollTop(G,W.top+Z+G.scrollTop-useRect(G).top)}},B=(G,H)=>createVNode$1(stdin_default$1d,{item:G,index:H,color:r.color,offset:v.value,rowHeight:f.value,onClick:W=>n("click",W),onClickDisabledDate:W=>n("clickDisabledDate",W)},pick(a,["top-info","bottom-info","text"])),z=()=>createVNode$1("div",{ref:l,role:"grid",class:bem$13("days")},[M(),(y.value?L:I).value.map(B)]);return useExpose({getTitle:_,getHeight:()=>u.value,setVisible:s,scrollToDate:V,disabledDays:N}),()=>createVNode$1("div",{class:bem$13("month"),ref:c},[E(),z()])}});const[name$14]=createNamespace("calendar-header");var stdin_default$1b=defineComponent({name:name$14,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:makeStringProp("none")},emits:["clickSubtitle","panelChange"],setup(r,{slots:n,emit:a}){const o=computed(()=>r.date&&r.minDate&&compareMonth(getPrevMonth(r.date),r.minDate)<0),s=computed(()=>r.date&&r.minDate&&compareMonth(getPrevYear(r.date),r.minDate)<0),l=computed(()=>r.date&&r.maxDate&&compareMonth(getNextMonth(r.date),r.maxDate)>0),c=computed(()=>r.date&&r.maxDate&&compareMonth(getNextYear(r.date),r.maxDate)>0),u=()=>{if(r.showTitle){const _=r.title||t$g("title"),b=n.title?n.title():_;return createVNode$1("div",{class:bem$13("header-title")},[b])}},d=_=>a("clickSubtitle",_),f=_=>a("panelChange",_),v=_=>{const b=r.switchMode==="year-month",T=n[_?"next-month":"prev-month"],C=n[_?"next-year":"prev-year"],P=_?l.value:o.value,E=_?c.value:s.value,M=_?"arrow":"arrow-left",I=_?"arrow-double-right":"arrow-double-left",L=()=>f((_?getNextMonth:getPrevMonth)(r.date)),N=()=>f((_?getNextYear:getPrevYear)(r.date)),V=createVNode$1("view",{class:bem$13("header-action",{disabled:P}),onClick:P?void 0:L},[T?T({disabled:P}):createVNode$1(Icon,{class:{[HAPTICS_FEEDBACK]:!P},name:M},null)]),B=b&&createVNode$1("view",{class:bem$13("header-action",{disabled:E}),onClick:E?void 0:N},[C?C({disabled:E}):createVNode$1(Icon,{class:{[HAPTICS_FEEDBACK]:!E},name:I},null)]);return _?[V,B]:[B,V]},g=()=>{if(r.showSubtitle){const _=n.subtitle?n.subtitle({date:r.date,text:r.subtitle}):r.subtitle,b=r.switchMode!=="none";return createVNode$1("div",{class:bem$13("header-subtitle",{"with-switch":b}),onClick:d},[b?[v(),createVNode$1("div",{class:bem$13("header-subtitle-text")},[_]),v(!0)]:_])}},y=()=>{const{firstDayOfWeek:_}=r,b=t$g("weekdays"),T=[...b.slice(_,7),...b.slice(0,_)];return createVNode$1("div",{class:bem$13("weekdays")},[T.map(C=>createVNode$1("span",{class:bem$13("weekday")},[C]))])};return()=>createVNode$1("div",{class:bem$13("header")},[u(),g(),y()])}});const calendarProps={show:Boolean,type:makeStringProp("single"),switchMode:makeStringProp("none"),title:String,color:String,round:truthProp,readonly:Boolean,poppable:truthProp,maxRange:makeNumericProp(null),position:makeStringProp("bottom"),teleport:[String,Object],showMark:truthProp,showTitle:truthProp,formatter:Function,rowHeight:numericProp,confirmText:String,rangePrompt:String,lazyRender:truthProp,showConfirm:truthProp,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:truthProp,closeOnPopstate:truthProp,showRangePrompt:truthProp,confirmDisabledText:String,closeOnClickOverlay:truthProp,safeAreaInsetTop:Boolean,safeAreaInsetBottom:truthProp,minDate:{type:Date,validator:isDate},maxDate:{type:Date,validator:isDate},firstDayOfWeek:{type:numericProp,default:0,validator:r=>r>=0&&r<=6}};var stdin_default$1a=defineComponent({name:name$17,props:calendarProps,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","panelChange"],setup(r,{emit:n,slots:a}){const o=computed(()=>r.switchMode!=="none"),s=computed(()=>!r.minDate&&!o.value?getToday():r.minDate),l=computed(()=>!r.maxDate&&!o.value?getMonthByOffset(getToday(),6):r.maxDate),c=(ce,fe=s.value,_e=l.value)=>fe&&compareDay(ce,fe)===-1?fe:_e&&compareDay(ce,_e)===1?_e:ce,u=(ce=r.defaultDate)=>{const{type:fe,allowSameDay:_e}=r;if(ce===null)return ce;const Ce=getToday();if(fe==="range"){Array.isArray(ce)||(ce=[]),ce.length===1&&compareDay(ce[0],Ce)===1&&(ce=[]);const Se=s.value,De=l.value,ne=c(ce[0]||Ce,Se,De?_e?De:getPrevDay(De):void 0),pe=c(ce[1]||(_e?Ce:getNextDay(Ce)),Se?_e?Se:getNextDay(Se):void 0);return[ne,pe]}return fe==="multiple"?Array.isArray(ce)?ce.map(Se=>c(Se)):[c(Ce)]:((!ce||Array.isArray(ce))&&(ce=Ce),c(ce))},d=()=>{const ce=Array.isArray(g.value)?g.value[0]:g.value;return ce||c(getToday())};let f;const v=ref(),g=ref(u()),y=ref(d()),_=ref(),[b,T]=useRefs(),C=computed(()=>r.firstDayOfWeek?+r.firstDayOfWeek%7:0),P=computed(()=>{const ce=[];if(!s.value||!l.value)return ce;const fe=new Date(s.value);fe.setDate(1);do ce.push(new Date(fe)),fe.setMonth(fe.getMonth()+1);while(compareMonth(fe,l.value)!==1);return ce}),E=computed(()=>{if(g.value){if(r.type==="range")return!g.value[0]||!g.value[1];if(r.type==="multiple")return!g.value.length}return!g.value}),M=()=>g.value,I=()=>{const ce=getScrollTop(v.value),fe=ce+f,_e=P.value.map((pe,de)=>b.value[de].getHeight()),Ce=_e.reduce((pe,de)=>pe+de,0);if(fe>Ce&&ce>0)return;let Se=0,De;const ne=[-1,-1];for(let pe=0;pe<P.value.length;pe++){const de=b.value[pe];Se<=fe&&Se+_e[pe]>=ce&&(ne[1]=pe,De||(De=de,ne[0]=pe),b.value[pe].showed||(b.value[pe].showed=!0,n("monthShow",{date:de.date,title:de.getTitle()}))),Se+=_e[pe]}P.value.forEach((pe,de)=>{const Te=de>=ne[0]-1&&de<=ne[1]+1;b.value[de].setVisible(Te)}),De&&(_.value=De)},L=ce=>{o.value?y.value=ce:raf(()=>{P.value.some((fe,_e)=>compareMonth(fe,ce)===0?(v.value&&b.value[_e].scrollToDate(v.value,ce),!0):!1),I()})},N=()=>{if(!(r.poppable&&!r.show))if(g.value){const ce=r.type==="single"?g.value:g.value[0];isDate(ce)&&L(ce)}else o.value||raf(I)},V=()=>{r.poppable&&!r.show||(o.value||raf(()=>{f=Math.floor(useRect(v).height)}),N())},B=(ce=u())=>{g.value=ce,N()},z=ce=>{const{maxRange:fe,rangePrompt:_e,showRangePrompt:Ce}=r;return fe&&calcDateNum(ce)>+fe?(Ce&&showToast(_e||t$g("rangePrompt",fe)),n("overRange"),!1):!0},G=ce=>{y.value=ce,n("panelChange",{date:ce})},H=()=>{var ce;return n("confirm",(ce=g.value)!=null?ce:cloneDates(g.value))},W=(ce,fe)=>{const _e=Ce=>{g.value=Ce,n("select",cloneDates(Ce))};if(fe&&r.type==="range"&&!z(ce)){_e([ce[0],getDayByOffset(ce[0],+r.maxRange-1)]);return}_e(ce),fe&&!r.showConfirm&&H()},j=(ce,fe,_e)=>{var Ce;return(Ce=ce.find(Se=>compareDay(fe,Se.date)===-1&&compareDay(Se.date,_e)===-1))==null?void 0:Ce.date},X=computed(()=>b.value.reduce((ce,fe)=>{var _e,Ce;return ce.push(...(Ce=(_e=fe.disabledDays)==null?void 0:_e.value)!=null?Ce:[]),ce},[])),Z=ce=>{if(r.readonly||!ce.date)return;const{date:fe}=ce,{type:_e}=r;if(_e==="range"){if(!g.value){W([fe]);return}const[Ce,Se]=g.value;if(Ce&&!Se){const De=compareDay(fe,Ce);if(De===1){const ne=j(X.value,Ce,fe);if(ne){const pe=getPrevDay(ne);compareDay(Ce,pe)===-1?W([Ce,pe]):W([fe])}else W([Ce,fe],!0)}else De===-1?W([fe]):r.allowSameDay&&W([fe,fe],!0)}else W([fe])}else if(_e==="multiple"){if(!g.value){W([fe]);return}const Ce=g.value,Se=Ce.findIndex(De=>compareDay(De,fe)===0);if(Se!==-1){const[De]=Ce.splice(Se,1);n("unselect",cloneDate(De))}else r.maxRange&&Ce.length>=+r.maxRange?showToast(r.rangePrompt||t$g("rangePrompt",r.maxRange)):W([...Ce,fe])}else W(fe,!0)},q=ce=>n("update:show",ce),le=(ce,fe)=>{const _e=fe!==0||!r.showSubtitle;return createVNode$1(stdin_default$1c,mergeProps({ref:o.value?_:T(fe),date:ce,currentDate:g.value,showMonthTitle:_e,firstDayOfWeek:C.value,lazyRender:o.value?!1:r.lazyRender,maxDate:l.value,minDate:s.value},pick(r,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:Z,onClickDisabledDate:Ce=>n("clickDisabledDate",Ce)}),pick(a,["top-info","bottom-info","month-title","text"]))},ae=()=>{if(a.footer)return a.footer();if(r.showConfirm){const ce=a["confirm-text"],fe=E.value,_e=fe?r.confirmDisabledText:r.confirmText;return createVNode$1(Button,{round:!0,block:!0,type:"primary",color:r.color,class:bem$13("confirm"),disabled:fe,nativeType:"button",onClick:H},{default:()=>[ce?ce({disabled:fe}):_e||t$g("confirm")]})}},he=()=>createVNode$1("div",{class:[bem$13("footer"),{"van-safe-area-bottom":r.safeAreaInsetBottom}]},[ae()]),ve=()=>{var ce,fe;return createVNode$1("div",{class:bem$13()},[createVNode$1(stdin_default$1b,{date:(ce=_.value)==null?void 0:ce.date,maxDate:l.value,minDate:s.value,title:r.title,subtitle:(fe=_.value)==null?void 0:fe.getTitle(),showTitle:r.showTitle,showSubtitle:r.showSubtitle,switchMode:r.switchMode,firstDayOfWeek:C.value,onClickSubtitle:_e=>n("clickSubtitle",_e),onPanelChange:G},pick(a,["title","subtitle","prev-month","prev-year","next-month","next-year"])),createVNode$1("div",{ref:v,class:bem$13("body"),onScroll:o.value?void 0:I},[o.value?le(y.value,0):P.value.map(le)]),he()])};return watch(()=>r.show,V),watch(()=>[r.type,r.minDate,r.maxDate,r.switchMode],()=>B(u(g.value))),watch(()=>r.defaultDate,ce=>{B(ce)}),useExpose({reset:B,scrollToDate:L,getSelectedDate:M}),onMountedOrActivated(V),()=>r.poppable?createVNode$1(Popup,{show:r.show,class:bem$13("popup"),round:r.round,position:r.position,closeable:r.showTitle||r.showSubtitle,teleport:r.teleport,closeOnPopstate:r.closeOnPopstate,safeAreaInsetTop:r.safeAreaInsetTop,closeOnClickOverlay:r.closeOnClickOverlay,"onUpdate:show":q},{default:ve}):ve()}});const Calendar$1=withInstall(stdin_default$1a),[name$13,bem$12]=createNamespace("image"),imageProps={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:numericProp,height:numericProp,radius:numericProp,lazyLoad:Boolean,iconSize:numericProp,showError:truthProp,errorIcon:makeStringProp("photo-fail"),iconPrefix:String,showLoading:truthProp,loadingIcon:makeStringProp("photo"),crossorigin:String,referrerpolicy:String};var stdin_default$19=defineComponent({name:name$13,props:imageProps,emits:["load","error"],setup(r,{emit:n,slots:a}){const o=ref(!1),s=ref(!0),l=ref(),{$Lazyload:c}=getCurrentInstance().proxy,u=computed(()=>{const C={width:addUnit(r.width),height:addUnit(r.height)};return isDef$1(r.radius)&&(C.overflow="hidden",C.borderRadius=addUnit(r.radius)),C});watch(()=>r.src,()=>{o.value=!1,s.value=!0});const d=C=>{s.value&&(s.value=!1,n("load",C))},f=()=>{const C=new Event("load");Object.defineProperty(C,"target",{value:l.value,enumerable:!0}),d(C)},v=C=>{o.value=!0,s.value=!1,n("error",C)},g=(C,P,E)=>E?E():createVNode$1(Icon,{name:C,size:r.iconSize,class:P,classPrefix:r.iconPrefix},null),y=()=>{if(s.value&&r.showLoading)return createVNode$1("div",{class:bem$12("loading")},[g(r.loadingIcon,bem$12("loading-icon"),a.loading)]);if(o.value&&r.showError)return createVNode$1("div",{class:bem$12("error")},[g(r.errorIcon,bem$12("error-icon"),a.error)])},_=()=>{if(o.value||!r.src)return;const C={alt:r.alt,class:bem$12("img"),style:{objectFit:r.fit,objectPosition:r.position},crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy};return r.lazyLoad?withDirectives(createVNode$1("img",mergeProps({ref:l},C),null),[[resolveDirective("lazy"),r.src]]):createVNode$1("img",mergeProps({ref:l,src:r.src,onLoad:d,onError:v},C),null)},b=({el:C})=>{const P=()=>{C===l.value&&s.value&&f()};l.value?P():nextTick(P)},T=({el:C})=>{C===l.value&&!o.value&&v()};return c&&inBrowser$1&&(c.$on("loaded",b),c.$on("error",T),onBeforeUnmount(()=>{c.$off("loaded",b),c.$off("error",T)})),onMounted(()=>{nextTick(()=>{var C;(C=l.value)!=null&&C.complete&&!r.lazyLoad&&f()})}),()=>{var C;return createVNode$1("div",{class:bem$12({round:r.round,block:r.block}),style:u.value},[_(),y(),(C=a.default)==null?void 0:C.call(a)])}}});const Image$1=withInstall(stdin_default$19),[name$12,bem$11]=createNamespace("card"),cardProps={tag:String,num:numericProp,desc:String,thumb:String,title:String,price:numericProp,centered:Boolean,lazyLoad:Boolean,currency:makeStringProp("¥"),thumbLink:String,originPrice:numericProp};var stdin_default$18=defineComponent({name:name$12,props:cardProps,emits:["clickThumb"],setup(r,{slots:n,emit:a}){const o=()=>{if(n.title)return n.title();if(r.title)return createVNode$1("div",{class:[bem$11("title"),"van-multi-ellipsis--l2"]},[r.title])},s=()=>{if(n.tag||r.tag)return createVNode$1("div",{class:bem$11("tag")},[n.tag?n.tag():createVNode$1(Tag,{mark:!0,type:"primary"},{default:()=>[r.tag]})])},l=()=>n.thumb?n.thumb():createVNode$1(Image$1,{src:r.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:r.lazyLoad},null),c=()=>{if(n.thumb||r.thumb)return createVNode$1("a",{href:r.thumbLink,class:bem$11("thumb"),onClick:f=>a("clickThumb",f)},[l(),s()])},u=()=>{if(n.desc)return n.desc();if(r.desc)return createVNode$1("div",{class:[bem$11("desc"),"van-ellipsis"]},[r.desc])},d=()=>{const f=r.price.toString().split(".");return createVNode$1("div",null,[createVNode$1("span",{class:bem$11("price-currency")},[r.currency]),createVNode$1("span",{class:bem$11("price-integer")},[f[0]]),f.length>1&&createVNode$1(Fragment,null,[createTextVNode("."),createVNode$1("span",{class:bem$11("price-decimal")},[f[1]])])])};return()=>{var f,v,g;const y=n.num||isDef$1(r.num),_=n.price||isDef$1(r.price),b=n["origin-price"]||isDef$1(r.originPrice),T=y||_||b||n.bottom,C=_&&createVNode$1("div",{class:bem$11("price")},[n.price?n.price():d()]),P=b&&createVNode$1("div",{class:bem$11("origin-price")},[n["origin-price"]?n["origin-price"]():`${r.currency} ${r.originPrice}`]),E=y&&createVNode$1("div",{class:bem$11("num")},[n.num?n.num():`x${r.num}`]),M=n.footer&&createVNode$1("div",{class:bem$11("footer")},[n.footer()]),I=T&&createVNode$1("div",{class:bem$11("bottom")},[(f=n["price-top"])==null?void 0:f.call(n),C,P,E,(v=n.bottom)==null?void 0:v.call(n)]);return createVNode$1("div",{class:bem$11()},[createVNode$1("div",{class:bem$11("header")},[c(),createVNode$1("div",{class:bem$11("content",{centered:r.centered})},[createVNode$1("div",null,[o(),u(),(g=n.tags)==null?void 0:g.call(n)]),I])]),M])}}});const Card=withInstall(stdin_default$18),[name$11,bem$10,t$f]=createNamespace("cascader"),cascaderProps={title:String,options:makeArrayProp(),closeable:truthProp,swipeable:truthProp,closeIcon:makeStringProp("cross"),showHeader:truthProp,modelValue:numericProp,fieldNames:Object,placeholder:String,activeColor:String};var stdin_default$17=defineComponent({name:name$11,props:cascaderProps,emits:["close","change","finish","clickTab","update:modelValue"],setup(r,{slots:n,emit:a}){const o=ref([]),s=ref(0),[l,c]=useRefs(),{text:u,value:d,children:f}=extend$1({text:"text",value:"value",children:"children"},r.fieldNames),v=(L,N)=>{for(const V of L){if(V[d]===N)return[V];if(V[f]){const B=v(V[f],N);if(B)return[V,...B]}}},g=()=>{const{options:L,modelValue:N}=r;if(N!==void 0){const V=v(L,N);if(V){let B=L;o.value=V.map(z=>{const G={options:B,selected:z},H=B.find(W=>W[d]===z[d]);return H&&(B=H[f]),G}),B&&o.value.push({options:B,selected:null}),nextTick(()=>{s.value=o.value.length-1});return}}o.value=[{options:L,selected:null}]},y=(L,N)=>{if(L.disabled)return;if(o.value[N].selected=L,o.value.length>N+1&&(o.value=o.value.slice(0,N+1)),L[f]){const z={options:L[f],selected:null};o.value[N+1]?o.value[N+1]=z:o.value.push(z),nextTick(()=>{s.value++})}const V=o.value.map(z=>z.selected).filter(Boolean);a("update:modelValue",L[d]);const B={value:L[d],tabIndex:N,selectedOptions:V};a("change",B),L[f]||a("finish",B)},_=()=>a("close"),b=({name:L,title:N})=>a("clickTab",L,N),T=()=>r.showHeader?createVNode$1("div",{class:bem$10("header")},[createVNode$1("h2",{class:bem$10("title")},[n.title?n.title():r.title]),r.closeable?createVNode$1(Icon,{name:r.closeIcon,class:[bem$10("close-icon"),HAPTICS_FEEDBACK],onClick:_},null):null]):null,C=(L,N,V)=>{const{disabled:B}=L,z=!!(N&&L[d]===N[d]),G=L.color||(z?r.activeColor:void 0),H=n.option?n.option({option:L,selected:z}):createVNode$1("span",null,[L[u]]);return createVNode$1("li",{ref:z?c(V):void 0,role:"menuitemradio",class:[bem$10("option",{selected:z,disabled:B}),L.className],style:{color:G},tabindex:B?void 0:z?0:-1,"aria-checked":z,"aria-disabled":B||void 0,onClick:()=>y(L,V)},[H,z?createVNode$1(Icon,{name:"success",class:bem$10("selected-icon")},null):null])},P=(L,N,V)=>createVNode$1("ul",{role:"menu",class:bem$10("options")},[L.map(B=>C(B,N,V))]),E=(L,N)=>{const{options:V,selected:B}=L,z=r.placeholder||t$f("select"),G=B?B[u]:z;return createVNode$1(Tab,{title:G,titleClass:bem$10("tab",{unselected:!B})},{default:()=>{var H,W;return[(H=n["options-top"])==null?void 0:H.call(n,{tabIndex:N}),P(V,B,N),(W=n["options-bottom"])==null?void 0:W.call(n,{tabIndex:N})]}})},M=()=>createVNode$1(Tabs,{active:s.value,"onUpdate:active":L=>s.value=L,shrink:!0,animated:!0,class:bem$10("tabs"),color:r.activeColor,swipeable:r.swipeable,onClickTab:b},{default:()=>[o.value.map(E)]}),I=L=>{const N=L.parentElement;N&&(N.scrollTop=L.offsetTop-(N.offsetHeight-L.offsetHeight)/2)};return g(),watch(s,L=>{const N=l.value[L];N&&I(N)}),watch(()=>r.options,g,{deep:!0}),watch(()=>r.modelValue,L=>{L!==void 0&&o.value.map(V=>{var B;return(B=V.selected)==null?void 0:B[d]}).includes(L)||g()}),()=>createVNode$1("div",{class:bem$10()},[T(),M()])}});const Cascader=withInstall(stdin_default$17),[name$10,bem$$]=createNamespace("cell-group"),cellGroupProps={title:String,inset:Boolean,border:truthProp};var stdin_default$16=defineComponent({name:name$10,inheritAttrs:!1,props:cellGroupProps,setup(r,{slots:n,attrs:a}){const o=()=>{var l;return createVNode$1("div",mergeProps({class:[bem$$({inset:r.inset}),{[BORDER_TOP_BOTTOM]:r.border&&!r.inset}]},a,useScopeId()),[(l=n.default)==null?void 0:l.call(n)])},s=()=>createVNode$1("div",{class:bem$$("title",{inset:r.inset})},[n.title?n.title():r.title]);return()=>r.title||n.title?createVNode$1(Fragment,null,[s(),o()]):o()}});const CellGroup=withInstall(stdin_default$16),[name$$,bem$_]=createNamespace("circle");let uid=0;const format$2=r=>Math.min(Math.max(+r,0),100);function getPath(r,n){const a=r?1:0;return`M ${n/2} ${n/2} m 0, -500 a 500, 500 0 1, ${a} 0, 1000 a 500, 500 0 1, ${a} 0, -1000`}const circleProps={text:String,size:numericProp,fill:makeStringProp("none"),rate:makeNumericProp(100),speed:makeNumericProp(0),color:[String,Object],clockwise:truthProp,layerColor:String,currentRate:makeNumberProp(0),strokeWidth:makeNumericProp(40),strokeLinecap:String,startPosition:makeStringProp("top")};var stdin_default$15=defineComponent({name:name$$,props:circleProps,emits:["update:currentRate"],setup(r,{emit:n,slots:a}){const o=`van-circle-${uid++}`,s=computed(()=>+r.strokeWidth+1e3),l=computed(()=>getPath(r.clockwise,s.value)),c=computed(()=>{const y={top:0,right:90,bottom:180,left:270}[r.startPosition];if(y)return{transform:`rotate(${y}deg)`}});watch(()=>r.rate,g=>{let y;const _=Date.now(),b=r.currentRate,T=format$2(g),C=Math.abs((b-T)*1e3/+r.speed),P=()=>{const E=Date.now(),I=Math.min((E-_)/C,1)*(T-b)+b;n("update:currentRate",format$2(parseFloat(I.toFixed(1)))),(T>b?I<T:I>T)&&(y=raf(P))};r.speed?(y&&cancelRaf(y),y=raf(P)):n("update:currentRate",T)},{immediate:!0});const u=()=>{const{strokeWidth:y,currentRate:_,strokeLinecap:b}=r,T=3140*_/100,C=isObject$5(r.color)?`url(#${o})`:r.color,P={stroke:C,strokeWidth:`${+y+1}px`,strokeLinecap:b,strokeDasharray:`${T}px 3140px`};return createVNode$1("path",{d:l.value,style:P,class:bem$_("hover"),stroke:C},null)},d=()=>{const g={fill:r.fill,stroke:r.layerColor,strokeWidth:`${r.strokeWidth}px`};return createVNode$1("path",{class:bem$_("layer"),style:g,d:l.value},null)},f=()=>{const{color:g}=r;if(!isObject$5(g))return;const y=Object.keys(g).sort((_,b)=>parseFloat(_)-parseFloat(b)).map((_,b)=>createVNode$1("stop",{key:b,offset:_,"stop-color":g[_]},null));return createVNode$1("defs",null,[createVNode$1("linearGradient",{id:o,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[y])])},v=()=>{if(a.default)return a.default();if(r.text)return createVNode$1("div",{class:bem$_("text")},[r.text])};return()=>createVNode$1("div",{class:bem$_(),style:getSizeStyle(r.size)},[createVNode$1("svg",{viewBox:`0 0 ${s.value} ${s.value}`,style:c.value},[f(),d(),u()]),v()])}});const Circle$1=withInstall(stdin_default$15),[name$_,bem$Z]=createNamespace("row"),ROW_KEY=Symbol(name$_),rowProps={tag:makeStringProp("div"),wrap:truthProp,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var stdin_default$14=defineComponent({name:name$_,props:rowProps,setup(r,{slots:n}){const{children:a,linkChildren:o}=useChildren(ROW_KEY),s=computed(()=>{const u=[[]];let d=0;return a.forEach((f,v)=>{d+=Number(f.span),d>24?(u.push([v]),d-=24):u[u.length-1].push(v)}),u}),l=computed(()=>{let u=0;Array.isArray(r.gutter)?u=Number(r.gutter[0])||0:u=Number(r.gutter);const d=[];return u&&s.value.forEach(f=>{const v=u*(f.length-1)/f.length;f.forEach((g,y)=>{if(y===0)d.push({right:v});else{const _=u-d[g-1].right,b=v-_;d.push({left:_,right:b})}})}),d}),c=computed(()=>{const{gutter:u}=r,d=[];if(Array.isArray(u)&&u.length>1){const f=Number(u[1])||0;if(f<=0)return d;s.value.forEach((v,g)=>{g!==s.value.length-1&&v.forEach(()=>{d.push({bottom:f})})})}return d});return o({spaces:l,verticalSpaces:c}),()=>{const{tag:u,wrap:d,align:f,justify:v}=r;return createVNode$1(u,{class:bem$Z({[`align-${f}`]:f,[`justify-${v}`]:v,nowrap:!d})},{default:()=>{var g;return[(g=n.default)==null?void 0:g.call(n)]}})}}});const[name$Z,bem$Y]=createNamespace("col"),colProps={tag:makeStringProp("div"),span:makeNumericProp(0),offset:numericProp};var stdin_default$13=defineComponent({name:name$Z,props:colProps,setup(r,{slots:n}){const{parent:a,index:o}=useParent(ROW_KEY),s=computed(()=>{if(!a)return;const{spaces:l,verticalSpaces:c}=a;let u={};if(l&&l.value&&l.value[o.value]){const{left:f,right:v}=l.value[o.value];u={paddingLeft:f?`${f}px`:null,paddingRight:v?`${v}px`:null}}const{bottom:d}=c.value[o.value]||{};return extend$1(u,{marginBottom:d?`${d}px`:null})});return()=>{const{tag:l,span:c,offset:u}=r;return createVNode$1(l,{style:s.value,class:bem$Y({[c]:c,[`offset-${u}`]:u})},{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n)]}})}}});const Col=withInstall(stdin_default$13),[name$Y,bem$X]=createNamespace("collapse"),COLLAPSE_KEY=Symbol(name$Y),collapseProps={border:truthProp,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var stdin_default$12=defineComponent({name:name$Y,props:collapseProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const{linkChildren:o,children:s}=useChildren(COLLAPSE_KEY),l=f=>{n("change",f),n("update:modelValue",f)},c=(f,v)=>{const{accordion:g,modelValue:y}=r;l(g?f===y?"":f:v?y.concat(f):y.filter(_=>_!==f))},u=(f={})=>{if(r.accordion)return;typeof f=="boolean"&&(f={expanded:f});const{expanded:v,skipDisabled:g}=f,_=s.filter(b=>b.disabled&&g?b.expanded.value:v??!b.expanded.value).map(b=>b.itemName.value);l(_)},d=f=>{const{accordion:v,modelValue:g}=r;return v?g===f:g.includes(f)};return useExpose({toggleAll:u}),o({toggle:c,isExpanded:d}),()=>{var f;return createVNode$1("div",{class:[bem$X(),{[BORDER_TOP_BOTTOM]:r.border}]},[(f=a.default)==null?void 0:f.call(a)])}}});const Collapse=withInstall(stdin_default$12),[name$X,bem$W]=createNamespace("collapse-item"),CELL_SLOTS=["icon","title","value","label","right-icon"],collapseItemProps=extend$1({},cellSharedProps,{name:numericProp,isLink:truthProp,disabled:Boolean,readonly:Boolean,lazyRender:truthProp});var stdin_default$11=defineComponent({name:name$X,props:collapseItemProps,setup(r,{slots:n}){const a=ref(),o=ref(),{parent:s,index:l}=useParent(COLLAPSE_KEY);if(!s)return;const c=computed(()=>{var T;return(T=r.name)!=null?T:l.value}),u=computed(()=>s.isExpanded(c.value)),d=ref(u.value),f=useLazyRender(()=>d.value||!r.lazyRender),v=()=>{u.value?a.value&&(a.value.style.height=""):d.value=!1};watch(u,(T,C)=>{if(C===null)return;T&&(d.value=!0),(T?nextTick:raf)(()=>{if(!o.value||!a.value)return;const{offsetHeight:E}=o.value;if(E){const M=`${E}px`;a.value.style.height=T?"0":M,doubleRaf(()=>{a.value&&(a.value.style.height=T?M:"0")})}else v()})});const g=(T=!u.value)=>{s.toggle(c.value,T)},y=()=>{!r.disabled&&!r.readonly&&g()},_=()=>{const{border:T,disabled:C,readonly:P}=r,E=pick(r,Object.keys(cellSharedProps));return P&&(E.isLink=!1),(C||P)&&(E.clickable=!1),createVNode$1(Cell,mergeProps({role:"button",class:bem$W("title",{disabled:C,expanded:u.value,borderless:!T}),"aria-expanded":String(u.value),onClick:y},E),pick(n,CELL_SLOTS))},b=f(()=>{var T;return withDirectives(createVNode$1("div",{ref:a,class:bem$W("wrapper"),onTransitionend:v},[createVNode$1("div",{ref:o,class:bem$W("content")},[(T=n.default)==null?void 0:T.call(n)])]),[[vShow,d.value]])});return useExpose({toggle:g,expanded:u,itemName:c}),()=>createVNode$1("div",{class:[bem$W({border:l.value&&r.border})]},[_(),b()])}});const CollapseItem=withInstall(stdin_default$11),ConfigProvider=withInstall(stdin_default$1P),[name$W,bem$V,t$e]=createNamespace("contact-card"),contactCardProps={tel:String,name:String,type:makeStringProp("add"),addText:String,editable:truthProp};var stdin_default$10=defineComponent({name:name$W,props:contactCardProps,emits:["click"],setup(r,{emit:n}){const a=s=>{r.editable&&n("click",s)},o=()=>r.type==="add"?r.addText||t$e("addContact"):[createVNode$1("div",null,[`${t$e("name")}：${r.name}`]),createVNode$1("div",null,[`${t$e("tel")}：${r.tel}`])];return()=>createVNode$1(Cell,{center:!0,icon:r.type==="edit"?"contact":"add-square",class:bem$V([r.type]),border:!1,isLink:r.editable,titleClass:bem$V("title"),onClick:a},{title:o})}});const ContactCard=withInstall(stdin_default$10),[name$V,bem$U,t$d]=createNamespace("contact-edit"),DEFAULT_CONTACT={tel:"",name:""},contactEditProps={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>extend$1({},DEFAULT_CONTACT)},telValidator:{type:Function,default:isMobile}};var stdin_default$$=defineComponent({name:name$V,props:contactEditProps,emits:["save","delete","changeDefault"],setup(r,{emit:n}){const a=reactive(extend$1({},DEFAULT_CONTACT,r.contactInfo)),o=()=>{r.isSaving||n("save",a)},s=()=>n("delete",a),l=()=>createVNode$1("div",{class:bem$U("buttons")},[createVNode$1(Button,{block:!0,round:!0,type:"primary",text:t$d("save"),class:bem$U("button"),loading:r.isSaving,nativeType:"submit"},null),r.isEdit&&createVNode$1(Button,{block:!0,round:!0,text:t$d("delete"),class:bem$U("button"),loading:r.isDeleting,onClick:s},null)]),c=()=>createVNode$1(Switch,{modelValue:a.isDefault,"onUpdate:modelValue":d=>a.isDefault=d,onChange:d=>n("changeDefault",d)},null),u=()=>{if(r.showSetDefault)return createVNode$1(Cell,{title:r.setDefaultLabel,class:bem$U("switch-cell"),border:!1},{"right-icon":c})};return watch(()=>r.contactInfo,d=>extend$1(a,DEFAULT_CONTACT,d)),()=>createVNode$1(Form,{class:bem$U(),onSubmit:o},{default:()=>[createVNode$1("div",{class:bem$U("fields")},[createVNode$1(Field,{modelValue:a.name,"onUpdate:modelValue":d=>a.name=d,clearable:!0,label:t$d("name"),rules:[{required:!0,message:t$d("nameEmpty")}],maxlength:"30",placeholder:t$d("name")},null),createVNode$1(Field,{modelValue:a.tel,"onUpdate:modelValue":d=>a.tel=d,clearable:!0,type:"tel",label:t$d("tel"),rules:[{validator:r.telValidator,message:t$d("telInvalid")}],placeholder:t$d("tel")},null)]),u(),l()]})}});const ContactEdit=withInstall(stdin_default$$),[name$U,bem$T,t$c]=createNamespace("contact-list"),contactListProps={list:Array,addText:String,modelValue:unknownProp,defaultTagText:String};var stdin_default$_=defineComponent({name:name$U,props:contactListProps,emits:["add","edit","select","update:modelValue"],setup(r,{emit:n}){const a=(o,s)=>{const l=()=>{n("update:modelValue",o.id),n("select",o,s)},c=()=>createVNode$1(Radio,{class:bem$T("radio"),name:o.id,iconSize:18},null),u=()=>createVNode$1(Icon,{name:"edit",class:bem$T("edit"),onClick:f=>{f.stopPropagation(),n("edit",o,s)}},null),d=()=>{const f=[`${o.name}，${o.tel}`];return o.isDefault&&r.defaultTagText&&f.push(createVNode$1(Tag,{type:"primary",round:!0,class:bem$T("item-tag")},{default:()=>[r.defaultTagText]})),f};return createVNode$1(Cell,{key:o.id,isLink:!0,center:!0,class:bem$T("item"),titleClass:bem$T("item-title"),onClick:l},{icon:u,title:d,"right-icon":c})};return()=>createVNode$1("div",{class:bem$T()},[createVNode$1(RadioGroup,{modelValue:r.modelValue,class:bem$T("group")},{default:()=>[r.list&&r.list.map(a)]}),createVNode$1("div",{class:[bem$T("bottom"),"van-safe-area-bottom"]},[createVNode$1(Button,{round:!0,block:!0,type:"primary",class:bem$T("add"),text:r.addText||t$c("addContact"),onClick:()=>n("add")},null)])])}});const ContactList=withInstall(stdin_default$_);function parseFormat(r,n){const{days:a}=n;let{hours:o,minutes:s,seconds:l,milliseconds:c}=n;if(r.includes("DD")?r=r.replace("DD",padZero(a)):o+=a*24,r.includes("HH")?r=r.replace("HH",padZero(o)):s+=o*60,r.includes("mm")?r=r.replace("mm",padZero(s)):l+=s*60,r.includes("ss")?r=r.replace("ss",padZero(l)):c+=l*1e3,r.includes("S")){const u=padZero(c,3);r.includes("SSS")?r=r.replace("SSS",u):r.includes("SS")?r=r.replace("SS",u.slice(0,2)):r=r.replace("S",u.charAt(0))}return r}const[name$T,bem$S]=createNamespace("count-down"),countDownProps={time:makeNumericProp(0),format:makeStringProp("HH:mm:ss"),autoStart:truthProp,millisecond:Boolean};var stdin_default$Z=defineComponent({name:name$T,props:countDownProps,emits:["change","finish"],setup(r,{emit:n,slots:a}){const{start:o,pause:s,reset:l,current:c}=useCountDown({time:+r.time,millisecond:r.millisecond,onChange:f=>n("change",f),onFinish:()=>n("finish")}),u=computed(()=>parseFormat(r.format,c.value)),d=()=>{l(+r.time),r.autoStart&&o()};return watch(()=>r.time,d,{immediate:!0}),useExpose({start:o,pause:s,reset:d}),()=>createVNode$1("div",{role:"timer",class:bem$S()},[a.default?a.default(c.value):u.value])}});const CountDown=withInstall(stdin_default$Z);function getDate(r){const n=new Date(r*1e3);return`${n.getFullYear()}.${padZero(n.getMonth()+1)}.${padZero(n.getDate())}`}const formatDiscount=r=>(r/10).toFixed(r%10===0?0:1),formatAmount=r=>(r/100).toFixed(r%100===0?0:r%10===0?1:2),[name$S,bem$R,t$b]=createNamespace("coupon");var stdin_default$Y=defineComponent({name:name$S,props:{chosen:Boolean,coupon:makeRequiredProp(Object),disabled:Boolean,currency:makeStringProp("¥")},setup(r){const n=computed(()=>{const{startAt:s,endAt:l}=r.coupon;return`${getDate(s)} - ${getDate(l)}`}),a=computed(()=>{const{coupon:s,currency:l}=r;if(s.valueDesc)return[s.valueDesc,createVNode$1("span",null,[s.unitDesc||""])];if(s.denominations){const c=formatAmount(s.denominations);return[createVNode$1("span",null,[l]),` ${c}`]}return s.discount?t$b("discount",formatDiscount(s.discount)):""}),o=computed(()=>{const s=formatAmount(r.coupon.originCondition||0);return s==="0"?t$b("unlimited"):t$b("condition",s)});return()=>{const{chosen:s,coupon:l,disabled:c}=r,u=c&&l.reason||l.description;return createVNode$1("div",{class:bem$R({disabled:c})},[createVNode$1("div",{class:bem$R("content")},[createVNode$1("div",{class:bem$R("head")},[createVNode$1("h2",{class:bem$R("amount")},[a.value]),createVNode$1("p",{class:bem$R("condition")},[l.condition||o.value])]),createVNode$1("div",{class:bem$R("body")},[createVNode$1("p",{class:bem$R("name")},[l.name]),createVNode$1("p",{class:bem$R("valid")},[n.value]),!c&&createVNode$1(Checkbox,{class:bem$R("corner"),modelValue:s},null)])]),u&&createVNode$1("p",{class:bem$R("description")},[u])])}}});const Coupon=withInstall(stdin_default$Y),[name$R,bem$Q,t$a]=createNamespace("coupon-cell"),couponCellProps={title:String,border:truthProp,editable:truthProp,coupons:makeArrayProp(),currency:makeStringProp("¥"),chosenCoupon:{type:[Number,Array],default:-1}},getValue=r=>{const{value:n,denominations:a}=r;return isDef$1(n)?n:isDef$1(a)?a:0};function formatValue({coupons:r,chosenCoupon:n,currency:a}){let o=0,s=!1;return(Array.isArray(n)?n:[n]).forEach(l=>{const c=r[+l];c&&(s=!0,o+=getValue(c))}),s?`-${a} ${(o/100).toFixed(2)}`:r.length===0?t$a("noCoupon"):t$a("count",r.length)}var stdin_default$X=defineComponent({name:name$R,props:couponCellProps,setup(r){return()=>{const n=Array.isArray(r.chosenCoupon)?r.chosenCoupon.length:r.coupons[+r.chosenCoupon];return createVNode$1(Cell,{class:bem$Q(),value:formatValue(r),title:r.title||t$a("title"),border:r.border,isLink:r.editable,valueClass:bem$Q("value",{selected:n})},null)}}});const CouponCell=withInstall(stdin_default$X),[name$Q,bem$P]=createNamespace("empty"),emptyProps={image:makeStringProp("default"),imageSize:[Number,String,Array],description:String};var stdin_default$W=defineComponent({name:name$Q,props:emptyProps,setup(r,{slots:n}){const a=()=>{const P=n.description?n.description():r.description;if(P)return createVNode$1("p",{class:bem$P("description")},[P])},o=()=>{if(n.default)return createVNode$1("div",{class:bem$P("bottom")},[n.default()])},s=useId(),l=P=>`${s}-${P}`,c=P=>`url(#${l(P)})`,u=(P,E,M)=>createVNode$1("stop",{"stop-color":P,offset:`${E}%`,"stop-opacity":M},null),d=(P,E)=>[u(P,0),u(E,100)],f=P=>[createVNode$1("defs",null,[createVNode$1("radialGradient",{id:l(P),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[u("#EBEDF0",0),u("#F2F3F5",100,.3)])]),createVNode$1("ellipse",{fill:c(P),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],v=()=>[createVNode$1("defs",null,[createVNode$1("linearGradient",{id:l("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[u("#FFF",0,.5),u("#F2F3F5",100)])]),createVNode$1("g",{opacity:".8","data-allow-mismatch":"children"},[createVNode$1("path",{d:"M36 131V53H16v20H2v58h34z",fill:c("a")},null),createVNode$1("path",{d:"M123 15h22v14h9v77h-31V15z",fill:c("a")},null)])],g=()=>[createVNode$1("defs",null,[createVNode$1("linearGradient",{id:l("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[u("#F2F3F5",0,.3),u("#F2F3F5",100)])]),createVNode$1("g",{opacity:".8","data-allow-mismatch":"children"},[createVNode$1("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:c("b")},null),createVNode$1("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:c("b")},null)])],y=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",{"data-allow-mismatch":"children"},[createVNode$1("linearGradient",{id:l(1),x1:"64%",y1:"100%",x2:"64%"},[u("#FFF",0,.5),u("#F2F3F5",100)]),createVNode$1("linearGradient",{id:l(2),x1:"50%",x2:"50%",y2:"84%"},[u("#EBEDF0",0),u("#DCDEE0",100,0)]),createVNode$1("linearGradient",{id:l(3),x1:"100%",x2:"100%",y2:"100%"},[d("#EAEDF0","#DCDEE0")]),createVNode$1("radialGradient",{id:l(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[u("#EBEDF0",0),u("#FFF",100,0)])]),createVNode$1("g",{fill:"none"},[v(),createVNode$1("path",{fill:c(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),createVNode$1("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:c(2),"data-allow-mismatch":"attribute"},null),createVNode$1("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[createVNode$1("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:c(3)},null),createVNode$1("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:c(3)},null),createVNode$1("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:c(3)},null),createVNode$1("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:c(3)},null)]),createVNode$1("g",{transform:"translate(31 105)"},[createVNode$1("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),createVNode$1("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),createVNode$1("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),_=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",{"data-allow-mismatch":"children"},[createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:l(5)},[d("#F2F3F5","#DCDEE0")]),createVNode$1("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:l(6)},[d("#EAEDF1","#DCDEE0")]),createVNode$1("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:l(7)},[d("#EAEDF1","#DCDEE0")])]),v(),g(),createVNode$1("g",{transform:"translate(36 50)",fill:"none"},[createVNode$1("g",{transform:"translate(8)"},[createVNode$1("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),createVNode$1("rect",{fill:c(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),createVNode$1("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),createVNode$1("g",{transform:"translate(15 17)",fill:c(6),"data-allow-mismatch":"attribute"},[createVNode$1("rect",{width:"34",height:"6",rx:"1"},null),createVNode$1("path",{d:"M0 14h34v6H0z"},null),createVNode$1("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),createVNode$1("rect",{fill:c(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),createVNode$1("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),b=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",null,[createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:l(8),"data-allow-mismatch":"attribute"},[d("#EAEDF1","#DCDEE0")])]),v(),g(),f("c"),createVNode$1("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:c(8),"data-allow-mismatch":"attribute"},null)]),T=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",{"data-allow-mismatch":"children"},[createVNode$1("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:l(9)},[d("#EEE","#D8D8D8")]),createVNode$1("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:l(10)},[d("#F2F3F5","#DCDEE0")]),createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:l(11)},[d("#F2F3F5","#DCDEE0")]),createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:l(12)},[d("#FFF","#F7F8FA")])]),v(),g(),f("d"),createVNode$1("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[createVNode$1("rect",{fill:c(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),createVNode$1("rect",{fill:c(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),createVNode$1("circle",{stroke:c(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),createVNode$1("circle",{fill:c(12),cx:"27",cy:"27",r:"16"},null),createVNode$1("path",{d:"M37 7c-8 0-15 5-16 12",stroke:c(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),C=()=>{var P;if(n.image)return n.image();const E={error:b,search:T,network:y,default:_};return((P=E[r.image])==null?void 0:P.call(E))||createVNode$1("img",{src:r.image},null)};return()=>createVNode$1("div",{class:bem$P()},[createVNode$1("div",{class:bem$P("image"),style:getSizeStyle(r.imageSize)},[C()]),a(),o()])}});const Empty=withInstall(stdin_default$W),[name$P,bem$O,t$9]=createNamespace("coupon-list"),couponListProps={code:makeStringProp(""),coupons:makeArrayProp(),currency:makeStringProp("¥"),showCount:truthProp,emptyImage:String,enabledTitle:String,disabledTitle:String,disabledCoupons:makeArrayProp(),showExchangeBar:truthProp,showCloseButton:truthProp,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:makeNumberProp(1),exchangeButtonText:String,displayedCouponIndex:makeNumberProp(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,chosenCoupon:{type:[Number,Array],default:-1}};var stdin_default$V=defineComponent({name:name$P,props:couponListProps,emits:["change","exchange","update:code"],setup(r,{emit:n,slots:a}){const[o,s]=useRefs(),l=ref(),c=ref(),u=ref(0),d=ref(0),f=ref(r.code),v=computed(()=>!r.exchangeButtonLoading&&(r.exchangeButtonDisabled||!f.value||f.value.length<r.exchangeMinLength)),g=()=>{const M=useRect(l).height,I=useRect(c).height+44;d.value=(M>I?M:windowHeight.value)-I},y=()=>{n("exchange",f.value),r.code||(f.value="")},_=E=>{nextTick(()=>{var M;return(M=o.value[E])==null?void 0:M.scrollIntoView()})},b=()=>createVNode$1(Empty,{image:r.emptyImage},{default:()=>[createVNode$1("p",{class:bem$O("empty-tip")},[t$9("noCoupon")])]}),T=()=>{if(r.showExchangeBar)return createVNode$1("div",{ref:c,class:bem$O("exchange-bar")},[createVNode$1(Field,{modelValue:f.value,"onUpdate:modelValue":E=>f.value=E,clearable:!0,border:!1,class:bem$O("field"),placeholder:r.inputPlaceholder||t$9("placeholder"),maxlength:"20"},null),createVNode$1(Button,{plain:!0,type:"primary",class:bem$O("exchange"),text:r.exchangeButtonText||t$9("exchange"),loading:r.exchangeButtonLoading,disabled:v.value,onClick:y},null)])},C=()=>{const{coupons:E,chosenCoupon:M}=r,I=r.showCount?` (${E.length})`:"",L=(r.enabledTitle||t$9("enable"))+I,N=(V=[],B=0)=>V.includes(B)?V.filter(z=>z!==B):[...V,B];return createVNode$1(Tab,{title:L},{default:()=>{var V;return[createVNode$1("div",{class:bem$O("list",{"with-bottom":r.showCloseButton}),style:{height:`${d.value}px`}},[E.map((B,z)=>createVNode$1(Coupon,{key:B.id,ref:s(z),coupon:B,chosen:Array.isArray(M)?M.includes(z):z===M,currency:r.currency,onClick:()=>n("change",Array.isArray(M)?N(M,z):z)},null)),!E.length&&b(),(V=a["list-footer"])==null?void 0:V.call(a)])]}})},P=()=>{const{disabledCoupons:E}=r,M=r.showCount?` (${E.length})`:"",I=(r.disabledTitle||t$9("disabled"))+M;return createVNode$1(Tab,{title:I},{default:()=>{var L;return[createVNode$1("div",{class:bem$O("list",{"with-bottom":r.showCloseButton}),style:{height:`${d.value}px`}},[E.map(N=>createVNode$1(Coupon,{disabled:!0,key:N.id,coupon:N,currency:r.currency},null)),!E.length&&b(),(L=a["disabled-list-footer"])==null?void 0:L.call(a)])]}})};return watch(()=>r.code,E=>{f.value=E}),watch(windowHeight,g),watch(f,E=>n("update:code",E)),watch(()=>r.displayedCouponIndex,_),onMounted(()=>{g(),_(r.displayedCouponIndex)}),()=>createVNode$1("div",{ref:l,class:bem$O()},[T(),createVNode$1(Tabs,{active:u.value,"onUpdate:active":E=>u.value=E,class:bem$O("tab")},{default:()=>[C(),P()]}),createVNode$1("div",{class:bem$O("bottom")},[a["list-button"]?a["list-button"]():withDirectives(createVNode$1(Button,{round:!0,block:!0,type:"primary",class:bem$O("close"),text:r.closeButtonText||t$9("close"),onClick:()=>n("change",Array.isArray(r.chosenCoupon)?[]:-1)},null),[[vShow,r.showCloseButton]])])])}});const CouponList=withInstall(stdin_default$V),currentYear=new Date().getFullYear(),[name$O]=createNamespace("date-picker"),datePickerProps=extend$1({},sharedProps,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(currentYear-10,0,1),validator:isDate},maxDate:{type:Date,default:()=>new Date(currentYear+10,11,31),validator:isDate}});var stdin_default$U=defineComponent({name:name$O,props:datePickerProps,emits:["confirm","cancel","change","update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref(r.modelValue),s=ref(!1),l=ref(),c=computed(()=>s.value?r.modelValue:o.value),u=L=>L===r.minDate.getFullYear(),d=L=>L===r.maxDate.getFullYear(),f=L=>L===r.minDate.getMonth()+1,v=L=>L===r.maxDate.getMonth()+1,g=L=>{const{minDate:N,columnsType:V}=r,B=V.indexOf(L),z=c.value[B];if(z)return+z;switch(L){case"year":return N.getFullYear();case"month":return N.getMonth()+1;case"day":return N.getDate()}},y=()=>{const L=r.minDate.getFullYear(),N=r.maxDate.getFullYear();return genOptions(L,N,"year",r.formatter,r.filter,c.value)},_=()=>{const L=g("year"),N=u(L)?r.minDate.getMonth()+1:1,V=d(L)?r.maxDate.getMonth()+1:12;return genOptions(N,V,"month",r.formatter,r.filter,c.value)},b=()=>{const L=g("year"),N=g("month"),V=u(L)&&f(N)?r.minDate.getDate():1,B=d(L)&&v(N)?r.maxDate.getDate():getMonthEndDay(L,N);return genOptions(V,B,"day",r.formatter,r.filter,c.value)},T=()=>{var L;return(L=l.value)==null?void 0:L.confirm()},C=()=>o.value,P=computed(()=>r.columnsType.map(L=>{switch(L){case"year":return y();case"month":return _();case"day":return b();default:return[]}}));watch(o,L=>{isSameValue(L,r.modelValue)||n("update:modelValue",L)}),watch(()=>r.modelValue,(L,N)=>{s.value=isSameValue(N,o.value),L=formatValueRange(L,P.value),isSameValue(L,o.value)||(o.value=L),s.value=!1},{immediate:!0});const E=(...L)=>n("change",...L),M=(...L)=>n("cancel",...L),I=(...L)=>n("confirm",...L);return useExpose({confirm:T,getSelectedDate:C}),()=>createVNode$1(Picker,mergeProps({ref:l,modelValue:o.value,"onUpdate:modelValue":L=>o.value=L,columns:P.value,onChange:E,onCancel:M,onConfirm:I},pick(r,pickerInheritKeys)),a)}});const DatePicker=withInstall(stdin_default$U),[name$N,bem$N,t$8]=createNamespace("dialog"),dialogProps=extend$1({},popupSharedProps,{title:String,theme:String,width:numericProp,message:[String,Function],callback:Function,allowHtml:Boolean,className:unknownProp,transition:makeStringProp("van-dialog-bounce"),messageAlign:String,closeOnPopstate:truthProp,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:truthProp,closeOnClickOverlay:Boolean,keyboardEnabled:truthProp}),popupInheritKeys$1=[...popupSharedPropKeys,"transition","closeOnPopstate"];var stdin_default$T=defineComponent({name:name$N,props:dialogProps,emits:["confirm","cancel","keydown","update:show"],setup(r,{emit:n,slots:a}){const o=ref(),s=reactive({confirm:!1,cancel:!1}),l=P=>n("update:show",P),c=P=>{var E;l(!1),(E=r.callback)==null||E.call(r,P)},u=P=>()=>{r.show&&(n(P),r.beforeClose?(s[P]=!0,callInterceptor(r.beforeClose,{args:[P],done(){c(P),s[P]=!1},canceled(){s[P]=!1}})):c(P))},d=u("cancel"),f=u("confirm"),v=withKeys(P=>{var E,M;if(!r.keyboardEnabled||P.target!==((M=(E=o.value)==null?void 0:E.popupRef)==null?void 0:M.value))return;({Enter:r.showConfirmButton?f:noop$2,Escape:r.showCancelButton?d:noop$2})[P.key](),n("keydown",P)},["enter","esc"]),g=()=>{const P=a.title?a.title():r.title;if(P)return createVNode$1("div",{class:bem$N("header",{isolated:!r.message&&!a.default})},[P])},y=P=>{const{message:E,allowHtml:M,messageAlign:I}=r,L=bem$N("message",{"has-title":P,[I]:I}),N=isFunction$1(E)?E():E;return M&&typeof N=="string"?createVNode$1("div",{class:L,innerHTML:N},null):createVNode$1("div",{class:L},[N])},_=()=>{if(a.default)return createVNode$1("div",{class:bem$N("content")},[a.default()]);const{title:P,message:E,allowHtml:M}=r;if(E){const I=!!(P||a.title);return createVNode$1("div",{key:M?1:0,class:bem$N("content",{isolated:!I})},[y(I)])}},b=()=>createVNode$1("div",{class:[BORDER_TOP,bem$N("footer")]},[r.showCancelButton&&createVNode$1(Button,{size:"large",text:r.cancelButtonText||t$8("cancel"),class:bem$N("cancel"),style:{color:r.cancelButtonColor},loading:s.cancel,disabled:r.cancelButtonDisabled,onClick:d},null),r.showConfirmButton&&createVNode$1(Button,{size:"large",text:r.confirmButtonText||t$8("confirm"),class:[bem$N("confirm"),{[BORDER_LEFT]:r.showCancelButton}],style:{color:r.confirmButtonColor},loading:s.confirm,disabled:r.confirmButtonDisabled,onClick:f},null)]),T=()=>createVNode$1(ActionBar,{class:bem$N("footer")},{default:()=>[r.showCancelButton&&createVNode$1(ActionBarButton,{type:"warning",text:r.cancelButtonText||t$8("cancel"),class:bem$N("cancel"),color:r.cancelButtonColor,loading:s.cancel,disabled:r.cancelButtonDisabled,onClick:d},null),r.showConfirmButton&&createVNode$1(ActionBarButton,{type:"danger",text:r.confirmButtonText||t$8("confirm"),class:bem$N("confirm"),color:r.confirmButtonColor,loading:s.confirm,disabled:r.confirmButtonDisabled,onClick:f},null)]}),C=()=>a.footer?a.footer():r.theme==="round-button"?T():b();return()=>{const{width:P,title:E,theme:M,message:I,className:L}=r;return createVNode$1(Popup,mergeProps({ref:o,role:"dialog",class:[bem$N([M]),L],style:{width:addUnit(P)},tabindex:0,"aria-labelledby":E||I,onKeydown:v,"onUpdate:show":l},pick(r,popupInheritKeys$1)),{default:()=>[g(),_(),C()]})}}});const Dialog=withInstall(stdin_default$T),[name$M,bem$M]=createNamespace("divider"),dividerProps={dashed:Boolean,hairline:truthProp,vertical:Boolean,contentPosition:makeStringProp("center")};var stdin_default$S=defineComponent({name:name$M,props:dividerProps,setup(r,{slots:n}){return()=>{var a;return createVNode$1("div",{role:"separator",class:bem$M({dashed:r.dashed,hairline:r.hairline,vertical:r.vertical,[`content-${r.contentPosition}`]:!!n.default&&!r.vertical})},[!r.vertical&&((a=n.default)==null?void 0:a.call(n))])}}});const Divider=withInstall(stdin_default$S),[name$L,bem$L]=createNamespace("dropdown-menu"),dropdownMenuProps={overlay:truthProp,zIndex:numericProp,duration:makeNumericProp(.2),direction:makeStringProp("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:truthProp,closeOnClickOverlay:truthProp,swipeThreshold:numericProp},DROPDOWN_KEY=Symbol(name$L);var stdin_default$R=defineComponent({name:name$L,props:dropdownMenuProps,setup(r,{slots:n}){const a=useId(),o=ref(),s=ref(),l=ref(0),{children:c,linkChildren:u}=useChildren(DROPDOWN_KEY),d=useScrollParent(o),f=computed(()=>c.some(E=>E.state.showWrapper)),v=computed(()=>r.swipeThreshold&&c.length>+r.swipeThreshold),g=computed(()=>{if(f.value&&isDef$1(r.zIndex))return{zIndex:+r.zIndex+1}}),y=()=>{c.forEach(E=>{E.toggle(!1)})},_=()=>{r.closeOnClickOutside&&y()},b=()=>{if(s.value){const E=useRect(s);r.direction==="down"?l.value=E.bottom:l.value=windowHeight.value-E.top}},T=()=>{f.value&&b()},C=E=>{c.forEach((M,I)=>{I===E?M.toggle():M.state.showPopup&&M.toggle(!1,{immediate:!0})})},P=(E,M)=>{const{showPopup:I}=E.state,{disabled:L,titleClass:N}=E;return createVNode$1("div",{id:`${a}-${M}`,role:"button",tabindex:L?void 0:0,"data-allow-mismatch":"attribute",class:[bem$L("item",{disabled:L,grow:v.value}),{[HAPTICS_FEEDBACK]:!L}],onClick:()=>{L||C(M)}},[createVNode$1("span",{class:[bem$L("title",{down:I===(r.direction==="down"),active:I}),N],style:{color:I?r.activeColor:""}},[createVNode$1("div",{class:"van-ellipsis"},[E.renderTitle()])])])};return useExpose({close:y}),u({id:a,props:r,offset:l,updateOffset:b}),useClickAway(o,_),useEventListener("scroll",T,{target:d,passive:!0}),()=>{var E;return createVNode$1("div",{ref:o,class:bem$L()},[createVNode$1("div",{ref:s,style:g.value,class:bem$L("bar",{opened:f.value,scrollable:v.value})},[c.map(P)]),(E=n.default)==null?void 0:E.call(n)])}}});const[name$K,bem$K]=createNamespace("dropdown-item"),dropdownItemProps={title:String,options:makeArrayProp(),disabled:Boolean,teleport:[String,Object],lazyRender:truthProp,modelValue:unknownProp,titleClass:unknownProp};var stdin_default$Q=defineComponent({name:name$K,inheritAttrs:!1,props:dropdownItemProps,emits:["open","opened","close","closed","change","update:modelValue"],setup(r,{emit:n,slots:a,attrs:o}){const s=reactive({showPopup:!1,transition:!0,showWrapper:!1}),l=ref(),{parent:c,index:u}=useParent(DROPDOWN_KEY);if(!c)return;const d=E=>()=>n(E),f=d("open"),v=d("close"),g=d("opened"),y=()=>{s.showWrapper=!1,n("closed")},_=E=>{r.teleport&&E.stopPropagation()},b=(E=!s.showPopup,M={})=>{E!==s.showPopup&&(s.showPopup=E,s.transition=!M.immediate,E&&(c.updateOffset(),s.showWrapper=!0))},T=()=>{if(a.title)return a.title();if(r.title)return r.title;const E=r.options.find(M=>M.value===r.modelValue);return E?E.text:""},C=E=>{const{activeColor:M}=c.props,{disabled:I}=E,L=E.value===r.modelValue,N=()=>{I||(s.showPopup=!1,E.value!==r.modelValue&&(n("update:modelValue",E.value),n("change",E.value)))},V=()=>{if(L)return createVNode$1(Icon,{class:bem$K("icon"),color:I?void 0:M,name:"success"},null)};return createVNode$1(Cell,{role:"menuitem",key:String(E.value),icon:E.icon,title:E.text,class:bem$K("option",{active:L,disabled:I}),style:{color:L?M:""},tabindex:L?0:-1,clickable:!I,onClick:N},{value:V})},P=()=>{const{offset:E}=c,{autoLocate:M,zIndex:I,overlay:L,duration:N,direction:V,closeOnClickOverlay:B}=c.props,z=getZIndexStyle(I);let G=E.value;if(M&&l.value){const H=getContainingBlock$1(l.value);H&&(G-=useRect(H).top)}return V==="down"?z.top=`${G}px`:z.bottom=`${G}px`,withDirectives(createVNode$1("div",mergeProps({ref:l,style:z,class:bem$K([V]),onClick:_},o),[createVNode$1(Popup,{show:s.showPopup,"onUpdate:show":H=>s.showPopup=H,role:"menu",class:bem$K("content"),overlay:L,position:V==="down"?"top":"bottom",duration:s.transition?N:0,lazyRender:r.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${c.id}-${u.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:B,onOpen:f,onClose:v,onOpened:g,onClosed:y},{default:()=>{var H;return[r.options.map(C),(H=a.default)==null?void 0:H.call(a)]}})]),[[vShow,s.showWrapper]])};return useExpose({state:s,toggle:b,renderTitle:T}),()=>r.teleport?createVNode$1(Teleport,{to:r.teleport},{default:()=>[P()]}):P()}});const DropdownItem=withInstall(stdin_default$Q),DropdownMenu=withInstall(stdin_default$R),floatingBubbleProps={gap:makeNumberProp(24),icon:String,axis:makeStringProp("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[name$J,bem$J]=createNamespace("floating-bubble");var stdin_default$P=defineComponent({name:name$J,inheritAttrs:!1,props:floatingBubbleProps,emits:["click","update:offset","offsetChange"],setup(r,{slots:n,emit:a,attrs:o}){const s=ref(),l=ref({x:0,y:0,width:0,height:0}),c=computed(()=>({top:r.gap,right:windowWidth.value-l.value.width-r.gap,bottom:windowHeight.value-l.value.height-r.gap,left:r.gap})),u=ref(!1);let d=!1;const f=computed(()=>{const M={},I=addUnit(l.value.x),L=addUnit(l.value.y);return M.transform=`translate3d(${I}, ${L}, 0)`,(u.value||!d)&&(M.transition="none"),M}),v=()=>{if(!E.value)return;const{width:M,height:I}=useRect(s.value),{offset:L}=r;l.value={x:L.x>-1?L.x:windowWidth.value-M-r.gap,y:L.y>-1?L.y:windowHeight.value-I-r.gap,width:M,height:I}},g=useTouch();let y=0,_=0;const b=M=>{g.start(M),u.value=!0,y=l.value.x,_=l.value.y};useEventListener("touchmove",M=>{if(M.preventDefault(),g.move(M),r.axis!=="lock"&&!g.isTap.value){if(r.axis==="x"||r.axis==="xy"){let L=y+g.deltaX.value;L<c.value.left&&(L=c.value.left),L>c.value.right&&(L=c.value.right),l.value.x=L}if(r.axis==="y"||r.axis==="xy"){let L=_+g.deltaY.value;L<c.value.top&&(L=c.value.top),L>c.value.bottom&&(L=c.value.bottom),l.value.y=L}const I=pick(l.value,["x","y"]);a("update:offset",I)}},{target:s});const C=()=>{u.value=!1,nextTick(()=>{if(r.magnetic==="x"){const M=closest([c.value.left,c.value.right],l.value.x);l.value.x=M}if(r.magnetic==="y"){const M=closest([c.value.top,c.value.bottom],l.value.y);l.value.y=M}if(!g.isTap.value){const M=pick(l.value,["x","y"]);a("update:offset",M),(y!==M.x||_!==M.y)&&a("offsetChange",M)}})},P=M=>{g.isTap.value?a("click",M):M.stopPropagation()};onMounted(()=>{v(),nextTick(()=>{d=!0})}),watch([windowWidth,windowHeight,()=>r.gap,()=>r.offset],v,{deep:!0});const E=ref(!0);return onActivated(()=>{E.value=!0}),onDeactivated(()=>{r.teleport&&(E.value=!1)}),()=>{const M=withDirectives(createVNode$1("div",mergeProps({class:bem$J(),ref:s,onTouchstartPassive:b,onTouchend:C,onTouchcancel:C,onClickCapture:P,style:f.value},o),[n.default?n.default():createVNode$1(stdin_default$1N,{name:r.icon,class:bem$J("icon")},null)]),[[vShow,E.value]]);return r.teleport?createVNode$1(Teleport,{to:r.teleport},{default:()=>[M]}):M}}});const FloatingBubble=withInstall(stdin_default$P),floatingPanelProps={height:makeNumericProp(0),anchors:makeArrayProp(),duration:makeNumericProp(.3),contentDraggable:truthProp,lockScroll:Boolean,safeAreaInsetBottom:truthProp},[name$I,bem$I]=createNamespace("floating-panel");var stdin_default$O=defineComponent({name:name$I,props:floatingPanelProps,emits:["heightChange","update:height"],setup(r,{emit:n,slots:a}){const s=ref(),l=ref(),c=useSyncPropRef(()=>+r.height,M=>n("update:height",M)),u=computed(()=>{var M,I;return{min:(M=r.anchors[0])!=null?M:100,max:(I=r.anchors[r.anchors.length-1])!=null?I:Math.round(windowHeight.value*.6)}}),d=computed(()=>r.anchors.length>=2?r.anchors:[u.value.min,u.value.max]),f=ref(!1),v=computed(()=>({height:addUnit(u.value.max),transform:`translateY(calc(100% + ${addUnit(-c.value)}))`,transition:f.value?"none":`transform ${r.duration}s cubic-bezier(0.18, 0.89, 0.32, 1.28)`})),g=M=>{const I=Math.abs(M),{min:L,max:N}=u.value;return I>N?-(N+(I-N)*.2):I<L?-(L-(L-I)*.2):M};let y,_=-1;const b=useTouch(),T=M=>{b.start(M),f.value=!0,y=-c.value,_=-1},C=M=>{var I;b.move(M);const L=M.target;if(l.value===L||(I=l.value)!=null&&I.contains(L)){const{scrollTop:V}=l.value;if(_=Math.max(_,V),!r.contentDraggable)return;if(-y<u.value.max)preventDefault$1(M,!0);else if(!(V<=0&&b.deltaY.value>0)||_>0)return}const N=b.deltaY.value+y;c.value=-g(N)},P=()=>{_=-1,f.value=!1,c.value=closest(d.value,c.value),c.value!==-y&&n("heightChange",{height:c.value})};watch(u,()=>{c.value=closest(d.value,c.value)},{immediate:!0}),useLockScroll(s,()=>r.lockScroll||f.value),useEventListener("touchmove",C,{target:s});const E=()=>a.header?a.header():createVNode$1("div",{class:bem$I("header")},[createVNode$1("div",{class:bem$I("header-bar")},null)]);return()=>{var M;return createVNode$1("div",{class:[bem$I(),{"van-safe-area-bottom":r.safeAreaInsetBottom}],ref:s,style:v.value,onTouchstartPassive:T,onTouchend:P,onTouchcancel:P},[E(),createVNode$1("div",{class:bem$I("content"),ref:l},[(M=a.default)==null?void 0:M.call(a)])])}}});const FloatingPanel=withInstall(stdin_default$O),[name$H,bem$H]=createNamespace("grid"),gridProps={square:Boolean,center:truthProp,border:truthProp,gutter:numericProp,reverse:Boolean,iconSize:numericProp,direction:String,clickable:Boolean,columnNum:makeNumericProp(4)},GRID_KEY=Symbol(name$H);var stdin_default$N=defineComponent({name:name$H,props:gridProps,setup(r,{slots:n}){const{linkChildren:a}=useChildren(GRID_KEY);return a({props:r}),()=>{var o;return createVNode$1("div",{style:{paddingLeft:addUnit(r.gutter)},class:[bem$H(),{[BORDER_TOP]:r.border&&!r.gutter}]},[(o=n.default)==null?void 0:o.call(n)])}}});const Grid$1=withInstall(stdin_default$N),[name$G,bem$G]=createNamespace("grid-item"),gridItemProps=extend$1({},routeProps,{dot:Boolean,text:String,icon:String,badge:numericProp,iconColor:String,iconPrefix:String,badgeProps:Object});var stdin_default$M=defineComponent({name:name$G,props:gridItemProps,setup(r,{slots:n}){const{parent:a,index:o}=useParent(GRID_KEY),s=useRoute();if(!a)return;const l=computed(()=>{const{square:v,gutter:g,columnNum:y}=a.props,_=`${100/+y}%`,b={flexBasis:_};if(v)b.paddingTop=_;else if(g){const T=addUnit(g);b.paddingRight=T,o.value>=+y&&(b.marginTop=T)}return b}),c=computed(()=>{const{square:v,gutter:g}=a.props;if(v&&g){const y=addUnit(g);return{right:y,bottom:y,height:"auto"}}}),u=()=>{if(n.icon)return createVNode$1(Badge,mergeProps({dot:r.dot,content:r.badge},r.badgeProps),{default:n.icon});if(r.icon)return createVNode$1(Icon,{dot:r.dot,name:r.icon,size:a.props.iconSize,badge:r.badge,class:bem$G("icon"),color:r.iconColor,badgeProps:r.badgeProps,classPrefix:r.iconPrefix},null)},d=()=>{if(n.text)return n.text();if(r.text)return createVNode$1("span",{class:bem$G("text")},[r.text])},f=()=>n.default?n.default():[u(),d()];return()=>{const{center:v,border:g,square:y,gutter:_,reverse:b,direction:T,clickable:C}=a.props,P=[bem$G("content",[T,{center:v,square:y,reverse:b,clickable:C,surround:g&&_}]),{[BORDER]:g}];return createVNode$1("div",{class:[bem$G({square:y})],style:l.value},[createVNode$1("div",{role:C?"button":void 0,class:P,style:c.value,tabindex:C?0:void 0,onClick:s},[f()])])}}});const GridItem=withInstall(stdin_default$M),[name$F,bem$F]=createNamespace("highlight"),highlightProps={autoEscape:truthProp,caseSensitive:Boolean,highlightClass:String,highlightTag:makeStringProp("span"),keywords:makeRequiredProp([String,Array]),sourceString:makeStringProp(""),tag:makeStringProp("div"),unhighlightClass:String,unhighlightTag:makeStringProp("span")};var stdin_default$L=defineComponent({name:name$F,props:highlightProps,setup(r){const n=computed(()=>{const{autoEscape:o,caseSensitive:s,keywords:l,sourceString:c}=r,u=s?"g":"gi";let f=(Array.isArray(l)?l:[l]).filter(g=>g).reduce((g,y)=>{o&&(y=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const _=new RegExp(y,u);let b;for(;b=_.exec(c);){const T=b.index,C=_.lastIndex;if(T>=C){_.lastIndex++;continue}g.push({start:T,end:C,highlight:!0})}return g},[]);f=f.sort((g,y)=>g.start-y.start).reduce((g,y)=>{const _=g[g.length-1];if(!_||y.start>_.end){const b=_?_.end:0,T=y.start;b!==T&&g.push({start:b,end:T,highlight:!1}),g.push(y)}else _.end=Math.max(_.end,y.end);return g},[]);const v=f[f.length-1];return v||f.push({start:0,end:c.length,highlight:!1}),v&&v.end<c.length&&f.push({start:v.end,end:c.length,highlight:!1}),f}),a=()=>{const{sourceString:o,highlightClass:s,unhighlightClass:l,highlightTag:c,unhighlightTag:u}=r;return n.value.map(d=>{const{start:f,end:v,highlight:g}=d,y=o.slice(f,v);return g?createVNode$1(c,{class:[bem$F("tag"),s]},{default:()=>[y]}):createVNode$1(u,{class:l},{default:()=>[y]})})};return()=>{const{tag:o}=r;return createVNode$1(o,{class:bem$F()},{default:()=>[a()]})}}});const Highlight=withInstall(stdin_default$L),getDistance=r=>Math.sqrt((r[0].clientX-r[1].clientX)**2+(r[0].clientY-r[1].clientY)**2),getCenter=r=>({x:(r[0].clientX+r[1].clientX)/2,y:(r[0].clientY+r[1].clientY)/2}),bem$E=createNamespace("image-preview")[1],longImageRatio=2.6,imagePreviewItemProps={src:String,show:Boolean,active:Number,minZoom:makeRequiredProp(numericProp),maxZoom:makeRequiredProp(numericProp),rootWidth:makeRequiredProp(Number),rootHeight:makeRequiredProp(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var stdin_default$K=defineComponent({props:imagePreviewItemProps,emits:["scale","close","longPress"],setup(r,{emit:n,slots:a}){const o=reactive({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),s=useTouch(),l=ref(),c=ref(),u=ref(!1),d=ref(!1);let f=0;const v=computed(()=>{const{scale:q,moveX:le,moveY:ae,moving:he,zooming:ve,initializing:ce}=o,fe={transitionDuration:ve||he||ce?"0s":".3s"};return(q!==1||d.value)&&(fe.transform=`matrix(${q}, 0, 0, ${q}, ${le}, ${ae})`),fe}),g=computed(()=>{if(o.imageRatio){const{rootWidth:q,rootHeight:le}=r,ae=u.value?le/o.imageRatio:q;return Math.max(0,(o.scale*ae-q)/2)}return 0}),y=computed(()=>{if(o.imageRatio){const{rootWidth:q,rootHeight:le}=r,ae=u.value?le:q*o.imageRatio;return Math.max(0,(o.scale*ae-le)/2)}return 0}),_=(q,le)=>{var ae;if(q=clamp$1(q,+r.minZoom,+r.maxZoom+1),q!==o.scale){const he=q/o.scale;if(o.scale=q,le){const ve=useRect((ae=l.value)==null?void 0:ae.$el),ce={x:ve.width*.5,y:ve.height*.5},fe=o.moveX-(le.x-ve.left-ce.x)*(he-1),_e=o.moveY-(le.y-ve.top-ce.y)*(he-1);o.moveX=clamp$1(fe,-g.value,g.value),o.moveY=clamp$1(_e,-y.value,y.value)}else o.moveX=0,o.moveY=d.value?f:0;n("scale",{scale:q,index:r.active})}},b=()=>{_(1)},T=()=>{const q=o.scale>1?1:2;_(q,q===2||d.value?{x:s.startX.value,y:s.startY.value}:void 0)};let C,P,E,M,I,L,N,V,B=!1;const z=q=>{const{touches:le}=q;if(C=le.length,C===2&&r.disableZoom)return;const{offsetX:ae}=s;s.start(q),P=o.moveX,E=o.moveY,V=Date.now(),B=!1,o.moving=C===1&&(o.scale!==1||d.value),o.zooming=C===2&&!ae.value,o.zooming&&(M=o.scale,I=getDistance(le))},G=q=>{const{touches:le}=q;if(s.move(q),o.moving){const{deltaX:ae,deltaY:he}=s,ve=ae.value+P,ce=he.value+E;if((r.vertical?s.isVertical()&&Math.abs(ce)>y.value:s.isHorizontal()&&Math.abs(ve)>g.value)&&!B){o.moving=!1;return}B=!0,preventDefault$1(q,!0),o.moveX=clamp$1(ve,-g.value,g.value),o.moveY=clamp$1(ce,-y.value,y.value)}if(o.zooming&&(preventDefault$1(q,!0),le.length===2)){const ae=getDistance(le),he=M*ae/I;L=getCenter(le),_(he,L)}},H=q=>{var le;const ae=(le=c.value)==null?void 0:le.$el;if(!ae)return;const he=ae.firstElementChild,ve=q.target===ae,ce=he==null?void 0:he.contains(q.target);!r.closeOnClickImage&&ce||!r.closeOnClickOverlay&&ve||n("close")},W=q=>{if(C>1)return;const le=Date.now()-V,ae=250;s.isTap.value&&(le<ae?r.doubleScale?N?(clearTimeout(N),N=null,T()):N=setTimeout(()=>{H(q),N=null},ae):H(q):le>LONG_PRESS_START_TIME&&n("longPress"))},j=q=>{let le=!1;if((o.moving||o.zooming)&&(le=!0,o.moving&&P===o.moveX&&E===o.moveY&&(le=!1),!q.touches.length)){o.zooming&&(o.moveX=clamp$1(o.moveX,-g.value,g.value),o.moveY=clamp$1(o.moveY,-y.value,y.value),o.zooming=!1),o.moving=!1,P=0,E=0,M=1,o.scale<1&&b();const ae=+r.maxZoom;o.scale>ae&&_(ae,L)}preventDefault$1(q,le),W(q),s.reset()},X=()=>{const{rootWidth:q,rootHeight:le}=r,ae=le/q,{imageRatio:he}=o;u.value=o.imageRatio>ae&&he<longImageRatio,d.value=o.imageRatio>ae&&he>=longImageRatio,d.value&&(f=(he*q-le)/2,o.moveY=f,o.initializing=!0,raf(()=>{o.initializing=!1})),b()},Z=q=>{const{naturalWidth:le,naturalHeight:ae}=q.target;o.imageRatio=ae/le,X()};return watch(()=>r.active,b),watch(()=>r.show,q=>{q||b()}),watch(()=>[r.rootWidth,r.rootHeight],X),useEventListener("touchmove",G,{target:computed(()=>{var q;return(q=c.value)==null?void 0:q.$el})}),useExpose({resetScale:b}),()=>{const q={loading:()=>createVNode$1(Loading,{type:"spinner"},null)};return createVNode$1(SwipeItem,{ref:c,class:bem$E("swipe-item"),onTouchstartPassive:z,onTouchend:j,onTouchcancel:j},{default:()=>[a.image?createVNode$1("div",{class:bem$E("image-wrap")},[a.image({src:r.src,onLoad:Z,style:v.value})]):createVNode$1(Image$1,{ref:l,src:r.src,fit:"contain",class:bem$E("image",{vertical:u.value}),style:v.value,onLoad:Z},q)]})}}});const[name$E,bem$D]=createNamespace("image-preview"),popupProps$1=["show","teleport","transition","overlayStyle","closeOnPopstate"],imagePreviewProps={show:Boolean,loop:truthProp,images:makeArrayProp(),minZoom:makeNumericProp(1/3),maxZoom:makeNumericProp(3),overlay:truthProp,vertical:Boolean,closeable:Boolean,showIndex:truthProp,className:unknownProp,closeIcon:makeStringProp("clear"),transition:String,beforeClose:Function,doubleScale:truthProp,overlayClass:unknownProp,overlayStyle:Object,swipeDuration:makeNumericProp(300),startPosition:makeNumericProp(0),showIndicators:Boolean,closeOnPopstate:truthProp,closeOnClickImage:truthProp,closeOnClickOverlay:truthProp,closeIconPosition:makeStringProp("top-right"),teleport:[String,Object]};var stdin_default$J=defineComponent({name:name$E,props:imagePreviewProps,emits:["scale","close","closed","change","longPress","update:show"],setup(r,{emit:n,slots:a}){const o=ref(),s=ref(),l=reactive({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),c=()=>{if(o.value){const M=useRect(o.value.$el);l.rootWidth=M.width,l.rootHeight=M.height,o.value.resize()}},u=M=>n("scale",M),d=M=>n("update:show",M),f=()=>{callInterceptor(r.beforeClose,{args:[l.active],done:()=>d(!1)})},v=M=>{M!==l.active&&(l.active=M,n("change",M))},g=()=>{if(r.showIndex)return createVNode$1("div",{class:bem$D("index")},[a.index?a.index({index:l.active}):`${l.active+1} / ${r.images.length}`])},y=()=>{if(a.cover)return createVNode$1("div",{class:bem$D("cover")},[a.cover()])},_=()=>{l.disableZoom=!0},b=()=>{l.disableZoom=!1},T=()=>createVNode$1(Swipe,{ref:o,lazyRender:!0,loop:r.loop,class:bem$D("swipe"),vertical:r.vertical,duration:r.swipeDuration,initialSwipe:r.startPosition,showIndicators:r.showIndicators,indicatorColor:"white",onChange:v,onDragEnd:b,onDragStart:_},{default:()=>[r.images.map((M,I)=>createVNode$1(stdin_default$K,{ref:L=>{I===l.active&&(s.value=L)},src:M,show:r.show,active:l.active,maxZoom:r.maxZoom,minZoom:r.minZoom,rootWidth:l.rootWidth,rootHeight:l.rootHeight,disableZoom:l.disableZoom,doubleScale:r.doubleScale,closeOnClickImage:r.closeOnClickImage,closeOnClickOverlay:r.closeOnClickOverlay,vertical:r.vertical,onScale:u,onClose:f,onLongPress:()=>n("longPress",{index:I})},{image:a.image}))]}),C=()=>{if(r.closeable)return createVNode$1(Icon,{role:"button",name:r.closeIcon,class:[bem$D("close-icon",r.closeIconPosition),HAPTICS_FEEDBACK],onClick:f},null)},P=()=>n("closed"),E=(M,I)=>{var L;return(L=o.value)==null?void 0:L.swipeTo(M,I)};return useExpose({resetScale:()=>{var M;(M=s.value)==null||M.resetScale()},swipeTo:E}),onMounted(c),watch([windowWidth,windowHeight],c),watch(()=>r.startPosition,M=>v(+M)),watch(()=>r.show,M=>{const{images:I,startPosition:L}=r;M?(v(+L),nextTick(()=>{c(),E(+L,{immediate:!0})})):n("close",{index:l.active,url:I[l.active]})}),()=>createVNode$1(Popup,mergeProps({class:[bem$D(),r.className],overlayClass:[bem$D("overlay"),r.overlayClass],onClosed:P,"onUpdate:show":d},pick(r,popupProps$1)),{default:()=>[C(),T(),g(),y()]})}});let instance;const defaultConfig={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function initInstance(){({instance}=mountComponent({setup(){const{state:r,toggle:n}=usePopupState(),a=()=>{r.images=[]};return()=>createVNode$1(stdin_default$J,mergeProps(r,{onClosed:a,"onUpdate:show":n}),null)}}))}const showImagePreview=(r,n=0)=>{if(inBrowser$1)return instance||initInstance(),r=Array.isArray(r)?{images:r,startPosition:n}:r,instance.open(extend$1({},defaultConfig,r)),instance},ImagePreview=withInstall(stdin_default$J);function genAlphabet(){return Array(26).fill("").map((a,o)=>String.fromCharCode(65+o))}const[name$D,bem$C]=createNamespace("index-bar"),indexBarProps={sticky:truthProp,zIndex:numericProp,teleport:[String,Object],highlightColor:String,stickyOffsetTop:makeNumberProp(0),indexList:{type:Array,default:genAlphabet}},INDEX_BAR_KEY=Symbol(name$D);var stdin_default$I=defineComponent({name:name$D,props:indexBarProps,emits:["select","change"],setup(r,{emit:n,slots:a}){const o=ref(),s=ref(),l=ref(""),c=useTouch(),u=useScrollParent(o),{children:d,linkChildren:f}=useChildren(INDEX_BAR_KEY);let v;f({props:r});const g=computed(()=>{if(isDef$1(r.zIndex))return{zIndex:+r.zIndex+1}}),y=computed(()=>{if(r.highlightColor)return{color:r.highlightColor}}),_=(B,z)=>{for(let G=d.length-1;G>=0;G--){const H=G>0?z[G-1].height:0,W=r.sticky?H+r.stickyOffsetTop:0;if(B+W>=z[G].top)return G}return-1},b=B=>d.find(z=>String(z.index)===B),T=()=>{if(isHidden(o))return;const{sticky:B,indexList:z}=r,G=getScrollTop(u.value),H=useRect(u),W=d.map(X=>X.getRect(u.value,H));let j=-1;if(v){const X=b(v);if(X){const Z=X.getRect(u.value,H);r.sticky&&r.stickyOffsetTop?j=_(Z.top-r.stickyOffsetTop,W):j=_(Z.top,W)}}else j=_(G,W);l.value=z[j],B&&d.forEach((X,Z)=>{const{state:q,$el:le}=X;if(Z===j||Z===j-1){const ae=le.getBoundingClientRect();q.left=ae.left,q.width=ae.width}else q.left=null,q.width=null;if(Z===j)q.active=!0,q.top=Math.max(r.stickyOffsetTop,W[Z].top-G)+H.top;else if(Z===j-1&&v===""){const ae=W[j].top-G;q.active=ae>0,q.top=ae+H.top-W[Z].height}else q.active=!1}),v=""},C=()=>{nextTick(T)};useEventListener("scroll",T,{target:u,passive:!0}),onMounted(C),watch(()=>r.indexList,C),watch(l,B=>{B&&n("change",B)});const P=()=>r.indexList.map(B=>{const z=B===l.value;return createVNode$1("span",{class:bem$C("index",{active:z}),style:z?y.value:void 0,"data-index":B},[B])}),E=B=>{v=String(B);const z=b(v);if(z){const G=getScrollTop(u.value),H=useRect(u),{offsetHeight:W}=document.documentElement;if(z.$el.scrollIntoView(),G===W-H.height){T();return}r.sticky&&r.stickyOffsetTop&&(getRootScrollTop()===W-H.height?setRootScrollTop(getRootScrollTop()):setRootScrollTop(getRootScrollTop()-r.stickyOffsetTop)),n("select",z.index)}},M=B=>{const{index:z}=B.dataset;z&&E(z)},I=B=>{M(B.target)};let L;const N=B=>{if(c.move(B),c.isVertical()){preventDefault$1(B);const{clientX:z,clientY:G}=B.touches[0],H=document.elementFromPoint(z,G);if(H){const{index:W}=H.dataset;W&&L!==W&&(L=W,M(H))}}},V=()=>createVNode$1("div",{ref:s,class:bem$C("sidebar"),style:g.value,onClick:I,onTouchstartPassive:c.start},[P()]);return useExpose({scrollTo:E}),useEventListener("touchmove",N,{target:s}),()=>{var B;return createVNode$1("div",{ref:o,class:bem$C()},[r.teleport?createVNode$1(Teleport,{to:r.teleport},{default:()=>[V()]}):V(),(B=a.default)==null?void 0:B.call(a)])}}});const[name$C,bem$B]=createNamespace("index-anchor"),indexAnchorProps={index:numericProp};var stdin_default$H=defineComponent({name:name$C,props:indexAnchorProps,setup(r,{slots:n}){const a=reactive({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=ref(),{parent:s}=useParent(INDEX_BAR_KEY);if(!s)return;const l=()=>a.active&&s.props.sticky,c=computed(()=>{const{zIndex:d,highlightColor:f}=s.props;if(l())return extend$1(getZIndexStyle(d),{left:a.left?`${a.left}px`:void 0,width:a.width?`${a.width}px`:void 0,transform:a.top?`translate3d(0, ${a.top}px, 0)`:void 0,color:f})});return useExpose({state:a,getRect:(d,f)=>{const v=useRect(o);return a.rect.height=v.height,d===window||d===document.body?a.rect.top=v.top+getRootScrollTop():a.rect.top=v.top+getScrollTop(d)-f.top,a.rect}}),()=>{const d=l();return createVNode$1("div",{ref:o,style:{height:d?`${a.rect.height}px`:void 0}},[createVNode$1("div",{style:c.value,class:[bem$B({sticky:d}),{[BORDER_BOTTOM]:d}]},[n.default?n.default():r.index])])}}});const IndexAnchor=withInstall(stdin_default$H),IndexBar=withInstall(stdin_default$I),[name$B,bem$A,t$7]=createNamespace("list"),listProps={error:Boolean,offset:makeNumericProp(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:makeStringProp("down"),loadingText:String,finishedText:String,immediateCheck:truthProp};var stdin_default$G=defineComponent({name:name$B,props:listProps,emits:["load","update:error","update:loading"],setup(r,{emit:n,slots:a}){const o=ref(r.loading),s=ref(),l=ref(),c=useTabStatus(),u=useScrollParent(s),d=computed(()=>r.scroller||u.value),f=()=>{nextTick(()=>{if(o.value||r.finished||r.disabled||r.error||(c==null?void 0:c.value)===!1)return;const{direction:b}=r,T=+r.offset,C=useRect(d);if(!C.height||isHidden(s))return;let P=!1;const E=useRect(l);b==="up"?P=C.top-E.top<=T:P=E.bottom-C.bottom<=T,P&&(o.value=!0,n("update:loading",!0),n("load"))})},v=()=>{if(r.finished){const b=a.finished?a.finished():r.finishedText;if(b)return createVNode$1("div",{class:bem$A("finished-text")},[b])}},g=()=>{n("update:error",!1),f()},y=()=>{if(r.error){const b=a.error?a.error():r.errorText;if(b)return createVNode$1("div",{role:"button",class:bem$A("error-text"),tabindex:0,onClick:g},[b])}},_=()=>{if(o.value&&!r.finished&&!r.disabled)return createVNode$1("div",{class:bem$A("loading")},[a.loading?a.loading():createVNode$1(Loading,{class:bem$A("loading-icon")},{default:()=>[r.loadingText||t$7("loading")]})])};return watch(()=>[r.loading,r.finished,r.error],f),c&&watch(c,b=>{b&&f()}),onUpdated(()=>{o.value=r.loading}),onMounted(()=>{r.immediateCheck&&f()}),useExpose({check:f}),useEventListener("scroll",f,{target:d,passive:!0}),()=>{var b;const T=(b=a.default)==null?void 0:b.call(a),C=createVNode$1("div",{ref:l,class:bem$A("placeholder")},null);return createVNode$1("div",{ref:s,role:"feed",class:bem$A(),"aria-busy":o.value},[r.direction==="down"?T:C,_(),v(),y(),r.direction==="up"?T:C])}}});const List=withInstall(stdin_default$G),[name$A,bem$z]=createNamespace("nav-bar"),navBarProps={title:String,fixed:Boolean,zIndex:numericProp,border:truthProp,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:truthProp};var stdin_default$F=defineComponent({name:name$A,props:navBarProps,emits:["clickLeft","clickRight"],setup(r,{emit:n,slots:a}){const o=ref(),s=usePlaceholder(o,bem$z),l=v=>{r.leftDisabled||n("clickLeft",v)},c=v=>{r.rightDisabled||n("clickRight",v)},u=()=>a.left?a.left():[r.leftArrow&&createVNode$1(Icon,{class:bem$z("arrow"),name:"arrow-left"},null),r.leftText&&createVNode$1("span",{class:bem$z("text")},[r.leftText])],d=()=>a.right?a.right():createVNode$1("span",{class:bem$z("text")},[r.rightText]),f=()=>{const{title:v,fixed:g,border:y,zIndex:_}=r,b=getZIndexStyle(_),T=r.leftArrow||r.leftText||a.left,C=r.rightText||a.right;return createVNode$1("div",{ref:o,style:b,class:[bem$z({fixed:g}),{[BORDER_BOTTOM]:y,"van-safe-area-top":r.safeAreaInsetTop}]},[createVNode$1("div",{class:bem$z("content")},[T&&createVNode$1("div",{class:[bem$z("left",{disabled:r.leftDisabled}),r.clickable&&!r.leftDisabled?HAPTICS_FEEDBACK:""],onClick:l},[u()]),createVNode$1("div",{class:[bem$z("title"),"van-ellipsis"]},[a.title?a.title():v]),C&&createVNode$1("div",{class:[bem$z("right",{disabled:r.rightDisabled}),r.clickable&&!r.rightDisabled?HAPTICS_FEEDBACK:""],onClick:c},[d()])])])};return()=>r.fixed&&r.placeholder?s(f):f()}});const NavBar=withInstall(stdin_default$F),[name$z,bem$y]=createNamespace("notice-bar"),noticeBarProps={text:String,mode:String,color:String,delay:makeNumericProp(1),speed:makeNumericProp(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var stdin_default$E=defineComponent({name:name$z,props:noticeBarProps,emits:["close","replay"],setup(r,{emit:n,slots:a}){let o=0,s=0,l;const c=ref(),u=ref(),d=reactive({show:!0,offset:0,duration:0}),f=()=>{if(a["left-icon"])return a["left-icon"]();if(r.leftIcon)return createVNode$1(Icon,{class:bem$y("left-icon"),name:r.leftIcon},null)},v=()=>{if(r.mode==="closeable")return"cross";if(r.mode==="link")return"arrow"},g=C=>{r.mode==="closeable"&&(d.show=!1,n("close",C))},y=()=>{if(a["right-icon"])return a["right-icon"]();const C=v();if(C)return createVNode$1(Icon,{name:C,class:bem$y("right-icon"),onClick:g},null)},_=()=>{d.offset=o,d.duration=0,raf(()=>{doubleRaf(()=>{d.offset=-s,d.duration=(s+o)/+r.speed,n("replay")})})},b=()=>{const C=r.scrollable===!1&&!r.wrapable,P={transform:d.offset?`translateX(${d.offset}px)`:"",transitionDuration:`${d.duration}s`};return createVNode$1("div",{ref:c,role:"marquee",class:bem$y("wrap")},[createVNode$1("div",{ref:u,style:P,class:[bem$y("content"),{"van-ellipsis":C}],onTransitionend:_},[a.default?a.default():r.text])])},T=()=>{const{delay:C,speed:P,scrollable:E}=r,M=isDef$1(C)?+C*1e3:0;o=0,s=0,d.offset=0,d.duration=0,clearTimeout(l),l=setTimeout(()=>{if(!c.value||!u.value||E===!1)return;const I=useRect(c).width,L=useRect(u).width;(E||L>I)&&doubleRaf(()=>{o=I,s=L,d.offset=-s,d.duration=s/+P})},M)};return onPopupReopen(T),onMountedOrActivated(T),useEventListener("pageshow",T),useExpose({reset:T}),watch(()=>[r.text,r.scrollable],T),()=>{const{color:C,wrapable:P,background:E}=r;return withDirectives(createVNode$1("div",{role:"alert",class:bem$y({wrapable:P}),style:{color:C,background:E}},[f(),b(),y()]),[[vShow,d.show]])}}});const NoticeBar=withInstall(stdin_default$E),[name$y,bem$x]=createNamespace("notify"),popupInheritProps=["lockScroll","position","show","teleport","zIndex"],notifyProps=extend$1({},popupSharedProps,{type:makeStringProp("danger"),color:String,message:numericProp,position:makeStringProp("top"),className:unknownProp,background:String,lockScroll:Boolean});var stdin_default$D=defineComponent({name:name$y,props:notifyProps,emits:["update:show"],setup(r,{emit:n,slots:a}){const o=s=>n("update:show",s);return()=>createVNode$1(Popup,mergeProps({class:[bem$x([r.type]),r.className],style:{color:r.color,background:r.background},overlay:!1,duration:.2,"onUpdate:show":o},pick(r,popupInheritProps)),{default:()=>[a.default?a.default():r.message]})}});const Notify=withInstall(stdin_default$D),[name$x,bem$w]=createNamespace("key"),CollapseIcon=createVNode$1("svg",{class:bem$w("collapse-icon"),viewBox:"0 0 30 24"},[createVNode$1("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),DeleteIcon=createVNode$1("svg",{class:bem$w("delete-icon"),viewBox:"0 0 32 22"},[createVNode$1("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var stdin_default$C=defineComponent({name:name$x,props:{type:String,text:numericProp,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(r,{emit:n,slots:a}){const o=ref(!1),s=useTouch(),l=f=>{s.start(f),o.value=!0},c=f=>{s.move(f),s.direction.value&&(o.value=!1)},u=f=>{o.value&&(a.default||preventDefault$1(f),o.value=!1,n("press",r.text,r.type))},d=()=>{if(r.loading)return createVNode$1(Loading,{class:bem$w("loading-icon")},null);const f=a.default?a.default():r.text;switch(r.type){case"delete":return f||DeleteIcon;case"extra":return f||CollapseIcon;default:return f}};return()=>createVNode$1("div",{class:bem$w("wrapper",{wider:r.wider}),onTouchstartPassive:l,onTouchmovePassive:c,onTouchend:u,onTouchcancel:u},[createVNode$1("div",{role:"button",tabindex:0,class:bem$w([r.color,{large:r.large,active:o.value,delete:r.type==="delete"}])},[d()])])}});const[name$w,bem$v]=createNamespace("number-keyboard"),numberKeyboardProps={show:Boolean,title:String,theme:makeStringProp("default"),zIndex:numericProp,teleport:[String,Object],maxlength:makeNumericProp(1/0),modelValue:makeStringProp(""),transition:truthProp,blurOnClose:truthProp,showDeleteKey:truthProp,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:truthProp,safeAreaInsetBottom:truthProp,extraKey:{type:[String,Array],default:""}};function shuffle(r){for(let n=r.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1)),o=r[n];r[n]=r[a],r[a]=o}return r}var stdin_default$B=defineComponent({name:name$w,inheritAttrs:!1,props:numberKeyboardProps,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(r,{emit:n,slots:a,attrs:o}){const s=ref(),l=()=>{const C=Array(9).fill("").map((P,E)=>({text:E+1}));return r.randomKeyOrder&&shuffle(C),C},c=()=>[...l(),{text:r.extraKey,type:"extra"},{text:0},{text:r.showDeleteKey?r.deleteButtonText:"",type:r.showDeleteKey?"delete":""}],u=()=>{const C=l(),{extraKey:P}=r,E=Array.isArray(P)?P:[P];return E.length===0?C.push({text:0,wider:!0}):E.length===1?C.push({text:0,wider:!0},{text:E[0],type:"extra"}):E.length===2&&C.push({text:E[0],type:"extra"},{text:0},{text:E[1],type:"extra"}),C},d=computed(()=>r.theme==="custom"?u():c()),f=()=>{r.show&&n("blur")},v=()=>{n("close"),r.blurOnClose&&f()},g=()=>n(r.show?"show":"hide"),y=(C,P)=>{if(C===""){P==="extra"&&f();return}const E=r.modelValue;P==="delete"?(n("delete"),n("update:modelValue",E.slice(0,E.length-1))):P==="close"?v():E.length<+r.maxlength&&(n("input",C),n("update:modelValue",E+C))},_=()=>{const{title:C,theme:P,closeButtonText:E}=r,M=a["title-left"],I=E&&P==="default";if(C||I||M)return createVNode$1("div",{class:bem$v("header")},[M&&createVNode$1("span",{class:bem$v("title-left")},[M()]),C&&createVNode$1("h2",{class:bem$v("title")},[C]),I&&createVNode$1("button",{type:"button",class:[bem$v("close"),HAPTICS_FEEDBACK],onClick:v},[E])])},b=()=>d.value.map(C=>{const P={};return C.type==="delete"&&(P.default=a.delete),C.type==="extra"&&(P.default=a["extra-key"]),createVNode$1(stdin_default$C,{key:C.text,text:C.text,type:C.type,wider:C.wider,color:C.color,onPress:y},P)}),T=()=>{if(r.theme==="custom")return createVNode$1("div",{class:bem$v("sidebar")},[r.showDeleteKey&&createVNode$1(stdin_default$C,{large:!0,text:r.deleteButtonText,type:"delete",onPress:y},{default:a.delete}),createVNode$1(stdin_default$C,{large:!0,text:r.closeButtonText,type:"close",color:"blue",loading:r.closeButtonLoading,onPress:y},null)])};return watch(()=>r.show,C=>{r.transition||n(C?"show":"hide")}),r.hideOnClickOutside&&useClickAway(s,f,{eventName:"touchstart"}),()=>{const C=_(),P=createVNode$1(Transition,{name:r.transition?"van-slide-up":""},{default:()=>[withDirectives(createVNode$1("div",mergeProps({ref:s,style:getZIndexStyle(r.zIndex),class:bem$v({unfit:!r.safeAreaInsetBottom,"with-title":!!C}),onAnimationend:g,onTouchstartPassive:stopPropagation},o),[C,createVNode$1("div",{class:bem$v("body")},[createVNode$1("div",{class:bem$v("keys")},[b()]),T()])]),[[vShow,r.show]])]});return r.teleport?createVNode$1(Teleport,{to:r.teleport},{default:()=>[P]}):P}}});const NumberKeyboard=withInstall(stdin_default$B),[name$v,bem$u,t$6]=createNamespace("pagination"),makePage=(r,n,a)=>({number:r,text:n,active:a}),paginationProps={mode:makeStringProp("multi"),prevText:String,nextText:String,pageCount:makeNumericProp(0),modelValue:makeNumberProp(0),totalItems:makeNumericProp(0),showPageSize:makeNumericProp(5),itemsPerPage:makeNumericProp(10),forceEllipses:Boolean,showPrevButton:truthProp,showNextButton:truthProp};var stdin_default$A=defineComponent({name:name$v,props:paginationProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const o=computed(()=>{const{pageCount:v,totalItems:g,itemsPerPage:y}=r,_=+v||Math.ceil(+g/+y);return Math.max(1,_)}),s=computed(()=>{const v=[],g=o.value,y=+r.showPageSize,{modelValue:_,forceEllipses:b}=r;let T=1,C=g;const P=y<g;P&&(T=Math.max(_-Math.floor(y/2),1),C=T+y-1,C>g&&(C=g,T=C-y+1));for(let E=T;E<=C;E++){const M=makePage(E,E,E===_);v.push(M)}if(P&&y>0&&b){if(T>1){const E=makePage(T-1,"...");v.unshift(E)}if(C<g){const E=makePage(C+1,"...");v.push(E)}}return v}),l=(v,g)=>{v=clamp$1(v,1,o.value),r.modelValue!==v&&(n("update:modelValue",v),g&&n("change",v))};watchEffect(()=>l(r.modelValue));const c=()=>createVNode$1("li",{class:bem$u("page-desc")},[a.pageDesc?a.pageDesc():`${r.modelValue}/${o.value}`]),u=()=>{const{mode:v,modelValue:g,showPrevButton:y}=r;if(!y)return;const _=a["prev-text"],b=g===1;return createVNode$1("li",{class:[bem$u("item",{disabled:b,border:v==="simple",prev:!0}),BORDER_SURROUND]},[createVNode$1("button",{type:"button",disabled:b,onClick:()=>l(g-1,!0)},[_?_():r.prevText||t$6("prev")])])},d=()=>{const{mode:v,modelValue:g,showNextButton:y}=r;if(!y)return;const _=a["next-text"],b=g===o.value;return createVNode$1("li",{class:[bem$u("item",{disabled:b,border:v==="simple",next:!0}),BORDER_SURROUND]},[createVNode$1("button",{type:"button",disabled:b,onClick:()=>l(g+1,!0)},[_?_():r.nextText||t$6("next")])])},f=()=>s.value.map(v=>createVNode$1("li",{class:[bem$u("item",{active:v.active,page:!0}),BORDER_SURROUND]},[createVNode$1("button",{type:"button","aria-current":v.active||void 0,onClick:()=>l(v.number,!0)},[a.page?a.page(v):v.text])]));return()=>createVNode$1("nav",{role:"navigation",class:bem$u()},[createVNode$1("ul",{class:bem$u("items")},[u(),r.mode==="simple"?c():f(),d()])])}});const Pagination=withInstall(stdin_default$A),[name$u,bem$t]=createNamespace("password-input"),passwordInputProps={info:String,mask:truthProp,value:makeStringProp(""),gutter:numericProp,length:makeNumericProp(6),focused:Boolean,errorInfo:String};var stdin_default$z=defineComponent({name:name$u,props:passwordInputProps,emits:["focus"],setup(r,{emit:n}){const a=s=>{s.stopPropagation(),n("focus",s)},o=()=>{const s=[],{mask:l,value:c,gutter:u,focused:d}=r,f=+r.length;for(let v=0;v<f;v++){const g=c[v],y=v!==0&&!u,_=d&&v===c.length;let b;v!==0&&u&&(b={marginLeft:addUnit(u)}),s.push(createVNode$1("li",{class:[{[BORDER_LEFT]:y},bem$t("item",{focus:_})],style:b},[l?createVNode$1("i",{style:{visibility:g?"visible":"hidden"}},null):g,_&&createVNode$1("div",{class:bem$t("cursor")},null)]))}return s};return()=>{const s=r.errorInfo||r.info;return createVNode$1("div",{class:bem$t()},[createVNode$1("ul",{class:[bem$t("security"),{[BORDER_SURROUND]:!r.gutter}],onTouchstartPassive:a},[o()]),s&&createVNode$1("div",{class:bem$t(r.errorInfo?"error-info":"info")},[s])])}}});const PasswordInput=withInstall(stdin_default$z),PickerGroup=withInstall(stdin_default$1x);function getWindow(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function isElement(r){var n=getWindow(r).Element;return r instanceof n||r instanceof Element}function isHTMLElement(r){var n=getWindow(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function isShadowRoot(r){if(typeof ShadowRoot>"u")return!1;var n=getWindow(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}var round$4=Math.round;function getUAString(){var r=navigator.userAgentData;return r!=null&&r.brands?r.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(r,n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var o=r.getBoundingClientRect(),s=1,l=1;n&&isHTMLElement(r)&&(s=r.offsetWidth>0&&round$4(o.width)/r.offsetWidth||1,l=r.offsetHeight>0&&round$4(o.height)/r.offsetHeight||1);var c=isElement(r)?getWindow(r):window,u=c.visualViewport,d=!isLayoutViewport()&&a,f=(o.left+(d&&u?u.offsetLeft:0))/s,v=(o.top+(d&&u?u.offsetTop:0))/l,g=o.width/s,y=o.height/l;return{width:g,height:y,top:v,right:f+g,bottom:v+y,left:f,x:f,y:v}}function getWindowScroll(r){var n=getWindow(r),a=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:a,scrollTop:o}}function getHTMLElementScroll(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function getNodeScroll(r){return r===getWindow(r)||!isHTMLElement(r)?getWindowScroll(r):getHTMLElementScroll(r)}function getNodeName(r){return r?(r.nodeName||"").toLowerCase():null}function getDocumentElement(r){return((isElement(r)?r.ownerDocument:r.document)||window.document).documentElement}function getWindowScrollBarX(r){return getBoundingClientRect(getDocumentElement(r)).left+getWindowScroll(r).scrollLeft}function getComputedStyle$1(r){return getWindow(r).getComputedStyle(r)}function isScrollParent(r){var n=getComputedStyle$1(r),a=n.overflow,o=n.overflowX,s=n.overflowY;return/auto|scroll|overlay|hidden/.test(a+s+o)}function isElementScaled(r){var n=r.getBoundingClientRect(),a=round$4(n.width)/r.offsetWidth||1,o=round$4(n.height)/r.offsetHeight||1;return a!==1||o!==1}function getCompositeRect(r,n,a){a===void 0&&(a=!1);var o=isHTMLElement(n),s=isHTMLElement(n)&&isElementScaled(n),l=getDocumentElement(n),c=getBoundingClientRect(r,s,a),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!a)&&((getNodeName(n)!=="body"||isScrollParent(l))&&(u=getNodeScroll(n)),isHTMLElement(n)?(d=getBoundingClientRect(n,!0),d.x+=n.clientLeft,d.y+=n.clientTop):l&&(d.x=getWindowScrollBarX(l))),{x:c.left+u.scrollLeft-d.x,y:c.top+u.scrollTop-d.y,width:c.width,height:c.height}}function getLayoutRect$1(r){var n=getBoundingClientRect(r),a=r.offsetWidth,o=r.offsetHeight;return Math.abs(n.width-a)<=1&&(a=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:r.offsetLeft,y:r.offsetTop,width:a,height:o}}function getParentNode(r){return getNodeName(r)==="html"?r:r.assignedSlot||r.parentNode||(isShadowRoot(r)?r.host:null)||getDocumentElement(r)}function getScrollParent(r){return["html","body","#document"].indexOf(getNodeName(r))>=0?r.ownerDocument.body:isHTMLElement(r)&&isScrollParent(r)?r:getScrollParent(getParentNode(r))}function listScrollParents(r,n){var a;n===void 0&&(n=[]);var o=getScrollParent(r),s=o===((a=r.ownerDocument)==null?void 0:a.body),l=getWindow(o),c=s?[l].concat(l.visualViewport||[],isScrollParent(o)?o:[]):o,u=n.concat(c);return s?u:u.concat(listScrollParents(getParentNode(c)))}function isTableElement(r){return["table","td","th"].indexOf(getNodeName(r))>=0}function getTrueOffsetParent(r){return!isHTMLElement(r)||getComputedStyle$1(r).position==="fixed"?null:r.offsetParent}function getContainingBlock(r){var n=/firefox/i.test(getUAString()),a=/Trident/i.test(getUAString());if(a&&isHTMLElement(r)){var o=getComputedStyle$1(r);if(o.position==="fixed")return null}var s=getParentNode(r);for(isShadowRoot(s)&&(s=s.host);isHTMLElement(s)&&["html","body"].indexOf(getNodeName(s))<0;){var l=getComputedStyle$1(s);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||n&&l.willChange==="filter"||n&&l.filter&&l.filter!=="none")return s;s=s.parentNode}return null}function getOffsetParent(r){for(var n=getWindow(r),a=getTrueOffsetParent(r);a&&isTableElement(a)&&getComputedStyle$1(a).position==="static";)a=getTrueOffsetParent(a);return a&&(getNodeName(a)==="html"||getNodeName(a)==="body"&&getComputedStyle$1(a).position==="static")?n:a||getContainingBlock(r)||n}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$1="start",end$1="end",placements=[].concat(basePlacements,[auto]).reduce(function(r,n){return r.concat([n,n+"-"+start$1,n+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function order(r){var n=new Map,a=new Set,o=[];r.forEach(function(l){n.set(l.name,l)});function s(l){a.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(u){if(!a.has(u)){var d=n.get(u);d&&s(d)}}),o.push(l)}return r.forEach(function(l){a.has(l.name)||s(l)}),o}function orderModifiers(r){var n=order(r);return modifierPhases.reduce(function(a,o){return a.concat(n.filter(function(s){return s.phase===o}))},[])}function debounce(r){var n;return function(){return n||(n=new Promise(function(a){Promise.resolve().then(function(){n=void 0,a(r())})})),n}}function format$1(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return[].concat(a).reduce(function(s,l){return s.replace(/%s/,l)},r)}var INVALID_MODIFIER_ERROR='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',MISSING_DEPENDENCY_ERROR='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',VALID_PROPERTIES=["name","enabled","phase","fn","effect","requires","options"];function validateModifiers(r){r.forEach(function(n){[].concat(Object.keys(n),VALID_PROPERTIES).filter(function(a,o,s){return s.indexOf(a)===o}).forEach(function(a){switch(a){case"name":typeof n.name!="string"&&console.error(format$1(INVALID_MODIFIER_ERROR,String(n.name),'"name"','"string"','"'+String(n.name)+'"'));break;case"enabled":typeof n.enabled!="boolean"&&console.error(format$1(INVALID_MODIFIER_ERROR,n.name,'"enabled"','"boolean"','"'+String(n.enabled)+'"'));break;case"phase":modifierPhases.indexOf(n.phase)<0&&console.error(format$1(INVALID_MODIFIER_ERROR,n.name,'"phase"',"either "+modifierPhases.join(", "),'"'+String(n.phase)+'"'));break;case"fn":typeof n.fn!="function"&&console.error(format$1(INVALID_MODIFIER_ERROR,n.name,'"fn"','"function"','"'+String(n.fn)+'"'));break;case"effect":n.effect!=null&&typeof n.effect!="function"&&console.error(format$1(INVALID_MODIFIER_ERROR,n.name,'"effect"','"function"','"'+String(n.fn)+'"'));break;case"requires":n.requires!=null&&!Array.isArray(n.requires)&&console.error(format$1(INVALID_MODIFIER_ERROR,n.name,'"requires"','"array"','"'+String(n.requires)+'"'));break;case"requiresIfExists":Array.isArray(n.requiresIfExists)||console.error(format$1(INVALID_MODIFIER_ERROR,n.name,'"requiresIfExists"','"array"','"'+String(n.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+n.name+'" modifier, valid properties are '+VALID_PROPERTIES.map(function(o){return'"'+o+'"'}).join(", ")+'; but "'+a+'" was provided.')}n.requires&&n.requires.forEach(function(o){r.find(function(s){return s.name===o})==null&&console.error(format$1(MISSING_DEPENDENCY_ERROR,String(n.name),o,o))})})})}function uniqueBy(r,n){var a=new Set;return r.filter(function(o){var s=n(o);if(!a.has(s))return a.add(s),!0})}function getBasePlacement(r){return r.split("-")[0]}function mergeByName(r){var n=r.reduce(function(a,o){var s=a[o.name];return a[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,a},{});return Object.keys(n).map(function(a){return n[a]})}function getVariation(r){return r.split("-")[1]}function getMainAxisFromPlacement(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function computeOffsets(r){var n=r.reference,a=r.element,o=r.placement,s=o?getBasePlacement(o):null,l=o?getVariation(o):null,c=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,d;switch(s){case top:d={x:c,y:n.y-a.height};break;case bottom:d={x:c,y:n.y+n.height};break;case right:d={x:n.x+n.width,y:u};break;case left:d={x:n.x-a.width,y:u};break;default:d={x:n.x,y:n.y}}var f=s?getMainAxisFromPlacement(s):null;if(f!=null){var v=f==="y"?"height":"width";switch(l){case start$1:d[f]=d[f]-(n[v]/2-a[v]/2);break;case end$1:d[f]=d[f]+(n[v]/2-a[v]/2);break}}return d}var INVALID_ELEMENT_ERROR="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",INFINITE_LOOP_ERROR="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function popperGenerator(r){r===void 0&&(r={});var n=r,a=n.defaultModifiers,o=a===void 0?[]:a,s=n.defaultOptions,l=s===void 0?DEFAULT_OPTIONS:s;return function(u,d,f){f===void 0&&(f=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,l),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},g=[],y=!1,_={state:v,setOptions:function(P){var E=typeof P=="function"?P(v.options):P;T(),v.options=Object.assign({},l,v.options,E),v.scrollParents={reference:isElement(u)?listScrollParents(u):u.contextElement?listScrollParents(u.contextElement):[],popper:listScrollParents(d)};var M=orderModifiers(mergeByName([].concat(o,v.options.modifiers)));v.orderedModifiers=M.filter(function(H){return H.enabled});{var I=uniqueBy([].concat(M,v.options.modifiers),function(H){var W=H.name;return W});if(validateModifiers(I),getBasePlacement(v.options.placement)===auto){var L=v.orderedModifiers.find(function(H){var W=H.name;return W==="flip"});L||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var N=getComputedStyle$1(d),V=N.marginTop,B=N.marginRight,z=N.marginBottom,G=N.marginLeft;[V,B,z,G].some(function(H){return parseFloat(H)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return b(),_.update()},forceUpdate:function(){if(!y){var P=v.elements,E=P.reference,M=P.popper;if(!areValidElements(E,M)){console.error(INVALID_ELEMENT_ERROR);return}v.rects={reference:getCompositeRect(E,getOffsetParent(M),v.options.strategy==="fixed"),popper:getLayoutRect$1(M)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(H){return v.modifiersData[H.name]=Object.assign({},H.data)});for(var I=0,L=0;L<v.orderedModifiers.length;L++){if(I+=1,I>100){console.error(INFINITE_LOOP_ERROR);break}if(v.reset===!0){v.reset=!1,L=-1;continue}var N=v.orderedModifiers[L],V=N.fn,B=N.options,z=B===void 0?{}:B,G=N.name;typeof V=="function"&&(v=V({state:v,options:z,name:G,instance:_})||v)}}},update:debounce(function(){return new Promise(function(C){_.forceUpdate(),C(v)})}),destroy:function(){T(),y=!0}};if(!areValidElements(u,d))return console.error(INVALID_ELEMENT_ERROR),_;_.setOptions(f).then(function(C){!y&&f.onFirstUpdate&&f.onFirstUpdate(C)});function b(){v.orderedModifiers.forEach(function(C){var P=C.name,E=C.options,M=E===void 0?{}:E,I=C.effect;if(typeof I=="function"){var L=I({state:v,name:P,instance:_,options:M}),N=function(){};g.push(L||N)}})}function T(){g.forEach(function(C){return C()}),g=[]}return _}}var passive={passive:!0};function effect(r){var n=r.state,a=r.instance,o=r.options,s=o.scroll,l=s===void 0?!0:s,c=o.resize,u=c===void 0?!0:c,d=getWindow(n.elements.popper),f=[].concat(n.scrollParents.reference,n.scrollParents.popper);return l&&f.forEach(function(v){v.addEventListener("scroll",a.update,passive)}),u&&d.addEventListener("resize",a.update,passive),function(){l&&f.forEach(function(v){v.removeEventListener("scroll",a.update,passive)}),u&&d.removeEventListener("resize",a.update,passive)}}var eventListeners_default={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};function popperOffsets(r){var n=r.state,a=r.name;n.modifiersData[a]=computeOffsets({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var popperOffsets_default={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}},unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(r){var n=r.x,a=r.y,o=window,s=o.devicePixelRatio||1;return{x:round$4(n*s)/s||0,y:round$4(a*s)/s||0}}function mapToStyles(r){var n,a=r.popper,o=r.popperRect,s=r.placement,l=r.variation,c=r.offsets,u=r.position,d=r.gpuAcceleration,f=r.adaptive,v=r.roundOffsets,g=r.isFixed,y=c.x,_=y===void 0?0:y,b=c.y,T=b===void 0?0:b,C=typeof v=="function"?v({x:_,y:T}):{x:_,y:T};_=C.x,T=C.y;var P=c.hasOwnProperty("x"),E=c.hasOwnProperty("y"),M=left,I=top,L=window;if(f){var N=getOffsetParent(a),V="clientHeight",B="clientWidth";if(N===getWindow(a)&&(N=getDocumentElement(a),getComputedStyle$1(N).position!=="static"&&u==="absolute"&&(V="scrollHeight",B="scrollWidth")),N=N,s===top||(s===left||s===right)&&l===end$1){I=bottom;var z=g&&N===L&&L.visualViewport?L.visualViewport.height:N[V];T-=z-o.height,T*=d?1:-1}if(s===left||(s===top||s===bottom)&&l===end$1){M=right;var G=g&&N===L&&L.visualViewport?L.visualViewport.width:N[B];_-=G-o.width,_*=d?1:-1}}var H=Object.assign({position:u},f&&unsetSides),W=v===!0?roundOffsetsByDPR({x:_,y:T}):{x:_,y:T};if(_=W.x,T=W.y,d){var j;return Object.assign({},H,(j={},j[I]=E?"0":"",j[M]=P?"0":"",j.transform=(L.devicePixelRatio||1)<=1?"translate("+_+"px, "+T+"px)":"translate3d("+_+"px, "+T+"px, 0)",j))}return Object.assign({},H,(n={},n[I]=E?T+"px":"",n[M]=P?_+"px":"",n.transform="",n))}function computeStyles(r){var n=r.state,a=r.options,o=a.gpuAcceleration,s=o===void 0?!0:o,l=a.adaptive,c=l===void 0?!0:l,u=a.roundOffsets,d=u===void 0?!0:u;{var f=getComputedStyle$1(n.elements.popper).transitionProperty||"";c&&["transform","top","right","bottom","left"].some(function(g){return f.indexOf(g)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var v={placement:getBasePlacement(n.placement),variation:getVariation(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:s,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,mapToStyles(Object.assign({},v,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:d})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,mapToStyles(Object.assign({},v,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var computeStyles_default={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};function applyStyles(r){var n=r.state;Object.keys(n.elements).forEach(function(a){var o=n.styles[a]||{},s=n.attributes[a]||{},l=n.elements[a];!isHTMLElement(l)||!getNodeName(l)||(Object.assign(l.style,o),Object.keys(s).forEach(function(c){var u=s[c];u===!1?l.removeAttribute(c):l.setAttribute(c,u===!0?"":u)}))})}function effect2(r){var n=r.state,a={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,a.popper),n.styles=a,n.elements.arrow&&Object.assign(n.elements.arrow.style,a.arrow),function(){Object.keys(n.elements).forEach(function(o){var s=n.elements[o],l=n.attributes[o]||{},c=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:a[o]),u=c.reduce(function(d,f){return d[f]="",d},{});!isHTMLElement(s)||!getNodeName(s)||(Object.assign(s.style,u),Object.keys(l).forEach(function(d){s.removeAttribute(d)}))})}}var applyStyles_default={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect2,requires:["computeStyles"]},defaultModifiers=[eventListeners_default,popperOffsets_default,computeStyles_default,applyStyles_default],createPopper=popperGenerator({defaultModifiers});function distanceAndSkiddingToXY(r,n,a){var o=getBasePlacement(r),s=[left,top].indexOf(o)>=0?-1:1,l=typeof a=="function"?a(Object.assign({},n,{placement:r})):a,c=l[0],u=l[1];return c=c||0,u=(u||0)*s,[left,right].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}}function offset(r){var n=r.state,a=r.options,o=r.name,s=a.offset,l=s===void 0?[0,0]:s,c=placements.reduce(function(v,g){return v[g]=distanceAndSkiddingToXY(g,n.rects,l),v},{}),u=c[n.placement],d=u.x,f=u.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=f),n.modifiersData[o]=c}var offset_default={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};const[name$t,bem$s]=createNamespace("popover"),popupProps=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],popoverProps={show:Boolean,theme:makeStringProp("light"),overlay:Boolean,actions:makeArrayProp(),actionsDirection:makeStringProp("vertical"),trigger:makeStringProp("click"),duration:numericProp,showArrow:truthProp,placement:makeStringProp("bottom"),iconPrefix:String,overlayClass:unknownProp,overlayStyle:Object,closeOnClickAction:truthProp,closeOnClickOverlay:truthProp,closeOnClickOutside:truthProp,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var stdin_default$y=defineComponent({name:name$t,props:popoverProps,emits:["select","touchstart","update:show"],setup(r,{emit:n,slots:a,attrs:o}){let s;const l=ref(),c=ref(),u=ref(),d=useSyncPropRef(()=>r.show,E=>n("update:show",E)),f=()=>({placement:r.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},extend$1({},offset_default,{options:{offset:r.offset}})]}),v=()=>c.value&&u.value?createPopper(c.value,u.value.popupRef.value,f()):null,g=()=>{nextTick(()=>{d.value&&(s?s.setOptions(f()):(s=v(),inBrowser$1&&(window.addEventListener("animationend",g),window.addEventListener("transitionend",g))))})},y=E=>{d.value=E},_=()=>{r.trigger==="click"&&(d.value=!d.value)},b=(E,M)=>{E.disabled||(n("select",E,M),r.closeOnClickAction&&(d.value=!1))},T=()=>{d.value&&r.closeOnClickOutside&&(!r.overlay||r.closeOnClickOverlay)&&(d.value=!1)},C=(E,M)=>a.action?a.action({action:E,index:M}):[E.icon&&createVNode$1(Icon,{name:E.icon,classPrefix:r.iconPrefix,class:bem$s("action-icon")},null),createVNode$1("div",{class:[bem$s("action-text"),{[BORDER_BOTTOM]:r.actionsDirection==="vertical"}]},[E.text])],P=(E,M)=>{const{icon:I,color:L,disabled:N,className:V}=E;return createVNode$1("div",{role:"menuitem",class:[bem$s("action",{disabled:N,"with-icon":I}),{[BORDER_RIGHT]:r.actionsDirection==="horizontal"},V],style:{color:L},tabindex:N?void 0:0,"aria-disabled":N||void 0,onClick:()=>b(E,M)},[C(E,M)])};return onMounted(()=>{g(),watchEffect(()=>{var E;l.value=(E=u.value)==null?void 0:E.popupRef.value})}),onBeforeUnmount(()=>{s&&(inBrowser$1&&(window.removeEventListener("animationend",g),window.removeEventListener("transitionend",g)),s.destroy(),s=null)}),watch(()=>[d.value,r.offset,r.placement],g),useClickAway([c,l],T,{eventName:"touchstart"}),()=>{var E;return createVNode$1(Fragment,null,[createVNode$1("span",{ref:c,class:bem$s("wrapper"),onClick:_},[(E=a.reference)==null?void 0:E.call(a)]),createVNode$1(Popup,mergeProps({ref:u,show:d.value,class:bem$s([r.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":y},o,useScopeId(),pick(r,popupProps)),{default:()=>[r.showArrow&&createVNode$1("div",{class:bem$s("arrow")},null),createVNode$1("div",{role:"menu",class:bem$s("content",r.actionsDirection)},[a.default?a.default():r.actions.map(P)])]})])}}});const Popover=withInstall(stdin_default$y),[name$s,bem$r]=createNamespace("progress"),progressProps={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:truthProp,pivotColor:String,trackColor:String,strokeWidth:numericProp,percentage:{type:numericProp,default:0,validator:r=>+r>=0&&+r<=100}};var stdin_default$x=defineComponent({name:name$s,props:progressProps,setup(r){const n=computed(()=>r.inactive?void 0:r.color),a=()=>{const{textColor:o,pivotText:s,pivotColor:l,percentage:c}=r,u=s??`${c}%`;if(r.showPivot&&u){const d={color:o,left:`${+c}%`,transform:`translate(-${+c}%,-50%)`,background:l||n.value};return createVNode$1("span",{style:d,class:bem$r("pivot",{inactive:r.inactive})},[u])}};return()=>{const{trackColor:o,percentage:s,strokeWidth:l}=r,c={background:o,height:addUnit(l)},u={width:`${s}%`,background:n.value};return createVNode$1("div",{class:bem$r(),style:c},[createVNode$1("span",{class:bem$r("portion",{inactive:r.inactive}),style:u},null),a()])}}});const Progress=withInstall(stdin_default$x),[name$r,bem$q,t$5]=createNamespace("pull-refresh"),DEFAULT_HEAD_HEIGHT=50,TEXT_STATUS=["pulling","loosing","success"],pullRefreshProps={disabled:Boolean,modelValue:Boolean,headHeight:makeNumericProp(DEFAULT_HEAD_HEIGHT),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:numericProp,successDuration:makeNumericProp(500),animationDuration:makeNumericProp(300)};var stdin_default$w=defineComponent({name:name$r,props:pullRefreshProps,emits:["change","refresh","update:modelValue"],setup(r,{emit:n,slots:a}){let o;const s=ref(),l=ref(),c=useScrollParent(s),u=reactive({status:"normal",distance:0,duration:0}),d=useTouch(),f=()=>{if(r.headHeight!==DEFAULT_HEAD_HEIGHT)return{height:`${r.headHeight}px`}},v=()=>u.status!=="loading"&&u.status!=="success"&&!r.disabled,g=I=>{const L=+(r.pullDistance||r.headHeight);return I>L&&(I<L*2?I=L+(I-L)/2:I=L*1.5+(I-L*2)/4),Math.round(I)},y=(I,L)=>{const N=+(r.pullDistance||r.headHeight);u.distance=I,L?u.status="loading":I===0?u.status="normal":I<N?u.status="pulling":u.status="loosing",n("change",{status:u.status,distance:I})},_=()=>{const{status:I}=u;return I==="normal"?"":r[`${I}Text`]||t$5(I)},b=()=>{const{status:I,distance:L}=u;if(a[I])return a[I]({distance:L});const N=[];return TEXT_STATUS.includes(I)&&N.push(createVNode$1("div",{class:bem$q("text")},[_()])),I==="loading"&&N.push(createVNode$1(Loading,{class:bem$q("loading")},{default:_})),N},T=()=>{u.status="success",setTimeout(()=>{y(0)},+r.successDuration)},C=I=>{o=getScrollTop(c.value)===0,o&&(u.duration=0,d.start(I))},P=I=>{v()&&C(I)},E=I=>{if(v()){o||C(I);const{deltaY:L}=d;d.move(I),o&&L.value>=0&&d.isVertical()&&(preventDefault$1(I),y(g(L.value)))}},M=()=>{o&&d.deltaY.value&&v()&&(u.duration=+r.animationDuration,u.status==="loosing"?(y(+r.headHeight,!0),n("update:modelValue",!0),nextTick(()=>n("refresh"))):y(0))};return watch(()=>r.modelValue,I=>{u.duration=+r.animationDuration,I?y(+r.headHeight,!0):a.success||r.successText?T():y(0,!1)}),useEventListener("touchmove",E,{target:l}),()=>{var I;const L={transitionDuration:`${u.duration}ms`,transform:u.distance?`translate3d(0,${u.distance}px, 0)`:""};return createVNode$1("div",{ref:s,class:bem$q()},[createVNode$1("div",{ref:l,class:bem$q("track"),style:L,onTouchstartPassive:P,onTouchend:M,onTouchcancel:M},[createVNode$1("div",{class:bem$q("head"),style:f()},[b()]),(I=a.default)==null?void 0:I.call(a)])])}}});const PullRefresh=withInstall(stdin_default$w),[name$q,bem$p]=createNamespace("rate");function getRateStatus(r,n,a,o){return r>=n?{status:"full",value:1}:r+.5>=n&&a&&!o?{status:"half",value:.5}:r+1>=n&&a&&o?{status:"half",value:Math.round((r-n+1)*1e10)/1e10}:{status:"void",value:0}}const rateProps={size:numericProp,icon:makeStringProp("star"),color:String,count:makeNumericProp(5),gutter:numericProp,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:makeStringProp("star-o"),allowHalf:Boolean,voidColor:String,touchable:truthProp,iconPrefix:String,modelValue:makeNumberProp(0),disabledColor:String};var stdin_default$v=defineComponent({name:name$q,props:rateProps,emits:["change","update:modelValue"],setup(r,{emit:n}){const a=useTouch(),[o,s]=useRefs(),l=ref(),c=computed(()=>r.readonly||r.disabled),u=computed(()=>c.value||!r.touchable),d=computed(()=>Array(+r.count).fill("").map((M,I)=>getRateStatus(r.modelValue,I+1,r.allowHalf,r.readonly)));let f,v,g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;const _=()=>{v=useRect(l);const M=o.value.map(useRect);f=[],M.forEach((I,L)=>{g=Math.min(I.top,g),y=Math.max(I.top,y),r.allowHalf?f.push({score:L+.5,left:I.left,top:I.top,height:I.height},{score:L+1,left:I.left+I.width/2,top:I.top,height:I.height}):f.push({score:L+1,left:I.left,top:I.top,height:I.height})})},b=(M,I)=>{for(let L=f.length-1;L>0;L--)if(I>=v.top&&I<=v.bottom){if(M>f[L].left&&I>=f[L].top&&I<=f[L].top+f[L].height)return f[L].score}else{const N=I<v.top?g:y;if(M>f[L].left&&f[L].top===N)return f[L].score}return r.allowHalf?.5:1},T=M=>{c.value||M===r.modelValue||(n("update:modelValue",M),n("change",M))},C=M=>{u.value||(a.start(M),_())},P=M=>{if(!u.value&&(a.move(M),a.isHorizontal()&&!a.isTap.value)){const{clientX:I,clientY:L}=M.touches[0];preventDefault$1(M),T(b(I,L))}},E=(M,I)=>{const{icon:L,size:N,color:V,count:B,gutter:z,voidIcon:G,disabled:H,voidColor:W,allowHalf:j,iconPrefix:X,disabledColor:Z}=r,q=I+1,le=M.status==="full",ae=M.status==="void",he=j&&M.value>0&&M.value<1;let ve;z&&q!==+B&&(ve={paddingRight:addUnit(z)});const ce=fe=>{_();let _e=j?b(fe.clientX,fe.clientY):q;r.clearable&&a.isTap.value&&_e===r.modelValue&&(_e=0),T(_e)};return createVNode$1("div",{key:I,ref:s(I),role:"radio",style:ve,class:bem$p("item"),tabindex:H?void 0:0,"aria-setsize":B,"aria-posinset":q,"aria-checked":!ae,onClick:ce},[createVNode$1(Icon,{size:N,name:le?L:G,class:bem$p("icon",{disabled:H,full:le}),color:H?Z:le?V:W,classPrefix:X},null),he&&createVNode$1(Icon,{size:N,style:{width:M.value+"em"},name:ae?G:L,class:bem$p("icon",["half",{disabled:H,full:!ae}]),color:H?Z:ae?W:V,classPrefix:X},null)])};return useCustomFieldValue(()=>r.modelValue),useEventListener("touchmove",P,{target:l}),()=>createVNode$1("div",{ref:l,role:"radiogroup",class:bem$p({readonly:r.readonly,disabled:r.disabled}),tabindex:r.disabled?void 0:0,"aria-disabled":r.disabled,"aria-readonly":r.readonly,onTouchstartPassive:C},[d.value.map(E)])}});const Rate=withInstall(stdin_default$v),props={figureArr:makeArrayProp(),delay:Number,duration:makeNumberProp(2),isStart:Boolean,direction:makeStringProp("down"),height:makeNumberProp(40)},[name$p,bem$o]=createNamespace("rolling-text-item");var stdin_default$u=defineComponent({name:name$p,props,setup(r){const n=computed(()=>r.direction==="down"?r.figureArr.slice().reverse():r.figureArr),a=computed(()=>`-${r.height*(r.figureArr.length-1)}px`),o=computed(()=>({lineHeight:addUnit(r.height)})),s=computed(()=>({height:addUnit(r.height),"--van-translate":a.value,"--van-duration":r.duration+"s","--van-delay":r.delay+"s"}));return()=>createVNode$1("div",{class:bem$o([r.direction]),style:s.value},[createVNode$1("div",{class:bem$o("box",{animate:r.isStart})},[Array.isArray(n.value)&&n.value.map(l=>createVNode$1("div",{class:bem$o("item"),style:o.value},[l]))])])}});const[name$o,bem$n]=createNamespace("rolling-text"),rollingTextProps={startNum:makeNumberProp(0),targetNum:Number,textList:makeArrayProp(),duration:makeNumberProp(2),autoStart:truthProp,direction:makeStringProp("down"),stopOrder:makeStringProp("ltr"),height:makeNumberProp(40)},CIRCLE_NUM=2;var stdin_default$t=defineComponent({name:name$o,props:rollingTextProps,setup(r){const n=computed(()=>Array.isArray(r.textList)&&r.textList.length),a=computed(()=>n.value?r.textList[0].length:`${Math.max(r.startNum,r.targetNum)}`.length),o=g=>{const y=[];for(let _=0;_<r.textList.length;_++)y.push(r.textList[_][g]);return y},s=computed(()=>n.value?new Array(a.value).fill(""):padZero(r.targetNum,a.value).split("")),l=computed(()=>padZero(r.startNum,a.value).split("")),c=g=>{const y=+l.value[g],_=+s.value[g],b=[];for(let T=y;T<=9;T++)b.push(T);for(let T=0;T<=CIRCLE_NUM;T++)for(let C=0;C<=9;C++)b.push(C);for(let T=0;T<=_;T++)b.push(T);return b},u=(g,y)=>r.stopOrder==="ltr"?.2*g:.2*(y-1-g),d=ref(r.autoStart),f=()=>{d.value=!0},v=()=>{d.value=!1,r.autoStart&&raf(()=>f())};return watch(()=>r.autoStart,g=>{g&&f()}),useExpose({start:f,reset:v}),()=>createVNode$1("div",{class:bem$n()},[s.value.map((g,y)=>createVNode$1(stdin_default$u,{figureArr:n.value?o(y):c(y),duration:r.duration,direction:r.direction,isStart:d.value,height:r.height,delay:u(y,a.value)},null))])}});const RollingText=withInstall(stdin_default$t),Row=withInstall(stdin_default$14),[name$n,bem$m,t$4]=createNamespace("search"),searchProps=extend$1({},fieldSharedProps,{label:String,shape:makeStringProp("square"),leftIcon:makeStringProp("search"),clearable:truthProp,actionText:String,background:String,showAction:Boolean});var stdin_default$s=defineComponent({name:name$n,props:searchProps,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(r,{emit:n,slots:a,attrs:o}){const s=useId(),l=ref(),c=()=>{a.action||(n("update:modelValue",""),n("cancel"))},u=L=>{L.keyCode===13&&(preventDefault$1(L),n("search",r.modelValue))},d=()=>r.id||`${s}-input`,f=()=>{if(a.label||r.label)return createVNode$1("label",{class:bem$m("label"),for:d(),"data-allow-mismatch":"attribute"},[a.label?a.label():r.label])},v=()=>{if(r.showAction){const L=r.actionText||t$4("cancel");return createVNode$1("div",{class:bem$m("action"),role:"button",tabindex:0,onClick:c},[a.action?a.action():L])}},g=()=>{var L;return(L=l.value)==null?void 0:L.blur()},y=()=>{var L;return(L=l.value)==null?void 0:L.focus()},_=L=>n("blur",L),b=L=>n("focus",L),T=L=>n("clear",L),C=L=>n("clickInput",L),P=L=>n("clickLeftIcon",L),E=L=>n("clickRightIcon",L),M=Object.keys(fieldSharedProps),I=()=>{const L=extend$1({},o,pick(r,M),{id:d()}),N=V=>n("update:modelValue",V);return createVNode$1(Field,mergeProps({ref:l,type:"search",class:bem$m("field",{"with-message":L.errorMessage}),border:!1,onBlur:_,onFocus:b,onClear:T,onKeypress:u,onClickInput:C,onClickLeftIcon:P,onClickRightIcon:E,"onUpdate:modelValue":N},L),pick(a,["left-icon","right-icon"]))};return useExpose({focus:y,blur:g}),()=>{var L;return createVNode$1("div",{class:bem$m({"show-action":r.showAction}),style:{background:r.background}},[(L=a.left)==null?void 0:L.call(a),createVNode$1("div",{class:bem$m("content",r.shape)},[f(),I()]),v()])}}});const Search=withInstall(stdin_default$s),isImage=r=>r==null?void 0:r.includes("/"),popupInheritKeys=[...popupSharedPropKeys,"round","closeOnPopstate","safeAreaInsetBottom"],iconMap={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[name$m,bem$l,t$3]=createNamespace("share-sheet"),shareSheetProps=extend$1({},popupSharedProps,{title:String,round:truthProp,options:makeArrayProp(),cancelText:String,description:String,closeOnPopstate:truthProp,safeAreaInsetBottom:truthProp});var stdin_default$r=defineComponent({name:name$m,props:shareSheetProps,emits:["cancel","select","update:show"],setup(r,{emit:n,slots:a}){const o=y=>n("update:show",y),s=()=>{o(!1),n("cancel")},l=(y,_)=>n("select",y,_),c=()=>{const y=a.title?a.title():r.title,_=a.description?a.description():r.description;if(y||_)return createVNode$1("div",{class:bem$l("header")},[y&&createVNode$1("h2",{class:bem$l("title")},[y]),_&&createVNode$1("span",{class:bem$l("description")},[_])])},u=y=>isImage(y)?createVNode$1("img",{src:y,class:bem$l("image-icon")},null):createVNode$1("div",{class:bem$l("icon",[y])},[createVNode$1(Icon,{name:iconMap[y]||y},null)]),d=(y,_)=>{const{name:b,icon:T,className:C,description:P}=y;return createVNode$1("div",{role:"button",tabindex:0,class:[bem$l("option"),C,HAPTICS_FEEDBACK],onClick:()=>l(y,_)},[u(T),b&&createVNode$1("span",{class:bem$l("name")},[b]),P&&createVNode$1("span",{class:bem$l("option-description")},[P])])},f=(y,_)=>createVNode$1("div",{class:bem$l("options",{border:_})},[y.map(d)]),v=()=>{const{options:y}=r;return Array.isArray(y[0])?y.map((_,b)=>f(_,b!==0)):f(y)},g=()=>{var y;const _=(y=r.cancelText)!=null?y:t$3("cancel");if(a.cancel||_)return createVNode$1("button",{type:"button",class:bem$l("cancel"),onClick:s},[a.cancel?a.cancel():_])};return()=>createVNode$1(Popup,mergeProps({class:bem$l(),position:"bottom","onUpdate:show":o},pick(r,popupInheritKeys)),{default:()=>[c(),v(),g()]})}});const ShareSheet=withInstall(stdin_default$r),[name$l,bem$k]=createNamespace("sidebar"),SIDEBAR_KEY=Symbol(name$l),sidebarProps={modelValue:makeNumericProp(0)};var stdin_default$q=defineComponent({name:name$l,props:sidebarProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const{linkChildren:o}=useChildren(SIDEBAR_KEY),s=()=>+r.modelValue;return o({getActive:s,setActive:c=>{c!==s()&&(n("update:modelValue",c),n("change",c))}}),()=>{var c;return createVNode$1("div",{role:"tablist",class:bem$k()},[(c=a.default)==null?void 0:c.call(a)])}}});const Sidebar=withInstall(stdin_default$q),[name$k,bem$j]=createNamespace("sidebar-item"),sidebarItemProps=extend$1({},routeProps,{dot:Boolean,title:String,badge:numericProp,disabled:Boolean,badgeProps:Object});var stdin_default$p=defineComponent({name:name$k,props:sidebarItemProps,emits:["click"],setup(r,{emit:n,slots:a}){const o=useRoute(),{parent:s,index:l}=useParent(SIDEBAR_KEY);if(!s)return;const c=()=>{r.disabled||(n("click",l.value),s.setActive(l.value),o())};return()=>{const{dot:u,badge:d,title:f,disabled:v}=r,g=l.value===s.getActive();return createVNode$1("div",{role:"tab",class:bem$j({select:g,disabled:v}),tabindex:v?void 0:0,"aria-selected":g,onClick:c},[createVNode$1(Badge,mergeProps({dot:u,class:bem$j("text"),content:d},r.badgeProps),{default:()=>[a.title?a.title():f]})])}}});const SidebarItem=withInstall(stdin_default$p),[name$j,bem$i,t$2]=createNamespace("signature"),signatureProps={tips:String,type:makeStringProp("png"),penColor:makeStringProp("#000"),lineWidth:makeNumberProp(3),clearButtonText:String,backgroundColor:makeStringProp(""),confirmButtonText:String},hasCanvasSupport=()=>{var r;const n=document.createElement("canvas");return!!((r=n.getContext)!=null&&r.call(n,"2d"))};var stdin_default$o=defineComponent({name:name$j,props:signatureProps,emits:["submit","clear","start","end","signing"],setup(r,{emit:n}){const a=ref(),o=ref(),s=computed(()=>a.value?a.value.getContext("2d"):null),l=inBrowser$1?hasCanvasSupport():!0;let c=0,u=0,d;const f=()=>{if(!s.value)return!1;s.value.beginPath(),s.value.lineWidth=r.lineWidth,s.value.strokeStyle=r.penColor,d=useRect(a),n("start")},v=E=>{if(!s.value)return!1;preventDefault$1(E);const M=E.touches[0],I=M.clientX-((d==null?void 0:d.left)||0),L=M.clientY-((d==null?void 0:d.top)||0);s.value.lineCap="round",s.value.lineJoin="round",s.value.lineTo(I,L),s.value.stroke(),n("signing",E)},g=E=>{preventDefault$1(E),n("end")},y=E=>{const M=document.createElement("canvas");if(M.width=E.width,M.height=E.height,r.backgroundColor){const I=M.getContext("2d");_(I)}return E.toDataURL()===M.toDataURL()},_=E=>{E&&r.backgroundColor&&(E.fillStyle=r.backgroundColor,E.fillRect(0,0,c,u))},b=()=>{var E,M;const I=a.value;if(!I)return;const N=y(I)?"":((M=(E={jpg:()=>I.toDataURL("image/jpeg",.8),jpeg:()=>I.toDataURL("image/jpeg",.8)})[r.type])==null?void 0:M.call(E))||I.toDataURL(`image/${r.type}`);n("submit",{image:N,canvas:I})},T=()=>{s.value&&(s.value.clearRect(0,0,c,u),s.value.closePath(),_(s.value)),n("clear")},C=()=>{var E,M,I;if(l&&a.value){const L=a.value,N=inBrowser$1?window.devicePixelRatio:1;c=L.width=(((E=o.value)==null?void 0:E.offsetWidth)||0)*N,u=L.height=(((M=o.value)==null?void 0:M.offsetHeight)||0)*N,(I=s.value)==null||I.scale(N,N),_(s.value)}},P=()=>{if(s.value){const E=s.value.getImageData(0,0,c,u);C(),s.value.putImageData(E,0,0)}};return watch(windowWidth,P),onMounted(C),useExpose({resize:P,clear:T,submit:b}),()=>createVNode$1("div",{class:bem$i()},[createVNode$1("div",{class:bem$i("content"),ref:o},[l?createVNode$1("canvas",{ref:a,onTouchstartPassive:f,onTouchmove:v,onTouchend:g},null):createVNode$1("p",null,[r.tips])]),createVNode$1("div",{class:bem$i("footer")},[createVNode$1(Button,{size:"small",onClick:T},{default:()=>[r.clearButtonText||t$2("clear")]}),createVNode$1(Button,{type:"primary",size:"small",onClick:b},{default:()=>[r.confirmButtonText||t$2("confirm")]})])])}});const Signature=withInstall(stdin_default$o),[name$i,bem$h]=createNamespace("skeleton-title"),skeletonTitleProps={round:Boolean,titleWidth:numericProp};var stdin_default$n=defineComponent({name:name$i,props:skeletonTitleProps,setup(r){return()=>createVNode$1("h3",{class:bem$h([{round:r.round}]),style:{width:addUnit(r.titleWidth)}},null)}});const SkeletonTitle=withInstall(stdin_default$n);var stdin_default$m=SkeletonTitle;const[name$h,bem$g]=createNamespace("skeleton-avatar"),skeletonAvatarProps={avatarSize:numericProp,avatarShape:makeStringProp("round")};var stdin_default$l=defineComponent({name:name$h,props:skeletonAvatarProps,setup(r){return()=>createVNode$1("div",{class:bem$g([r.avatarShape]),style:getSizeStyle(r.avatarSize)},null)}});const SkeletonAvatar=withInstall(stdin_default$l);var stdin_default$k=SkeletonAvatar;const DEFAULT_ROW_WIDTH="100%",skeletonParagraphProps={round:Boolean,rowWidth:{type:numericProp,default:DEFAULT_ROW_WIDTH}},[name$g,bem$f]=createNamespace("skeleton-paragraph");var stdin_default$j=defineComponent({name:name$g,props:skeletonParagraphProps,setup(r){return()=>createVNode$1("div",{class:bem$f([{round:r.round}]),style:{width:r.rowWidth}},null)}});const SkeletonParagraph=withInstall(stdin_default$j);var stdin_default$i=SkeletonParagraph;const[name$f,bem$e]=createNamespace("skeleton"),DEFAULT_LAST_ROW_WIDTH="60%",skeletonProps={row:makeNumericProp(0),round:Boolean,title:Boolean,titleWidth:numericProp,avatar:Boolean,avatarSize:numericProp,avatarShape:makeStringProp("round"),loading:truthProp,animate:truthProp,rowWidth:{type:[Number,String,Array],default:DEFAULT_ROW_WIDTH}};var stdin_default$h=defineComponent({name:name$f,inheritAttrs:!1,props:skeletonProps,setup(r,{slots:n,attrs:a}){const o=()=>{if(r.avatar)return createVNode$1(stdin_default$k,{avatarShape:r.avatarShape,avatarSize:r.avatarSize},null)},s=()=>{if(r.title)return createVNode$1(stdin_default$m,{round:r.round,titleWidth:r.titleWidth},null)},l=d=>{const{rowWidth:f}=r;return f===DEFAULT_ROW_WIDTH&&d===+r.row-1?DEFAULT_LAST_ROW_WIDTH:Array.isArray(f)?f[d]:f},c=()=>Array(+r.row).fill("").map((d,f)=>createVNode$1(stdin_default$i,{key:f,round:r.round,rowWidth:addUnit(l(f))},null)),u=()=>n.template?n.template():createVNode$1(Fragment,null,[o(),createVNode$1("div",{class:bem$e("content")},[s(),c()])]);return()=>{var d;return r.loading?createVNode$1("div",mergeProps({class:bem$e({animate:r.animate,round:r.round})},a),[u()]):(d=n.default)==null?void 0:d.call(n)}}});const Skeleton=withInstall(stdin_default$h),[name$e,bem$d]=createNamespace("skeleton-image"),skeletonImageProps={imageSize:numericProp,imageShape:makeStringProp("square")};var stdin_default$g=defineComponent({name:name$e,props:skeletonImageProps,setup(r){return()=>createVNode$1("div",{class:bem$d([r.imageShape]),style:getSizeStyle(r.imageSize)},[createVNode$1(Icon,{name:"photo",class:bem$d("icon")},null)])}});const SkeletonImage=withInstall(stdin_default$g),[name$d,bem$c]=createNamespace("slider"),sliderProps={min:makeNumericProp(0),max:makeNumericProp(100),step:makeNumericProp(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:numericProp,buttonSize:numericProp,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var stdin_default$f=defineComponent({name:name$d,props:sliderProps,emits:["change","dragEnd","dragStart","update:modelValue"],setup(r,{emit:n,slots:a}){let o,s,l;const c=ref(),u=[ref(),ref()],d=ref(),f=useTouch(),v=computed(()=>Number(r.max)-Number(r.min)),g=computed(()=>{const H=r.vertical?"width":"height";return{background:r.inactiveColor,[H]:addUnit(r.barHeight)}}),y=H=>r.range&&Array.isArray(H),_=()=>{const{modelValue:H,min:W}=r;return y(H)?`${(H[1]-H[0])*100/v.value}%`:`${(H-Number(W))*100/v.value}%`},b=()=>{const{modelValue:H,min:W}=r;return y(H)?`${(H[0]-Number(W))*100/v.value}%`:"0%"},T=computed(()=>{const W={[r.vertical?"height":"width"]:_(),background:r.activeColor};d.value&&(W.transition="none");const j=()=>r.vertical?r.reverse?"bottom":"top":r.reverse?"right":"left";return W[j()]=b(),W}),C=H=>{const W=+r.min,j=+r.max,X=+r.step;H=clamp$1(H,W,j);const Z=Math.round((H-W)/X)*X;return addNumber(W,Z)},P=()=>{const H=r.modelValue;y(H)?l=H.map(C):l=C(H)},E=H=>{var W,j;const X=(W=H[0])!=null?W:Number(r.min),Z=(j=H[1])!=null?j:Number(r.max);return X>Z?[Z,X]:[X,Z]},M=(H,W)=>{y(H)?H=E(H).map(C):H=C(H),isSameValue(H,r.modelValue)||n("update:modelValue",H),W&&!isSameValue(H,l)&&n("change",H)},I=H=>{if(H.stopPropagation(),r.disabled||r.readonly)return;P();const{min:W,reverse:j,vertical:X,modelValue:Z}=r,q=useRect(c),le=()=>X?j?q.bottom-H.clientY:H.clientY-q.top:j?q.right-H.clientX:H.clientX-q.left,ae=X?q.height:q.width,he=Number(W)+le()/ae*v.value;if(y(Z)){const[ve,ce]=Z,fe=(ve+ce)/2;he<=fe?M([he,ce],!0):M([ve,he],!0)}else M(he,!0)},L=H=>{r.disabled||r.readonly||(f.start(H),s=r.modelValue,P(),d.value="start")},N=H=>{if(r.disabled||r.readonly)return;d.value==="start"&&n("dragStart",H),preventDefault$1(H,!0),f.move(H),d.value="dragging";const W=useRect(c),j=r.vertical?f.deltaY.value:f.deltaX.value,X=r.vertical?W.height:W.width;let Z=j/X*v.value;if(r.reverse&&(Z=-Z),y(l)){const q=r.reverse?1-o:o;s[q]=l[q]+Z}else s=l+Z;M(s)},V=H=>{r.disabled||r.readonly||(d.value==="dragging"&&(M(s,!0),n("dragEnd",H)),d.value="")},B=H=>typeof H=="number"?bem$c("button-wrapper",["left","right"][H]):bem$c("button-wrapper",r.reverse?"left":"right"),z=(H,W)=>{const j=d.value==="dragging";if(typeof W=="number"){const X=a[W===0?"left-button":"right-button"];let Z;if(j&&Array.isArray(s)&&(Z=s[0]>s[1]?o^1:o),X)return X({value:H,dragging:j,dragIndex:Z})}return a.button?a.button({value:H,dragging:j}):createVNode$1("div",{class:bem$c("button"),style:getSizeStyle(r.buttonSize)},null)},G=H=>{const W=typeof H=="number"?r.modelValue[H]:r.modelValue;return createVNode$1("div",{ref:u[H??0],role:"slider",class:B(H),tabindex:r.disabled?void 0:0,"aria-valuemin":r.min,"aria-valuenow":W,"aria-valuemax":r.max,"aria-disabled":r.disabled||void 0,"aria-readonly":r.readonly||void 0,"aria-orientation":r.vertical?"vertical":"horizontal",onTouchstartPassive:j=>{typeof H=="number"&&(o=H),L(j)},onTouchend:V,onTouchcancel:V,onClick:stopPropagation},[z(W,H)])};return M(r.modelValue),useCustomFieldValue(()=>r.modelValue),u.forEach(H=>{useEventListener("touchmove",N,{target:H})}),()=>createVNode$1("div",{ref:c,style:g.value,class:bem$c({vertical:r.vertical,disabled:r.disabled}),onClick:I},[createVNode$1("div",{class:bem$c("bar"),style:T.value},[r.range?[G(0),G(1)]:G()])])}});const Slider=withInstall(stdin_default$f),[name$c,bem$b]=createNamespace("space"),spaceProps={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function filterEmpty(r=[]){const n=[];return r.forEach(a=>{Array.isArray(a)?n.push(...a):a.type===Fragment?n.push(...filterEmpty(a.children)):n.push(a)}),n.filter(a=>{var o;return!(a&&(a.type===Comment||a.type===Fragment&&((o=a.children)==null?void 0:o.length)===0||a.type===Text&&a.children.trim()===""))})}var stdin_default$e=defineComponent({name:name$c,props:spaceProps,setup(r,{slots:n}){const a=computed(()=>{var l;return(l=r.align)!=null?l:r.direction==="horizontal"?"center":""}),o=l=>typeof l=="number"?l+"px":l,s=l=>{const c={},u=`${o(Array.isArray(r.size)?r.size[0]:r.size)}`,d=`${o(Array.isArray(r.size)?r.size[1]:r.size)}`;return l?r.wrap?{marginBottom:d}:{}:(r.direction==="horizontal"&&(c.marginRight=u),(r.direction==="vertical"||r.wrap)&&(c.marginBottom=d),c)};return()=>{var l;const c=filterEmpty((l=n.default)==null?void 0:l.call(n));return createVNode$1("div",{class:[bem$b({[r.direction]:r.direction,[`align-${a.value}`]:a.value,wrap:r.wrap,fill:r.fill})]},[c.map((u,d)=>createVNode$1("div",{key:`item-${d}`,class:`${name$c}-item`,style:s(d===c.length-1)},[u]))])}}});const Space=withInstall(stdin_default$e),[name$b,bem$a]=createNamespace("steps"),stepsProps={active:makeNumericProp(0),direction:makeStringProp("horizontal"),activeIcon:makeStringProp("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},STEPS_KEY=Symbol(name$b);var stdin_default$d=defineComponent({name:name$b,props:stepsProps,emits:["clickStep"],setup(r,{emit:n,slots:a}){const{linkChildren:o}=useChildren(STEPS_KEY);return o({props:r,onClickStep:l=>n("clickStep",l)}),()=>{var l;return createVNode$1("div",{class:bem$a([r.direction])},[createVNode$1("div",{class:bem$a("items")},[(l=a.default)==null?void 0:l.call(a)])])}}});const[name$a,bem$9]=createNamespace("step");var stdin_default$c=defineComponent({name:name$a,setup(r,{slots:n}){const{parent:a,index:o}=useParent(STEPS_KEY);if(!a)return;const s=a.props,l=()=>{const g=+s.active;return o.value<g?"finish":o.value===g?"process":"waiting"},c=()=>l()==="process",u=computed(()=>({background:l()==="finish"?s.activeColor:s.inactiveColor})),d=computed(()=>{if(c())return{color:s.activeColor};if(l()==="waiting")return{color:s.inactiveColor}}),f=()=>a.onClickStep(o.value),v=()=>{const{iconPrefix:g,finishIcon:y,activeIcon:_,activeColor:b,inactiveIcon:T}=s;return c()?n["active-icon"]?n["active-icon"]():createVNode$1(Icon,{class:bem$9("icon","active"),name:_,color:b,classPrefix:g},null):l()==="finish"&&(y||n["finish-icon"])?n["finish-icon"]?n["finish-icon"]():createVNode$1(Icon,{class:bem$9("icon","finish"),name:y,color:b,classPrefix:g},null):n["inactive-icon"]?n["inactive-icon"]():T?createVNode$1(Icon,{class:bem$9("icon"),name:T,classPrefix:g},null):createVNode$1("i",{class:bem$9("circle"),style:u.value},null)};return()=>{var g;const y=l();return createVNode$1("div",{class:[BORDER,bem$9([s.direction,{[y]:y}])]},[createVNode$1("div",{class:bem$9("title",{active:c()}),style:d.value,onClick:f},[(g=n.default)==null?void 0:g.call(n)]),createVNode$1("div",{class:bem$9("circle-container"),onClick:f},[v()]),createVNode$1("div",{class:bem$9("line"),style:u.value},null)])}}});const Step=withInstall(stdin_default$c),[name$9,bem$8]=createNamespace("stepper"),LONG_PRESS_INTERVAL=200,isEqual=(r,n)=>String(r)===String(n),stepperProps={min:makeNumericProp(1),max:makeNumericProp(1/0),name:makeNumericProp(""),step:makeNumericProp(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:truthProp,showMinus:truthProp,showInput:truthProp,longPress:truthProp,autoFixed:truthProp,allowEmpty:Boolean,modelValue:numericProp,inputWidth:numericProp,buttonSize:numericProp,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:makeNumericProp(1),decimalLength:numericProp};var stdin_default$b=defineComponent({name:name$9,props:stepperProps,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(r,{emit:n}){const a=(B,z=!0)=>{const{min:G,max:H,allowEmpty:W,decimalLength:j}=r;return W&&B===""||(B=formatNumber(String(B),!r.integer),B=B===""?0:+B,B=Number.isNaN(B)?+G:B,B=z?Math.max(Math.min(+H,B),+G):B,isDef$1(j)&&(B=B.toFixed(+j))),B},o=()=>{var B;const z=(B=r.modelValue)!=null?B:r.defaultValue,G=a(z);return isEqual(G,r.modelValue)||n("update:modelValue",G),G};let s;const l=ref(),c=ref(o()),u=computed(()=>r.disabled||r.disableMinus||+c.value<=+r.min),d=computed(()=>r.disabled||r.disablePlus||+c.value>=+r.max),f=computed(()=>({width:addUnit(r.inputWidth),height:addUnit(r.buttonSize)})),v=computed(()=>getSizeStyle(r.buttonSize)),g=()=>{const B=a(c.value);isEqual(B,c.value)||(c.value=B)},y=B=>{r.beforeChange?callInterceptor(r.beforeChange,{args:[B],done(){c.value=B}}):c.value=B},_=()=>{if(s==="plus"&&d.value||s==="minus"&&u.value){n("overlimit",s);return}const B=s==="minus"?-r.step:+r.step,z=a(addNumber(+c.value,B));y(z),n(s)},b=B=>{const z=B.target,{value:G}=z,{decimalLength:H}=r;let W=formatNumber(String(G),!r.integer);if(isDef$1(H)&&W.includes(".")){const X=W.split(".");W=`${X[0]}.${X[1].slice(0,+H)}`}r.beforeChange?z.value=String(c.value):isEqual(G,W)||(z.value=W);const j=W===String(+W);y(j?+W:W)},T=B=>{var z;r.disableInput?(z=l.value)==null||z.blur():n("focus",B)},C=B=>{const z=B.target,G=a(z.value,r.autoFixed);z.value=String(G),c.value=G,nextTick(()=>{n("blur",B),resetScroll()})};let P,E;const M=()=>{E=setTimeout(()=>{_(),M()},LONG_PRESS_INTERVAL)},I=()=>{r.longPress&&(P=!1,clearTimeout(E),E=setTimeout(()=>{P=!0,_(),M()},LONG_PRESS_START_TIME))},L=B=>{r.longPress&&(clearTimeout(E),P&&preventDefault$1(B))},N=B=>{r.disableInput&&preventDefault$1(B)},V=B=>({onClick:z=>{preventDefault$1(z),s=B,_()},onTouchstartPassive:()=>{s=B,I()},onTouchend:L,onTouchcancel:L});return watch(()=>[r.max,r.min,r.integer,r.decimalLength],g),watch(()=>r.modelValue,B=>{isEqual(B,c.value)||(c.value=a(B))}),watch(c,B=>{n("update:modelValue",B),n("change",B,{name:r.name})}),useCustomFieldValue(()=>r.modelValue),()=>createVNode$1("div",{role:"group",class:bem$8([r.theme])},[withDirectives(createVNode$1("button",mergeProps({type:"button",style:v.value,class:[bem$8("minus",{disabled:u.value}),{[HAPTICS_FEEDBACK]:!u.value}],"aria-disabled":u.value||void 0},V("minus")),null),[[vShow,r.showMinus]]),withDirectives(createVNode$1("input",{ref:l,type:r.integer?"tel":"text",role:"spinbutton",class:bem$8("input"),value:c.value,style:f.value,disabled:r.disabled,readonly:r.disableInput,inputmode:r.integer?"numeric":"decimal",placeholder:r.placeholder,autocomplete:"off","aria-valuemax":r.max,"aria-valuemin":r.min,"aria-valuenow":c.value,onBlur:C,onInput:b,onFocus:T,onMousedown:N},null),[[vShow,r.showInput]]),withDirectives(createVNode$1("button",mergeProps({type:"button",style:v.value,class:[bem$8("plus",{disabled:d.value}),{[HAPTICS_FEEDBACK]:!d.value}],"aria-disabled":d.value||void 0},V("plus")),null),[[vShow,r.showPlus]])])}});const Stepper=withInstall(stdin_default$b),Steps=withInstall(stdin_default$d),[name$8,bem$7,t$1]=createNamespace("submit-bar"),submitBarProps={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:makeStringProp("¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:makeStringProp("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:makeNumericProp(2),safeAreaInsetBottom:truthProp};var stdin_default$a=defineComponent({name:name$8,props:submitBarProps,emits:["submit"],setup(r,{emit:n,slots:a}){const o=ref(),s=usePlaceholder(o,bem$7),l=()=>{const{price:v,label:g,currency:y,textAlign:_,suffixLabel:b,decimalLength:T}=r;if(typeof v=="number"){const C=(v/100).toFixed(+T).split("."),P=T?`.${C[1]}`:"";return createVNode$1("div",{class:bem$7("text"),style:{textAlign:_}},[createVNode$1("span",null,[g||t$1("label")]),createVNode$1("span",{class:bem$7("price")},[y,createVNode$1("span",{class:bem$7("price-integer")},[C[0]]),P]),b&&createVNode$1("span",{class:bem$7("suffix-label")},[b])])}},c=()=>{var v;const{tip:g,tipIcon:y}=r;if(a.tip||g)return createVNode$1("div",{class:bem$7("tip")},[y&&createVNode$1(Icon,{class:bem$7("tip-icon"),name:y},null),g&&createVNode$1("span",{class:bem$7("tip-text")},[g]),(v=a.tip)==null?void 0:v.call(a)])},u=()=>n("submit"),d=()=>a.button?a.button():createVNode$1(Button,{round:!0,type:r.buttonType,text:r.buttonText,class:bem$7("button",r.buttonType),color:r.buttonColor,loading:r.loading,disabled:r.disabled,onClick:u},null),f=()=>{var v,g;return createVNode$1("div",{ref:o,class:[bem$7(),{"van-safe-area-bottom":r.safeAreaInsetBottom}]},[(v=a.top)==null?void 0:v.call(a),c(),createVNode$1("div",{class:bem$7("bar")},[(g=a.default)==null?void 0:g.call(a),l(),d()])])};return()=>r.placeholder?s(f):f()}});const SubmitBar=withInstall(stdin_default$a),[name$7,bem$6]=createNamespace("swipe-cell"),swipeCellProps={name:makeNumericProp(""),disabled:Boolean,leftWidth:numericProp,rightWidth:numericProp,beforeClose:Function,stopPropagation:Boolean};var stdin_default$9=defineComponent({name:name$7,props:swipeCellProps,emits:["open","close","click"],setup(r,{emit:n,slots:a}){let o,s,l,c;const u=ref(),d=ref(),f=ref(),v=reactive({offset:0,dragging:!1}),g=useTouch(),y=B=>B.value?useRect(B).width:0,_=computed(()=>isDef$1(r.leftWidth)?+r.leftWidth:y(d)),b=computed(()=>isDef$1(r.rightWidth)?+r.rightWidth:y(f)),T=B=>{v.offset=B==="left"?_.value:-b.value,o||(o=!0,n("open",{name:r.name,position:B}))},C=B=>{v.offset=0,o&&(o=!1,n("close",{name:r.name,position:B}))},P=B=>{const z=Math.abs(v.offset),G=.15,H=o?1-G:G,W=B==="left"?_.value:b.value;W&&z>W*H?T(B):C(B)},E=B=>{r.disabled||(l=v.offset,g.start(B))},M=B=>{if(r.disabled)return;const{deltaX:z}=g;g.move(B),g.isHorizontal()&&(s=!0,v.dragging=!0,(!o||z.value*l<0)&&preventDefault$1(B,r.stopPropagation),v.offset=clamp$1(z.value+l,-b.value,_.value))},I=()=>{v.dragging&&(v.dragging=!1,P(v.offset>0?"left":"right"),setTimeout(()=>{s=!1},0))},L=(B="outside",z)=>{c||(n("click",B),o&&!s&&(c=!0,callInterceptor(r.beforeClose,{args:[{event:z,name:r.name,position:B}],done:()=>{c=!1,C(B)},canceled:()=>c=!1,error:()=>c=!1})))},N=(B,z)=>G=>{z&&G.stopPropagation(),!s&&L(B,G)},V=(B,z)=>{const G=a[B];if(G)return createVNode$1("div",{ref:z,class:bem$6(B),onClick:N(B,!0)},[G()])};return useExpose({open:T,close:C}),useClickAway(u,B=>L("outside",B),{eventName:"touchstart"}),useEventListener("touchmove",M,{target:u}),()=>{var B;const z={transform:`translate3d(${v.offset}px, 0, 0)`,transitionDuration:v.dragging?"0s":".6s"};return createVNode$1("div",{ref:u,class:bem$6(),onClick:N("cell",s),onTouchstartPassive:E,onTouchend:I,onTouchcancel:I},[createVNode$1("div",{class:bem$6("wrapper"),style:z},[V("left",d),(B=a.default)==null?void 0:B.call(a),V("right",f)])])}}});const SwipeCell=withInstall(stdin_default$9),[name$6,bem$5]=createNamespace("tabbar"),tabbarProps={route:Boolean,fixed:truthProp,border:truthProp,zIndex:numericProp,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:makeNumericProp(0),safeAreaInsetBottom:{type:Boolean,default:null}},TABBAR_KEY=Symbol(name$6);var stdin_default$8=defineComponent({name:name$6,props:tabbarProps,emits:["change","update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref(),{linkChildren:s}=useChildren(TABBAR_KEY),l=usePlaceholder(o,bem$5),c=()=>{var f;return(f=r.safeAreaInsetBottom)!=null?f:r.fixed},u=()=>{var f;const{fixed:v,zIndex:g,border:y}=r;return createVNode$1("div",{ref:o,role:"tablist",style:getZIndexStyle(g),class:[bem$5({fixed:v}),{[BORDER_TOP_BOTTOM]:y,"van-safe-area-bottom":c()}]},[(f=a.default)==null?void 0:f.call(a)])};return s({props:r,setActive:(f,v)=>{callInterceptor(r.beforeChange,{args:[f],done(){n("update:modelValue",f),n("change",f),v()}})}}),()=>r.fixed&&r.placeholder?l(u):u()}});const Tabbar=withInstall(stdin_default$8),[name$5,bem$4]=createNamespace("tabbar-item"),tabbarItemProps=extend$1({},routeProps,{dot:Boolean,icon:String,name:numericProp,badge:numericProp,badgeProps:Object,iconPrefix:String});var stdin_default$7=defineComponent({name:name$5,props:tabbarItemProps,emits:["click"],setup(r,{emit:n,slots:a}){const o=useRoute(),s=getCurrentInstance().proxy,{parent:l,index:c}=useParent(TABBAR_KEY);if(!l)return;const u=computed(()=>{var v;const{route:g,modelValue:y}=l.props;if(g&&"$route"in s){const{$route:_}=s,{to:b}=r,T=isObject$5(b)?b:{path:b};return!!_.matched.find(C=>{const P="path"in T&&T.path===C.path,E="name"in T&&T.name===C.name;return P||E})}return((v=r.name)!=null?v:c.value)===y}),d=v=>{var g;u.value||l.setActive((g=r.name)!=null?g:c.value,o),n("click",v)},f=()=>{if(a.icon)return a.icon({active:u.value});if(r.icon)return createVNode$1(Icon,{name:r.icon,classPrefix:r.iconPrefix},null)};return()=>{var v;const{dot:g,badge:y}=r,{activeColor:_,inactiveColor:b}=l.props,T=u.value?_:b;return createVNode$1("div",{role:"tab",class:bem$4({active:u.value}),style:{color:T},tabindex:0,"aria-selected":u.value,onClick:d},[createVNode$1(Badge,mergeProps({dot:g,class:bem$4("icon"),content:y},r.badgeProps),{default:f}),createVNode$1("div",{class:bem$4("text")},[(v=a.default)==null?void 0:v.call(a,{active:u.value})])])}}});const TabbarItem=withInstall(stdin_default$7),[name$4,bem$3]=createNamespace("text-ellipsis"),textEllipsisProps={rows:makeNumericProp(1),dots:makeStringProp("..."),content:makeStringProp(""),expandText:makeStringProp(""),collapseText:makeStringProp(""),position:makeStringProp("end")};var stdin_default$6=defineComponent({name:name$4,props:textEllipsisProps,emits:["clickAction"],setup(r,{emit:n,slots:a}){const o=ref(r.content),s=ref(!1),l=ref(!1),c=ref(),u=ref();let d=!1;const f=computed(()=>s.value?r.collapseText:r.expandText),v=P=>{if(!P)return 0;const E=P.match(/^\d*(\.\d*)?/);return E?Number(E[0]):0},g=()=>{if(!c.value||!c.value.isConnected)return;const P=window.getComputedStyle(c.value),E=document.createElement("div");return Array.prototype.slice.apply(P).forEach(I=>{E.style.setProperty(I,P.getPropertyValue(I))}),E.style.position="fixed",E.style.zIndex="-9999",E.style.top="-9999px",E.style.height="auto",E.style.minHeight="auto",E.style.maxHeight="auto",E.innerText=r.content,document.body.appendChild(E),E},y=(P,E)=>{var M,I;const{content:L,position:N,dots:V}=r,B=L.length,z=0+B>>1,G=a.action?(I=(M=u.value)==null?void 0:M.outerHTML)!=null?I:"":r.expandText,H=()=>{const j=(X,Z)=>{if(Z-X<=1)return N==="end"?L.slice(0,X)+V:V+L.slice(Z,B);const q=Math.round((X+Z)/2);return N==="end"?P.innerText=L.slice(0,q)+V:P.innerText=V+L.slice(q,B),P.innerHTML+=G,P.offsetHeight>E?N==="end"?j(X,q):j(q,Z):N==="end"?j(q,Z):j(X,q)};return j(0,B)},W=(j,X)=>{if(j[1]-j[0]<=1&&X[1]-X[0]<=1)return L.slice(0,j[0])+V+L.slice(X[1],B);const Z=Math.floor((j[0]+j[1])/2),q=Math.ceil((X[0]+X[1])/2);return P.innerText=r.content.slice(0,Z)+r.dots+r.content.slice(q,B),P.innerHTML+=G,P.offsetHeight>=E?W([j[0],Z],[q,X[1]]):W([Z,j[1]],[X[0],q])};return r.position==="middle"?W([0,z],[z,B]):H()},_=()=>{const P=g();if(!P){d=!0;return}const{paddingBottom:E,paddingTop:M,lineHeight:I}=P.style,L=Math.ceil((Number(r.rows)+.5)*v(I)+v(M)+v(E));L<P.offsetHeight?(l.value=!0,o.value=y(P,L)):(l.value=!1,o.value=r.content),document.body.removeChild(P)},b=(P=!s.value)=>{s.value=P},T=P=>{b(),n("clickAction",P)},C=()=>{const P=a.action?a.action({expanded:s.value}):f.value;return createVNode$1("span",{ref:u,class:bem$3("action"),onClick:T},[P])};return onMounted(()=>{_(),a.action&&nextTick(_)}),onActivated(()=>{d&&(d=!1,_())}),watch([windowWidth,()=>[r.content,r.rows,r.position]],_),useExpose({toggle:b}),()=>createVNode$1("div",{ref:c,class:bem$3()},[s.value?r.content:o.value,l.value?C():null])}});const TextEllipsis=withInstall(stdin_default$6),[name$3]=createNamespace("time-picker"),validateTime=r=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(r),fullColumns=["hour","minute","second"],timePickerProps=extend$1({},sharedProps,{minHour:makeNumericProp(0),maxHour:makeNumericProp(23),minMinute:makeNumericProp(0),maxMinute:makeNumericProp(59),minSecond:makeNumericProp(0),maxSecond:makeNumericProp(59),minTime:{type:String,validator:validateTime},maxTime:{type:String,validator:validateTime},columnsType:{type:Array,default:()=>["hour","minute"]}});var stdin_default$5=defineComponent({name:name$3,props:timePickerProps,emits:["confirm","cancel","change","update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref(r.modelValue),s=ref(),l=y=>{const _=y.split(":");return fullColumns.map((b,T)=>r.columnsType.includes(b)?_[T]:"00")},c=()=>{var y;return(y=s.value)==null?void 0:y.confirm()},u=()=>o.value,d=computed(()=>{let{minHour:y,maxHour:_,minMinute:b,maxMinute:T,minSecond:C,maxSecond:P}=r;if(r.minTime||r.maxTime){const E={hour:0,minute:0,second:0};r.columnsType.forEach((L,N)=>{var V;E[L]=(V=o.value[N])!=null?V:0});const{hour:M,minute:I}=E;if(r.minTime){const[L,N,V]=l(r.minTime);y=L,b=+M<=+y?N:"00",C=+M<=+y&&+I<=+b?V:"00"}if(r.maxTime){const[L,N,V]=l(r.maxTime);_=L,T=+M>=+_?N:"59",P=+M>=+_&&+I>=+T?V:"59"}}return r.columnsType.map(E=>{const{filter:M,formatter:I}=r;switch(E){case"hour":return genOptions(+y,+_,E,I,M,o.value);case"minute":return genOptions(+b,+T,E,I,M,o.value);case"second":return genOptions(+C,+P,E,I,M,o.value);default:return[]}})});watch(o,y=>{isSameValue(y,r.modelValue)||n("update:modelValue",y)}),watch(()=>r.modelValue,y=>{y=formatValueRange(y,d.value),isSameValue(y,o.value)||(o.value=y)},{immediate:!0});const f=(...y)=>n("change",...y),v=(...y)=>n("cancel",...y),g=(...y)=>n("confirm",...y);return useExpose({confirm:c,getSelectedTime:u}),()=>createVNode$1(Picker,mergeProps({ref:s,modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,columns:d.value,onChange:f,onCancel:v,onConfirm:g},pick(r,pickerInheritKeys)),a)}});const TimePicker=withInstall(stdin_default$5),[name$2,bem$2]=createNamespace("tree-select"),treeSelectProps={max:makeNumericProp(1/0),items:makeArrayProp(),height:makeNumericProp(300),selectedIcon:makeStringProp("success"),mainActiveIndex:makeNumericProp(0),activeId:{type:[Number,String,Array],default:0}};var stdin_default$4=defineComponent({name:name$2,props:treeSelectProps,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(r,{emit:n,slots:a}){const o=f=>Array.isArray(r.activeId)?r.activeId.includes(f):r.activeId===f,s=f=>{const v=()=>{if(f.disabled)return;let g;if(Array.isArray(r.activeId)){g=r.activeId.slice();const y=g.indexOf(f.id);y!==-1?g.splice(y,1):g.length<+r.max&&g.push(f.id)}else g=f.id;n("update:activeId",g),n("clickItem",f)};return createVNode$1("div",{key:f.id,class:["van-ellipsis",bem$2("item",{active:o(f.id),disabled:f.disabled})],onClick:v},[f.text,o(f.id)&&createVNode$1(Icon,{name:r.selectedIcon,class:bem$2("selected")},null)])},l=f=>{n("update:mainActiveIndex",f)},c=f=>n("clickNav",f),u=()=>{const f=r.items.map(v=>createVNode$1(SidebarItem,{dot:v.dot,badge:v.badge,class:[bem$2("nav-item"),v.className],disabled:v.disabled,onClick:c},{title:()=>a["nav-text"]?a["nav-text"](v):v.text}));return createVNode$1(Sidebar,{class:bem$2("nav"),modelValue:r.mainActiveIndex,onChange:l},{default:()=>[f]})},d=()=>{if(a.content)return a.content();const f=r.items[+r.mainActiveIndex]||{};if(f.children)return f.children.map(s)};return()=>createVNode$1("div",{class:bem$2(),style:{height:addUnit(r.height)}},[u(),createVNode$1("div",{class:bem$2("content")},[d()])])}});const TreeSelect=withInstall(stdin_default$4),[name$1,bem$1,t]=createNamespace("uploader");function readFileContent(r,n){return new Promise(a=>{if(n==="file"){a();return}const o=new FileReader;o.onload=s=>{a(s.target.result)},n==="dataUrl"?o.readAsDataURL(r):n==="text"&&o.readAsText(r)})}function isOversize(r,n){return toArray(r).some(a=>a.file?isFunction$1(n)?n(a.file):a.file.size>+n:!1)}function filterFiles(r,n){const a=[],o=[];return r.forEach(s=>{isOversize(s,n)?o.push(s):a.push(s)}),{valid:a,invalid:o}}const IMAGE_REGEXP=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,isImageUrl=r=>IMAGE_REGEXP.test(r);function isImageFile(r){return r.isImage?!0:r.file&&r.file.type?r.file.type.indexOf("image")===0:r.url?isImageUrl(r.url):typeof r.content=="string"?r.content.indexOf("data:image")===0:!1}var stdin_default$3=defineComponent({props:{name:numericProp,item:makeRequiredProp(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(r,{emit:n,slots:a}){const o=()=>{const{status:v,message:g}=r.item;if(v==="uploading"||v==="failed"){const y=v==="failed"?createVNode$1(Icon,{name:"close",class:bem$1("mask-icon")},null):createVNode$1(Loading,{class:bem$1("loading")},null),_=isDef$1(g)&&g!=="";return createVNode$1("div",{class:bem$1("mask")},[y,_&&createVNode$1("div",{class:bem$1("mask-message")},[g])])}},s=v=>{const{name:g,item:y,index:_,beforeDelete:b}=r;v.stopPropagation(),callInterceptor(b,{args:[y,{name:g,index:_}],done:()=>n("delete")})},l=()=>n("preview"),c=()=>n("reupload"),u=()=>{if(r.deletable&&r.item.status!=="uploading"){const v=a["preview-delete"];return createVNode$1("div",{role:"button",class:bem$1("preview-delete",{shadow:!v}),tabindex:0,"aria-label":t("delete"),onClick:s},[v?v():createVNode$1(Icon,{name:"cross",class:bem$1("preview-delete-icon")},null)])}},d=()=>{if(a["preview-cover"]){const{index:v,item:g}=r;return createVNode$1("div",{class:bem$1("preview-cover")},[a["preview-cover"](extend$1({index:v},g))])}},f=()=>{const{item:v,lazyLoad:g,imageFit:y,previewSize:_,reupload:b}=r;return isImageFile(v)?createVNode$1(Image$1,{fit:y,src:v.objectUrl||v.content||v.url,class:bem$1("preview-image"),width:Array.isArray(_)?_[0]:_,height:Array.isArray(_)?_[1]:_,lazyLoad:g,onClick:b?c:l},{default:d}):createVNode$1("div",{class:bem$1("file"),style:getSizeStyle(r.previewSize)},[createVNode$1(Icon,{class:bem$1("file-icon"),name:"description"},null),createVNode$1("div",{class:[bem$1("file-name"),"van-ellipsis"]},[v.file?v.file.name:v.url]),d()])};return()=>createVNode$1("div",{class:bem$1("preview")},[f(),o(),u()])}});const uploaderProps={name:makeNumericProp(""),accept:makeStringProp("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:makeNumericProp(1/0),imageFit:makeStringProp("cover"),resultType:makeStringProp("dataUrl"),uploadIcon:makeStringProp("photograph"),uploadText:String,deletable:truthProp,reupload:Boolean,afterRead:Function,showUpload:truthProp,modelValue:makeArrayProp(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:truthProp,previewOptions:Object,previewFullImage:truthProp,maxSize:{type:[Number,String,Function],default:1/0}};var stdin_default$2=defineComponent({name:name$1,props:uploaderProps,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(r,{emit:n,slots:a}){const o=ref(),s=[],l=ref(-1),c=ref(!1),u=(B=r.modelValue.length)=>({name:r.name,index:B}),d=()=>{o.value&&(o.value.value="")},f=B=>{if(d(),isOversize(B,r.maxSize))if(Array.isArray(B)){const z=filterFiles(B,r.maxSize);if(B=z.valid,n("oversize",z.invalid,u()),!B.length)return}else{n("oversize",B,u());return}if(B=reactive(B),l.value>-1){const z=[...r.modelValue];z.splice(l.value,1,B),n("update:modelValue",z),l.value=-1}else n("update:modelValue",[...r.modelValue,...toArray(B)]);r.afterRead&&r.afterRead(B,u())},v=B=>{const{maxCount:z,modelValue:G,resultType:H}=r;if(Array.isArray(B)){const W=+z-G.length;B.length>W&&(B=B.slice(0,W)),Promise.all(B.map(j=>readFileContent(j,H))).then(j=>{const X=B.map((Z,q)=>{const le={file:Z,status:"",message:"",objectUrl:URL.createObjectURL(Z)};return j[q]&&(le.content=j[q]),le});f(X)})}else readFileContent(B,H).then(W=>{const j={file:B,status:"",message:"",objectUrl:URL.createObjectURL(B)};W&&(j.content=W),f(j)})},g=B=>{const{files:z}=B.target;if(r.disabled||!z||!z.length)return;const G=z.length===1?z[0]:[].slice.call(z);if(r.beforeRead){const H=r.beforeRead(G,u());if(!H){d();return}if(isPromise(H)){H.then(W=>{v(W||G)}).catch(d);return}}v(G)};let y;const _=()=>n("closePreview"),b=B=>{if(r.previewFullImage){const z=r.modelValue.filter(isImageFile),G=z.map(H=>(H.objectUrl&&!H.url&&H.status!=="failed"&&(H.url=H.objectUrl,s.push(H.url)),H.url)).filter(Boolean);y=showImagePreview(extend$1({images:G,startPosition:z.indexOf(B),onClose:_},r.previewOptions))}},T=()=>{y&&y.close()},C=(B,z)=>{const G=r.modelValue.slice(0);G.splice(z,1),n("update:modelValue",G),n("delete",B,u(z))},P=B=>{c.value=!0,l.value=B,nextTick(()=>V())},E=()=>{c.value||(l.value=-1),c.value=!1},M=(B,z)=>{const G=["imageFit","deletable","reupload","previewSize","beforeDelete"],H=extend$1(pick(r,G),pick(B,G,!0));return createVNode$1(stdin_default$3,mergeProps({item:B,index:z,onClick:()=>n(r.reupload?"clickReupload":"clickPreview",B,u(z)),onDelete:()=>C(B,z),onPreview:()=>b(B),onReupload:()=>P(z)},pick(r,["name","lazyLoad"]),H),pick(a,["preview-cover","preview-delete"]))},I=()=>{if(r.previewImage)return r.modelValue.map(M)},L=B=>n("clickUpload",B),N=()=>{const B=r.modelValue.length<+r.maxCount,z=r.readonly?null:createVNode$1("input",{ref:o,type:"file",class:bem$1("input"),accept:r.accept,capture:r.capture,multiple:r.multiple&&l.value===-1,disabled:r.disabled,onChange:g,onClick:E},null);return a.default?withDirectives(createVNode$1("div",{class:bem$1("input-wrapper"),onClick:L},[a.default(),z]),[[vShow,B]]):withDirectives(createVNode$1("div",{class:bem$1("upload",{readonly:r.readonly}),style:getSizeStyle(r.previewSize),onClick:L},[createVNode$1(Icon,{name:r.uploadIcon,class:bem$1("upload-icon")},null),r.uploadText&&createVNode$1("span",{class:bem$1("upload-text")},[r.uploadText]),z]),[[vShow,r.showUpload&&B]])},V=()=>{o.value&&!r.disabled&&o.value.click()};return onBeforeUnmount(()=>{s.forEach(B=>URL.revokeObjectURL(B))}),useExpose({chooseFile:V,reuploadFile:P,closeImagePreview:T}),useCustomFieldValue(()=>r.modelValue),()=>createVNode$1("div",{class:bem$1()},[createVNode$1("div",{class:bem$1("wrapper",{disabled:r.disabled})},[I(),N()])])}});const Uploader=withInstall(stdin_default$2),[name,bem]=createNamespace("watermark"),watermarkProps={gapX:makeNumberProp(0),gapY:makeNumberProp(0),image:String,width:makeNumberProp(100),height:makeNumberProp(100),rotate:makeNumericProp(-22),zIndex:numericProp,content:String,opacity:numericProp,fullPage:truthProp,textColor:makeStringProp("#dcdee0")};var stdin_default$1=defineComponent({name,props:watermarkProps,setup(r,{slots:n}){const a=ref(),o=ref(""),s=ref(""),l=()=>{const d={transformOrigin:"center",transform:`rotate(${r.rotate}deg)`},f=()=>r.image&&!n.content?createVNode$1("image",{href:s.value,"xlink:href":s.value,x:"0",y:"0",width:r.width,height:r.height,style:d},null):createVNode$1("foreignObject",{x:"0",y:"0",width:r.width,height:r.height},[createVNode$1("div",{xmlns:"http://www.w3.org/1999/xhtml",style:d},[n.content?n.content():createVNode$1("span",{style:{color:r.textColor}},[r.content])])]),v=r.width+r.gapX,g=r.height+r.gapY;return createVNode$1("svg",{viewBox:`0 0 ${v} ${g}`,width:v,height:g,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{padding:`0 ${r.gapX}px ${r.gapY}px 0`,opacity:r.opacity}},[f()])},c=d=>{const f=document.createElement("canvas"),v=new Image;v.crossOrigin="anonymous",v.referrerPolicy="no-referrer",v.onload=()=>{f.width=v.naturalWidth,f.height=v.naturalHeight;const g=f.getContext("2d");g==null||g.drawImage(v,0,0),s.value=f.toDataURL()},v.src=d},u=d=>{const f=new Blob([d],{type:"image/svg+xml"});return URL.createObjectURL(f)};return watchEffect(()=>{r.image&&c(r.image)}),watch(()=>[s.value,r.content,r.textColor,r.height,r.width,r.rotate,r.gapX,r.gapY],()=>{nextTick(()=>{a.value&&(o.value&&URL.revokeObjectURL(o.value),o.value=u(a.value.innerHTML))})},{immediate:!0}),onUnmounted(()=>{o.value&&URL.revokeObjectURL(o.value)}),()=>{const d=extend$1({backgroundImage:`url(${o.value})`},getZIndexStyle(r.zIndex));return createVNode$1("div",{class:bem({full:r.fullPage}),style:d},[createVNode$1("div",{class:bem("wrapper"),ref:a},[l()])])}}});const Watermark=withInstall(stdin_default$1),version="4.9.15";function install$T(r){[ActionBar,ActionBarButton,ActionBarIcon,ActionSheet,AddressEdit,AddressList,Area,BackTop,Badge,Barrage,Button,Calendar$1,Card,Cascader,Cell,CellGroup,Checkbox,CheckboxGroup,Circle$1,Col,Collapse,CollapseItem,ConfigProvider,ContactCard,ContactEdit,ContactList,CountDown,Coupon,CouponCell,CouponList,DatePicker,Dialog,Divider,DropdownItem,DropdownMenu,Empty,Field,FloatingBubble,FloatingPanel,Form,Grid$1,GridItem,Highlight,Icon,Image$1,ImagePreview,IndexAnchor,IndexBar,List,Loading,Locale,NavBar,NoticeBar,Notify,NumberKeyboard,Overlay,Pagination,PasswordInput,Picker,PickerGroup,Popover,Popup,Progress,PullRefresh,Radio,RadioGroup,Rate,RollingText,Row,Search,ShareSheet,Sidebar,SidebarItem,Signature,Skeleton,SkeletonAvatar,SkeletonImage,SkeletonParagraph,SkeletonTitle,Slider,Space,Step,Stepper,Steps,Sticky,SubmitBar,Swipe,SwipeCell,SwipeItem,Switch,Tab,Tabbar,TabbarItem,Tabs,Tag,TextEllipsis,TimePicker,Toast,TreeSelect,Uploader,Watermark].forEach(a=>{a.install?r.use(a):a.name&&r.component(a.name,a)})}var stdin_default={install:install$T,version};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function isESModule(r){return r.__esModule||r[Symbol.toStringTag]==="Module"||r.default&&isRouteComponent(r.default)}const assign=Object.assign;function applyToParams(r,n){const a={};for(const o in n){const s=n[o];a[o]=isArray$2(s)?s.map(r):r(s)}return a}const noop$1=()=>{},isArray$2=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(r){return encodeURI(""+r).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(r){return commonEncode(r).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(r){return commonEncode(r).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(r){return encodeQueryValue(r).replace(EQUAL_RE,"%3D")}function encodePath(r){return commonEncode(r).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(r){return r==null?"":encodePath(r).replace(SLASH_RE,"%2F")}function decode$1(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=r=>r.replace(TRAILING_SLASH_RE,"");function parseURL(r,n,a="/"){let o,s={},l="",c="";const u=n.indexOf("#");let d=n.indexOf("?");return u<d&&u>=0&&(d=-1),d>-1&&(o=n.slice(0,d),l=n.slice(d+1,u>-1?u:n.length),s=r(l)),u>-1&&(o=o||n.slice(0,u),c=n.slice(u,n.length)),o=resolveRelativePath(o??n,a),{fullPath:o+(l&&"?")+l+c,path:o,query:s,hash:decode$1(c)}}function stringifyURL(r,n){const a=n.query?r(n.query):"";return n.path+(a&&"?")+a+(n.hash||"")}function stripBase(r,n){return!n||!r.toLowerCase().startsWith(n.toLowerCase())?r:r.slice(n.length)||"/"}function isSameRouteLocation(r,n,a){const o=n.matched.length-1,s=a.matched.length-1;return o>-1&&o===s&&isSameRouteRecord(n.matched[o],a.matched[s])&&isSameRouteLocationParams(n.params,a.params)&&r(n.query)===r(a.query)&&n.hash===a.hash}function isSameRouteRecord(r,n){return(r.aliasOf||r)===(n.aliasOf||n)}function isSameRouteLocationParams(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(!isSameRouteLocationParamsValue(r[a],n[a]))return!1;return!0}function isSameRouteLocationParamsValue(r,n){return isArray$2(r)?isEquivalentArray(r,n):isArray$2(n)?isEquivalentArray(n,r):r===n}function isEquivalentArray(r,n){return isArray$2(n)?r.length===n.length&&r.every((a,o)=>a===n[o]):r.length===1&&r[0]===n}function resolveRelativePath(r,n){if(r.startsWith("/"))return r;if(!r)return n;const a=n.split("/"),o=r.split("/"),s=o[o.length-1];(s===".."||s===".")&&o.push("");let l=a.length-1,c,u;for(c=0;c<o.length;c++)if(u=o[c],u!==".")if(u==="..")l>1&&l--;else break;return a.slice(0,l).join("/")+"/"+o.slice(c).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(r){r.pop="pop",r.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(r){r.back="back",r.forward="forward",r.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(r){if(!r)if(isBrowser){const n=document.querySelector("base");r=n&&n.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),removeTrailingSlash(r)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(r,n){return r.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(r,n){const a=document.documentElement.getBoundingClientRect(),o=r.getBoundingClientRect();return{behavior:n.behavior,left:o.left-a.left-(n.left||0),top:o.top-a.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(r){let n;if("el"in r){const a=r.el,o=typeof a=="string"&&a.startsWith("#"),s=typeof a=="string"?o?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!s)return;n=getElementPosition(s,r)}else n=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function getScrollKey(r,n){return(history.state?history.state.position-n:-1)+r}const scrollPositions=new Map;function saveScrollPosition(r,n){scrollPositions.set(r,n)}function getSavedScrollPosition(r){const n=scrollPositions.get(r);return scrollPositions.delete(r),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(r,n){const{pathname:a,search:o,hash:s}=n,l=r.indexOf("#");if(l>-1){let u=s.includes(r.slice(l))?r.slice(l).length:1,d=s.slice(u);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(a,r)+o+s}function useHistoryListeners(r,n,a,o){let s=[],l=[],c=null;const u=({state:y})=>{const _=createCurrentLocation(r,location),b=a.value,T=n.value;let C=0;if(y){if(a.value=_,n.value=y,c&&c===b){c=null;return}C=T?y.position-T.position:0}else o(_);s.forEach(P=>{P(a.value,b,{delta:C,type:NavigationType.pop,direction:C?C>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){c=a.value}function f(y){s.push(y);const _=()=>{const b=s.indexOf(y);b>-1&&s.splice(b,1)};return l.push(_),_}function v(){const{history:y}=window;y.state&&y.replaceState(assign({},y.state,{scroll:computeScrollPosition()}),"")}function g(){for(const y of l)y();l=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:d,listen:f,destroy:g}}function buildState(r,n,a,o=!1,s=!1){return{back:r,current:n,forward:a,replaced:o,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(r){const{history:n,location:a}=window,o={value:createCurrentLocation(r,a)},s={value:n.state};s.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(d,f,v){const g=r.indexOf("#"),y=g>-1?(a.host&&document.querySelector("base")?r:r.slice(g))+d:createBaseLocation()+r+d;try{n[v?"replaceState":"pushState"](f,"",y),s.value=f}catch(_){console.error(_),a[v?"replace":"assign"](y)}}function c(d,f){const v=assign({},n.state,buildState(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});l(d,v,!0),o.value=d}function u(d,f){const v=assign({},s.value,n.state,{forward:d,scroll:computeScrollPosition()});l(v.current,v,!0);const g=assign({},buildState(o.value,d,null),{position:v.position+1},f);l(d,g,!1),o.value=d}return{location:o,state:s,push:u,replace:c}}function createWebHistory(r){r=normalizeBase(r);const n=useHistoryStateNavigation(r),a=useHistoryListeners(r,n.state,n.location,n.replace);function o(l,c=!0){c||a.pauseListeners(),history.go(l)}const s=assign({location:"",base:r,go:o,createHref:createHref.bind(null,r)},n,a);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>n.state.value}),s}function isRouteLocation(r){return typeof r=="string"||r&&typeof r=="object"}function isRouteName(r){return typeof r=="string"||typeof r=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(r,n){return assign(new Error,{type:r,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(r,n){return r instanceof Error&&NavigationFailureSymbol in r&&(n==null||!!(r.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(r,n){const a=assign({},BASE_PATH_PARSER_OPTIONS,n),o=[];let s=a.start?"^":"";const l=[];for(const f of r){const v=f.length?[]:[90];a.strict&&!f.length&&(s+="/");for(let g=0;g<f.length;g++){const y=f[g];let _=40+(a.sensitive?.25:0);if(y.type===0)g||(s+="/"),s+=y.value.replace(REGEX_CHARS_RE,"\\$&"),_+=40;else if(y.type===1){const{value:b,repeatable:T,optional:C,regexp:P}=y;l.push({name:b,repeatable:T,optional:C});const E=P||BASE_PARAM_PATTERN;if(E!==BASE_PARAM_PATTERN){_+=10;try{new RegExp(`(${E})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${b}" (${E}): `+I.message)}}let M=T?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;g||(M=C&&f.length<2?`(?:/${M})`:"/"+M),C&&(M+="?"),s+=M,_+=20,C&&(_+=-8),T&&(_+=-20),E===".*"&&(_+=-50)}v.push(_)}o.push(v)}if(a.strict&&a.end){const f=o.length-1;o[f][o[f].length-1]+=.7000000000000001}a.strict||(s+="/?"),a.end?s+="$":a.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const c=new RegExp(s,a.sensitive?"":"i");function u(f){const v=f.match(c),g={};if(!v)return null;for(let y=1;y<v.length;y++){const _=v[y]||"",b=l[y-1];g[b.name]=_&&b.repeatable?_.split("/"):_}return g}function d(f){let v="",g=!1;for(const y of r){(!g||!v.endsWith("/"))&&(v+="/"),g=!1;for(const _ of y)if(_.type===0)v+=_.value;else if(_.type===1){const{value:b,repeatable:T,optional:C}=_,P=b in f?f[b]:"";if(isArray$2(P)&&!T)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const E=isArray$2(P)?P.join("/"):P;if(!E)if(C)y.length<2&&(v.endsWith("/")?v=v.slice(0,-1):g=!0);else throw new Error(`Missing required param "${b}"`);v+=E}}return v||"/"}return{re:c,score:o,keys:l,parse:u,stringify:d}}function compareScoreArray(r,n){let a=0;for(;a<r.length&&a<n.length;){const o=n[a]-r[a];if(o)return o;a++}return r.length<n.length?r.length===1&&r[0]===80?-1:1:r.length>n.length?n.length===1&&n[0]===80?1:-1:0}function comparePathParserScore(r,n){let a=0;const o=r.score,s=n.score;for(;a<o.length&&a<s.length;){const l=compareScoreArray(o[a],s[a]);if(l)return l;a++}if(Math.abs(s.length-o.length)===1){if(isLastScoreNegative(o))return 1;if(isLastScoreNegative(s))return-1}return s.length-o.length}function isLastScoreNegative(r){const n=r[r.length-1];return r.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(r){if(!r)return[[]];if(r==="/")return[[ROOT_TOKEN]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function n(_){throw new Error(`ERR (${a})/"${f}": ${_}`)}let a=0,o=a;const s=[];let l;function c(){l&&s.push(l),l=[]}let u=0,d,f="",v="";function g(){f&&(a===0?l.push({type:0,value:f}):a===1||a===2||a===3?(l.length>1&&(d==="*"||d==="+")&&n(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:f,regexp:v,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):n("Invalid state to consume buffer"),f="")}function y(){f+=d}for(;u<r.length;){if(d=r[u++],d==="\\"&&a!==2){o=a,a=4;continue}switch(a){case 0:d==="/"?(f&&g(),c()):d===":"?(g(),a=1):y();break;case 4:y(),a=o;break;case 1:d==="("?a=2:VALID_PARAM_RE.test(d)?y():(g(),a=0,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case 2:d===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+d:a=3:v+=d;break;case 3:g(),a=0,d!=="*"&&d!=="?"&&d!=="+"&&u--,v="";break;default:n("Unknown state");break}}return a===2&&n(`Unfinished custom RegExp for param "${f}"`),g(),c(),s}function createRouteRecordMatcher(r,n,a){const o=tokensToParser(tokenizePath(r.path),a),s=assign(o,{record:r,parent:n,children:[],alias:[]});return n&&!s.record.aliasOf==!n.record.aliasOf&&n.children.push(s),s}function createRouterMatcher(r,n){const a=[],o=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function s(g){return o.get(g)}function l(g,y,_){const b=!_,T=normalizeRouteRecord(g);T.aliasOf=_&&_.record;const C=mergeOptions(n,g),P=[T];if("alias"in g){const I=typeof g.alias=="string"?[g.alias]:g.alias;for(const L of I)P.push(normalizeRouteRecord(assign({},T,{components:_?_.record.components:T.components,path:L,aliasOf:_?_.record:T})))}let E,M;for(const I of P){const{path:L}=I;if(y&&L[0]!=="/"){const N=y.record.path,V=N[N.length-1]==="/"?"":"/";I.path=y.record.path+(L&&V+L)}if(E=createRouteRecordMatcher(I,y,C),_?_.alias.push(E):(M=M||E,M!==E&&M.alias.push(E),b&&g.name&&!isAliasRecord(E)&&c(g.name)),isMatchable(E)&&d(E),T.children){const N=T.children;for(let V=0;V<N.length;V++)l(N[V],E,_&&_.children[V])}_=_||E}return M?()=>{c(M)}:noop$1}function c(g){if(isRouteName(g)){const y=o.get(g);y&&(o.delete(g),a.splice(a.indexOf(y),1),y.children.forEach(c),y.alias.forEach(c))}else{const y=a.indexOf(g);y>-1&&(a.splice(y,1),g.record.name&&o.delete(g.record.name),g.children.forEach(c),g.alias.forEach(c))}}function u(){return a}function d(g){const y=findInsertionIndex(g,a);a.splice(y,0,g),g.record.name&&!isAliasRecord(g)&&o.set(g.record.name,g)}function f(g,y){let _,b={},T,C;if("name"in g&&g.name){if(_=o.get(g.name),!_)throw createRouterError(1,{location:g});C=_.record.name,b=assign(paramsFromLocation(y.params,_.keys.filter(M=>!M.optional).concat(_.parent?_.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),g.params&&paramsFromLocation(g.params,_.keys.map(M=>M.name))),T=_.stringify(b)}else if(g.path!=null)T=g.path,_=a.find(M=>M.re.test(T)),_&&(b=_.parse(T),C=_.record.name);else{if(_=y.name?o.get(y.name):a.find(M=>M.re.test(y.path)),!_)throw createRouterError(1,{location:g,currentLocation:y});C=_.record.name,b=assign({},y.params,g.params),T=_.stringify(b)}const P=[];let E=_;for(;E;)P.unshift(E.record),E=E.parent;return{name:C,path:T,params:b,matched:P,meta:mergeMetaFields(P)}}r.forEach(g=>l(g));function v(){a.length=0,o.clear()}return{addRoute:l,resolve:f,removeRoute:c,clearRoutes:v,getRoutes:u,getRecordMatcher:s}}function paramsFromLocation(r,n){const a={};for(const o of n)o in r&&(a[o]=r[o]);return a}function normalizeRouteRecord(r){const n={path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:r.aliasOf,beforeEnter:r.beforeEnter,props:normalizeRecordProps(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function normalizeRecordProps(r){const n={},a=r.props||!1;if("component"in r)n.default=a;else for(const o in r.components)n[o]=typeof a=="object"?a[o]:a;return n}function isAliasRecord(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function mergeMetaFields(r){return r.reduce((n,a)=>assign(n,a.meta),{})}function mergeOptions(r,n){const a={};for(const o in r)a[o]=o in n?n[o]:r[o];return a}function findInsertionIndex(r,n){let a=0,o=n.length;for(;a!==o;){const l=a+o>>1;comparePathParserScore(r,n[l])<0?o=l:a=l+1}const s=getInsertionAncestor(r);return s&&(o=n.lastIndexOf(s,o-1)),o}function getInsertionAncestor(r){let n=r;for(;n=n.parent;)if(isMatchable(n)&&comparePathParserScore(r,n)===0)return n}function isMatchable({record:r}){return!!(r.name||r.components&&Object.keys(r.components).length||r.redirect)}function parseQuery(r){const n={};if(r===""||r==="?")return n;const o=(r[0]==="?"?r.slice(1):r).split("&");for(let s=0;s<o.length;++s){const l=o[s].replace(PLUS_RE," "),c=l.indexOf("="),u=decode$1(c<0?l:l.slice(0,c)),d=c<0?null:decode$1(l.slice(c+1));if(u in n){let f=n[u];isArray$2(f)||(f=n[u]=[f]),f.push(d)}else n[u]=d}return n}function stringifyQuery(r){let n="";for(let a in r){const o=r[a];if(a=encodeQueryKey(a),o==null){o!==void 0&&(n+=(n.length?"&":"")+a);continue}(isArray$2(o)?o.map(l=>l&&encodeQueryValue(l)):[o&&encodeQueryValue(o)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+a,l!=null&&(n+="="+l))})}return n}function normalizeQuery(r){const n={};for(const a in r){const o=r[a];o!==void 0&&(n[a]=isArray$2(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let r=[];function n(o){return r.push(o),()=>{const s=r.indexOf(o);s>-1&&r.splice(s,1)}}function a(){r=[]}return{add:n,list:()=>r.slice(),reset:a}}function guardToPromiseFn(r,n,a,o,s,l=c=>c()){const c=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((u,d)=>{const f=y=>{y===!1?d(createRouterError(4,{from:a,to:n})):y instanceof Error?d(y):isRouteLocation(y)?d(createRouterError(2,{from:n,to:y})):(c&&o.enterCallbacks[s]===c&&typeof y=="function"&&c.push(y),u())},v=l(()=>r.call(o&&o.instances[s],n,a,f));let g=Promise.resolve(v);r.length<3&&(g=g.then(f)),g.catch(y=>d(y))})}function extractComponentsGuards(r,n,a,o,s=l=>l()){const l=[];for(const c of r)for(const u in c.components){let d=c.components[u];if(!(n!=="beforeRouteEnter"&&!c.instances[u]))if(isRouteComponent(d)){const v=(d.__vccOpts||d)[n];v&&l.push(guardToPromiseFn(v,a,o,c,u,s))}else{let f=d();l.push(()=>f.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${u}" at "${c.path}"`);const g=isESModule(v)?v.default:v;c.mods[u]=v,c.components[u]=g;const _=(g.__vccOpts||g)[n];return _&&guardToPromiseFn(_,a,o,c,u,s)()}))}}return l}function useLink(r){const n=inject(routerKey),a=inject(routeLocationKey),o=computed(()=>{const d=unref(r.to);return n.resolve(d)}),s=computed(()=>{const{matched:d}=o.value,{length:f}=d,v=d[f-1],g=a.matched;if(!v||!g.length)return-1;const y=g.findIndex(isSameRouteRecord.bind(null,v));if(y>-1)return y;const _=getOriginalPath(d[f-2]);return f>1&&getOriginalPath(v)===_&&g[g.length-1].path!==_?g.findIndex(isSameRouteRecord.bind(null,d[f-2])):y}),l=computed(()=>s.value>-1&&includesParams(a.params,o.value.params)),c=computed(()=>s.value>-1&&s.value===a.matched.length-1&&isSameRouteLocationParams(a.params,o.value.params));function u(d={}){if(guardEvent(d)){const f=n[unref(r.replace)?"replace":"push"](unref(r.to)).catch(noop$1);return r.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:o,href:computed(()=>o.value.href),isActive:l,isExactActive:c,navigate:u}}function preferSingleVNode(r){return r.length===1?r[0]:r}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(r,{slots:n}){const a=reactive(useLink(r)),{options:o}=inject(routerKey),s=computed(()=>({[getLinkClass(r.activeClass,o.linkActiveClass,"router-link-active")]:a.isActive,[getLinkClass(r.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const l=n.default&&preferSingleVNode(n.default(a));return r.custom?l:h("a",{"aria-current":a.isExactActive?r.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:s.value},l)}}}),RouterLink=RouterLinkImpl;function guardEvent(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const n=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return r.preventDefault&&r.preventDefault(),!0}}function includesParams(r,n){for(const a in n){const o=n[a],s=r[a];if(typeof o=="string"){if(o!==s)return!1}else if(!isArray$2(s)||s.length!==o.length||o.some((l,c)=>l!==s[c]))return!1}return!0}function getOriginalPath(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const getLinkClass=(r,n,a)=>r??n??a,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:n,slots:a}){const o=inject(routerViewLocationKey),s=computed(()=>r.route||o.value),l=inject(viewDepthKey,0),c=computed(()=>{let f=unref(l);const{matched:v}=s.value;let g;for(;(g=v[f])&&!g.components;)f++;return f}),u=computed(()=>s.value.matched[c.value]);provide(viewDepthKey,computed(()=>c.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,s);const d=ref();return watch(()=>[d.value,u.value,r.name],([f,v,g],[y,_,b])=>{v&&(v.instances[g]=f,_&&_!==v&&f&&f===y&&(v.leaveGuards.size||(v.leaveGuards=_.leaveGuards),v.updateGuards.size||(v.updateGuards=_.updateGuards))),f&&v&&(!_||!isSameRouteRecord(v,_)||!y)&&(v.enterCallbacks[g]||[]).forEach(T=>T(f))},{flush:"post"}),()=>{const f=s.value,v=r.name,g=u.value,y=g&&g.components[v];if(!y)return normalizeSlot(a.default,{Component:y,route:f});const _=g.props[v],b=_?_===!0?f.params:typeof _=="function"?_(f):_:null,C=h(y,assign({},b,n,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(g.instances[v]=null)},ref:d}));return normalizeSlot(a.default,{Component:C,route:f})||C}}});function normalizeSlot(r,n){if(!r)return null;const a=r(n);return a.length===1?a[0]:a}const RouterView=RouterViewImpl;function createRouter(r){const n=createRouterMatcher(r.routes,r),a=r.parseQuery||parseQuery,o=r.stringifyQuery||stringifyQuery,s=r.history,l=useCallbacks(),c=useCallbacks(),u=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=applyToParams.bind(null,ne=>""+ne),g=applyToParams.bind(null,encodeParam),y=applyToParams.bind(null,decode$1);function _(ne,pe){let de,Te;return isRouteName(ne)?(de=n.getRecordMatcher(ne),Te=pe):Te=ne,n.addRoute(Te,de)}function b(ne){const pe=n.getRecordMatcher(ne);pe&&n.removeRoute(pe)}function T(){return n.getRoutes().map(ne=>ne.record)}function C(ne){return!!n.getRecordMatcher(ne)}function P(ne,pe){if(pe=assign({},pe||d.value),typeof ne=="string"){const oe=parseURL(a,ne,pe.path),ge=n.resolve({path:oe.path},pe),Ae=s.createHref(oe.fullPath);return assign(oe,ge,{params:y(ge.params),hash:decode$1(oe.hash),redirectedFrom:void 0,href:Ae})}let de;if(ne.path!=null)de=assign({},ne,{path:parseURL(a,ne.path,pe.path).path});else{const oe=assign({},ne.params);for(const ge in oe)oe[ge]==null&&delete oe[ge];de=assign({},ne,{params:g(oe)}),pe.params=g(pe.params)}const Te=n.resolve(de,pe),we=ne.hash||"";Te.params=v(y(Te.params));const Ie=stringifyURL(o,assign({},ne,{hash:encodeHash(we),path:Te.path})),te=s.createHref(Ie);return assign({fullPath:Ie,hash:we,query:o===stringifyQuery?normalizeQuery(ne.query):ne.query||{}},Te,{redirectedFrom:void 0,href:te})}function E(ne){return typeof ne=="string"?parseURL(a,ne,d.value.path):assign({},ne)}function M(ne,pe){if(f!==ne)return createRouterError(8,{from:pe,to:ne})}function I(ne){return V(ne)}function L(ne){return I(assign(E(ne),{replace:!0}))}function N(ne){const pe=ne.matched[ne.matched.length-1];if(pe&&pe.redirect){const{redirect:de}=pe;let Te=typeof de=="function"?de(ne):de;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=E(Te):{path:Te},Te.params={}),assign({query:ne.query,hash:ne.hash,params:Te.path!=null?{}:ne.params},Te)}}function V(ne,pe){const de=f=P(ne),Te=d.value,we=ne.state,Ie=ne.force,te=ne.replace===!0,oe=N(de);if(oe)return V(assign(E(oe),{state:typeof oe=="object"?assign({},we,oe.state):we,force:Ie,replace:te}),pe||de);const ge=de;ge.redirectedFrom=pe;let Ae;return!Ie&&isSameRouteLocation(o,Te,de)&&(Ae=createRouterError(16,{to:ge,from:Te}),ce(Te,Te,!0,!1)),(Ae?Promise.resolve(Ae):G(ge,Te)).catch(be=>isNavigationFailure(be)?isNavigationFailure(be,2)?be:ve(be):ae(be,ge,Te)).then(be=>{if(be){if(isNavigationFailure(be,2))return V(assign({replace:te},E(be.to),{state:typeof be.to=="object"?assign({},we,be.to.state):we,force:Ie}),pe||ge)}else be=W(ge,Te,!0,te,we);return H(ge,Te,be),be})}function B(ne,pe){const de=M(ne,pe);return de?Promise.reject(de):Promise.resolve()}function z(ne){const pe=Ce.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(ne):ne()}function G(ne,pe){let de;const[Te,we,Ie]=extractChangingRecords(ne,pe);de=extractComponentsGuards(Te.reverse(),"beforeRouteLeave",ne,pe);for(const oe of Te)oe.leaveGuards.forEach(ge=>{de.push(guardToPromiseFn(ge,ne,pe))});const te=B.bind(null,ne,pe);return de.push(te),De(de).then(()=>{de=[];for(const oe of l.list())de.push(guardToPromiseFn(oe,ne,pe));return de.push(te),De(de)}).then(()=>{de=extractComponentsGuards(we,"beforeRouteUpdate",ne,pe);for(const oe of we)oe.updateGuards.forEach(ge=>{de.push(guardToPromiseFn(ge,ne,pe))});return de.push(te),De(de)}).then(()=>{de=[];for(const oe of Ie)if(oe.beforeEnter)if(isArray$2(oe.beforeEnter))for(const ge of oe.beforeEnter)de.push(guardToPromiseFn(ge,ne,pe));else de.push(guardToPromiseFn(oe.beforeEnter,ne,pe));return de.push(te),De(de)}).then(()=>(ne.matched.forEach(oe=>oe.enterCallbacks={}),de=extractComponentsGuards(Ie,"beforeRouteEnter",ne,pe,z),de.push(te),De(de))).then(()=>{de=[];for(const oe of c.list())de.push(guardToPromiseFn(oe,ne,pe));return de.push(te),De(de)}).catch(oe=>isNavigationFailure(oe,8)?oe:Promise.reject(oe))}function H(ne,pe,de){u.list().forEach(Te=>z(()=>Te(ne,pe,de)))}function W(ne,pe,de,Te,we){const Ie=M(ne,pe);if(Ie)return Ie;const te=pe===START_LOCATION_NORMALIZED,oe=isBrowser?history.state:{};de&&(Te||te?s.replace(ne.fullPath,assign({scroll:te&&oe&&oe.scroll},we)):s.push(ne.fullPath,we)),d.value=ne,ce(ne,pe,de,te),ve()}let j;function X(){j||(j=s.listen((ne,pe,de)=>{if(!Se.listening)return;const Te=P(ne),we=N(Te);if(we){V(assign(we,{replace:!0,force:!0}),Te).catch(noop$1);return}f=Te;const Ie=d.value;isBrowser&&saveScrollPosition(getScrollKey(Ie.fullPath,de.delta),computeScrollPosition()),G(Te,Ie).catch(te=>isNavigationFailure(te,12)?te:isNavigationFailure(te,2)?(V(assign(E(te.to),{force:!0}),Te).then(oe=>{isNavigationFailure(oe,20)&&!de.delta&&de.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop$1),Promise.reject()):(de.delta&&s.go(-de.delta,!1),ae(te,Te,Ie))).then(te=>{te=te||W(Te,Ie,!1),te&&(de.delta&&!isNavigationFailure(te,8)?s.go(-de.delta,!1):de.type===NavigationType.pop&&isNavigationFailure(te,20)&&s.go(-1,!1)),H(Te,Ie,te)}).catch(noop$1)}))}let Z=useCallbacks(),q=useCallbacks(),le;function ae(ne,pe,de){ve(ne);const Te=q.list();return Te.length?Te.forEach(we=>we(ne,pe,de)):console.error(ne),Promise.reject(ne)}function he(){return le&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((ne,pe)=>{Z.add([ne,pe])})}function ve(ne){return le||(le=!ne,X(),Z.list().forEach(([pe,de])=>ne?de(ne):pe()),Z.reset()),ne}function ce(ne,pe,de,Te){const{scrollBehavior:we}=r;if(!isBrowser||!we)return Promise.resolve();const Ie=!de&&getSavedScrollPosition(getScrollKey(ne.fullPath,0))||(Te||!de)&&history.state&&history.state.scroll||null;return nextTick().then(()=>we(ne,pe,Ie)).then(te=>te&&scrollToPosition(te)).catch(te=>ae(te,ne,pe))}const fe=ne=>s.go(ne);let _e;const Ce=new Set,Se={currentRoute:d,listening:!0,addRoute:_,removeRoute:b,clearRoutes:n.clearRoutes,hasRoute:C,getRoutes:T,resolve:P,options:r,push:I,replace:L,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:l.add,beforeResolve:c.add,afterEach:u.add,onError:q.add,isReady:he,install(ne){const pe=this;ne.component("RouterLink",RouterLink),ne.component("RouterView",RouterView),ne.config.globalProperties.$router=pe,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!_e&&d.value===START_LOCATION_NORMALIZED&&(_e=!0,I(s.location).catch(we=>{}));const de={};for(const we in START_LOCATION_NORMALIZED)Object.defineProperty(de,we,{get:()=>d.value[we],enumerable:!0});ne.provide(routerKey,pe),ne.provide(routeLocationKey,shallowReactive(de)),ne.provide(routerViewLocationKey,d);const Te=ne.unmount;Ce.add(ne),ne.unmount=function(){Ce.delete(ne),Ce.size<1&&(f=START_LOCATION_NORMALIZED,j&&j(),j=null,d.value=START_LOCATION_NORMALIZED,_e=!1,le=!1),Te()}}};function De(ne){return ne.reduce((pe,de)=>pe.then(()=>z(de)),Promise.resolve())}return Se}function extractChangingRecords(r,n){const a=[],o=[],s=[],l=Math.max(n.matched.length,r.matched.length);for(let c=0;c<l;c++){const u=n.matched[c];u&&(r.matched.find(f=>isSameRouteRecord(f,u))?o.push(u):a.push(u));const d=r.matched[c];d&&(n.matched.find(f=>isSameRouteRecord(f,d))||s.push(d))}return[a,o,s]}function useRouter(){return inject(routerKey)}const _hoisted_1$c={id:"app"},_sfc_main$c=defineComponent({__name:"MainPage",setup(r){const n=useRouter(),a=()=>{n.push("/data")},o=()=>{n.push("/class")},s=()=>{n.push("/base")},l=()=>{n.push("/progress")},c=()=>{n.push("/dpSystem")},u=()=>{n.push("/stc")},d=()=>{n.push("/progress2")},f=()=>{n.push("/material")};return(v,g)=>{const y=resolveComponent("van-divider"),_=resolveComponent("van-grid-item"),b=resolveComponent("van-grid"),T=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$c,[createVNode$1(y,{class:"styled-divider"},{default:withCtx(()=>g[0]||(g[0]=[createTextVNode("基本信息")])),_:1}),createVNode$1(b,null,{default:withCtx(()=>[createVNode$1(_,{icon:"manager",text:"班次信息",onClick:o}),createVNode$1(_,{icon:"todo-list",text:"项目基本信息",onClick:s}),createVNode$1(_,{icon:"setting",text:"设备信息",onClick:a})]),_:1}),createVNode$1(y,{class:"styled-divider"},{default:withCtx(()=>g[1]||(g[1]=[createTextVNode("进度管理")])),_:1}),createVNode$1(b,null,{default:withCtx(()=>[createVNode$1(_,{icon:"records",text:"进度汇总",onClick:l}),createVNode$1(_,{icon:"clock",text:"当前进度",onClick:d})]),_:1}),createVNode$1(y,{class:"styled-divider"},{default:withCtx(()=>g[2]||(g[2]=[createTextVNode("单项目分析")])),_:1}),createVNode$1(b,null,{default:withCtx(()=>[createVNode$1(_,{icon:"discount",text:"材料消耗",onClick:f}),createVNode$1(_,{icon:"wechat-moments",text:"盾尾间隙",onClick:u}),createVNode$1(_,{icon:"browsing-history",text:"管片姿态"}),createVNode$1(_,{icon:"youzan-shield",text:"施工工效"})]),_:1}),createVNode$1(y,{class:"styled-divider"},{default:withCtx(()=>g[3]||(g[3]=[createTextVNode("设备故障记录")])),_:1}),createVNode$1(b,null,{default:withCtx(()=>[createVNode$1(_,{icon:"bell",text:"设备故障预警"}),createVNode$1(_,{icon:"live",text:"刀盘系统监测",onClick:c})]),_:1}),createVNode$1(T)])}}}),MainPage=_export_sfc(_sfc_main$c,[["__scopeId","data-v-03c6fa7c"]]);class HttpError extends Error{constructor(n,a){const o=new.target.prototype;super(`${n}: Status code '${a}'`),this.statusCode=a,this.__proto__=o}}class TimeoutError extends Error{constructor(n="A timeout occurred."){const a=new.target.prototype;super(n),this.__proto__=a}}class AbortError extends Error{constructor(n="An abort occurred."){const a=new.target.prototype;super(n),this.__proto__=a}}class UnsupportedTransportError extends Error{constructor(n,a){const o=new.target.prototype;super(n),this.transport=a,this.errorType="UnsupportedTransportError",this.__proto__=o}}class DisabledTransportError extends Error{constructor(n,a){const o=new.target.prototype;super(n),this.transport=a,this.errorType="DisabledTransportError",this.__proto__=o}}class FailedToStartTransportError extends Error{constructor(n,a){const o=new.target.prototype;super(n),this.transport=a,this.errorType="FailedToStartTransportError",this.__proto__=o}}class FailedToNegotiateWithServerError extends Error{constructor(n){const a=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=a}}class AggregateErrors extends Error{constructor(n,a){const o=new.target.prototype;super(n),this.innerErrors=a,this.__proto__=o}}class HttpResponse{constructor(n,a,o){this.statusCode=n,this.statusText=a,this.content=o}}class HttpClient{get(n,a){return this.send({...a,method:"GET",url:n})}post(n,a){return this.send({...a,method:"POST",url:n})}delete(n,a){return this.send({...a,method:"DELETE",url:n})}getCookieString(n){return""}}var LogLevel;(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Information=2]="Information",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.None=6]="None"})(LogLevel||(LogLevel={}));class NullLogger{constructor(){}log(n,a){}}NullLogger.instance=new NullLogger;const VERSION="8.0.7";class Arg{static isRequired(n,a){if(n==null)throw new Error(`The '${a}' argument is required.`)}static isNotEmpty(n,a){if(!n||n.match(/^\s*$/))throw new Error(`The '${a}' argument should not be empty.`)}static isIn(n,a,o){if(!(n in a))throw new Error(`Unknown ${o} value: ${n}.`)}}class Platform{static get isBrowser(){return!Platform.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Platform.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Platform.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function getDataDetail(r,n){let a="";return isArrayBuffer(r)?(a=`Binary data of length ${r.byteLength}`,n&&(a+=`. Content: '${formatArrayBuffer(r)}'`)):typeof r=="string"&&(a=`String data of length ${r.length}`,n&&(a+=`. Content: '${r}'`)),a}function formatArrayBuffer(r){const n=new Uint8Array(r);let a="";return n.forEach(o=>{const s=o<16?"0":"";a+=`0x${s}${o.toString(16)} `}),a.substr(0,a.length-1)}function isArrayBuffer(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}async function sendMessage(r,n,a,o,s,l){const c={},[u,d]=getUserAgentHeader();c[u]=d,r.log(LogLevel.Trace,`(${n} transport) sending data. ${getDataDetail(s,l.logMessageContent)}.`);const f=isArrayBuffer(s)?"arraybuffer":"text",v=await a.post(o,{content:s,headers:{...c,...l.headers},responseType:f,timeout:l.timeout,withCredentials:l.withCredentials});r.log(LogLevel.Trace,`(${n} transport) request complete. Response status: ${v.statusCode}.`)}function createLogger(r){return r===void 0?new ConsoleLogger(LogLevel.Information):r===null?NullLogger.instance:r.log!==void 0?r:new ConsoleLogger(r)}class SubjectSubscription{constructor(n,a){this._subject=n,this._observer=a}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(a=>{})}}class ConsoleLogger{constructor(n){this._minLevel=n,this.out=console}log(n,a){if(n>=this._minLevel){const o=`[${new Date().toISOString()}] ${LogLevel[n]}: ${a}`;switch(n){case LogLevel.Critical:case LogLevel.Error:this.out.error(o);break;case LogLevel.Warning:this.out.warn(o);break;case LogLevel.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function getUserAgentHeader(){let r="X-SignalR-User-Agent";return Platform.isNode&&(r="User-Agent"),[r,constructUserAgent(VERSION,getOsName(),getRuntime(),getRuntimeVersion())]}function constructUserAgent(r,n,a,o){let s="Microsoft SignalR/";const l=r.split(".");return s+=`${l[0]}.${l[1]}`,s+=` (${r}; `,n&&n!==""?s+=`${n}; `:s+="Unknown OS; ",s+=`${a}`,o?s+=`; ${o}`:s+="; Unknown Runtime Version",s+=")",s}function getOsName(){if(Platform.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function getRuntimeVersion(){if(Platform.isNode)return process.versions.node}function getRuntime(){return Platform.isNode?"NodeJS":"Browser"}function getErrorString(r){return r.stack?r.stack:r.message?r.message:`${r}`}function getGlobalThis(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class FetchHttpClient extends HttpClient{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||Platform.isNode){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(a("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=a("node-fetch"):this._fetchType=fetch,this._fetchType=a("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(getGlobalThis());if(typeof AbortController>"u"){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=a("abort-controller")}else this._abortControllerType=AbortController}async send(n){if(n.abortSignal&&n.abortSignal.aborted)throw new AbortError;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const a=new this._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{a.abort(),o=new AbortError});let s=null;if(n.timeout){const d=n.timeout;s=setTimeout(()=>{a.abort(),this._logger.log(LogLevel.Warning,"Timeout from HTTP request."),o=new TimeoutError},d)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},isArrayBuffer(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let l;try{l=await this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:a.signal})}catch(d){throw o||(this._logger.log(LogLevel.Warning,`Error from HTTP request. ${d}.`),d)}finally{s&&clearTimeout(s),n.abortSignal&&(n.abortSignal.onabort=null)}if(!l.ok){const d=await deserializeContent(l,"text");throw new HttpError(d||l.statusText,l.status)}const u=await deserializeContent(l,n.responseType);return new HttpResponse(l.status,l.statusText,u)}getCookieString(n){let a="";return Platform.isNode&&this._jar&&this._jar.getCookies(n,(o,s)=>a=s.join("; ")),a}}function deserializeContent(r,n){let a;switch(n){case"arraybuffer":a=r.arrayBuffer();break;case"text":a=r.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:a=r.text();break}return a}class XhrHttpClient extends HttpClient{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new AbortError):n.method?n.url?new Promise((a,o)=>{const s=new XMLHttpRequest;s.open(n.method,n.url,!0),s.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(isArrayBuffer(n.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const l=n.headers;l&&Object.keys(l).forEach(c=>{s.setRequestHeader(c,l[c])}),n.responseType&&(s.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{s.abort(),o(new AbortError)}),n.timeout&&(s.timeout=n.timeout),s.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),s.status>=200&&s.status<300?a(new HttpResponse(s.status,s.statusText,s.response||s.responseText)):o(new HttpError(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(LogLevel.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),o(new HttpError(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(LogLevel.Warning,"Timeout from HTTP request."),o(new TimeoutError)},s.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class DefaultHttpClient extends HttpClient{constructor(n){if(super(),typeof fetch<"u"||Platform.isNode)this._httpClient=new FetchHttpClient(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new XhrHttpClient(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new AbortError):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}class TextMessageFormat{static write(n){return`${n}${TextMessageFormat.RecordSeparator}`}static parse(n){if(n[n.length-1]!==TextMessageFormat.RecordSeparator)throw new Error("Message is incomplete.");const a=n.split(TextMessageFormat.RecordSeparator);return a.pop(),a}}TextMessageFormat.RecordSeparatorCode=30;TextMessageFormat.RecordSeparator=String.fromCharCode(TextMessageFormat.RecordSeparatorCode);class HandshakeProtocol{writeHandshakeRequest(n){return TextMessageFormat.write(JSON.stringify(n))}parseHandshakeResponse(n){let a,o;if(isArrayBuffer(n)){const u=new Uint8Array(n),d=u.indexOf(TextMessageFormat.RecordSeparatorCode);if(d===-1)throw new Error("Message is incomplete.");const f=d+1;a=String.fromCharCode.apply(null,Array.prototype.slice.call(u.slice(0,f))),o=u.byteLength>f?u.slice(f).buffer:null}else{const u=n,d=u.indexOf(TextMessageFormat.RecordSeparator);if(d===-1)throw new Error("Message is incomplete.");const f=d+1;a=u.substring(0,f),o=u.length>f?u.substring(f):null}const s=TextMessageFormat.parse(a),l=JSON.parse(s[0]);if(l.type)throw new Error("Expected a handshake response from the server.");return[o,l]}}var MessageType;(function(r){r[r.Invocation=1]="Invocation",r[r.StreamItem=2]="StreamItem",r[r.Completion=3]="Completion",r[r.StreamInvocation=4]="StreamInvocation",r[r.CancelInvocation=5]="CancelInvocation",r[r.Ping=6]="Ping",r[r.Close=7]="Close",r[r.Ack=8]="Ack",r[r.Sequence=9]="Sequence"})(MessageType||(MessageType={}));class Subject{constructor(){this.observers=[]}next(n){for(const a of this.observers)a.next(n)}error(n){for(const a of this.observers)a.error&&a.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new SubjectSubscription(this,n)}}class MessageBuffer{constructor(n,a,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=a,this._bufferSize=o}async _send(n){const a=this._protocol.writeMessage(n);let o=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let s=()=>{},l=()=>{};isArrayBuffer(a)?this._bufferedByteCount+=a.byteLength:this._bufferedByteCount+=a.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((c,u)=>{s=c,l=u})),this._messages.push(new BufferedItem(a,this._totalMessageCount,s,l))}try{this._reconnectInProgress||await this._connection.send(a)}catch{this._disconnected()}await o}_ack(n){let a=-1;for(let o=0;o<this._messages.length;o++){const s=this._messages[o];if(s._id<=n.sequenceId)a=o,isArrayBuffer(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}a!==-1&&(this._messages=this._messages.slice(a+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==MessageType.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;const a=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,a<=this._latestReceivedSequenceId?(a===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=a,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:MessageType.Sequence,sequenceId:n}));const a=this._messages;for(const o of a)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(const a of this._messages)a._rejector(n)}_isInvocationMessage(n){switch(n.type){case MessageType.Invocation:case MessageType.StreamItem:case MessageType.Completion:case MessageType.StreamInvocation:case MessageType.CancelInvocation:return!0;case MessageType.Close:case MessageType.Sequence:case MessageType.Ping:case MessageType.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:MessageType.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class BufferedItem{constructor(n,a,o,s){this._message=n,this._id=a,this._resolver=o,this._rejector=s}}const DEFAULT_TIMEOUT_IN_MS=30*1e3,DEFAULT_PING_INTERVAL_IN_MS=15*1e3,DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE=1e5;var HubConnectionState;(function(r){r.Disconnected="Disconnected",r.Connecting="Connecting",r.Connected="Connected",r.Disconnecting="Disconnecting",r.Reconnecting="Reconnecting"})(HubConnectionState||(HubConnectionState={}));class HubConnection{static create(n,a,o,s,l,c,u){return new HubConnection(n,a,o,s,l,c,u)}constructor(n,a,o,s,l,c,u){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(LogLevel.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Arg.isRequired(n,"connection"),Arg.isRequired(a,"logger"),Arg.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=l??DEFAULT_TIMEOUT_IN_MS,this.keepAliveIntervalInMilliseconds=c??DEFAULT_PING_INTERVAL_IN_MS,this._statefulReconnectBufferSize=u??DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE,this._logger=a,this._protocol=o,this.connection=n,this._reconnectPolicy=s,this._handshakeProtocol=new HandshakeProtocol,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=HubConnectionState.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:MessageType.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==HubConnectionState.Disconnected&&this._connectionState!==HubConnectionState.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==HubConnectionState.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=HubConnectionState.Connecting,this._logger.log(LogLevel.Debug,"Starting HubConnection.");try{await this._startInternal(),Platform.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=HubConnectionState.Connected,this._connectionStarted=!0,this._logger.log(LogLevel.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=HubConnectionState.Disconnected,this._logger.log(LogLevel.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const n=new Promise((a,o)=>{this._handshakeResolver=a,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let a=this._protocol.version;this.connection.features.reconnect||(a=1);const o={protocol:this._protocol.name,version:a};if(this._logger.log(LogLevel.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(LogLevel.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await n,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new MessageBuffer(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(a){throw this._logger.log(LogLevel.Debug,`Hub handshake failed with error '${a}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(a),a}}async stop(){const n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await n}catch{}}_stopInternal(n){if(this._connectionState===HubConnectionState.Disconnected)return this._logger.log(LogLevel.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===HubConnectionState.Disconnecting)return this._logger.log(LogLevel.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const a=this._connectionState;return this._connectionState=HubConnectionState.Disconnecting,this._logger.log(LogLevel.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(LogLevel.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(a===HubConnectionState.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new AbortError("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(n,...a){const[o,s]=this._replaceStreamingParams(a),l=this._createStreamInvocation(n,a,s);let c;const u=new Subject;return u.cancelCallback=()=>{const d=this._createCancelInvocation(l.invocationId);return delete this._callbacks[l.invocationId],c.then(()=>this._sendWithProtocol(d))},this._callbacks[l.invocationId]=(d,f)=>{if(f){u.error(f);return}else d&&(d.type===MessageType.Completion?d.error?u.error(new Error(d.error)):u.complete():u.next(d.item))},c=this._sendWithProtocol(l).catch(d=>{u.error(d),delete this._callbacks[l.invocationId]}),this._launchStreams(o,c),u}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...a){const[o,s]=this._replaceStreamingParams(a),l=this._sendWithProtocol(this._createInvocation(n,a,!0,s));return this._launchStreams(o,l),l}invoke(n,...a){const[o,s]=this._replaceStreamingParams(a),l=this._createInvocation(n,a,!1,s);return new Promise((u,d)=>{this._callbacks[l.invocationId]=(v,g)=>{if(g){d(g);return}else v&&(v.type===MessageType.Completion?v.error?d(new Error(v.error)):u(v.result):d(new Error(`Unexpected message type: ${v.type}`)))};const f=this._sendWithProtocol(l).catch(v=>{d(v),delete this._callbacks[l.invocationId]});this._launchStreams(o,f)})}on(n,a){!n||!a||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(a)===-1&&this._methods[n].push(a))}off(n,a){if(!n)return;n=n.toLowerCase();const o=this._methods[n];if(o)if(a){const s=o.indexOf(a);s!==-1&&(o.splice(s,1),o.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const a=this._protocol.parseMessages(n,this._logger);for(const o of a)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case MessageType.Invocation:this._invokeClientMethod(o).catch(s=>{this._logger.log(LogLevel.Error,`Invoke client method threw error: ${getErrorString(s)}`)});break;case MessageType.StreamItem:case MessageType.Completion:{const s=this._callbacks[o.invocationId];if(s){o.type===MessageType.Completion&&delete this._callbacks[o.invocationId];try{s(o)}catch(l){this._logger.log(LogLevel.Error,`Stream callback threw error: ${getErrorString(l)}`)}}break}case MessageType.Ping:break;case MessageType.Close:{this._logger.log(LogLevel.Information,"Close message received from server.");const s=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case MessageType.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case MessageType.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(LogLevel.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let a,o;try{[o,a]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(s){const l="Error parsing handshake response: "+s;this._logger.log(LogLevel.Error,l);const c=new Error(l);throw this._handshakeRejecter(c),c}if(a.error){const s="Server returned handshake error: "+a.error;this._logger.log(LogLevel.Error,s);const l=new Error(s);throw this._handshakeRejecter(l),l}else this._logger.log(LogLevel.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let n=this._nextKeepAlive-new Date().getTime();n<0&&(n=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===HubConnectionState.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},n)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(n){const a=n.target.toLowerCase(),o=this._methods[a];if(!o){this._logger.log(LogLevel.Warning,`No client method with the name '${a}' found.`),n.invocationId&&(this._logger.log(LogLevel.Warning,`No result given for '${a}' method and invocation ID '${n.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}const s=o.slice(),l=!!n.invocationId;let c,u,d;for(const f of s)try{const v=c;c=await f.apply(this,n.arguments),l&&c&&v&&(this._logger.log(LogLevel.Error,`Multiple results provided for '${a}'. Sending error to server.`),d=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),u=void 0}catch(v){u=v,this._logger.log(LogLevel.Error,`A callback for the method '${a}' threw error '${v}'.`)}d?await this._sendWithProtocol(d):l?(u?d=this._createCompletionMessage(n.invocationId,`${u}`,null):c!==void 0?d=this._createCompletionMessage(n.invocationId,null,c):(this._logger.log(LogLevel.Warning,`No result given for '${a}' method and invocation ID '${n.invocationId}'.`),d=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(d)):c&&this._logger.log(LogLevel.Error,`Result given for '${a}' method but server is not expecting a result.`)}_connectionClosed(n){this._logger.log(LogLevel.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new AbortError("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===HubConnectionState.Disconnecting?this._completeClose(n):this._connectionState===HubConnectionState.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===HubConnectionState.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=HubConnectionState.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),Platform.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(a=>a.apply(this,[n]))}catch(a){this._logger.log(LogLevel.Error,`An onclose callback called with error '${n}' threw error '${a}'.`)}}}async _reconnect(n){const a=Date.now();let o=0,s=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),l=this._getNextRetryDelay(o++,0,s);if(l===null){this._logger.log(LogLevel.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=HubConnectionState.Reconnecting,n?this._logger.log(LogLevel.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(LogLevel.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(c=>c.apply(this,[n]))}catch(c){this._logger.log(LogLevel.Error,`An onreconnecting callback called with error '${n}' threw error '${c}'.`)}if(this._connectionState!==HubConnectionState.Reconnecting){this._logger.log(LogLevel.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;l!==null;){if(this._logger.log(LogLevel.Information,`Reconnect attempt number ${o} will start in ${l} ms.`),await new Promise(c=>{this._reconnectDelayHandle=setTimeout(c,l)}),this._reconnectDelayHandle=void 0,this._connectionState!==HubConnectionState.Reconnecting){this._logger.log(LogLevel.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=HubConnectionState.Connected,this._logger.log(LogLevel.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(c=>c.apply(this,[this.connection.connectionId]))}catch(c){this._logger.log(LogLevel.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${c}'.`)}return}catch(c){if(this._logger.log(LogLevel.Information,`Reconnect attempt failed because of error '${c}'.`),this._connectionState!==HubConnectionState.Reconnecting){this._logger.log(LogLevel.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===HubConnectionState.Disconnecting&&this._completeClose();return}s=c instanceof Error?c:new Error(c.toString()),l=this._getNextRetryDelay(o++,Date.now()-a,s)}}this._logger.log(LogLevel.Information,`Reconnect retries have been exhausted after ${Date.now()-a} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(n,a,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:a,previousRetryCount:n,retryReason:o})}catch(s){return this._logger.log(LogLevel.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${a}) threw error '${s}'.`),null}}_cancelCallbacksWithError(n){const a=this._callbacks;this._callbacks={},Object.keys(a).forEach(o=>{const s=a[o];try{s(null,n)}catch(l){this._logger.log(LogLevel.Error,`Stream 'error' callback called with '${n}' threw error: ${getErrorString(l)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,a,o,s){if(o)return s.length!==0?{arguments:a,streamIds:s,target:n,type:MessageType.Invocation}:{arguments:a,target:n,type:MessageType.Invocation};{const l=this._invocationId;return this._invocationId++,s.length!==0?{arguments:a,invocationId:l.toString(),streamIds:s,target:n,type:MessageType.Invocation}:{arguments:a,invocationId:l.toString(),target:n,type:MessageType.Invocation}}}_launchStreams(n,a){if(n.length!==0){a||(a=Promise.resolve());for(const o in n)n[o].subscribe({complete:()=>{a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:s=>{let l;s instanceof Error?l=s.message:s&&s.toString?l=s.toString():l="Unknown error",a=a.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,l)))},next:s=>{a=a.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,s)))}})}}_replaceStreamingParams(n){const a=[],o=[];for(let s=0;s<n.length;s++){const l=n[s];if(this._isObservable(l)){const c=this._invocationId;this._invocationId++,a[c]=l,o.push(c.toString()),n.splice(s,1)}}return[a,o]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,a,o){const s=this._invocationId;return this._invocationId++,o.length!==0?{arguments:a,invocationId:s.toString(),streamIds:o,target:n,type:MessageType.StreamInvocation}:{arguments:a,invocationId:s.toString(),target:n,type:MessageType.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:MessageType.CancelInvocation}}_createStreamItemMessage(n,a){return{invocationId:n,item:a,type:MessageType.StreamItem}}_createCompletionMessage(n,a,o){return a?{error:a,invocationId:n,type:MessageType.Completion}:{invocationId:n,result:o,type:MessageType.Completion}}_createCloseMessage(){return{type:MessageType.Close}}}const DEFAULT_RETRY_DELAYS_IN_MILLISECONDS=[0,2e3,1e4,3e4,null];class DefaultReconnectPolicy{constructor(n){this._retryDelays=n!==void 0?[...n,null]:DEFAULT_RETRY_DELAYS_IN_MILLISECONDS}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}class HeaderNames{}HeaderNames.Authorization="Authorization";HeaderNames.Cookie="Cookie";class AccessTokenHttpClient extends HttpClient{constructor(n,a){super(),this._innerClient=n,this._accessTokenFactory=a}async send(n){let a=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(a=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(n);const o=await this._innerClient.send(n);return a&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(n),await this._innerClient.send(n)):o}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[HeaderNames.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[HeaderNames.Authorization]&&delete n.headers[HeaderNames.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}var HttpTransportType;(function(r){r[r.None=0]="None",r[r.WebSockets=1]="WebSockets",r[r.ServerSentEvents=2]="ServerSentEvents",r[r.LongPolling=4]="LongPolling"})(HttpTransportType||(HttpTransportType={}));var TransferFormat;(function(r){r[r.Text=1]="Text",r[r.Binary=2]="Binary"})(TransferFormat||(TransferFormat={}));let AbortController$1=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class LongPollingTransport{get pollAborted(){return this._pollAbort.aborted}constructor(n,a,o){this._httpClient=n,this._logger=a,this._pollAbort=new AbortController$1,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(n,a){if(Arg.isRequired(n,"url"),Arg.isRequired(a,"transferFormat"),Arg.isIn(a,TransferFormat,"transferFormat"),this._url=n,this._logger.log(LogLevel.Trace,"(LongPolling transport) Connecting."),a===TransferFormat.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,s]=getUserAgentHeader(),l={[o]:s,...this._options.headers},c={abortSignal:this._pollAbort.signal,headers:l,timeout:1e5,withCredentials:this._options.withCredentials};a===TransferFormat.Binary&&(c.responseType="arraybuffer");const u=`${n}&_=${Date.now()}`;this._logger.log(LogLevel.Trace,`(LongPolling transport) polling: ${u}.`);const d=await this._httpClient.get(u,c);d.statusCode!==200?(this._logger.log(LogLevel.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),this._closeError=new HttpError(d.statusText||"",d.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,c)}async _poll(n,a){try{for(;this._running;)try{const o=`${n}&_=${Date.now()}`;this._logger.log(LogLevel.Trace,`(LongPolling transport) polling: ${o}.`);const s=await this._httpClient.get(o,a);s.statusCode===204?(this._logger.log(LogLevel.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(LogLevel.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new HttpError(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(LogLevel.Trace,`(LongPolling transport) data received. ${getDataDetail(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof TimeoutError?this._logger.log(LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(LogLevel.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(LogLevel.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(n){return this._running?sendMessage(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(LogLevel.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(LogLevel.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const n={},[a,o]=getUserAgentHeader();n[a]=o;const s={headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let l;try{await this._httpClient.delete(this._url,s)}catch(c){l=c}l?l instanceof HttpError&&(l.statusCode===404?this._logger.log(LogLevel.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(LogLevel.Trace,`(LongPolling transport) Error sending a DELETE request: ${l}`)):this._logger.log(LogLevel.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(LogLevel.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(LogLevel.Trace,n),this.onclose(this._closeError)}}}class ServerSentEventsTransport{constructor(n,a,o,s){this._httpClient=n,this._accessToken=a,this._logger=o,this._options=s,this.onreceive=null,this.onclose=null}async connect(n,a){return Arg.isRequired(n,"url"),Arg.isRequired(a,"transferFormat"),Arg.isIn(a,TransferFormat,"transferFormat"),this._logger.log(LogLevel.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,s)=>{let l=!1;if(a!==TransferFormat.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let c;if(Platform.isBrowser||Platform.isWebWorker)c=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{const u=this._httpClient.getCookieString(n),d={};d.Cookie=u;const[f,v]=getUserAgentHeader();d[f]=v,c=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:{...d,...this._options.headers}})}try{c.onmessage=u=>{if(this.onreceive)try{this._logger.log(LogLevel.Trace,`(SSE transport) data received. ${getDataDetail(u.data,this._options.logMessageContent)}.`),this.onreceive(u.data)}catch(d){this._close(d);return}},c.onerror=u=>{l?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},c.onopen=()=>{this._logger.log(LogLevel.Information,`SSE connected to ${this._url}`),this._eventSource=c,l=!0,o()}}catch(u){s(u);return}})}async send(n){return this._eventSource?sendMessage(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class WebSocketTransport{constructor(n,a,o,s,l,c){this._logger=o,this._accessTokenFactory=a,this._logMessageContent=s,this._webSocketConstructor=l,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=c}async connect(n,a){Arg.isRequired(n,"url"),Arg.isRequired(a,"transferFormat"),Arg.isIn(a,TransferFormat,"transferFormat"),this._logger.log(LogLevel.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((s,l)=>{n=n.replace(/^http/,"ws");let c;const u=this._httpClient.getCookieString(n);let d=!1;if(Platform.isNode||Platform.isReactNative){const f={},[v,g]=getUserAgentHeader();f[v]=g,o&&(f[HeaderNames.Authorization]=`Bearer ${o}`),u&&(f[HeaderNames.Cookie]=u),c=new this._webSocketConstructor(n,void 0,{headers:{...f,...this._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);c||(c=new this._webSocketConstructor(n)),a===TransferFormat.Binary&&(c.binaryType="arraybuffer"),c.onopen=f=>{this._logger.log(LogLevel.Information,`WebSocket connected to ${n}.`),this._webSocket=c,d=!0,s()},c.onerror=f=>{let v=null;typeof ErrorEvent<"u"&&f instanceof ErrorEvent?v=f.error:v="There was an error with the transport",this._logger.log(LogLevel.Information,`(WebSockets transport) ${v}.`)},c.onmessage=f=>{if(this._logger.log(LogLevel.Trace,`(WebSockets transport) data received. ${getDataDetail(f.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(f.data)}catch(v){this._close(v);return}},c.onclose=f=>{if(d)this._close(f);else{let v=null;typeof ErrorEvent<"u"&&f instanceof ErrorEvent?v=f.error:v="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",l(new Error(v))}}})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(LogLevel.Trace,`(WebSockets transport) sending data. ${getDataDetail(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(LogLevel.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}}const MAX_REDIRECTS=100;class HttpConnection{constructor(n,a={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Arg.isRequired(n,"url"),this._logger=createLogger(a.logger),this.baseUrl=this._resolveUrl(n),a=a||{},a.logMessageContent=a.logMessageContent===void 0?!1:a.logMessageContent,typeof a.withCredentials=="boolean"||a.withCredentials===void 0)a.withCredentials=a.withCredentials===void 0?!0:a.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");a.timeout=a.timeout===void 0?100*1e3:a.timeout;let o=null,s=null;if(Platform.isNode&&typeof require<"u"){const l=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=l("ws"),s=l("eventsource")}!Platform.isNode&&typeof WebSocket<"u"&&!a.WebSocket?a.WebSocket=WebSocket:Platform.isNode&&!a.WebSocket&&o&&(a.WebSocket=o),!Platform.isNode&&typeof EventSource<"u"&&!a.EventSource?a.EventSource=EventSource:Platform.isNode&&!a.EventSource&&typeof s<"u"&&(a.EventSource=s),this._httpClient=new AccessTokenHttpClient(a.httpClient||new DefaultHttpClient(this._logger),a.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=a,this.onreceive=null,this.onclose=null}async start(n){if(n=n||TransferFormat.Binary,Arg.isIn(n,TransferFormat,"transferFormat"),this._logger.log(LogLevel.Debug,`Starting connection with transfer format '${TransferFormat[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),await this._startInternalPromise,this._connectionState==="Disconnecting"){const a="Failed to start the HttpConnection before stop() was called.";return this._logger.log(LogLevel.Error,a),await this._stopPromise,Promise.reject(new AbortError(a))}else if(this._connectionState!=="Connected"){const a="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(LogLevel.Error,a),Promise.reject(new AbortError(a))}this._connectionStarted=!0}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new TransportSendQueue(this.transport)),this._sendQueue.send(n))}async stop(n){if(this._connectionState==="Disconnected")return this._logger.log(LogLevel.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(LogLevel.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(a=>{this._stopPromiseResolver=a}),await this._stopInternal(n),await this._stopPromise}async _stopInternal(n){this._stopError=n;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(a){this._logger.log(LogLevel.Error,`HttpConnection.transport.stop() threw error '${a}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(LogLevel.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(n){let a=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===HttpTransportType.WebSockets)this.transport=this._constructTransport(HttpTransportType.WebSockets),await this._startTransport(a,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,s=0;do{if(o=await this._getNegotiationResponse(a),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new AbortError("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(a=o.url),o.accessToken){const l=o.accessToken;this._accessTokenFactory=()=>l,this._httpClient._accessToken=l,this._httpClient._accessTokenFactory=void 0}s++}while(o.url&&s<MAX_REDIRECTS);if(s===MAX_REDIRECTS&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(a,this._options.transport,o,n)}this.transport instanceof LongPollingTransport&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(LogLevel.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(LogLevel.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(n){const a={},[o,s]=getUserAgentHeader();a[o]=s;const l=this._resolveNegotiateUrl(n);this._logger.log(LogLevel.Debug,`Sending negotiation request: ${l}.`);try{const c=await this._httpClient.post(l,{content:"",headers:{...a,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(c.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${c.statusCode}'`));const u=JSON.parse(c.content);return(!u.negotiateVersion||u.negotiateVersion<1)&&(u.connectionToken=u.connectionId),u.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new FailedToNegotiateWithServerError("Client didn't negotiate Stateful Reconnect but the server did.")):u}catch(c){let u="Failed to complete negotiation with the server: "+c;return c instanceof HttpError&&c.statusCode===404&&(u=u+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(LogLevel.Error,u),Promise.reject(new FailedToNegotiateWithServerError(u))}}_createConnectUrl(n,a){return a?n+(n.indexOf("?")===-1?"?":"&")+`id=${a}`:n}async _createTransport(n,a,o,s){let l=this._createConnectUrl(n,o.connectionToken);if(this._isITransport(a)){this._logger.log(LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=a,await this._startTransport(l,s),this.connectionId=o.connectionId;return}const c=[],u=o.availableTransports||[];let d=o;for(const f of u){const v=this._resolveTransportOrError(f,a,s,(d==null?void 0:d.useStatefulReconnect)===!0);if(v instanceof Error)c.push(`${f.transport} failed:`),c.push(v);else if(this._isITransport(v)){if(this.transport=v,!d){try{d=await this._getNegotiationResponse(n)}catch(g){return Promise.reject(g)}l=this._createConnectUrl(n,d.connectionToken)}try{await this._startTransport(l,s),this.connectionId=d.connectionId;return}catch(g){if(this._logger.log(LogLevel.Error,`Failed to start the transport '${f.transport}': ${g}`),d=void 0,c.push(new FailedToStartTransportError(`${f.transport} failed: ${g}`,HttpTransportType[f.transport])),this._connectionState!=="Connecting"){const y="Failed to select transport before stop() was called.";return this._logger.log(LogLevel.Debug,y),Promise.reject(new AbortError(y))}}}}return c.length>0?Promise.reject(new AggregateErrors(`Unable to connect to the server with any of the available transports. ${c.join(" ")}`,c)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(n){switch(n){case HttpTransportType.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new WebSocketTransport(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case HttpTransportType.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ServerSentEventsTransport(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case HttpTransportType.LongPolling:return new LongPollingTransport(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,a){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(n,a),await this.features.resend()}catch{s=!0}else{this._stopConnection(o);return}s&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(n,a)}_resolveTransportOrError(n,a,o,s){const l=HttpTransportType[n.transport];if(l==null)return this._logger.log(LogLevel.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(transportMatches(a,l))if(n.transferFormats.map(u=>TransferFormat[u]).indexOf(o)>=0){if(l===HttpTransportType.WebSockets&&!this._options.WebSocket||l===HttpTransportType.ServerSentEvents&&!this._options.EventSource)return this._logger.log(LogLevel.Debug,`Skipping transport '${HttpTransportType[l]}' because it is not supported in your environment.'`),new UnsupportedTransportError(`'${HttpTransportType[l]}' is not supported in your environment.`,l);this._logger.log(LogLevel.Debug,`Selecting transport '${HttpTransportType[l]}'.`);try{return this.features.reconnect=l===HttpTransportType.WebSockets?s:void 0,this._constructTransport(l)}catch(u){return u}}else return this._logger.log(LogLevel.Debug,`Skipping transport '${HttpTransportType[l]}' because it does not support the requested transfer format '${TransferFormat[o]}'.`),new Error(`'${HttpTransportType[l]}' does not support ${TransferFormat[o]}.`);else return this._logger.log(LogLevel.Debug,`Skipping transport '${HttpTransportType[l]}' because it was disabled by the client.`),new DisabledTransportError(`'${HttpTransportType[l]}' is disabled by the client.`,l)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(LogLevel.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(LogLevel.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(LogLevel.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(LogLevel.Error,`Connection disconnected with error '${n}'.`):this._logger.log(LogLevel.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(a=>{this._logger.log(LogLevel.Error,`TransportSendQueue.stop() threw error '${a}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(a){this._logger.log(LogLevel.Error,`HttpConnection.onclose(${n}) threw error '${a}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!Platform.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const a=window.document.createElement("a");return a.href=n,this._logger.log(LogLevel.Information,`Normalizing '${n}' to '${a.href}'.`),a.href}_resolveNegotiateUrl(n){const a=new URL(n);a.pathname.endsWith("/")?a.pathname+="negotiate":a.pathname+="/negotiate";const o=new URLSearchParams(a.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),a.search=o.toString(),a.toString()}}function transportMatches(r,n){return!r||(n&r)!==0}class TransportSendQueue{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new PromiseSource,this._transportResult=new PromiseSource,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new PromiseSource),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new PromiseSource;const n=this._transportResult;this._transportResult=void 0;const a=typeof this._buffer[0]=="string"?this._buffer.join(""):TransportSendQueue._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(a),n.resolve()}catch(o){n.reject(o)}}}static _concatBuffers(n){const a=n.map(l=>l.byteLength).reduce((l,c)=>l+c),o=new Uint8Array(a);let s=0;for(const l of n)o.set(new Uint8Array(l),s),s+=l.byteLength;return o.buffer}}class PromiseSource{constructor(){this.promise=new Promise((n,a)=>[this._resolver,this._rejecter]=[n,a])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}const JSON_HUB_PROTOCOL_NAME="json";class JsonHubProtocol{constructor(){this.name=JSON_HUB_PROTOCOL_NAME,this.version=2,this.transferFormat=TransferFormat.Text}parseMessages(n,a){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];a===null&&(a=NullLogger.instance);const o=TextMessageFormat.parse(n),s=[];for(const l of o){const c=JSON.parse(l);if(typeof c.type!="number")throw new Error("Invalid payload.");switch(c.type){case MessageType.Invocation:this._isInvocationMessage(c);break;case MessageType.StreamItem:this._isStreamItemMessage(c);break;case MessageType.Completion:this._isCompletionMessage(c);break;case MessageType.Ping:break;case MessageType.Close:break;case MessageType.Ack:this._isAckMessage(c);break;case MessageType.Sequence:this._isSequenceMessage(c);break;default:a.log(LogLevel.Information,"Unknown message type '"+c.type+"' ignored.");continue}s.push(c)}return s}writeMessage(n){return TextMessageFormat.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,a){if(typeof n!="string"||n==="")throw new Error(a)}}const LogLevelNameMapping={trace:LogLevel.Trace,debug:LogLevel.Debug,info:LogLevel.Information,information:LogLevel.Information,warn:LogLevel.Warning,warning:LogLevel.Warning,error:LogLevel.Error,critical:LogLevel.Critical,none:LogLevel.None};function parseLogLevel(r){const n=LogLevelNameMapping[r.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${r}`)}class HubConnectionBuilder{configureLogging(n){if(Arg.isRequired(n,"logging"),isLogger(n))this.logger=n;else if(typeof n=="string"){const a=parseLogLevel(n);this.logger=new ConsoleLogger(a)}else this.logger=new ConsoleLogger(n);return this}withUrl(n,a){return Arg.isRequired(n,"url"),Arg.isNotEmpty(n,"url"),this.url=n,typeof a=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...a}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:a},this}withHubProtocol(n){return Arg.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new DefaultReconnectPolicy(n):this.reconnectPolicy=n:this.reconnectPolicy=new DefaultReconnectPolicy,this}withServerTimeout(n){return Arg.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return Arg.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n==null?void 0:n.bufferSize,this}build(){const n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const a=new HttpConnection(this.url,n);return HubConnection.create(a,this.logger||NullLogger.instance,this.protocol||new JsonHubProtocol,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function isLogger(r){return r.log!==void 0}const _hoisted_1$b={class:"DataShow"},_sfc_main$b=defineComponent({__name:"DataShow",setup(r){const n=useRouter(),a=()=>{n.push("/")},o=ref([{name:"系统掘进状态",value:0}]),s=ref([{name:"当前刀盘扭矩",value:0},{name:"当前刀盘旋转方向",value:0},{name:"当前刀盘转速",value:0}]),l=ref([{name:"当前推进速度",value:0},{name:"当前总推力",value:0}]),c=ref([{name:"盾尾三维坐标x",value:0},{name:"盾尾三维坐标y",value:0},{name:"盾尾三维坐标z",value:0}]),u=new HubConnectionBuilder().withUrl("http://111.229.185.135:5000/ws").build(),d=ref(0),f=async()=>{if(u){const y=Date.now();await u.invoke("Ping");const _=Date.now();d.value=_-y,setTimeout(f,1e3)}};function v(y,_){console.log("ReceiveMessage",y,_)}function g(y){console.log("Update",y);const _=JSON.parse(y);o.value=[{name:"系统掘进状态",value:_.系统掘进状态||o.value[0].value}],s.value=[{name:"当前刀盘扭矩",value:_.当前刀盘扭矩||s.value[0].value},{name:"当前刀盘旋转方向",value:_.当前刀盘旋转方向||s.value[1].value},{name:"当前刀盘转速",value:_.当前刀盘转速||s.value[2].value}],l.value=[{name:"当前推进速度",value:_.当前推进速度||l.value[0].value},{name:"当前总推力",value:_.当前总推力||l.value[1].value}],c.value=[{name:"盾尾三维坐标x",value:_.盾尾三维坐标x||c.value[0].value},{name:"盾尾三维坐标y",value:_.盾尾三维坐标y||c.value[1].value},{name:"盾尾三维坐标z",value:_.盾尾三维坐标z||c.value[2].value}]}return onMounted(()=>{const y=()=>{u.start().then(()=>{console.log("Connected to WebSocket"),f()}).catch(_=>{console.error("Error connecting to WebSocket:",_),setTimeout(y,5e3)})};y(),u.on("ReceiveMessage",(_,b)=>{v(_,b)}),u.on("Update",_=>{g(_)})}),(y,_)=>{const b=resolveComponent("van-nav-bar"),T=resolveComponent("van-divider"),C=resolveComponent("van-card"),P=resolveComponent("van-grid-item"),E=resolveComponent("van-grid");return openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode$1(b,{class:"fixed-nav-bar",title:"盾构参数采集（演示）","left-text":"返回","left-arrow":"",onClickLeft:a,"right-text":"ping: "+d.value+"ms"},null,8,["right-text"]),createVNode$1(T,{id:"FirstTitle",class:"styled-divider"},{default:withCtx(()=>_[0]||(_[0]=[createTextVNode("设备总览信息")])),_:1}),createVNode$1(E,{"column-num":3},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,(M,I)=>(openBlock(),createBlock(P,{key:I},{default:withCtx(()=>[createVNode$1(C,{class:"styled-card",title:M.name,desc:M.value.toString()},null,8,["title","desc"])]),_:2},1024))),128))]),_:1}),createVNode$1(T,{class:"styled-divider"},{default:withCtx(()=>_[1]||(_[1]=[createTextVNode("刀盘系统")])),_:1}),createVNode$1(E,{"column-num":3},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(M,I)=>(openBlock(),createBlock(P,{key:I},{default:withCtx(()=>[createVNode$1(C,{class:"styled-card",title:M.name,desc:M.value.toString()},null,8,["title","desc"])]),_:2},1024))),128))]),_:1}),createVNode$1(T,{class:"styled-divider"},{default:withCtx(()=>_[2]||(_[2]=[createTextVNode("推进系统")])),_:1}),createVNode$1(E,{"column-num":3},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(M,I)=>(openBlock(),createBlock(P,{key:I},{default:withCtx(()=>[createVNode$1(C,{class:"styled-card",title:M.name,desc:M.value.toString()},null,8,["title","desc"])]),_:2},1024))),128))]),_:1}),createVNode$1(T,{class:"styled-divider"},{default:withCtx(()=>_[3]||(_[3]=[createTextVNode("导向系统")])),_:1}),createVNode$1(E,{"column-num":3},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(M,I)=>(openBlock(),createBlock(P,{key:I},{default:withCtx(()=>[createVNode$1(C,{class:"styled-card",title:M.name,desc:M.value.toString()},null,8,["title","desc"])]),_:2},1024))),128))]),_:1})])}}}),DataShow=_export_sfc(_sfc_main$b,[["__scopeId","data-v-b3b68e5b"]]),_hoisted_1$a={class:"ClassPage"},_hoisted_2$9={class:"header-section"},_hoisted_3$8={class:"info-card"},_hoisted_4$8={class:"weather-icon"},_hoisted_5$7={class:"meta-info"},_hoisted_6$7={class:"tame"},_hoisted_7$6={class:"info-card leader-info"},_hoisted_8$2={class:"leader-details"},_hoisted_9$2={class:"PhoneNumber"},_hoisted_10$2=["href"],_hoisted_11$2={class:"info-card attendance"},_hoisted_12$2={class:"attendance-status"},_hoisted_13$2={class:"info-card construction-content"},_hoisted_14$2={class:"shield-info"},_hoisted_15$1={class:"progress-value"},_sfc_main$a=defineComponent({__name:"ClassPage",setup(r){const n=useRouter(),a=()=>{n.push("/")},o=reactive({date:new Date().toLocaleDateString(),weather:"晴 26℃",teamCode:"TD-25-016",leader:{name:"王强",phone:"138-1234-5678"}}),s=computed(()=>({iconfont:!0,"icon-sunny":o.weather==="晴","icon-cloudy":o.weather==="多云","icon-rainy":o.weather==="雨"})),l=reactive({normal:18,late:2,absent:1}),c=computed(()=>({normal:{icon:"fas fa-check-circle",label:"出勤"},late:{icon:"fas fa-clock",label:"迟到"},absent:{icon:"fas fa-times-circle",label:"缺勤"}})),u=reactive({daily:12,total:1238}),d=computed(()=>[{title:"今日推进",value:u.daily,percent:u.daily/15*100},{title:"累计完成",value:u.total,percent:u.total/2e3*100}]),f=v=>({width:`${v.percent}%`,background:"skyblue"});return(v,g)=>{const y=resolveComponent("van-nav-bar");return openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode$1(y,{class:"fixed-nav-bar",title:"盾构施工信息看板","left-text":"返回","left-arrow":"",onClickLeft:a}),createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$8,[g[0]||(g[0]=createBaseVNode("h3",null,"工程班次信息",-1)),createBaseVNode("span",_hoisted_4$8,[createTextVNode(toDisplayString(o.weather)+" ",1),createBaseVNode("i",{class:normalizeClass$1(s.value)},null,2)]),createBaseVNode("div",_hoisted_5$7,[createBaseVNode("span",null,"日期："+toDisplayString(o.date),1),createBaseVNode("span",_hoisted_6$7,"施工小队："+toDisplayString(o.teamCode),1)])])]),createBaseVNode("div",_hoisted_7$6,[g[2]||(g[2]=createBaseVNode("h3",null,"负责人信息",-1)),createBaseVNode("div",_hoisted_8$2,[createBaseVNode("p",null,"姓名："+toDisplayString(o.leader.name),1),createBaseVNode("p",_hoisted_9$2,[g[1]||(g[1]=createTextVNode("电话：")),createBaseVNode("a",{href:`tel:${o.leader.phone}`},toDisplayString(o.leader.phone),9,_hoisted_10$2)])])]),createBaseVNode("div",_hoisted_11$2,[g[3]||(g[3]=createBaseVNode("h3",null,"人员考勤状态",-1)),createBaseVNode("div",_hoisted_12$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(_,b)=>(openBlock(),createElementBlock("div",{key:b,class:normalizeClass$1(["attendance-item",`status-${b}`])},[createBaseVNode("i",{class:normalizeClass$1(_.icon)},null,2),createBaseVNode("div",null,toDisplayString(_.label)+" "+toDisplayString(l[b])+"人",1)],2))),128))])]),createBaseVNode("div",_hoisted_13$2,[createBaseVNode("div",_hoisted_14$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value,_=>(openBlock(),createElementBlock("div",{key:_.title,class:"shield-metric"},[createBaseVNode("h4",null,toDisplayString(_.title),1),createBaseVNode("div",_hoisted_15$1,toDisplayString(_.value)+" 环",1),createBaseVNode("div",{class:"progress-bar",style:normalizeStyle$2(f(_))},null,4),g[4]||(g[4]=createBaseVNode("div",{class:"progress-bar"},null,-1))]))),128))])])])}}}),ClassPage=_export_sfc(_sfc_main$a,[["__scopeId","data-v-3c42bb09"]]),_hoisted_1$9={class:"BaseMsg"},_sfc_main$9=defineComponent({__name:"BaseMsg",setup(r){const n=useRouter(),a=()=>{n.push("/")};return(o,s)=>{const l=resolveComponent("van-nav-bar");return openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode$1(l,{class:"fixed-nav-bar",title:"项目基本信息","left-text":"返回","left-arrow":"",onClickLeft:a})])}}}),BaseMsg=_export_sfc(_sfc_main$9,[["__scopeId","data-v-de1f181f"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])},extendStatics(r,n)};function __extends(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}var Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,n){var a=n.browser,o=r.match(/Firefox\/([\d.]+)/),s=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),l=r.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(r);o&&(a.firefox=!0,a.version=o[1]),s&&(a.ie=!0,a.version=s[1]),l&&(a.edge=!0,a.version=l[1],a.newEdge=+l[1].split(".")[0]>18),c&&(a.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!a.ie&&!a.edge,n.pointerEventsSupported="onpointerdown"in window&&(a.edge||a.ie&&+a.version>=11),n.domSupported=typeof document<"u";var u=document.documentElement.style;n.transform3dSupported=(a.ie&&"transition"in u||a.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),n.transformSupported=n.transform3dSupported||a.ie&&+a.version>=9}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var n={};if(typeof JSON>"u")return n;for(var a=0;a<r.length;a++){var o=String.fromCharCode(a+32),s=(r.charCodeAt(a)-OFFSET)/SCALE;n[o]=s}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,n;return function(a,o){if(!r){var s=platformApi.createCanvas();r=s&&s.getContext("2d")}if(r)return n!==o&&(n=r.font=o||DEFAULT_FONT),r.measureText(a);a=a||"",o=o||DEFAULT_FONT;var l=/((?:\d+)?\.?\d*)px/.exec(o),c=l&&+l[1]||DEFAULT_FONT_SIZE,u=0;if(o.indexOf("mono")>=0)u=c*a.length;else for(var d=0;d<a.length;d++){var f=DEFAULT_TEXT_WIDTH_MAP[a[d]];u+=f==null?c:f*c}return{width:u}}}(),loadImage:function(r,n,a){var o=new Image;return o.onload=n,o.onerror=a,o.src=r,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,n){return r["[object "+n+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,n){return r["[object "+n+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];typeof console<"u"&&console.error.apply(console,r)}function clone$4(r){if(r==null||typeof r!="object")return r;var n=r,a=objToString.call(r);if(a==="[object Array]"){if(!isPrimitive(r)){n=[];for(var o=0,s=r.length;o<s;o++)n[o]=clone$4(r[o])}}else if(TYPED_ARRAY[a]){if(!isPrimitive(r)){var l=r.constructor;if(l.from)n=l.from(r);else{n=new l(r.length);for(var o=0,s=r.length;o<s;o++)n[o]=r[o]}}}else if(!BUILTIN_OBJECT[a]&&!isPrimitive(r)&&!isDom(r)){n={};for(var c in r)r.hasOwnProperty(c)&&c!==protoKey&&(n[c]=clone$4(r[c]))}return n}function merge(r,n,a){if(!isObject$3(n)||!isObject$3(r))return a?clone$4(n):r;for(var o in n)if(n.hasOwnProperty(o)&&o!==protoKey){var s=r[o],l=n[o];isObject$3(l)&&isObject$3(s)&&!isArray$1(l)&&!isArray$1(s)&&!isDom(l)&&!isDom(s)&&!isBuiltInObject(l)&&!isBuiltInObject(s)&&!isPrimitive(l)&&!isPrimitive(s)?merge(s,l,a):(a||!(o in r))&&(r[o]=clone$4(n[o]))}return r}function mergeAll(r,n){for(var a=r[0],o=1,s=r.length;o<s;o++)a=merge(a,r[o],n);return a}function extend(r,n){if(Object.assign)Object.assign(r,n);else for(var a in n)n.hasOwnProperty(a)&&a!==protoKey&&(r[a]=n[a]);return r}function defaults(r,n,a){for(var o=keys(n),s=0,l=o.length;s<l;s++){var c=o[s];(a?n[c]!=null:r[c]==null)&&(r[c]=n[c])}return r}function indexOf(r,n){if(r){if(r.indexOf)return r.indexOf(n);for(var a=0,o=r.length;a<o;a++)if(r[a]===n)return a}return-1}function inherits(r,n){var a=r.prototype;function o(){}o.prototype=n.prototype,r.prototype=new o;for(var s in a)a.hasOwnProperty(s)&&(r.prototype[s]=a[s]);r.prototype.constructor=r,r.superClass=n}function mixin(r,n,a){if(r="prototype"in r?r.prototype:r,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(n),s=0;s<o.length;s++){var l=o[s];l!=="constructor"&&(a?n[l]!=null:r[l]==null)&&(r[l]=n[l])}else defaults(r,n,a)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$f(r,n,a){if(r&&n)if(r.forEach&&r.forEach===nativeForEach)r.forEach(n,a);else if(r.length===+r.length)for(var o=0,s=r.length;o<s;o++)n.call(a,r[o],o,r);else for(var l in r)r.hasOwnProperty(l)&&n.call(a,r[l],l,r)}function map$1(r,n,a){if(!r)return[];if(!n)return slice(r);if(r.map&&r.map===nativeMap)return r.map(n,a);for(var o=[],s=0,l=r.length;s<l;s++)o.push(n.call(a,r[s],s,r));return o}function reduce(r,n,a,o){if(r&&n){for(var s=0,l=r.length;s<l;s++)a=n.call(o,a,r[s],s,r);return a}}function filter(r,n,a){if(!r)return[];if(!n)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(n,a);for(var o=[],s=0,l=r.length;s<l;s++)n.call(a,r[s],s,r)&&o.push(r[s]);return o}function find(r,n,a){if(r&&n){for(var o=0,s=r.length;o<s;o++)if(n.call(a,r[o],o,r))return r[o]}}function keys(r){if(!r)return[];if(Object.keys)return Object.keys(r);var n=[];for(var a in r)r.hasOwnProperty(a)&&n.push(a);return n}function bindPolyfill(r,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return function(){return r.apply(n,a.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return r.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$1(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction(r){return typeof r=="function"}function isString(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber(r){return typeof r=="number"}function isObject$3(r){var n=typeof r;return n==="function"||!!r&&n==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isImagePatternObject(r){return r.image!=null}function isRegExp(r){return objToString.call(r)==="[object RegExp]"}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var a=0,o=r.length;a<o;a++)if(r[a]!=null)return r[a]}function retrieve2(r,n){return r??n}function retrieve3(r,n,a){return r??n??a}function slice(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return nativeSlice.apply(r,n)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var n=r.length;return n===2?[r[0],r[1],r[0],r[1]]:n===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,n){if(!r)throw new Error(n)}function trim$1(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var MapPolyfill=function(){function r(){this.data={}}return r.prototype.delete=function(n){var a=this.has(n);return a&&delete this.data[n],a},r.prototype.has=function(n){return this.data.hasOwnProperty(n)},r.prototype.get=function(n){return this.data[n]},r.prototype.set=function(n,a){return this.data[n]=a,this},r.prototype.keys=function(){return keys(this.data)},r.prototype.forEach=function(n){var a=this.data;for(var o in a)a.hasOwnProperty(o)&&n(a[o],o)},r}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function r(n){var a=isArray$1(n);this.data=maybeNativeMap();var o=this;n instanceof r?n.each(s):n&&each$f(n,s);function s(l,c){a?o.set(l,c):o.set(c,l)}}return r.prototype.hasKey=function(n){return this.data.has(n)},r.prototype.get=function(n){return this.data.get(n)},r.prototype.set=function(n,a){return this.data.set(n,a),a},r.prototype.each=function(n,a){this.data.forEach(function(o,s){n.call(a,o,s)})},r.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},r.prototype.removeKey=function(n){this.data.delete(n)},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,n){for(var a=new r.constructor(r.length+n.length),o=0;o<r.length;o++)a[o]=r[o];for(var s=r.length,o=0;o<n.length;o++)a[o+s]=n[o];return a}function createObject(r,n){var a;if(Object.create)a=Object.create(r);else{var o=function(){};o.prototype=r,a=new o}return n&&extend(a,n),a}function disableUserSelect(r){var n=r.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn(r,n){return r.hasOwnProperty(n)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(r,n){return r==null&&(r=0),n==null&&(n=0),[r,n]}function copy$1(r,n){return r[0]=n[0],r[1]=n[1],r}function clone$3(r){return[r[0],r[1]]}function set$1(r,n,a){return r[0]=n,r[1]=a,r}function add(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r}function scaleAndAdd$1(r,n,a,o){return r[0]=n[0]+a[0]*o,r[1]=n[1]+a[1]*o,r}function sub(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r}function len(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale$2(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r}function normalize$3(r,n){var a=len(n);return a===0?(r[0]=0,r[1]=0):(r[0]=n[0]/a,r[1]=n[1]/a),r}function distance(r,n){return Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}var dist$1=distance;function distanceSquare(r,n){return(r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1])}var distSquare=distanceSquare;function lerp$1(r,n,a,o){return r[0]=n[0]+o*(a[0]-n[0]),r[1]=n[1]+o*(a[1]-n[1]),r}function applyTransform$1(r,n,a){var o=n[0],s=n[1];return r[0]=a[0]*o+a[2]*s+a[4],r[1]=a[1]*o+a[3]*s+a[5],r}function min$1(r,n,a){return r[0]=Math.min(n[0],a[0]),r[1]=Math.min(n[1],a[1]),r}function max$1(r,n,a){return r[0]=Math.max(n[0],a[0]),r[1]=Math.max(n[1],a[1]),r}var Param=function(){function r(n,a){this.target=n,this.topTarget=a&&a.topTarget}return r}(),Draggable=function(){function r(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(n){for(var a=n.target;a&&!a.draggable;)a=a.parent||a.__hostTarget;a&&(this._draggingTarget=a,a.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(a,n),"dragstart",n.event))},r.prototype._drag=function(n){var a=this._draggingTarget;if(a){var o=n.offsetX,s=n.offsetY,l=o-this._x,c=s-this._y;this._x=o,this._y=s,a.drift(l,c,n),this.handler.dispatchToElement(new Param(a,n),"drag",n.event);var u=this.handler.findHover(o,s,a).target,d=this._dropTarget;this._dropTarget=u,a!==u&&(d&&u!==d&&this.handler.dispatchToElement(new Param(d,n),"dragleave",n.event),u&&u!==d&&this.handler.dispatchToElement(new Param(u,n),"dragenter",n.event))}},r.prototype._dragEnd=function(n){var a=this._draggingTarget;a&&(a.dragging=!1),this.handler.dispatchToElement(new Param(a,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},r}(),Eventful=function(){function r(n){n&&(this._$eventProcessor=n)}return r.prototype.on=function(n,a,o,s){this._$handlers||(this._$handlers={});var l=this._$handlers;if(typeof a=="function"&&(s=o,o=a,a=null),!o||!n)return this;var c=this._$eventProcessor;a!=null&&c&&c.normalizeQuery&&(a=c.normalizeQuery(a)),l[n]||(l[n]=[]);for(var u=0;u<l[n].length;u++)if(l[n][u].h===o)return this;var d={h:o,query:a,ctx:s||this,callAtLast:o.zrEventfulCallAtLast},f=l[n].length-1,v=l[n][f];return v&&v.callAtLast?l[n].splice(f,0,d):l[n].push(d),this},r.prototype.isSilent=function(n){var a=this._$handlers;return!a||!a[n]||!a[n].length},r.prototype.off=function(n,a){var o=this._$handlers;if(!o)return this;if(!n)return this._$handlers={},this;if(a){if(o[n]){for(var s=[],l=0,c=o[n].length;l<c;l++)o[n][l].h!==a&&s.push(o[n][l]);o[n]=s}o[n]&&o[n].length===0&&delete o[n]}else delete o[n];return this},r.prototype.trigger=function(n){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[n],l=this._$eventProcessor;if(s)for(var c=a.length,u=s.length,d=0;d<u;d++){var f=s[d];if(!(l&&l.filter&&f.query!=null&&!l.filter(n,f.query)))switch(c){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,a[0]);break;case 2:f.h.call(f.ctx,a[0],a[1]);break;default:f.h.apply(f.ctx,a);break}}return l&&l.afterTrigger&&l.afterTrigger(n),this},r.prototype.triggerWithContext=function(n){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[n],l=this._$eventProcessor;if(s)for(var c=a.length,u=a[c-1],d=s.length,f=0;f<d;f++){var v=s[f];if(!(l&&l.filter&&v.query!=null&&!l.filter(n,v.query)))switch(c){case 0:v.h.call(u);break;case 1:v.h.call(u,a[0]);break;case 2:v.h.call(u,a[0],a[1]);break;default:v.h.apply(u,a.slice(1,c-1));break}}return l&&l.afterTrigger&&l.afterTrigger(n),this},r}(),LN2=Math.log(2);function determinant(r,n,a,o,s,l){var c=o+"-"+s,u=r.length;if(l.hasOwnProperty(c))return l[c];if(n===1){var d=Math.round(Math.log((1<<u)-1&~s)/LN2);return r[a][d]}for(var f=o|1<<a,v=a+1;o&1<<v;)v++;for(var g=0,y=0,_=0;y<u;y++){var b=1<<y;b&s||(g+=(_%2?-1:1)*r[a][y]*determinant(r,n-1,v,f,s|b,l),_++)}return l[c]=g,g}function buildTransformer(r,n){var a=[[r[0],r[1],1,0,0,0,-n[0]*r[0],-n[0]*r[1]],[0,0,0,r[0],r[1],1,-n[1]*r[0],-n[1]*r[1]],[r[2],r[3],1,0,0,0,-n[2]*r[2],-n[2]*r[3]],[0,0,0,r[2],r[3],1,-n[3]*r[2],-n[3]*r[3]],[r[4],r[5],1,0,0,0,-n[4]*r[4],-n[4]*r[5]],[0,0,0,r[4],r[5],1,-n[5]*r[4],-n[5]*r[5]],[r[6],r[7],1,0,0,0,-n[6]*r[6],-n[6]*r[7]],[0,0,0,r[6],r[7],1,-n[7]*r[6],-n[7]*r[7]]],o={},s=determinant(a,8,0,0,0,o);if(s!==0){for(var l=[],c=0;c<8;c++)for(var u=0;u<8;u++)l[u]==null&&(l[u]=0),l[u]+=((c+u)%2?-1:1)*determinant(a,7,c===0?1:0,1<<c,1<<u,o)/s*n[c];return function(d,f,v){var g=f*l[6]+v*l[7]+1;d[0]=(f*l[0]+v*l[1]+l[2])/g,d[1]=(f*l[3]+v*l[4]+l[5])/g}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,n,a,o,s){return transformCoordWithViewport(_calcOut$1,n,o,s,!0)&&transformCoordWithViewport(r,a,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(r,n,a,o,s){if(n.getBoundingClientRect&&env.domSupported&&!isCanvasEl(n)){var l=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),c=prepareCoordMarkers(n,l),u=preparePointerTransformer(c,l,s);if(u)return u(r,a,o),!0}return!1}function prepareCoordMarkers(r,n){var a=n.markers;if(a)return a;a=n.markers=[];for(var o=["left","right"],s=["top","bottom"],l=0;l<4;l++){var c=document.createElement("div"),u=c.style,d=l%2,f=(l>>1)%2;u.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",s[f]+":0",o[1-d]+":auto",s[1-f]+":auto",""].join("!important;"),r.appendChild(c),a.push(c)}return a}function preparePointerTransformer(r,n,a){for(var o=a?"invTrans":"trans",s=n[o],l=n.srcCoords,c=[],u=[],d=!0,f=0;f<4;f++){var v=r[f].getBoundingClientRect(),g=2*f,y=v.left,_=v.top;c.push(y,_),d=d&&l&&y===l[g]&&_===l[g+1],u.push(r[f].offsetLeft,r[f].offsetTop)}return d&&s?s:(n.srcCoords=c,n[o]=a?buildTransformer(u,c):buildTransformer(c,u))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(n,a){return replaceMap[a]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(r,n,a,o){return a=a||{},o?calculateZrXY(r,n,a):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(a.zrX=n.layerX,a.zrY=n.layerY):n.offsetX!=null?(a.zrX=n.offsetX,a.zrY=n.offsetY):calculateZrXY(r,n,a),a}function calculateZrXY(r,n,a){if(env.domSupported&&r.getBoundingClientRect){var o=n.clientX,s=n.clientY;if(isCanvasEl(r)){var l=r.getBoundingClientRect();a.zrX=o-l.left,a.zrY=s-l.top;return}else if(transformCoordWithViewport(_calcOut,r,o,s)){a.zrX=_calcOut[0],a.zrY=_calcOut[1];return}}a.zrX=a.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,n,a){if(n=getNativeEvent(n),n.zrX!=null)return n;var o=n.type,s=o&&o.indexOf("touch")>=0;if(s){var c=o!=="touchend"?n.targetTouches[0]:n.changedTouches[0];c&&clientToLocal(r,c,n,a)}else{clientToLocal(r,n,n,a);var l=getWheelDeltaMayPolyfill(n);n.zrDelta=l?l/120:-(n.detail||0)/3}var u=n.button;return n.which==null&&u!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=u&1?1:u&2?3:u&4?2:0),n}function getWheelDeltaMayPolyfill(r){var n=r.wheelDelta;if(n)return n;var a=r.deltaX,o=r.deltaY;if(a==null||o==null)return n;var s=Math.abs(o!==0?o:a),l=o>0?-1:o<0?1:a>0?-1:1;return 3*s*l}function addEventListener(r,n,a,o){r.addEventListener(n,a,o)}function removeEventListener(r,n,a,o){r.removeEventListener(n,a,o)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(r){return r.which===2||r.which===3}var GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(n,a,o){return this._doTrack(n,a,o),this._recognize(n)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(n,a,o){var s=n.touches;if(s){for(var l={points:[],touches:[],target:a,event:n},c=0,u=s.length;c<u;c++){var d=s[c],f=clientToLocal(o,d,{});l.points.push([f.zrX,f.zrY]),l.touches.push(d)}this._track.push(l)}},r.prototype._recognize=function(n){for(var a in recognizers)if(recognizers.hasOwnProperty(a)){var o=recognizers[a](this._track,n);if(o)return o}},r}();function dist(r){var n=r[1][0]-r[0][0],a=r[1][1]-r[0][1];return Math.sqrt(n*n+a*a)}function center$1(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,n){var a=r.length;if(a){var o=(r[a-1]||{}).points,s=(r[a-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var l=dist(o)/dist(s);!isFinite(l)&&(l=1),n.pinchScale=l;var c=center$1(o);return n.pinchX=c[0],n.pinchY=c[1],{type:"pinch",target:r[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r}function mul(r,n,a){var o=n[0]*a[0]+n[2]*a[1],s=n[1]*a[0]+n[3]*a[1],l=n[0]*a[2]+n[2]*a[3],c=n[1]*a[2]+n[3]*a[3],u=n[0]*a[4]+n[2]*a[5]+n[4],d=n[1]*a[4]+n[3]*a[5]+n[5];return r[0]=o,r[1]=s,r[2]=l,r[3]=c,r[4]=u,r[5]=d,r}function translate(r,n,a){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4]+a[0],r[5]=n[5]+a[1],r}function rotate(r,n,a,o){o===void 0&&(o=[0,0]);var s=n[0],l=n[2],c=n[4],u=n[1],d=n[3],f=n[5],v=Math.sin(a),g=Math.cos(a);return r[0]=s*g+u*v,r[1]=-s*v+u*g,r[2]=l*g+d*v,r[3]=-l*v+g*d,r[4]=g*(c-o[0])+v*(f-o[1])+o[0],r[5]=g*(f-o[1])-v*(c-o[0])+o[1],r}function scale$1(r,n,a){var o=a[0],s=a[1];return r[0]=n[0]*o,r[1]=n[1]*s,r[2]=n[2]*o,r[3]=n[3]*s,r[4]=n[4]*o,r[5]=n[5]*s,r}function invert(r,n){var a=n[0],o=n[2],s=n[4],l=n[1],c=n[3],u=n[5],d=a*c-l*o;return d?(d=1/d,r[0]=c*d,r[1]=-l*d,r[2]=-o*d,r[3]=a*d,r[4]=(o*u-c*s)*d,r[5]=(l*s-a*u)*d,r):null}function clone$2(r){var n=create$1();return copy(n,r),n}var Point=function(){function r(n,a){this.x=n||0,this.y=a||0}return r.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(n,a){return this.x=n,this.y=a,this},r.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},r.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},r.prototype.scale=function(n){this.x*=n,this.y*=n},r.prototype.scaleAndAdd=function(n,a){this.x+=n.x*a,this.y+=n.y*a},r.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},r.prototype.dot=function(n){return this.x*n.x+this.y*n.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},r.prototype.distance=function(n){var a=this.x-n.x,o=this.y-n.y;return Math.sqrt(a*a+o*o)},r.prototype.distanceSquare=function(n){var a=this.x-n.x,o=this.y-n.y;return a*a+o*o},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(n){if(n){var a=this.x,o=this.y;return this.x=n[0]*a+n[2]*o+n[4],this.y=n[1]*a+n[3]*o+n[5],this}},r.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},r.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},r.set=function(n,a,o){n.x=a,n.y=o},r.copy=function(n,a){n.x=a.x,n.y=a.y},r.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},r.lenSquare=function(n){return n.x*n.x+n.y*n.y},r.dot=function(n,a){return n.x*a.x+n.y*a.y},r.add=function(n,a,o){n.x=a.x+o.x,n.y=a.y+o.y},r.sub=function(n,a,o){n.x=a.x-o.x,n.y=a.y-o.y},r.scale=function(n,a,o){n.x=a.x*o,n.y=a.y*o},r.scaleAndAdd=function(n,a,o,s){n.x=a.x+o.x*s,n.y=a.y+o.y*s},r.lerp=function(n,a,o,s){var l=1-s;n.x=l*a.x+s*o.x,n.y=l*a.y+s*o.y},r}(),mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point,rb=new Point,lb=new Point,rt=new Point,minTv$1=new Point,maxTv$1=new Point,BoundingRect=function(){function r(n,a,o,s){o<0&&(n=n+o,o=-o),s<0&&(a=a+s,s=-s),this.x=n,this.y=a,this.width=o,this.height=s}return r.prototype.union=function(n){var a=mathMin$a(n.x,this.x),o=mathMin$a(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(n.x+n.width,this.x+this.width)-a:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(n.y+n.height,this.y+this.height)-o:this.height=n.height,this.x=a,this.y=o},r.prototype.applyTransform=function(n){r.applyTransform(this,this,n)},r.prototype.calculateTransform=function(n){var a=this,o=n.width/a.width,s=n.height/a.height,l=create$1();return translate(l,l,[-a.x,-a.y]),scale$1(l,l,[o,s]),translate(l,l,[n.x,n.y]),l},r.prototype.intersect=function(n,a){if(!n)return!1;n instanceof r||(n=r.create(n));var o=this,s=o.x,l=o.x+o.width,c=o.y,u=o.y+o.height,d=n.x,f=n.x+n.width,v=n.y,g=n.y+n.height,y=!(l<d||f<s||u<v||g<c);if(a){var _=1/0,b=0,T=Math.abs(l-d),C=Math.abs(f-s),P=Math.abs(u-v),E=Math.abs(g-c),M=Math.min(T,C),I=Math.min(P,E);l<d||f<s?M>b&&(b=M,T<C?Point.set(maxTv$1,-T,0):Point.set(maxTv$1,C,0)):M<_&&(_=M,T<C?Point.set(minTv$1,T,0):Point.set(minTv$1,-C,0)),u<v||g<c?I>b&&(b=I,P<E?Point.set(maxTv$1,0,-P):Point.set(maxTv$1,0,E)):M<_&&(_=M,P<E?Point.set(minTv$1,0,P):Point.set(minTv$1,0,-E))}return a&&Point.copy(a,y?minTv$1:maxTv$1),y},r.prototype.contain=function(n,a){var o=this;return n>=o.x&&n<=o.x+o.width&&a>=o.y&&a<=o.y+o.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(n){r.copy(this,n)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(n){return new r(n.x,n.y,n.width,n.height)},r.copy=function(n,a){n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height},r.applyTransform=function(n,a,o){if(!o){n!==a&&r.copy(n,a);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var s=o[0],l=o[3],c=o[4],u=o[5];n.x=a.x*s+c,n.y=a.y*l+u,n.width=a.width*s,n.height=a.height*l,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt.x=lb.x=a.x,lt.y=rt.y=a.y,rb.x=rt.x=a.x+a.width,rb.y=lb.y=a.y+a.height,lt.transform(o),rt.transform(o),rb.transform(o),lb.transform(o),n.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),n.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var d=mathMax$a(lt.x,rb.x,lb.x,rt.x),f=mathMax$a(lt.y,rb.y,lb.y,rt.y);n.width=d-n.x,n.height=f-n.y},r}(),SILENT="silent";function makeEventPacket(r,n,a){return{type:r,event:a,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.handler=null,a}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful),HoveredResult=function(){function r(n,a){this.x=n,this.y=a}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=function(r){__extends(n,r);function n(a,o,s,l,c){var u=r.call(this)||this;return u._hovered=new HoveredResult(0,0),u.storage=a,u.painter=o,u.painterRoot=l,u._pointerSize=c,s=s||new EmptyProxy,u.proxy=null,u.setHandlerProxy(s),u._draggingMgr=new Draggable(u),u}return n.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(each$f(handlerNames,function(o){a.on&&a.on(o,this[o],this)},this),a.handler=this),this.proxy=a},n.prototype.mousemove=function(a){var o=a.zrX,s=a.zrY,l=isOutsideBoundary(this,o,s),c=this._hovered,u=c.target;u&&!u.__zr&&(c=this.findHover(c.x,c.y),u=c.target);var d=this._hovered=l?new HoveredResult(o,s):this.findHover(o,s),f=d.target,v=this.proxy;v.setCursor&&v.setCursor(f?f.cursor:"default"),u&&f!==u&&this.dispatchToElement(c,"mouseout",a),this.dispatchToElement(d,"mousemove",a),f&&f!==u&&this.dispatchToElement(d,"mouseover",a)},n.prototype.mouseout=function(a){var o=a.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",a),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:a})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(a,o){var s=this[a];s&&s.call(this,o)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(a){var o=this.proxy;o.setCursor&&o.setCursor(a)},n.prototype.dispatchToElement=function(a,o,s){a=a||{};var l=a.target;if(!(l&&l.silent)){for(var c="on"+o,u=makeEventPacket(o,a,s);l&&(l[c]&&(u.cancelBubble=!!l[c].call(l,u)),l.trigger(o,u),l=l.__hostTarget?l.__hostTarget:l.parent,!u.cancelBubble););u.cancelBubble||(this.trigger(o,u),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[c]=="function"&&d[c].call(d,u),d.trigger&&d.trigger(o,u)}))}},n.prototype.findHover=function(a,o,s){var l=this.storage.getDisplayList(),c=new HoveredResult(a,o);if(setHoverTarget(l,c,a,o,s),this._pointerSize&&!c.target){for(var u=[],d=this._pointerSize,f=d/2,v=new BoundingRect(a-f,o-f,d,d),g=l.length-1;g>=0;g--){var y=l[g];y!==s&&!y.ignore&&!y.ignoreCoarsePointer&&(!y.parent||!y.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(y.getBoundingRect()),y.transform&&tmpRect$1.applyTransform(y.transform),tmpRect$1.intersect(v)&&u.push(y))}if(u.length)for(var _=4,b=Math.PI/12,T=Math.PI*2,C=0;C<f;C+=_)for(var P=0;P<T;P+=b){var E=a+C*Math.cos(P),M=o+C*Math.sin(P);if(setHoverTarget(u,c,E,M,s),c.target)return c}}return c},n.prototype.processGesture=function(a,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var s=this._gestureMgr;o==="start"&&s.clear();var l=s.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if(o==="end"&&s.clear(),l){var c=l.type;a.gestureEvent=c;var u=new HoveredResult;u.target=l.target,this.dispatchToElement(u,c,l.event)}},n}(Eventful);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(n){var a=n.zrX,o=n.zrY,s=isOutsideBoundary(this,a,o),l,c;if((r!=="mouseup"||!s)&&(l=this.findHover(a,o),c=l.target),r==="mousedown")this._downEl=c,this._downPoint=[n.zrX,n.zrY],this._upEl=c;else if(r==="mouseup")this._upEl=c;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(l,r,n)}});function isHover(r,n,a){if(r[r.rectHover?"rectContain":"contain"](n,a)){for(var o=r,s=void 0,l=!1;o;){if(o.ignoreClip&&(l=!0),!l){var c=o.getClipPath();if(c&&!c.contain(n,a))return!1}o.silent&&(s=!0);var u=o.__hostTarget;o=u||o.parent}return s?SILENT:!0}return!1}function setHoverTarget(r,n,a,o,s){for(var l=r.length-1;l>=0;l--){var c=r[l],u=void 0;if(c!==s&&!c.ignore&&(u=isHover(c,a,o))&&(!n.topTarget&&(n.topTarget=c),u!==SILENT)){n.target=c;break}}}function isOutsideBoundary(r,n,a){var o=r.painter;return n<0||n>o.getWidth()||a<0||a>o.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var n=0;r>=DEFAULT_MIN_MERGE;)n|=r&1,r>>=1;return r+n}function makeAscendingRun(r,n,a,o){var s=n+1;if(s===a)return 1;if(o(r[s++],r[n])<0){for(;s<a&&o(r[s],r[s-1])<0;)s++;reverseRun(r,n,s)}else for(;s<a&&o(r[s],r[s-1])>=0;)s++;return s-n}function reverseRun(r,n,a){for(a--;n<a;){var o=r[n];r[n++]=r[a],r[a--]=o}}function binaryInsertionSort(r,n,a,o,s){for(o===n&&o++;o<a;o++){for(var l=r[o],c=n,u=o,d;c<u;)d=c+u>>>1,s(l,r[d])<0?u=d:c=d+1;var f=o-c;switch(f){case 3:r[c+3]=r[c+2];case 2:r[c+2]=r[c+1];case 1:r[c+1]=r[c];break;default:for(;f>0;)r[c+f]=r[c+f-1],f--}r[c]=l}}function gallopLeft(r,n,a,o,s,l){var c=0,u=0,d=1;if(l(r,n[a+s])>0){for(u=o-s;d<u&&l(r,n[a+s+d])>0;)c=d,d=(d<<1)+1,d<=0&&(d=u);d>u&&(d=u),c+=s,d+=s}else{for(u=s+1;d<u&&l(r,n[a+s-d])<=0;)c=d,d=(d<<1)+1,d<=0&&(d=u);d>u&&(d=u);var f=c;c=s-d,d=s-f}for(c++;c<d;){var v=c+(d-c>>>1);l(r,n[a+v])>0?c=v+1:d=v}return d}function gallopRight(r,n,a,o,s,l){var c=0,u=0,d=1;if(l(r,n[a+s])<0){for(u=s+1;d<u&&l(r,n[a+s-d])<0;)c=d,d=(d<<1)+1,d<=0&&(d=u);d>u&&(d=u);var f=c;c=s-d,d=s-f}else{for(u=o-s;d<u&&l(r,n[a+s+d])>=0;)c=d,d=(d<<1)+1,d<=0&&(d=u);d>u&&(d=u),c+=s,d+=s}for(c++;c<d;){var v=c+(d-c>>>1);l(r,n[a+v])<0?d=v:c=v+1}return d}function TimSort(r,n){var a=DEFAULT_MIN_GALLOPING,o,s,l=0,c=[];o=[],s=[];function u(_,b){o[l]=_,s[l]=b,l+=1}function d(){for(;l>1;){var _=l-2;if(_>=1&&s[_-1]<=s[_]+s[_+1]||_>=2&&s[_-2]<=s[_]+s[_-1])s[_-1]<s[_+1]&&_--;else if(s[_]>s[_+1])break;v(_)}}function f(){for(;l>1;){var _=l-2;_>0&&s[_-1]<s[_+1]&&_--,v(_)}}function v(_){var b=o[_],T=s[_],C=o[_+1],P=s[_+1];s[_]=T+P,_===l-3&&(o[_+1]=o[_+2],s[_+1]=s[_+2]),l--;var E=gallopRight(r[C],r,b,T,0,n);b+=E,T-=E,T!==0&&(P=gallopLeft(r[b+T-1],r,C,P,P-1,n),P!==0&&(T<=P?g(b,T,C,P):y(b,T,C,P)))}function g(_,b,T,C){var P=0;for(P=0;P<b;P++)c[P]=r[_+P];var E=0,M=T,I=_;if(r[I++]=r[M++],--C===0){for(P=0;P<b;P++)r[I+P]=c[E+P];return}if(b===1){for(P=0;P<C;P++)r[I+P]=r[M+P];r[I+C]=c[E];return}for(var L=a,N,V,B;;){N=0,V=0,B=!1;do if(n(r[M],c[E])<0){if(r[I++]=r[M++],V++,N=0,--C===0){B=!0;break}}else if(r[I++]=c[E++],N++,V=0,--b===1){B=!0;break}while((N|V)<L);if(B)break;do{if(N=gallopRight(r[M],c,E,b,0,n),N!==0){for(P=0;P<N;P++)r[I+P]=c[E+P];if(I+=N,E+=N,b-=N,b<=1){B=!0;break}}if(r[I++]=r[M++],--C===0){B=!0;break}if(V=gallopLeft(c[E],r,M,C,0,n),V!==0){for(P=0;P<V;P++)r[I+P]=r[M+P];if(I+=V,M+=V,C-=V,C===0){B=!0;break}}if(r[I++]=c[E++],--b===1){B=!0;break}L--}while(N>=DEFAULT_MIN_GALLOPING||V>=DEFAULT_MIN_GALLOPING);if(B)break;L<0&&(L=0),L+=2}if(a=L,a<1&&(a=1),b===1){for(P=0;P<C;P++)r[I+P]=r[M+P];r[I+C]=c[E]}else{if(b===0)throw new Error;for(P=0;P<b;P++)r[I+P]=c[E+P]}}function y(_,b,T,C){var P=0;for(P=0;P<C;P++)c[P]=r[T+P];var E=_+b-1,M=C-1,I=T+C-1,L=0,N=0;if(r[I--]=r[E--],--b===0){for(L=I-(C-1),P=0;P<C;P++)r[L+P]=c[P];return}if(C===1){for(I-=b,E-=b,N=I+1,L=E+1,P=b-1;P>=0;P--)r[N+P]=r[L+P];r[I]=c[M];return}for(var V=a;;){var B=0,z=0,G=!1;do if(n(c[M],r[E])<0){if(r[I--]=r[E--],B++,z=0,--b===0){G=!0;break}}else if(r[I--]=c[M--],z++,B=0,--C===1){G=!0;break}while((B|z)<V);if(G)break;do{if(B=b-gallopRight(c[M],r,_,b,b-1,n),B!==0){for(I-=B,E-=B,b-=B,N=I+1,L=E+1,P=B-1;P>=0;P--)r[N+P]=r[L+P];if(b===0){G=!0;break}}if(r[I--]=c[M--],--C===1){G=!0;break}if(z=C-gallopLeft(r[E],c,0,C,C-1,n),z!==0){for(I-=z,M-=z,C-=z,N=I+1,L=M+1,P=0;P<z;P++)r[N+P]=c[L+P];if(C<=1){G=!0;break}}if(r[I--]=r[E--],--b===0){G=!0;break}V--}while(B>=DEFAULT_MIN_GALLOPING||z>=DEFAULT_MIN_GALLOPING);if(G)break;V<0&&(V=0),V+=2}if(a=V,a<1&&(a=1),C===1){for(I-=b,E-=b,N=I+1,L=E+1,P=b-1;P>=0;P--)r[N+P]=r[L+P];r[I]=c[M]}else{if(C===0)throw new Error;for(L=I-(C-1),P=0;P<C;P++)r[L+P]=c[P]}}return{mergeRuns:d,forceMergeRuns:f,pushRun:u}}function sort$2(r,n,a,o){a||(a=0),o||(o=r.length);var s=o-a;if(!(s<2)){var l=0;if(s<DEFAULT_MIN_MERGE){l=makeAscendingRun(r,a,o,n),binaryInsertionSort(r,a,o,a+l,n);return}var c=TimSort(r,n),u=minRunLength(s);do{if(l=makeAscendingRun(r,a,o,n),l<u){var d=s;d>u&&(d=u),binaryInsertionSort(r,a,a+d,a+l,n),l=d}c.pushRun(a,l),c.mergeRuns(),s-=l,a+=l}while(s!==0);c.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,n){return r.zlevel===n.zlevel?r.z===n.z?r.z2-n.z2:r.z-n.z:r.zlevel-n.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(n,a){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(n,a)},r.prototype.getDisplayList=function(n,a){a=a||!1;var o=this._displayList;return(n||!o.length)&&this.updateDisplayList(a),o},r.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var a=this._roots,o=this._displayList,s=0,l=a.length;s<l;s++)this._updateAndAddDisplayable(a[s],null,n);o.length=this._displayListLen,sort$2(o,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(n,a,o){if(!(n.ignore&&!o)){n.beforeUpdate(),n.update(),n.afterUpdate();var s=n.getClipPath();if(n.ignoreClip)a=null;else if(s){a?a=a.slice():a=[];for(var l=s,c=n;l;)l.parent=c,l.updateTransform(),a.push(l),c=l,l=l.getClipPath()}if(n.childrenRef){for(var u=n.childrenRef(),d=0;d<u.length;d++){var f=u[d];n.__dirty&&(f.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(f,a,o)}n.__dirty=0}else{var v=n;a&&a.length?v.__clipPaths=a:v.__clipPaths&&v.__clipPaths.length>0&&(v.__clipPaths=[]),isNaN(v.z)&&(logInvalidZError(),v.z=0),isNaN(v.z2)&&(logInvalidZError(),v.z2=0),isNaN(v.zlevel)&&(logInvalidZError(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=n.getDecalElement&&n.getDecalElement();g&&this._updateAndAddDisplayable(g,a,o);var y=n.getTextGuideLine();y&&this._updateAndAddDisplayable(y,a,o);var _=n.getTextContent();_&&this._updateAndAddDisplayable(_,a,o)}},r.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},r.prototype.delRoot=function(n){if(n instanceof Array){for(var a=0,o=n.length;a<o;a++)this.delRoot(n[a]);return}var s=indexOf(this._roots,n);s>=0&&this._roots.splice(s,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),requestAnimationFrame$1;requestAnimationFrame$1=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var n,a=.1,o=.4;return r===0?0:r===1?1:(!a||a<1?(a=1,n=o/4):n=o*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)))},elasticOut:function(r){var n,a=.1,o=.4;return r===0?0:r===1?1:(!a||a<1?(a=1,n=o/4):n=o*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*r)*Math.sin((r-n)*(2*Math.PI)/o)+1)},elasticInOut:function(r){var n,a=.1,o=.4;return r===0?0:r===1?1:(!a||a<1?(a=1,n=o/4):n=o*Math.asin(1/a)/(2*Math.PI),(r*=2)<1?-.5*(a*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)):a*Math.pow(2,-10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)*.5+1)},backIn:function(r){var n=1.70158;return r*r*((n+1)*r-n)},backOut:function(r){var n=1.70158;return--r*r*((n+1)*r+n)+1},backInOut:function(r){var n=2.5949095;return(r*=2)<1?.5*(r*r*((n+1)*r-n)):.5*((r-=2)*r*((n+1)*r+n)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}},mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(r){return r>-EPSILON$4&&r<EPSILON$4}function isNotAroundZero$1(r){return r>EPSILON$4||r<-EPSILON$4}function cubicAt(r,n,a,o,s){var l=1-s;return l*l*(l*r+3*s*n)+s*s*(s*o+3*l*a)}function cubicDerivativeAt(r,n,a,o,s){var l=1-s;return 3*(((n-r)*l+2*(a-n)*s)*l+(o-a)*s*s)}function cubicRootAt(r,n,a,o,s,l){var c=o+3*(n-a)-r,u=3*(a-n*2+r),d=3*(n-r),f=r-s,v=u*u-3*c*d,g=u*d-9*c*f,y=d*d-3*u*f,_=0;if(isAroundZero$1(v)&&isAroundZero$1(g))if(isAroundZero$1(u))l[0]=0;else{var b=-d/u;b>=0&&b<=1&&(l[_++]=b)}else{var T=g*g-4*v*y;if(isAroundZero$1(T)){var C=g/v,b=-u/c+C,P=-C/2;b>=0&&b<=1&&(l[_++]=b),P>=0&&P<=1&&(l[_++]=P)}else if(T>0){var E=mathSqrt$3(T),M=v*u+1.5*c*(-g+E),I=v*u+1.5*c*(-g-E);M<0?M=-mathPow$2(-M,ONE_THIRD):M=mathPow$2(M,ONE_THIRD),I<0?I=-mathPow$2(-I,ONE_THIRD):I=mathPow$2(I,ONE_THIRD);var b=(-u-(M+I))/(3*c);b>=0&&b<=1&&(l[_++]=b)}else{var L=(2*v*u-3*c*g)/(2*mathSqrt$3(v*v*v)),N=Math.acos(L)/3,V=mathSqrt$3(v),B=Math.cos(N),b=(-u-2*V*B)/(3*c),P=(-u+V*(B+THREE_SQRT*Math.sin(N)))/(3*c),z=(-u+V*(B-THREE_SQRT*Math.sin(N)))/(3*c);b>=0&&b<=1&&(l[_++]=b),P>=0&&P<=1&&(l[_++]=P),z>=0&&z<=1&&(l[_++]=z)}}return _}function cubicExtrema(r,n,a,o,s){var l=6*a-12*n+6*r,c=9*n+3*o-3*r-9*a,u=3*n-3*r,d=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(l)){var f=-u/l;f>=0&&f<=1&&(s[d++]=f)}}else{var v=l*l-4*c*u;if(isAroundZero$1(v))s[0]=-l/(2*c);else if(v>0){var g=mathSqrt$3(v),f=(-l+g)/(2*c),y=(-l-g)/(2*c);f>=0&&f<=1&&(s[d++]=f),y>=0&&y<=1&&(s[d++]=y)}}return d}function cubicSubdivide(r,n,a,o,s,l){var c=(n-r)*s+r,u=(a-n)*s+n,d=(o-a)*s+a,f=(u-c)*s+c,v=(d-u)*s+u,g=(v-f)*s+f;l[0]=r,l[1]=c,l[2]=f,l[3]=g,l[4]=g,l[5]=v,l[6]=d,l[7]=o}function cubicProjectPoint(r,n,a,o,s,l,c,u,d,f,v){var g,y=.005,_=1/0,b,T,C,P;_v0[0]=d,_v0[1]=f;for(var E=0;E<1;E+=.05)_v1[0]=cubicAt(r,a,s,c,E),_v1[1]=cubicAt(n,o,l,u,E),C=distSquare(_v0,_v1),C<_&&(g=E,_=C);_=1/0;for(var M=0;M<32&&!(y<EPSILON_NUMERIC);M++)b=g-y,T=g+y,_v1[0]=cubicAt(r,a,s,c,b),_v1[1]=cubicAt(n,o,l,u,b),C=distSquare(_v1,_v0),b>=0&&C<_?(g=b,_=C):(_v2[0]=cubicAt(r,a,s,c,T),_v2[1]=cubicAt(n,o,l,u,T),P=distSquare(_v2,_v0),T<=1&&P<_?(g=T,_=P):y*=.5);return v&&(v[0]=cubicAt(r,a,s,c,g),v[1]=cubicAt(n,o,l,u,g)),mathSqrt$3(_)}function cubicLength(r,n,a,o,s,l,c,u,d){for(var f=r,v=n,g=0,y=1/d,_=1;_<=d;_++){var b=_*y,T=cubicAt(r,a,s,c,b),C=cubicAt(n,o,l,u,b),P=T-f,E=C-v;g+=Math.sqrt(P*P+E*E),f=T,v=C}return g}function quadraticAt$1(r,n,a,o){var s=1-o;return s*(s*r+2*o*n)+o*o*a}function quadraticDerivativeAt(r,n,a,o){return 2*((1-o)*(n-r)+o*(a-n))}function quadraticRootAt(r,n,a,o,s){var l=r-2*n+a,c=2*(n-r),u=r-o,d=0;if(isAroundZero$1(l)){if(isNotAroundZero$1(c)){var f=-u/c;f>=0&&f<=1&&(s[d++]=f)}}else{var v=c*c-4*l*u;if(isAroundZero$1(v)){var f=-c/(2*l);f>=0&&f<=1&&(s[d++]=f)}else if(v>0){var g=mathSqrt$3(v),f=(-c+g)/(2*l),y=(-c-g)/(2*l);f>=0&&f<=1&&(s[d++]=f),y>=0&&y<=1&&(s[d++]=y)}}return d}function quadraticExtremum(r,n,a){var o=r+a-2*n;return o===0?.5:(r-n)/o}function quadraticSubdivide(r,n,a,o,s){var l=(n-r)*o+r,c=(a-n)*o+n,u=(c-l)*o+l;s[0]=r,s[1]=l,s[2]=u,s[3]=u,s[4]=c,s[5]=a}function quadraticProjectPoint(r,n,a,o,s,l,c,u,d){var f,v=.005,g=1/0;_v0[0]=c,_v0[1]=u;for(var y=0;y<1;y+=.05){_v1[0]=quadraticAt$1(r,a,s,y),_v1[1]=quadraticAt$1(n,o,l,y);var _=distSquare(_v0,_v1);_<g&&(f=y,g=_)}g=1/0;for(var b=0;b<32&&!(v<EPSILON_NUMERIC);b++){var T=f-v,C=f+v;_v1[0]=quadraticAt$1(r,a,s,T),_v1[1]=quadraticAt$1(n,o,l,T);var _=distSquare(_v1,_v0);if(T>=0&&_<g)f=T,g=_;else{_v2[0]=quadraticAt$1(r,a,s,C),_v2[1]=quadraticAt$1(n,o,l,C);var P=distSquare(_v2,_v0);C<=1&&P<g?(f=C,g=P):v*=.5}}return d&&(d[0]=quadraticAt$1(r,a,s,f),d[1]=quadraticAt$1(n,o,l,f)),mathSqrt$3(g)}function quadraticLength(r,n,a,o,s,l,c){for(var u=r,d=n,f=0,v=1/c,g=1;g<=c;g++){var y=g*v,_=quadraticAt$1(r,a,s,y),b=quadraticAt$1(n,o,l,y),T=_-u,C=b-d;f+=Math.sqrt(T*T+C*C),u=_,d=b}return f}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var n=r&&regexp.exec(r);if(n){var a=n[1].split(","),o=+trim$1(a[0]),s=+trim$1(a[1]),l=+trim$1(a[2]),c=+trim$1(a[3]);if(isNaN(o+s+l+c))return;var u=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,l,1,d,u)&&cubicAt(0,s,c,1,u[0])}}}var Clip=function(){function r(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop,this.ondestroy=n.ondestroy||noop,this.onrestart=n.onrestart||noop,n.easing&&this.setEasing(n.easing)}return r.prototype.step=function(n,a){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=a;return}var o=this._life,s=n-this._startTime-this._pausedTime,l=s/o;l<0&&(l=0),l=Math.min(l,1);var c=this.easingFunc,u=c?c(l):l;if(this.onframe(u),l===1)if(this.loop){var d=s%o;this._startTime=n-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction(n)?n:easingFuncs[n]||createCubicEasingFunc(n)},r}(),Entry=function(){function r(n){this.value=n}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(n){var a=new Entry(n);return this.insertEntry(a),a},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var a=n.prev,o=n.next;a?a.next=o:this.head=o,o?o.prev=a:this.tail=a,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,a){var o=this._list,s=this._map,l=null;if(s[n]==null){var c=o.len(),u=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var d=o.head;o.remove(d),delete s[d.key],l=d.value,this._lastRemovedEntry=d}u?u.value=a:u=new Entry(a),u.key=n,o.insertEntry(u),s[n]=u}return l},r.prototype.get=function(n){var a=this._map[n],o=this._list;if(a!=null)return a!==o.tail&&(o.remove(a),o.insertEntry(a)),a.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssAngle(r){return r=Math.round(r),r<0?0:r>360?360:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(r,n,a){return a<0?a+=1:a>1&&(a-=1),a*6<1?r+(n-r)*a*6:a*2<1?n:a*3<2?r+(n-r)*(2/3-a)*6:r}function lerpNumber(r,n,a){return r+(n-r)*a}function setRgba(r,n,a,o,s){return r[0]=n,r[1]=a,r[2]=o,r[3]=s,r}function copyRgba(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(r,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(r,lastRemovedArr||n.slice())}function parse(r,n){if(r){n=n||[];var a=colorCache.get(r);if(a)return copyRgba(n,a);r=r+"";var o=r.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(n,kCSSColorTable[o]),putToCache(r,n),n;var s=o.length;if(o.charAt(0)==="#"){if(s===4||s===5){var l=parseInt(o.slice(1,4),16);if(!(l>=0&&l<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(l&3840)>>4|(l&3840)>>8,l&240|(l&240)>>4,l&15|(l&15)<<4,s===5?parseInt(o.slice(4),16)/15:1),putToCache(r,n),n}else if(s===7||s===9){var l=parseInt(o.slice(1,7),16);if(!(l>=0&&l<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(l&16711680)>>16,(l&65280)>>8,l&255,s===9?parseInt(o.slice(7),16)/255:1),putToCache(r,n),n}return}var c=o.indexOf("("),u=o.indexOf(")");if(c!==-1&&u+1===s){var d=o.substr(0,c),f=o.substr(c+1,u-(c+1)).split(","),v=1;switch(d){case"rgba":if(f.length!==4)return f.length===3?setRgba(n,+f[0],+f[1],+f[2],1):setRgba(n,0,0,0,1);v=parseCssFloat(f.pop());case"rgb":if(f.length>=3)return setRgba(n,parseCssInt(f[0]),parseCssInt(f[1]),parseCssInt(f[2]),f.length===3?v:parseCssFloat(f[3])),putToCache(r,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(f.length!==4){setRgba(n,0,0,0,1);return}return f[3]=parseCssFloat(f[3]),hsla2rgba(f,n),putToCache(r,n),n;case"hsl":if(f.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(f,n),putToCache(r,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(r,n){var a=(parseFloat(r[0])%360+360)%360/360,o=parseCssFloat(r[1]),s=parseCssFloat(r[2]),l=s<=.5?s*(o+1):s+o-s*o,c=s*2-l;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(c,l,a+1/3)*255),clampCssByte(cssHueToRgb(c,l,a)*255),clampCssByte(cssHueToRgb(c,l,a-1/3)*255),1),r.length===4&&(n[3]=r[3]),n}function rgba2hsla(r){if(r){var n=r[0]/255,a=r[1]/255,o=r[2]/255,s=Math.min(n,a,o),l=Math.max(n,a,o),c=l-s,u=(l+s)/2,d,f;if(c===0)d=0,f=0;else{u<.5?f=c/(l+s):f=c/(2-l-s);var v=((l-n)/6+c/2)/c,g=((l-a)/6+c/2)/c,y=((l-o)/6+c/2)/c;n===l?d=y-g:a===l?d=1/3+v-y:o===l&&(d=2/3+g-v),d<0&&(d+=1),d>1&&(d-=1)}var _=[d*360,f,u];return r[3]!=null&&_.push(r[3]),_}}function lift(r,n){var a=parse(r);if(a){for(var o=0;o<3;o++)n<0?a[o]=a[o]*(1-n)|0:a[o]=(255-a[o])*n+a[o]|0,a[o]>255?a[o]=255:a[o]<0&&(a[o]=0);return stringify(a,a.length===4?"rgba":"rgb")}}function fastLerp(r,n,a){if(!(!(n&&n.length)||!(r>=0&&r<=1))){a=a||[];var o=r*(n.length-1),s=Math.floor(o),l=Math.ceil(o),c=n[s],u=n[l],d=o-s;return a[0]=clampCssByte(lerpNumber(c[0],u[0],d)),a[1]=clampCssByte(lerpNumber(c[1],u[1],d)),a[2]=clampCssByte(lerpNumber(c[2],u[2],d)),a[3]=clampCssFloat(lerpNumber(c[3],u[3],d)),a}}function lerp(r,n,a){if(!(!(n&&n.length)||!(r>=0&&r<=1))){var o=r*(n.length-1),s=Math.floor(o),l=Math.ceil(o),c=parse(n[s]),u=parse(n[l]),d=o-s,f=stringify([clampCssByte(lerpNumber(c[0],u[0],d)),clampCssByte(lerpNumber(c[1],u[1],d)),clampCssByte(lerpNumber(c[2],u[2],d)),clampCssFloat(lerpNumber(c[3],u[3],d))],"rgba");return a?{color:f,leftIndex:s,rightIndex:l,value:o}:f}}function modifyHSL(r,n,a,o){var s=parse(r);if(r)return s=rgba2hsla(s),n!=null&&(s[0]=clampCssAngle(n)),a!=null&&(s[1]=parseCssFloat(a)),o!=null&&(s[2]=parseCssFloat(o)),stringify(hsla2rgba(s),"rgba")}function modifyAlpha(r,n){var a=parse(r);if(a&&n!=null)return a[3]=clampCssFloat(n),stringify(a,"rgba")}function stringify(r,n){if(!(!r||!r.length)){var a=r[0]+","+r[1]+","+r[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(a+=","+r[3]),n+"("+a+")"}}function lum(r,n){var a=parse(r);return a?(.299*a[0]+.587*a[1]+.114*a[2])*a[3]/255+(1-a[3])*n:0}var liftedColorCache=new LRU(100);function liftColor(r){if(isString(r)){var n=liftedColorCache.get(r);return n||(n=lift(r,-.1),liftedColorCache.put(r,n)),n}else if(isGradientObject(r)){var a=extend({},r);return a.colorStops=map$1(r.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),a}return r}var mathRound$1=Math.round;function normalizeColor(r){var n;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var a=parse(r);a&&(r="rgb("+a[0]+","+a[1]+","+a[2]+")",n=a[3])}return{color:r,opacity:n??1}}var EPSILON$3=1e-4;function isAroundZero(r){return r<EPSILON$3&&r>-EPSILON$3}function round3(r){return mathRound$1(r*1e3)/1e3}function round4(r){return mathRound$1(r*1e4)/1e4}function getMatrixStr(r){return"matrix("+round3(r[0])+","+round3(r[1])+","+round3(r[2])+","+round3(r[3])+","+round4(r[4])+","+round4(r[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(r,n,a){return a==="top"?r+=n/2:a==="bottom"&&(r-=n/2),r}function hasShadow(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function getShadowKey(r){var n=r.style,a=r.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),a[0],a[1]].join(",")}function isImagePattern(r){return r&&!!r.image}function isSVGPattern(r){return r&&!!r.svgElement}function isPattern(r){return isImagePattern(r)||isSVGPattern(r)}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}function isGradient(r){return r&&(r.type==="linear"||r.type==="radial")}function getIdURL(r){return"url(#"+r+")"}function getPathPrecision(r){var n=r.getGlobalScale(),a=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(a)/Math.log(10)),1)}function getSRTTransformString(r){var n=r.x||0,a=r.y||0,o=(r.rotation||0)*RADIAN_TO_DEGREE,s=retrieve2(r.scaleX,1),l=retrieve2(r.scaleY,1),c=r.skewX||0,u=r.skewY||0,d=[];return(n||a)&&d.push("translate("+n+"px,"+a+"px)"),o&&d.push("rotate("+o+")"),(s!==1||l!==1)&&d.push("scale("+s+","+l+")"),(c||u)&&d.push("skew("+mathRound$1(c*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(u*RADIAN_TO_DEGREE)+"deg)"),d.join(" ")}var encodeBase64=function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(r,n,a){return(n-r)*a+r}function interpolate1DArray(r,n,a,o){for(var s=n.length,l=0;l<s;l++)r[l]=interpolateNumber$1(n[l],a[l],o);return r}function interpolate2DArray(r,n,a,o){for(var s=n.length,l=s&&n[0].length,c=0;c<s;c++){r[c]||(r[c]=[]);for(var u=0;u<l;u++)r[c][u]=interpolateNumber$1(n[c][u],a[c][u],o)}return r}function add1DArray(r,n,a,o){for(var s=n.length,l=0;l<s;l++)r[l]=n[l]+a[l]*o;return r}function add2DArray(r,n,a,o){for(var s=n.length,l=s&&n[0].length,c=0;c<s;c++){r[c]||(r[c]=[]);for(var u=0;u<l;u++)r[c][u]=n[c][u]+a[c][u]*o}return r}function fillColorStops(r,n){for(var a=r.length,o=n.length,s=a>o?n:r,l=Math.min(a,o),c=s[l-1]||{color:[0,0,0,0],offset:0},u=l;u<Math.max(a,o);u++)s.push({offset:c.offset,color:c.color.slice()})}function fillArray(r,n,a){var o=r,s=n;if(!(!o.push||!s.push)){var l=o.length,c=s.length;if(l!==c){var u=l>c;if(u)o.length=c;else for(var d=l;d<c;d++)o.push(a===1?s[d]:arraySlice.call(s[d]))}for(var f=o[0]&&o[0].length,d=0;d<o.length;d++)if(a===1)isNaN(o[d])&&(o[d]=s[d]);else for(var v=0;v<f;v++)isNaN(o[d][v])&&(o[d][v]=s[d][v])}}function cloneValue(r){if(isArrayLike(r)){var n=r.length;if(isArrayLike(r[0])){for(var a=[],o=0;o<n;o++)a.push(arraySlice.call(r[o]));return a}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(n,a,o){this._needsSort=!0;var s=this.keyframes,l=s.length,c=!1,u=VALUE_TYPE_UNKOWN,d=a;if(isArrayLike(a)){var f=guessArrayDim(a);u=f,(f===1&&!isNumber(a[0])||f===2&&!isNumber(a[0][0]))&&(c=!0)}else if(isNumber(a)&&!eqNaN(a))u=VALUE_TYPE_NUMBER;else if(isString(a))if(!isNaN(+a))u=VALUE_TYPE_NUMBER;else{var v=parse(a);v&&(d=v,u=VALUE_TYPE_COLOR)}else if(isGradientObject(a)){var g=extend({},d);g.colorStops=map$1(a.colorStops,function(_){return{offset:_.offset,color:parse(_.color)}}),isLinearGradient(a)?u=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(a)&&(u=VALUE_TYPE_RADIAL_GRADIENT),d=g}l===0?this.valType=u:(u!==this.valType||u===VALUE_TYPE_UNKOWN)&&(c=!0),this.discrete=this.discrete||c;var y={time:n,value:d,rawValue:a,percent:0};return o&&(y.easing=o,y.easingFunc=isFunction(o)?o:easingFuncs[o]||createCubicEasingFunc(o)),s.push(y),y},r.prototype.prepare=function(n,a){var o=this.keyframes;this._needsSort&&o.sort(function(T,C){return T.time-C.time});for(var s=this.valType,l=o.length,c=o[l-1],u=this.discrete,d=isArrayValueType(s),f=isGradientValueType(s),v=0;v<l;v++){var g=o[v],y=g.value,_=c.value;g.percent=g.time/n,u||(d&&v!==l-1?fillArray(y,_,s):f&&fillColorStops(y.colorStops,_.colorStops))}if(!u&&s!==VALUE_TYPE_RADIAL_GRADIENT&&a&&this.needsAnimate()&&a.needsAnimate()&&s===a.valType&&!a._finished){this._additiveTrack=a;for(var b=o[0].value,v=0;v<l;v++)s===VALUE_TYPE_NUMBER?o[v].additiveValue=o[v].value-b:s===VALUE_TYPE_COLOR?o[v].additiveValue=add1DArray([],o[v].value,b,-1):isArrayValueType(s)&&(o[v].additiveValue=s===VALUE_TYPE_1D_ARRAY?add1DArray([],o[v].value,b,-1):add2DArray([],o[v].value,b,-1))}},r.prototype.step=function(n,a){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,s=o?"additiveValue":"value",l=this.valType,c=this.keyframes,u=c.length,d=this.propName,f=l===VALUE_TYPE_COLOR,v,g=this._lastFr,y=Math.min,_,b;if(u===1)_=b=c[0];else{if(a<0)v=0;else if(a<this._lastFrP){var T=y(g+1,u-1);for(v=T;v>=0&&!(c[v].percent<=a);v--);v=y(v,u-2)}else{for(v=g;v<u&&!(c[v].percent>a);v++);v=y(v-1,u-2)}b=c[v+1],_=c[v]}if(_&&b){this._lastFr=v,this._lastFrP=a;var C=b.percent-_.percent,P=C===0?1:y((a-_.percent)/C,1);b.easingFunc&&(P=b.easingFunc(P));var E=o?this._additiveValue:f?tmpRgba:n[d];if((isArrayValueType(l)||f)&&!E&&(E=this._additiveValue=[]),this.discrete)n[d]=P<1?_.rawValue:b.rawValue;else if(isArrayValueType(l))l===VALUE_TYPE_1D_ARRAY?interpolate1DArray(E,_[s],b[s],P):interpolate2DArray(E,_[s],b[s],P);else if(isGradientValueType(l)){var M=_[s],I=b[s],L=l===VALUE_TYPE_LINEAR_GRADIENT;n[d]={type:L?"linear":"radial",x:interpolateNumber$1(M.x,I.x,P),y:interpolateNumber$1(M.y,I.y,P),colorStops:map$1(M.colorStops,function(V,B){var z=I.colorStops[B];return{offset:interpolateNumber$1(V.offset,z.offset,P),color:rgba2String(interpolate1DArray([],V.color,z.color,P))}}),global:I.global},L?(n[d].x2=interpolateNumber$1(M.x2,I.x2,P),n[d].y2=interpolateNumber$1(M.y2,I.y2,P)):n[d].r=interpolateNumber$1(M.r,I.r,P)}else if(f)interpolate1DArray(E,_[s],b[s],P),o||(n[d]=rgba2String(E));else{var N=interpolateNumber$1(_[s],b[s],P);o?this._additiveValue=N:n[d]=N}o&&this._addToTarget(n)}}},r.prototype._addToTarget=function(n){var a=this.valType,o=this.propName,s=this._additiveValue;a===VALUE_TYPE_NUMBER?n[o]=n[o]+s:a===VALUE_TYPE_COLOR?(parse(n[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,s,1),n[o]=rgba2String(tmpRgba)):a===VALUE_TYPE_1D_ARRAY?add1DArray(n[o],n[o],s,1):a===VALUE_TYPE_2D_ARRAY&&add2DArray(n[o],n[o],s,1)},r}(),Animator=function(){function r(n,a,o,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=a,a&&s){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=o}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(n){this._target=n},r.prototype.when=function(n,a,o){return this.whenWithKeys(n,a,keys(a),o)},r.prototype.whenWithKeys=function(n,a,o,s){for(var l=this._tracks,c=0;c<o.length;c++){var u=o[c],d=l[u];if(!d){d=l[u]=new Track(u);var f=void 0,v=this._getAdditiveTrack(u);if(v){var g=v.keyframes,y=g[g.length-1];f=y&&y.value,v.valType===VALUE_TYPE_COLOR&&f&&(f=rgba2String(f))}else f=this._target[u];if(f==null)continue;n>0&&d.addKeyframe(0,cloneValue(f),s),this._trackKeys.push(u)}d.addKeyframe(n,cloneValue(a[u]),s)}return this._maxTime=Math.max(this._maxTime,n),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var a=n.length,o=0;o<a;o++)n[o].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,a=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,a)for(var o=0;o<a.length;o++)a[o].call(this)},r.prototype._setTracksFinished=function(){for(var n=this._tracks,a=this._trackKeys,o=0;o<a.length;o++)n[a[o]].setFinished()},r.prototype._getAdditiveTrack=function(n){var a,o=this._additiveAnimators;if(o)for(var s=0;s<o.length;s++){var l=o[s].getTrack(n);l&&(a=l)}return a},r.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var a=this,o=[],s=this._maxTime||0,l=0;l<this._trackKeys.length;l++){var c=this._trackKeys[l],u=this._tracks[c],d=this._getAdditiveTrack(c),f=u.keyframes,v=f.length;if(u.prepare(s,d),u.needsAnimate())if(!this._allowDiscrete&&u.discrete){var g=f[v-1];g&&(a._target[u.propName]=g.rawValue),u.setFinished()}else o.push(u)}if(o.length||this._force){var y=new Clip({life:s,loop:this._loop,delay:this._delay||0,onframe:function(_){a._started=2;var b=a._additiveAnimators;if(b){for(var T=!1,C=0;C<b.length;C++)if(b[C]._clip){T=!0;break}T||(a._additiveAnimators=null)}for(var C=0;C<o.length;C++)o[C].step(a._target,_);var P=a._onframeCbs;if(P)for(var C=0;C<P.length;C++)P[C](a._target,_)},ondestroy:function(){a._doneCallback()}});this._clip=y,this.animation&&this.animation.addClip(y),n&&y.setEasing(n)}else this._doneCallback();return this}},r.prototype.stop=function(n){if(this._clip){var a=this._clip;n&&a.onframe(1),this._abortedCallback()}},r.prototype.delay=function(n){return this._delay=n,this},r.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},r.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},r.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(n){return this._tracks[n]},r.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(a){return n._tracks[a]})},r.prototype.stopTracks=function(n,a){if(!n.length||!this._clip)return!0;for(var o=this._tracks,s=this._trackKeys,l=0;l<n.length;l++){var c=o[n[l]];c&&!c.isFinished()&&(a?c.step(this._target,1):this._started===1&&c.step(this._target,0),c.setFinished())}for(var u=!0,l=0;l<s.length;l++)if(!o[s[l]].isFinished()){u=!1;break}return u&&this._abortedCallback(),u},r.prototype.saveTo=function(n,a,o){if(n){a=a||this._trackKeys;for(var s=0;s<a.length;s++){var l=a[s],c=this._tracks[l];if(!(!c||c.isFinished())){var u=c.keyframes,d=u[o?0:u.length-1];d&&(n[l]=cloneValue(d.rawValue))}}}},r.prototype.__changeFinalValue=function(n,a){a=a||keys(n);for(var o=0;o<a.length;o++){var s=a[o],l=this._tracks[s];if(l){var c=l.keyframes;if(c.length>1){var u=c.pop();l.addKeyframe(u.time,n[s]),l.prepare(this._maxTime,l.getAdditiveTrack())}}}},r}();function getTime(){return new Date().getTime()}var Animation=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,a=a||{},o.stage=a.stage||{},o}return n.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},n.prototype.addAnimator=function(a){a.animation=this;var o=a.getClip();o&&this.addClip(o)},n.prototype.removeClip=function(a){if(a.animation){var o=a.prev,s=a.next;o?o.next=s:this._head=s,s?s.prev=o:this._tail=o,a.next=a.prev=a.animation=null}},n.prototype.removeAnimator=function(a){var o=a.getClip();o&&this.removeClip(o),a.animation=null},n.prototype.update=function(a){for(var o=getTime()-this._pausedTime,s=o-this._time,l=this._head;l;){var c=l.next,u=l.step(o,s);u&&(l.ondestroy(),this.removeClip(l)),l=c}this._time=o,a||(this.trigger("frame",s),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var a=this;this._running=!0;function o(){a._running&&(requestAnimationFrame$1(o),!a._paused&&a.update())}requestAnimationFrame$1(o)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var a=this._head;a;){var o=a.next;a.prev=a.next=a.animation=null,a=o}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(a,o){o=o||{},this.start();var s=new Animator(a,o.loop);return this.addAnimator(s),s},n}(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],a={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(r,function(s){var l=s.replace("mouse","pointer");return a.hasOwnProperty(l)?l:s});return{mouse:r,touch:n,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var n=r.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,n){return normalizeEvent(r.dom,new FakeGlobalEvent(r,n),!0)}function isLocalEl(r,n){for(var a=n,o=!1;a&&a.nodeType!==9&&!(o=a.domBelongToZr||a!==n&&a===r.painterRoot);)a=a.parentNode;return o}var FakeGlobalEvent=function(){function r(n,a){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=a.type,this.target=this.currentTarget=n.dom,this.pointerType=a.pointerType,this.clientX=a.clientX,this.clientY=a.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var n=this.__mayPointerCapture;n&&(r.zrX!==n[0]||r.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var n=r.toElement||r.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$f(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(n){n=normalizeEvent(this.dom,n),this.trigger(r,n)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),n&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,n){var a=n.domHandlers;env.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(n,o,function(s){a[o].call(r,s)})}):(env.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(n,o,function(s){a[o].call(r,s),setTouchTimer(n)})}),each$f(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(n,o,function(s){s=getNativeEvent(s),n.touching||a[o].call(r,s)})}))}function mountGlobalDOMEventListeners(r,n){env.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,a):env.touchEventsSupported||each$f(globalNativeListenerNames.mouse,a);function a(o){function s(l){l=getNativeEvent(l),isLocalEl(r,l.target)||(l=normalizeGlobalEvent(r,l),n.domHandlers[o].call(r,l))}mountSingleDOMEventListener(n,o,s,{capture:!0})}}function mountSingleDOMEventListener(r,n,a,o){r.mounted[n]=a,r.listenerOpts[n]=o,addEventListener(r.domTarget,n,a,o)}function unmountDOMEventListeners(r){var n=r.mounted;for(var a in n)n.hasOwnProperty(a)&&removeEventListener(r.domTarget,a,n[a],r.listenerOpts[a]);r.mounted={}}var DOMHandlerScope=function(){function r(n,a){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=a}return r}(),HandlerDomProxy=function(r){__extends(n,r);function n(a,o){var s=r.call(this)||this;return s.__pointerCapturing=!1,s.dom=a,s.painterRoot=o,s._localHandlerScope=new DOMHandlerScope(a,localDOMHandlers),globalEventSupported&&(s._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(s,s._localHandlerScope),s}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},n.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+a){this.__pointerCapturing=a;var o=this._globalHandlerScope;a?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},n}(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(r){return r>EPSILON$2||r<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(n){return r.getLocalTransform(this,n)},r.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},r.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},r.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},r.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,a=this.needLocalTransform(),o=this.transform;if(!(a||n)){o&&(mIdentity(o),this.invTransform=null);return}o=o||create$1(),a?this.getLocalTransform(o):mIdentity(o),n&&(a?mul(o,n,o):copy(o,n)),this.transform=o,this._resolveGlobalScaleRatio(o)},r.prototype._resolveGlobalScaleRatio=function(n){var a=this.globalScaleRatio;if(a!=null&&a!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,s=scaleTmp[1]<0?-1:1,l=((scaleTmp[0]-o)*a+o)/scaleTmp[0]||0,c=((scaleTmp[1]-s)*a+s)/scaleTmp[1]||0;n[0]*=l,n[1]*=l,n[2]*=c,n[3]*=c}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,n)},r.prototype.getComputedTransform=function(){for(var n=this,a=[];n;)a.push(n),n=n.parent;for(;n=a.pop();)n.updateTransform();return this.transform},r.prototype.setLocalTransform=function(n){if(n){var a=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],s=Math.atan2(n[1],n[0]),l=Math.PI/2+s-Math.atan2(n[3],n[2]);o=Math.sqrt(o)*Math.cos(l),a=Math.sqrt(a),this.skewX=l,this.skewY=0,this.rotation=-s,this.x=+n[4],this.y=+n[5],this.scaleX=a,this.scaleY=o,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,a=this.transform;n&&n.transform&&(n.invTransform=n.invTransform||create$1(),mul(tmpTransform,n.invTransform,a),a=tmpTransform);var o=this.originX,s=this.originY;(o||s)&&(originTransform[4]=o,originTransform[5]=s,mul(tmpTransform,a,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=s,a=tmpTransform),this.setLocalTransform(a)}},r.prototype.getGlobalScale=function(n){var a=this.transform;return n=n||[],a?(n[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),n[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(n[0]=-n[0]),a[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},r.prototype.transformCoordToLocal=function(n,a){var o=[n,a],s=this.invTransform;return s&&applyTransform$1(o,o,s),o},r.prototype.transformCoordToGlobal=function(n,a){var o=[n,a],s=this.transform;return s&&applyTransform$1(o,o,s),o},r.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},r.prototype.copyTransform=function(n){copyTransform(this,n)},r.getLocalTransform=function(n,a){a=a||[];var o=n.originX||0,s=n.originY||0,l=n.scaleX,c=n.scaleY,u=n.anchorX,d=n.anchorY,f=n.rotation||0,v=n.x,g=n.y,y=n.skewX?Math.tan(n.skewX):0,_=n.skewY?Math.tan(-n.skewY):0;if(o||s||u||d){var b=o+u,T=s+d;a[4]=-b*l-y*T*c,a[5]=-T*c-_*b*l}else a[4]=a[5]=0;return a[0]=l,a[3]=c,a[1]=_*l,a[2]=y*c,f&&rotate(a,a,f),a[4]+=o+v,a[5]+=s+g,a},r.initDefaultProps=function(){var n=r.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,n){for(var a=0;a<TRANSFORMABLE_PROPS.length;a++){var o=TRANSFORMABLE_PROPS[a];r[o]=n[o]}}var textWidthCache={};function getWidth(r,n){n=n||DEFAULT_FONT;var a=textWidthCache[n];a||(a=textWidthCache[n]=new LRU(500));var o=a.get(r);return o==null&&(o=platformApi.measureText(r,n).width,a.put(r,o)),o}function innerGetBoundingRect(r,n,a,o){var s=getWidth(r,n),l=getLineHeight(n),c=adjustTextX(0,s,a),u=adjustTextY(0,l,o),d=new BoundingRect(c,u,s,l);return d}function getBoundingRect(r,n,a,o){var s=((r||"")+"").split(`
`),l=s.length;if(l===1)return innerGetBoundingRect(s[0],n,a,o);for(var c=new BoundingRect(0,0,0,0),u=0;u<s.length;u++){var d=innerGetBoundingRect(s[u],n,a,o);u===0?c.copy(d):c.union(d)}return c}function adjustTextX(r,n,a){return a==="right"?r-=n:a==="center"&&(r-=n/2),r}function adjustTextY(r,n,a){return a==="middle"?r-=n/2:a==="bottom"&&(r-=n),r}function getLineHeight(r){return getWidth("国",r)}function parsePercent$1(r,n){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*n:parseFloat(r):r}function calculateTextPosition(r,n,a){var o=n.position||"inside",s=n.distance!=null?n.distance:5,l=a.height,c=a.width,u=l/2,d=a.x,f=a.y,v="left",g="top";if(o instanceof Array)d+=parsePercent$1(o[0],a.width),f+=parsePercent$1(o[1],a.height),v=null,g=null;else switch(o){case"left":d-=s,f+=u,v="right",g="middle";break;case"right":d+=s+c,f+=u,g="middle";break;case"top":d+=c/2,f-=s,v="center",g="bottom";break;case"bottom":d+=c/2,f+=l+s,v="center";break;case"inside":d+=c/2,f+=u,v="center",g="middle";break;case"insideLeft":d+=s,f+=u,g="middle";break;case"insideRight":d+=c-s,f+=u,v="right",g="middle";break;case"insideTop":d+=c/2,f+=s,v="center";break;case"insideBottom":d+=c/2,f+=l-s,v="center",g="bottom";break;case"insideTopLeft":d+=s,f+=s;break;case"insideTopRight":d+=c-s,f+=s,v="right";break;case"insideBottomLeft":d+=s,f+=l-s,g="bottom";break;case"insideBottomRight":d+=c-s,f+=l-s,v="right",g="bottom";break}return r=r||{},r.x=d,r.y=f,r.align=v,r.verticalAlign=g,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),Element$1=function(){function r(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return r.prototype._init=function(n){this.attr(n)},r.prototype.drift=function(n,a,o){switch(this.draggable){case"horizontal":a=0;break;case"vertical":n=0;break}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=n,s[5]+=a,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(n){var a=this._textContent;if(a&&(!a.ignore||n)){this.textConfig||(this.textConfig={});var o=this.textConfig,s=o.local,l=a.innerTransformable,c=void 0,u=void 0,d=!1;l.parent=s?this:null;var f=!1;if(l.copyTransform(a),o.position!=null){var v=tmpBoundingRect;o.layoutRect?v.copy(o.layoutRect):v.copy(this.getBoundingRect()),s||v.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,v):calculateTextPosition(tmpTextPosCalcRes,o,v),l.x=tmpTextPosCalcRes.x,l.y=tmpTextPosCalcRes.y,c=tmpTextPosCalcRes.align,u=tmpTextPosCalcRes.verticalAlign;var g=o.origin;if(g&&o.rotation!=null){var y=void 0,_=void 0;g==="center"?(y=v.width*.5,_=v.height*.5):(y=parsePercent$1(g[0],v.width),_=parsePercent$1(g[1],v.height)),f=!0,l.originX=-l.x+y+(s?0:v.x),l.originY=-l.y+_+(s?0:v.y)}}o.rotation!=null&&(l.rotation=o.rotation);var b=o.offset;b&&(l.x+=b[0],l.y+=b[1],f||(l.originX=-b[0],l.originY=-b[1]));var T=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,C=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),P=void 0,E=void 0,M=void 0;T&&this.canBeInsideText()?(P=o.insideFill,E=o.insideStroke,(P==null||P==="auto")&&(P=this.getInsideTextFill()),(E==null||E==="auto")&&(E=this.getInsideTextStroke(P),M=!0)):(P=o.outsideFill,E=o.outsideStroke,(P==null||P==="auto")&&(P=this.getOutsideFill()),(E==null||E==="auto")&&(E=this.getOutsideStroke(P),M=!0)),P=P||"#000",(P!==C.fill||E!==C.stroke||M!==C.autoStroke||c!==C.align||u!==C.verticalAlign)&&(d=!0,C.fill=P,C.stroke=E,C.autoStroke=M,C.align=c,C.verticalAlign=u,a.setDefaultTextStyle(C)),a.__dirty|=REDRAW_BIT,d&&a.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(n){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(n){var a=this.__zr&&this.__zr.getBackgroundColor(),o=typeof a=="string"&&parse(a);o||(o=[255,255,255,1]);for(var s=o[3],l=this.__zr.isDarkMode(),c=0;c<3;c++)o[c]=o[c]*s+(l?0:255)*(1-s);return o[3]=1,stringify(o,"rgba")},r.prototype.traverse=function(n,a){},r.prototype.attrKV=function(n,a){n==="textConfig"?this.setTextConfig(a):n==="textContent"?this.setTextContent(a):n==="clipPath"?this.setClipPath(a):n==="extra"?(this.extra=this.extra||{},extend(this.extra,a)):this[n]=a},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(n,a){if(typeof n=="string")this.attrKV(n,a);else if(isObject$3(n))for(var o=n,s=keys(o),l=0;l<s.length;l++){var c=s[l];this.attrKV(c,n[c])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var a=this._normalState,o=0;o<this.animators.length;o++){var s=this.animators[o],l=s.__fromStateTransition;if(!(s.getLoop()||l&&l!==PRESERVED_NORMAL_STATE)){var c=s.targetName,u=c?a[c]:a;s.saveTo(u)}}},r.prototype._innerSaveToNormal=function(n){var a=this._normalState;a||(a=this._normalState={}),n.textConfig&&!a.textConfig&&(a.textConfig=this.textConfig),this._savePrimaryToNormal(n,a,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(n,a,o){for(var s=0;s<o.length;s++){var l=o[s];n[l]!=null&&!(l in a)&&(a[l]=this[l])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(n){return this.states[n]},r.prototype.ensureState=function(n){var a=this.states;return a[n]||(a[n]={}),a[n]},r.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},r.prototype.useState=function(n,a,o,s){var l=n===PRESERVED_NORMAL_STATE,c=this.hasState();if(!(!c&&l)){var u=this.currentStates,d=this.stateTransition;if(!(indexOf(u,n)>=0&&(a||u.length===1))){var f;if(this.stateProxy&&!l&&(f=this.stateProxy(n)),f||(f=this.states&&this.states[n]),!f&&!l){logError("State "+n+" not exists.");return}l||this.saveCurrentToNormalState(f);var v=!!(f&&f.hoverLayer||s);v&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,f,this._normalState,a,!o&&!this.__inHover&&d&&d.duration>0,d);var g=this._textContent,y=this._textGuide;return g&&g.useState(n,a,o,v),y&&y.useState(n,a,o,v),l?(this.currentStates=[],this._normalState={}):a?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),f}}},r.prototype.useStates=function(n,a,o){if(!n.length)this.clearStates();else{var s=[],l=this.currentStates,c=n.length,u=c===l.length;if(u){for(var d=0;d<c;d++)if(n[d]!==l[d]){u=!1;break}}if(u)return;for(var d=0;d<c;d++){var f=n[d],v=void 0;this.stateProxy&&(v=this.stateProxy(f,n)),v||(v=this.states[f]),v&&s.push(v)}var g=s[c-1],y=!!(g&&g.hoverLayer||o);y&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(s),b=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(n.join(","),_,this._normalState,!1,!a&&!this.__inHover&&b&&b.duration>0,b);var T=this._textContent,C=this._textGuide;T&&T.useStates(n,a,y),C&&C.useStates(n,a,y),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!y&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype.isSilent=function(){for(var n=this.silent,a=this.parent;!n&&a;){if(a.silent){n=!0;break}a=a.parent}return n},r.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var a=this.animators[n];a.targetName&&a.changeTarget(this[a.targetName])}},r.prototype.removeState=function(n){var a=indexOf(this.currentStates,n);if(a>=0){var o=this.currentStates.slice();o.splice(a,1),this.useStates(o)}},r.prototype.replaceState=function(n,a,o){var s=this.currentStates.slice(),l=indexOf(s,n),c=indexOf(s,a)>=0;l>=0?c?s.splice(l,1):s[l]=a:o&&!c&&s.push(a),this.useStates(s)},r.prototype.toggleState=function(n,a){a?this.useState(n,!0):this.removeState(n)},r.prototype._mergeStates=function(n){for(var a={},o,s=0;s<n.length;s++){var l=n[s];extend(a,l),l.textConfig&&(o=o||{},extend(o,l.textConfig))}return o&&(a.textConfig=o),a},r.prototype._applyStateObj=function(n,a,o,s,l,c){var u=!(a&&s);a&&a.textConfig?(this.textConfig=extend({},s?this.textConfig:o.textConfig),extend(this.textConfig,a.textConfig)):u&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},f=!1,v=0;v<PRIMARY_STATES_KEYS$1.length;v++){var g=PRIMARY_STATES_KEYS$1[v],y=l&&DEFAULT_ANIMATABLE_MAP[g];a&&a[g]!=null?y?(f=!0,d[g]=a[g]):this[g]=a[g]:u&&o[g]!=null&&(y?(f=!0,d[g]=o[g]):this[g]=o[g])}if(!l)for(var v=0;v<this.animators.length;v++){var _=this.animators[v],b=_.targetName;_.getLoop()||_.__changeFinalValue(b?(a||o)[b]:a||o)}f&&this._transitionState(n,d,c)},r.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var a=this.__zr;a&&n.addSelfToZr(a),n.__zr=a,n.__hostTarget=this}},r.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},r.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(n){var a=this._textContent;a!==n&&(a&&a!==n&&this.removeTextContent(),n.innerTransformable=new Transformable,this._attachComponent(n),this._textContent=n,this.markRedraw())},r.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var a=this._textContent,o=this._textGuide;a&&(a.__inHover=n),o&&(o.__inHover=n)},r.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var a=this.animators;if(a)for(var o=0;o<a.length;o++)n.animation.addAnimator(a[o]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var a=this.animators;if(a)for(var o=0;o<a.length;o++)n.animation.removeAnimator(a[o]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},r.prototype.animate=function(n,a,o){var s=n?this[n]:this,l=new Animator(s,a,o);return n&&(l.targetName=n),this.addAnimator(l,n),l},r.prototype.addAnimator=function(n,a){var o=this.__zr,s=this;n.during(function(){s.updateDuringAnimation(a)}).done(function(){var l=s.animators,c=indexOf(l,n);c>=0&&l.splice(c,1)}),this.animators.push(n),o&&o.animation.addAnimator(n),o&&o.wakeUp()},r.prototype.updateDuringAnimation=function(n){this.markRedraw()},r.prototype.stopAnimation=function(n,a){for(var o=this.animators,s=o.length,l=[],c=0;c<s;c++){var u=o[c];!n||n===u.scope?u.stop(a):l.push(u)}return this.animators=l,this},r.prototype.animateTo=function(n,a,o){animateTo(this,n,a,o)},r.prototype.animateFrom=function(n,a,o){animateTo(this,n,a,o,!0)},r.prototype._transitionState=function(n,a,o,s){for(var l=animateTo(this,a,o,s),c=0;c<l.length;c++)l[c].__fromStateTransition=n},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var n=r.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;function a(o,s,l,c){Object.defineProperty(n,o,{get:function(){if(!this[s]){var d=this[s]=[];u(this,d)}return this[s]},set:function(d){this[l]=d[0],this[c]=d[1],this[s]=d,u(this,d)}});function u(d,f){Object.defineProperty(f,0,{get:function(){return d[l]},set:function(v){d[l]=v}}),Object.defineProperty(f,1,{get:function(){return d[c]},set:function(v){d[c]=v}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(r,n,a,o,s){a=a||{};var l=[];animateToShallow(r,"",r,n,a,o,l,s);var c=l.length,u=!1,d=a.done,f=a.aborted,v=function(){u=!0,c--,c<=0&&(u?d&&d():f&&f())},g=function(){c--,c<=0&&(u?d&&d():f&&f())};c||d&&d(),l.length>0&&a.during&&l[0].during(function(b,T){a.during(T)});for(var y=0;y<l.length;y++){var _=l[y];v&&_.done(v),g&&_.aborted(g),a.force&&_.duration(a.duration),_.start(a.easing)}return l}function copyArrShallow(r,n,a){for(var o=0;o<a;o++)r[o]=n[o]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,n,a){if(isArrayLike(n[a]))if(isArrayLike(r[a])||(r[a]=[]),isTypedArray(n[a])){var o=n[a].length;r[a].length!==o&&(r[a]=new n[a].constructor(o),copyArrShallow(r[a],n[a],o))}else{var s=n[a],l=r[a],c=s.length;if(is2DArray(s))for(var u=s[0].length,d=0;d<c;d++)l[d]?copyArrShallow(l[d],s[d],u):l[d]=Array.prototype.slice.call(s[d]);else copyArrShallow(l,s,c);l.length=s.length}else r[a]=n[a]}function isValueSame(r,n){return r===n||isArrayLike(r)&&isArrayLike(n)&&is1DArraySame(r,n)}function is1DArraySame(r,n){var a=r.length;if(a!==n.length)return!1;for(var o=0;o<a;o++)if(r[o]!==n[o])return!1;return!0}function animateToShallow(r,n,a,o,s,l,c,u){for(var d=keys(o),f=s.duration,v=s.delay,g=s.additive,y=s.setToFinal,_=!isObject$3(l),b=r.animators,T=[],C=0;C<d.length;C++){var P=d[C],E=o[P];if(E!=null&&a[P]!=null&&(_||l[P]))if(isObject$3(E)&&!isArrayLike(E)&&!isGradientObject(E)){if(n){u||(a[P]=E,r.updateDuringAnimation(n));continue}animateToShallow(r,P,a[P],E,s,l&&l[P],c,u)}else T.push(P);else u||(a[P]=E,r.updateDuringAnimation(n),T.push(P))}var M=T.length;if(!g&&M)for(var I=0;I<b.length;I++){var L=b[I];if(L.targetName===n){var N=L.stopTracks(T);if(N){var V=indexOf(b,L);b.splice(V,1)}}}if(s.force||(T=filter(T,function(H){return!isValueSame(o[H],a[H])}),M=T.length),M>0||s.force&&!c.length){var B=void 0,z=void 0,G=void 0;if(u){z={},y&&(B={});for(var I=0;I<M;I++){var P=T[I];z[P]=a[P],y?B[P]=o[P]:a[P]=o[P]}}else if(y){G={};for(var I=0;I<M;I++){var P=T[I];G[P]=cloneValue(a[P]),copyValue(a,o,P)}}var L=new Animator(a,!1,!1,g?filter(b,function(W){return W.targetName===n}):null);L.targetName=n,s.scope&&(L.scope=s.scope),y&&B&&L.whenWithKeys(0,B,T),G&&L.whenWithKeys(0,G,T),L.whenWithKeys(f??500,u?z:o,T).delay(v||0),r.addAnimator(L,n),c.push(L)}}var Group$3=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(a),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(a){return this._children[a]},n.prototype.childOfName=function(a){for(var o=this._children,s=0;s<o.length;s++)if(o[s].name===a)return o[s]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},n.prototype.addBefore=function(a,o){if(a&&a!==this&&a.parent!==this&&o&&o.parent===this){var s=this._children,l=s.indexOf(o);l>=0&&(s.splice(l,0,a),this._doAdd(a))}return this},n.prototype.replace=function(a,o){var s=indexOf(this._children,a);return s>=0&&this.replaceAt(o,s),this},n.prototype.replaceAt=function(a,o){var s=this._children,l=s[o];if(a&&a!==this&&a.parent!==this&&a!==l){s[o]=a,l.parent=null;var c=this.__zr;c&&l.removeSelfFromZr(c),this._doAdd(a)}return this},n.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var o=this.__zr;o&&o!==a.__zr&&a.addSelfToZr(o),o&&o.refresh()},n.prototype.remove=function(a){var o=this.__zr,s=this._children,l=indexOf(s,a);return l<0?this:(s.splice(l,1),a.parent=null,o&&a.removeSelfFromZr(o),o&&o.refresh(),this)},n.prototype.removeAll=function(){for(var a=this._children,o=this.__zr,s=0;s<a.length;s++){var l=a[s];o&&l.removeSelfFromZr(o),l.parent=null}return a.length=0,this},n.prototype.eachChild=function(a,o){for(var s=this._children,l=0;l<s.length;l++){var c=s[l];a.call(o,c,l)}return this},n.prototype.traverse=function(a,o){for(var s=0;s<this._children.length;s++){var l=this._children[s],c=a.call(o,l);l.isGroup&&!c&&l.traverse(a,o)}return this},n.prototype.addSelfToZr=function(a){r.prototype.addSelfToZr.call(this,a);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.addSelfToZr(a)}},n.prototype.removeSelfFromZr=function(a){r.prototype.removeSelfFromZr.call(this,a);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.removeSelfFromZr(a)}},n.prototype.getBoundingRect=function(a){for(var o=new BoundingRect(0,0,0,0),s=a||this._children,l=[],c=null,u=0;u<s.length;u++){var d=s[u];if(!(d.ignore||d.invisible)){var f=d.getBoundingRect(),v=d.getLocalTransform(l);v?(BoundingRect.applyTransform(o,f,v),c=c||o.clone(),c.union(o)):(c=c||f.clone(),c.union(f))}}return c||o},n}(Element$1);Group$3.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var n=r.colorStops,a=0,o=n.length,s=0;s<o;s++)a+=lum(n[s].color,1);return a/=o,a<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(n,a,o){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=a,this.id=n;var l=new Storage,c=o.renderer||"canvas";painterCtors[c]||(c=keys(painterCtors)[0]),o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var u=new painterCtors[c](a,l,o,n),d=o.ssr||u.ssrOnly;this.storage=l,this.painter=u;var f=!env.node&&!env.worker&&!d?new HandlerDomProxy(u.getViewportRoot(),u.root):null,v=o.useCoarsePointer,g=v==null||v==="auto"?env.touchEventsSupported:!!v,y=44,_;g&&(_=retrieve2(o.pointerSize,y)),this.handler=new Handler(l,u,f,u.root,_),this.animation=new Animation({stage:{update:d?null:function(){return s._flush(!0)}}}),d||this.animation.start()}return r.prototype.add=function(n){this._disposed||!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},r.prototype.remove=function(n){this._disposed||!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(n,a){this._disposed||(this.painter.configLayer&&this.painter.configLayer(n,a),this.refresh())},r.prototype.setBackgroundColor=function(n){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(n){this._darkMode=n},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(n){this._disposed||(n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(n){var a,o=getTime();this._needsRefresh&&(a=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());var s=getTime();a?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(n){this._disposed||(n=n||{},this.painter.resize(n.width,n.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(n){this._disposed||this.handler.setCursorStyle(n)},r.prototype.findHover=function(n,a){if(!this._disposed)return this.handler.findHover(n,a)},r.prototype.on=function(n,a,o){return this._disposed||this.handler.on(n,a,o),this},r.prototype.off=function(n,a){this._disposed||this.handler.off(n,a)},r.prototype.trigger=function(n,a){this._disposed||this.handler.trigger(n,a)},r.prototype.clear=function(){if(!this._disposed){for(var n=this.storage.getRoots(),a=0;a<n.length;a++)n[a]instanceof Group$3&&n[a].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},r}();function init$2(r,n){var a=new ZRender(guid(),r,n);return instances$1[a.id]=a,a}function registerPainter(r,n){painterCtors[r]=n}var ssrDataGetter;function getElementSSRData(r){if(typeof ssrDataGetter=="function")return ssrDataGetter(r)}function registerSSRDataGetter(r){ssrDataGetter=r}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap$2(r,n,a,o){var s=n[0],l=n[1],c=a[0],u=a[1],d=l-s,f=u-c;if(d===0)return f===0?c:(c+u)/2;if(o)if(d>0){if(r<=s)return c;if(r>=l)return u}else{if(r>=s)return c;if(r<=l)return u}else{if(r===s)return c;if(r===l)return u}return(r-s)/d*f+c}function parsePercent(r,n){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString(r)?_trim(r).match(/%$/)?parseFloat(r)/100*n:parseFloat(r):r==null?NaN:+r}function round$3(r,n,a){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(n),a?r:+r}function asc$2(r){return r.sort(function(n,a){return n-a}),r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var n=1,a=0;a<15;a++,n*=10)if(Math.round(r*n)/n===r)return a}return getPrecisionSafe(r)}function getPrecisionSafe(r){var n=r.toString().toLowerCase(),a=n.indexOf("e"),o=a>0?+n.slice(a+1):0,s=a>0?a:n.length,l=n.indexOf("."),c=l<0?0:s-1-l;return Math.max(0,c-o)}function getPixelPrecision(r,n){var a=Math.log,o=Math.LN10,s=Math.floor(a(r[1]-r[0])/o),l=Math.round(a(Math.abs(n[1]-n[0]))/o),c=Math.min(Math.max(-s+l,0),20);return isFinite(c)?c:20}function getPercentSeats(r,n){var a=reduce(r,function(_,b){return _+(isNaN(b)?0:b)},0);if(a===0)return[];for(var o=Math.pow(10,n),s=map$1(r,function(_){return(isNaN(_)?0:_)/a*o*100}),l=o*100,c=map$1(s,function(_){return Math.floor(_)}),u=reduce(c,function(_,b){return _+b},0),d=map$1(s,function(_,b){return _-c[b]});u<l;){for(var f=Number.NEGATIVE_INFINITY,v=null,g=0,y=d.length;g<y;++g)d[g]>f&&(f=d[g],v=g);++c[v],d[v]=0,++u}return map$1(c,function(_){return _/o})}function addSafe(r,n){var a=Math.max(getPrecision(r),getPrecision(n)),o=r+n;return a>ROUND_SUPPORTED_PRECISION_MAX?o:round$3(o,a)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(r){var n=Math.PI*2;return(r%n+n)%n}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString(r)){var n=TIME_REG.exec(r);if(!n)return new Date(NaN);if(n[8]){var a=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(a-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,a,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function quantity(r){return Math.pow(10,quantityExponent(r))}function quantityExponent(r){if(r===0)return 0;var n=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,n)>=10&&n++,n}function nice(r,n){var a=quantityExponent(r),o=Math.pow(10,a),s=r/o,l;return s<1.5?l=1:s<2.5?l=2:s<4?l=3:s<7?l=5:l=10,r=l*o,a>=-20?+r.toFixed(a<0?-a:0):r}function quantile(r,n){var a=(r.length-1)*n+1,o=Math.floor(a),s=+r[o-1],l=a-o;return l?s+l*(r[o]-s):s}function reformIntervals(r){r.sort(function(d,f){return u(d,f,0)?-1:1});for(var n=-1/0,a=1,o=0;o<r.length;){for(var s=r[o].interval,l=r[o].close,c=0;c<2;c++)s[c]<=n&&(s[c]=n,l[c]=c?1:1-a),n=s[c],a=l[c];s[0]===s[1]&&l[0]*l[1]!==1?r.splice(o,1):o++}return r;function u(d,f,v){return d.interval[v]<f.interval[v]||d.interval[v]===f.interval[v]&&(d.close[v]-f.close[v]===(v?-1:1)||!v&&u(d,f,1))}}function numericToNumber(r){var n=parseFloat(r);return n==r&&(n!==0||!isString(r)||r.indexOf("x")<=0)?n:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,n){return n===0?r:getGreatestCommonDividor(n,r%n)}function getLeastCommonMultiple(r,n){return r==null?n:n==null?r:r*n/getGreatestCommonDividor(r,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(r,n,a){if(hasConsole){{if(storedLogs[n])return;storedLogs[n]=!0}console[r](ECHARTS_PREFIX+n)}}function warn(r,n){outputLog("warn",r)}function throwError(r){throw new Error(r)}function interpolateNumber(r,n,a){return(n-r)*a+r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,n,a){if(r){r[n]=r[n]||{},r.emphasis=r.emphasis||{},r.emphasis[n]=r.emphasis[n]||{};for(var o=0,s=a.length;o<s;o++){var l=a[o];!r.emphasis[n].hasOwnProperty(l)&&r[n].hasOwnProperty(l)&&(r.emphasis[n][l]=r[n][l])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$3(r)&&!isArray$1(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$3(r)&&!(r instanceof Array)}function mappingToExists(r,n,a){var o=a==="normalMerge",s=a==="replaceMerge",l=a==="replaceAll";r=r||[],n=(n||[]).slice();var c=createHashMap();each$f(n,function(d,f){if(!isObject$3(d)){n[f]=null;return}});var u=prepareResult(r,c,a);return(o||s)&&mappingById(u,r,c,n),o&&mappingByName(u,n),o||s?mappingByIndex(u,n,s):l&&mappingInReplaceAllMode(u,n),makeIdAndName(u),u}function prepareResult(r,n,a){var o=[];if(a==="replaceAll")return o;for(var s=0;s<r.length;s++){var l=r[s];l&&l.id!=null&&n.set(l.id,s),o.push({existing:a==="replaceMerge"||isComponentIdInternal(l)?null:l,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(r,n,a,o){each$f(o,function(s,l){if(!(!s||s.id==null)){var c=makeComparableKey(s.id),u=a.get(c);if(u!=null){var d=r[u];assert(!d.newOption,'Duplicated option on id "'+c+'".'),d.newOption=s,d.existing=n[u],o[l]=null}}})}function mappingByName(r,n){each$f(n,function(a,o){if(!(!a||a.name==null))for(var s=0;s<r.length;s++){var l=r[s].existing;if(!r[s].newOption&&l&&(l.id==null||a.id==null)&&!isComponentIdInternal(a)&&!isComponentIdInternal(l)&&keyExistAndEqual("name",l,a)){r[s].newOption=a,n[o]=null;return}}})}function mappingByIndex(r,n,a){each$f(n,function(o){if(o){for(var s,l=0;(s=r[l])&&(s.newOption||isComponentIdInternal(s.existing)||s.existing&&o.id!=null&&!keyExistAndEqual("id",o,s.existing));)l++;s?(s.newOption=o,s.brandNew=a):r.push({newOption:o,brandNew:a,existing:null,keyInfo:null}),l++}})}function mappingInReplaceAllMode(r,n){each$f(n,function(a){r.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var n=createHashMap();each$f(r,function(a){var o=a.existing;o&&n.set(o.id,a)}),each$f(r,function(a){var o=a.newOption;assert(!o||o.id==null||!n.get(o.id)||n.get(o.id)===a,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&n.set(o.id,a),!a.keyInfo&&(a.keyInfo={})}),each$f(r,function(a,o){var s=a.existing,l=a.newOption,c=a.keyInfo;if(isObject$3(l)){if(c.name=l.name!=null?makeComparableKey(l.name):s?s.name:DUMMY_COMPONENT_NAME_PREFIX+o,s)c.id=makeComparableKey(s.id);else if(l.id!=null)c.id=makeComparableKey(l.id);else{var u=0;do c.id="\0"+c.name+"\0"+u++;while(n.get(c.id))}n.set(c.id,a)}})}function keyExistAndEqual(r,n,a){var o=convertOptionIdName(n[r],null),s=convertOptionIdName(a[r],null);return o!=null&&s!=null&&o===s}function makeComparableKey(r){return convertOptionIdName(r,"")}function convertOptionIdName(r,n){return r==null?n:isString(r)?r:isNumber(r)||isStringSafe(r)?r+"":n}function isNameSpecified(r){var n=r.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(r){return INTERNAL_COMPONENT_ID_PREFIX+r}function setComponentTypeToKeyInfo(r,n,a){each$f(r,function(o){var s=o.newOption;isObject$3(s)&&(o.keyInfo.mainType=n,o.keyInfo.subType=determineSubType(n,s,o.existing,a))})}function determineSubType(r,n,a,o){var s=n.type?n.type:a?a.subType:o.determineSubType(r,n);return s}function compressBatches(r,n){var a={},o={};return s(r||[],a),s(n||[],o,a),[l(a),l(o)];function s(c,u,d){for(var f=0,v=c.length;f<v;f++){var g=convertOptionIdName(c[f].seriesId,null);if(g==null)return;for(var y=normalizeToArray(c[f].dataIndex),_=d&&d[g],b=0,T=y.length;b<T;b++){var C=y[b];_&&_[C]?_[C]=null:(u[g]||(u[g]={}))[C]=1}}}function l(c,u){var d=[];for(var f in c)if(c.hasOwnProperty(f)&&c[f]!=null)if(u)d.push(+f);else{var v=l(c[f],!0);v.length&&d.push({seriesId:f,dataIndex:v})}return d}}function queryDataIndex(r,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$1(n.dataIndex)?map$1(n.dataIndex,function(a){return r.indexOfRawIndex(a)}):r.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$1(n.name)?map$1(n.name,function(a){return r.indexOfName(a)}):r.indexOfName(n.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(n){return n[r]||(n[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(r,n,a){var o=preParseFinder(n,a),s=o.mainTypeSpecified,l=o.queryOptionMap,c=o.others,u=c,d=a?a.defaultMainType:null;return!s&&d&&l.set(d,{}),l.each(function(f,v){var g=queryReferringComponents(r,v,f,{useDefault:d===v,enableAll:a&&a.enableAll!=null?a.enableAll:!0,enableNone:a&&a.enableNone!=null?a.enableNone:!0});u[v+"Models"]=g.models,u[v+"Model"]=g.models[0]}),u}function preParseFinder(r,n){var a;if(isString(r)){var o={};o[r+"Index"]=0,a=o}else a=r;var s=createHashMap(),l={},c=!1;return each$f(a,function(u,d){if(d==="dataIndex"||d==="dataIndexInside"){l[d]=u;return}var f=d.match(/^(\w+)(Index|Id|Name)$/)||[],v=f[1],g=(f[2]||"").toLowerCase();if(!(!v||!g||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,v)<0)){c=c||!!v;var y=s.get(v)||s.set(v,{});y[g]=u}}),{mainTypeSpecified:c,queryOptionMap:s,others:l}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(r,n,a,o){o=o||SINGLE_REFERRING;var s=a.index,l=a.id,c=a.name,u={models:null,specified:s!=null||l!=null||c!=null};if(!u.specified){var d=void 0;return u.models=o.useDefault&&(d=r.getComponent(n))?[d]:[],u}return s==="none"||s===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):(s==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),s=l=c=null),u.models=r.queryComponents({mainType:n,index:s,id:l,name:c}),u)}function setAttribute(r,n,a){r.setAttribute?r.setAttribute(n,a):r[n]=a}function getAttribute(r,n){return r.getAttribute?r.getAttribute(n):r[n]}function getTooltipRenderMode(r){return r==="auto"?env.domSupported?"html":"richText":r||"html"}function groupData(r,n){var a=createHashMap(),o=[];return each$f(r,function(s){var l=n(s);(a.get(l)||(o.push(l),a.set(l,[]))).push(s)}),{keys:o,buckets:a}}function interpolateRawValues(r,n,a,o,s){var l=n==null||n==="auto";if(o==null)return o;if(isNumber(o)){var c=interpolateNumber(a||0,o,s);return round$3(c,l?Math.max(getPrecision(a||0),getPrecision(o)):n)}else{if(isString(o))return s<1?a:o;for(var u=[],d=a,f=o,v=Math.max(d?d.length:0,f.length),g=0;g<v;++g){var y=r.getDimensionInfo(g);if(y&&y.type==="ordinal")u[g]=(s<1&&d?d:f)[g];else{var _=d&&d[g]?d[g]:0,b=f[g],c=interpolateNumber(_,b,s);u[g]=round$3(c,l?Math.max(getPrecision(_),getPrecision(b)):n)}}return u}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var n={main:"",sub:""};if(r){var a=r.split(TYPE_DELIMITER);n.main=a[0]||"",n.sub=a[1]||""}return n}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,n){r.$constructor=r,r.extend=function(a){var o=this,s;return isESClass(o)?s=function(l){__extends(c,l);function c(){return l.apply(this,arguments)||this}return c}(o):(s=function(){(a.$constructor||o).apply(this,arguments)},inherits(s,this)),extend(s.prototype,a),s[IS_EXTENDED_CLASS]=!0,s.extend=this.extend,s.superCall=superCall,s.superApply=superApply,s.superClass=o,s}}function isESClass(r){return isFunction(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,n){r.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var n=["__\0is_clz",classBase++].join("_");r.prototype[n]=!0,r.isInstance=function(a){return!!(a&&a[n])}}function superCall(r,n){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return this.superClass.prototype[n].apply(r,a)}function superApply(r,n,a){return this.superClass.prototype[n].apply(r,a)}function enableClassManagement(r){var n={};r.registerClass=function(o){var s=o.type||o.prototype.type;if(s){checkClassType(s),o.prototype.type=s;var l=parseClassType(s);if(!l.sub)n[l.main]=o;else if(l.sub!==IS_CONTAINER){var c=a(l);c[l.sub]=o}}return o},r.getClass=function(o,s,l){var c=n[o];if(c&&c[IS_CONTAINER]&&(c=s?c[s]:null),l&&!c)throw new Error(s?"Component "+o+"."+(s||"")+" is used but not imported.":o+".type should be specified.");return c},r.getClassesByMainType=function(o){var s=parseClassType(o),l=[],c=n[s.main];return c&&c[IS_CONTAINER]?each$f(c,function(u,d){d!==IS_CONTAINER&&l.push(u)}):l.push(c),l},r.hasClass=function(o){var s=parseClassType(o);return!!n[s.main]},r.getAllClassMainTypes=function(){var o=[];return each$f(n,function(s,l){o.push(l)}),o},r.hasSubTypes=function(o){var s=parseClassType(o),l=n[s.main];return l&&l[IS_CONTAINER]};function a(o){var s=n[o.main];return(!s||!s[IS_CONTAINER])&&(s=n[o.main]={},s[IS_CONTAINER]=!0),s}}function makeStyleMapper(r,n){for(var a=0;a<r.length;a++)r[a][1]||(r[a][1]=r[a][0]);return n=n||!1,function(o,s,l){for(var c={},u=0;u<r.length;u++){var d=r[u][1];if(!(s&&indexOf(s,d)>=0||l&&indexOf(l,d)<0)){var f=o.getShallow(d,n);f!=null&&(c[r[u][0]]=f)}}return c}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(n,a){return getAreaStyle(this,n,a)},r}(),globalImageCache=new LRU(50);function findExistImage(r){if(typeof r=="string"){var n=globalImageCache.get(r);return n&&n.image}else return r}function createOrUpdateImage(r,n,a,o,s){if(r)if(typeof r=="string"){if(n&&n.__zrImageSrc===r||!a)return n;var l=globalImageCache.get(r),c={hostEl:a,cb:o,cbPayload:s};return l?(n=l.image,!isImageReady(n)&&l.pending.push(c)):(n=platformApi.loadImage(r,imageOnLoad,imageOnLoad),n.__zrImageSrc=r,globalImageCache.put(r,n.__cachedImgObj={image:n,pending:[c]})),n}else return r;else return n}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<r.pending.length;n++){var a=r.pending[n],o=a.cb;o&&o(this,a.cbPayload),a.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(r,n,a,o,s,l){if(!a){r.text="",r.isTruncated=!1;return}var c=(n+"").split(`
`);l=prepareTruncateOptions(a,o,s,l);for(var u=!1,d={},f=0,v=c.length;f<v;f++)truncateSingleLine(d,c[f],l),c[f]=d.textLine,u=u||d.isTruncated;r.text=c.join(`
`),r.isTruncated=u}function prepareTruncateOptions(r,n,a,o){o=o||{};var s=extend({},o);s.font=n,a=retrieve2(a,"..."),s.maxIterations=retrieve2(o.maxIterations,2);var l=s.minChar=retrieve2(o.minChar,0);s.cnCharWidth=getWidth("国",n);var c=s.ascCharWidth=getWidth("a",n);s.placeholder=retrieve2(o.placeholder,"");for(var u=r=Math.max(0,r-1),d=0;d<l&&u>=c;d++)u-=c;var f=getWidth(a,n);return f>u&&(a="",f=0),u=r-f,s.ellipsis=a,s.ellipsisWidth=f,s.contentWidth=u,s.containerWidth=r,s}function truncateSingleLine(r,n,a){var o=a.containerWidth,s=a.font,l=a.contentWidth;if(!o){r.textLine="",r.isTruncated=!1;return}var c=getWidth(n,s);if(c<=o){r.textLine=n,r.isTruncated=!1;return}for(var u=0;;u++){if(c<=l||u>=a.maxIterations){n+=a.ellipsis;break}var d=u===0?estimateLength(n,l,a.ascCharWidth,a.cnCharWidth):c>0?Math.floor(n.length*l/c):0;n=n.substr(0,d),c=getWidth(n,s)}n===""&&(n=a.placeholder),r.textLine=n,r.isTruncated=!0}function estimateLength(r,n,a,o){for(var s=0,l=0,c=r.length;l<c&&s<n;l++){var u=r.charCodeAt(l);s+=0<=u&&u<=127?a:o}return l}function parsePlainText(r,n){r!=null&&(r+="");var a=n.overflow,o=n.padding,s=n.font,l=a==="truncate",c=getLineHeight(s),u=retrieve2(n.lineHeight,c),d=!!n.backgroundColor,f=n.lineOverflow==="truncate",v=!1,g=n.width,y;g!=null&&(a==="break"||a==="breakAll")?y=r?wrapText(r,n.font,g,a==="breakAll",0).lines:[]:y=r?r.split(`
`):[];var _=y.length*u,b=retrieve2(n.height,_);if(_>b&&f){var T=Math.floor(b/u);v=v||y.length>T,y=y.slice(0,T)}if(r&&l&&g!=null)for(var C=prepareTruncateOptions(g,s,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),P={},E=0;E<y.length;E++)truncateSingleLine(P,y[E],C),y[E]=P.textLine,v=v||P.isTruncated;for(var M=b,I=0,E=0;E<y.length;E++)I=Math.max(getWidth(y[E],s),I);g==null&&(g=I);var L=I;return o&&(M+=o[0]+o[2],L+=o[1]+o[3],g+=o[1]+o[3]),d&&(L=g),{lines:y,height:b,outerWidth:L,outerHeight:M,lineHeight:u,calculatedLineHeight:c,contentWidth:I,contentHeight:_,width:g,isTruncated:v}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(n){this.tokens=[],n&&(this.tokens=n)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r}();function parseRichText(r,n){var a=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return a;for(var o=n.width,s=n.height,l=n.overflow,c=(l==="break"||l==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:l==="breakAll"}:null,u=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(r))!=null;){var f=d.index;f>u&&pushTokens(a,r.substring(u,f),n,c),pushTokens(a,d[2],n,c,d[1]),u=STYLE_REG.lastIndex}u<r.length&&pushTokens(a,r.substring(u,r.length),n,c);var v=[],g=0,y=0,_=n.padding,b=l==="truncate",T=n.lineOverflow==="truncate",C={};function P(ve,ce,fe){ve.width=ce,ve.lineHeight=fe,g+=fe,y=Math.max(y,ce)}e:for(var E=0;E<a.lines.length;E++){for(var M=a.lines[E],I=0,L=0,N=0;N<M.tokens.length;N++){var V=M.tokens[N],B=V.styleName&&n.rich[V.styleName]||{},z=V.textPadding=B.padding,G=z?z[1]+z[3]:0,H=V.font=B.font||n.font;V.contentHeight=getLineHeight(H);var W=retrieve2(B.height,V.contentHeight);if(V.innerHeight=W,z&&(W+=z[0]+z[2]),V.height=W,V.lineHeight=retrieve3(B.lineHeight,n.lineHeight,W),V.align=B&&B.align||n.align,V.verticalAlign=B&&B.verticalAlign||"middle",T&&s!=null&&g+V.lineHeight>s){var j=a.lines.length;N>0?(M.tokens=M.tokens.slice(0,N),P(M,L,I),a.lines=a.lines.slice(0,E+1)):a.lines=a.lines.slice(0,E),a.isTruncated=a.isTruncated||a.lines.length<j;break e}var X=B.width,Z=X==null||X==="auto";if(typeof X=="string"&&X.charAt(X.length-1)==="%")V.percentWidth=X,v.push(V),V.contentWidth=getWidth(V.text,H);else{if(Z){var q=B.backgroundColor,le=q&&q.image;le&&(le=findExistImage(le),isImageReady(le)&&(V.width=Math.max(V.width,le.width*W/le.height)))}var ae=b&&o!=null?o-L:null;ae!=null&&ae<V.width?!Z||ae<G?(V.text="",V.width=V.contentWidth=0):(truncateText2(C,V.text,ae-G,H,n.ellipsis,{minChar:n.truncateMinChar}),V.text=C.text,a.isTruncated=a.isTruncated||C.isTruncated,V.width=V.contentWidth=getWidth(V.text,H)):V.contentWidth=getWidth(V.text,H)}V.width+=G,L+=V.width,B&&(I=Math.max(I,V.lineHeight))}P(M,L,I)}a.outerWidth=a.width=retrieve2(o,y),a.outerHeight=a.height=retrieve2(s,g),a.contentHeight=g,a.contentWidth=y,_&&(a.outerWidth+=_[1]+_[3],a.outerHeight+=_[0]+_[2]);for(var E=0;E<v.length;E++){var V=v[E],he=V.percentWidth;V.width=parseInt(he,10)/100*a.width}return a}function pushTokens(r,n,a,o,s){var l=n==="",c=s&&a.rich[s]||{},u=r.lines,d=c.font||a.font,f=!1,v,g;if(o){var y=c.padding,_=y?y[1]+y[3]:0;if(c.width!=null&&c.width!=="auto"){var b=parsePercent$1(c.width,o.width)+_;u.length>0&&b+o.accumWidth>o.width&&(v=n.split(`
`),f=!0),o.accumWidth=b}else{var T=wrapText(n,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=T.accumWidth+_,g=T.linesWidths,v=T.lines}}else v=n.split(`
`);for(var C=0;C<v.length;C++){var P=v[C],E=new RichTextToken;if(E.styleName=s,E.text=P,E.isLineHolder=!P&&!l,typeof c.width=="number"?E.width=c.width:E.width=g?g[C]:getWidth(P,d),!C&&!f){var M=(u[u.length-1]||(u[0]=new RichTextLine)).tokens,I=M.length;I===1&&M[0].isLineHolder?M[0]=E:(P||!I||l)&&M.push(E)}else u.push(new RichTextLine([E]))}}function isAlphabeticLetter(r){var n=r.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(r,n){return r[n]=!0,r},{});function isWordBreakChar(r){return isAlphabeticLetter(r)?!!breakCharMap[r]:!0}function wrapText(r,n,a,o,s){for(var l=[],c=[],u="",d="",f=0,v=0,g=0;g<r.length;g++){var y=r.charAt(g);if(y===`
`){d&&(u+=d,v+=f),l.push(u),c.push(v),u="",d="",f=0,v=0;continue}var _=getWidth(y,n),b=o?!1:!isWordBreakChar(y);if(l.length?v+_>a:s+v+_>a){v?(u||d)&&(b?(u||(u=d,d="",f=0,v=f),l.push(u),c.push(v-f),d+=y,f+=_,u="",v=f):(d&&(u+=d,d="",f=0),l.push(u),c.push(v),u=y,v=_)):b?(l.push(d),c.push(f),d=y,f=_):(l.push(y),c.push(_));continue}v+=_,b?(d+=y,f+=_):(d&&(u+=d,d="",f=0),u+=y)}return!l.length&&!u&&(u=r,d="",f=0),d&&(u+=d),u&&(l.push(u),c.push(v)),l.length===1&&(v+=s),{accumWidth:v,lines:l,linesWidths:c}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype._init=function(a){for(var o=keys(a),s=0;s<o.length;s++){var l=o[s];l==="style"?this.useStyle(a[l]):r.prototype.attrKV.call(this,l,a[l])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(a,o,s,l){var c=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,a,o)||c&&!c[0]&&!c[3])return!1;if(s&&this.__clipPaths){for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1}if(l&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},n.prototype.contain=function(a,o){return this.rectContain(a,o)},n.prototype.traverse=function(a,o){a.call(o,this)},n.prototype.rectContain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();return l.contain(s[0],s[1])},n.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,s=this.getBoundingRect(),l=this.style,c=l.shadowBlur||0,u=l.shadowOffsetX||0,d=l.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),o?BoundingRect.applyTransform(a,s,o):a.copy(s),(c||u||d)&&(a.width+=c*2+Math.abs(u),a.height+=c*2+Math.abs(d),a.x=Math.min(a.x,a.x+u-c),a.y=Math.min(a.y,a.y+d-c));var f=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-f),a.y=Math.floor(a.y-f),a.width=Math.ceil(a.width+1+f*2),a.height=Math.ceil(a.height+1+f*2))}return a},n.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(a){return this.animate("style",a)},n.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(a,o){a!=="style"?r.prototype.attrKV.call(this,a,o):this.style?this.setStyle(o):this.useStyle(o)},n.prototype.setStyle=function(a,o){return typeof a=="string"?this.style[a]=o:extend(this.style,a),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(a){return createObject(DEFAULT_COMMON_STYLE,a)},n.prototype.useStyle=function(a){a[STYLE_MAGIC_KEY]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},n.prototype.isStyleObject=function(a){return a[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(a){r.prototype._innerSaveToNormal.call(this,a);var o=this._normalState;a.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(a,o,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(a,o,s,l,c,u){r.prototype._applyStateObj.call(this,a,o,s,l,c,u);var d=!(o&&l),f;if(o&&o.style?c?l?f=o.style:(f=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(f,o.style)):(f=this._mergeStyle(this.createStyle(),l?this.style:s.style),this._mergeStyle(f,o.style)):d&&(f=s.style),f)if(c){var v=this.style;if(this.style=this.createStyle(d?{}:v),d)for(var g=keys(v),y=0;y<g.length;y++){var _=g[y];_ in f&&(f[_]=f[_],this.style[_]=v[_])}for(var b=keys(f),y=0;y<b.length;y++){var _=b[y];this.style[_]=this.style[_]}this._transitionState(a,{style:f},u,this.getAnimationStyleProps())}else this.useStyle(f);for(var T=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,y=0;y<T.length;y++){var _=T[y];o&&o[_]!=null?this[_]=o[_]:d&&s[_]!=null&&(this[_]=s[_])}},n.prototype._mergeStates=function(a){for(var o=r.prototype._mergeStates.call(this,a),s,l=0;l<a.length;l++){var c=a[l];c.style&&(s=s||{},this._mergeStyle(s,c.style))}return s&&(o.style=s),o},n.prototype._mergeStyle=function(a,o){return extend(a,o),a},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var a=n.prototype;a.type="displayable",a.invisible=!1,a.z=0,a.z2=0,a.zlevel=0,a.culling=!1,a.cursor="pointer",a.rectHover=!1,a.incremental=!1,a._rect=null,a.dirtyRectTolerance=0,a.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(r,n,a){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=n,viewRect.height=a,!tmpRect.intersect(viewRect)}var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(r,n,a){if(r.length!==0){for(var o=r[0],s=o[0],l=o[0],c=o[1],u=o[1],d=1;d<r.length;d++)o=r[d],s=mathMin$9(s,o[0]),l=mathMax$9(l,o[0]),c=mathMin$9(c,o[1]),u=mathMax$9(u,o[1]);n[0]=s,n[1]=c,a[0]=l,a[1]=u}}function fromLine(r,n,a,o,s,l){s[0]=mathMin$9(r,a),s[1]=mathMin$9(n,o),l[0]=mathMax$9(r,a),l[1]=mathMax$9(n,o)}var xDim=[],yDim=[];function fromCubic(r,n,a,o,s,l,c,u,d,f){var v=cubicExtrema,g=cubicAt,y=v(r,a,s,c,xDim);d[0]=1/0,d[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var _=0;_<y;_++){var b=g(r,a,s,c,xDim[_]);d[0]=mathMin$9(b,d[0]),f[0]=mathMax$9(b,f[0])}y=v(n,o,l,u,yDim);for(var _=0;_<y;_++){var T=g(n,o,l,u,yDim[_]);d[1]=mathMin$9(T,d[1]),f[1]=mathMax$9(T,f[1])}d[0]=mathMin$9(r,d[0]),f[0]=mathMax$9(r,f[0]),d[0]=mathMin$9(c,d[0]),f[0]=mathMax$9(c,f[0]),d[1]=mathMin$9(n,d[1]),f[1]=mathMax$9(n,f[1]),d[1]=mathMin$9(u,d[1]),f[1]=mathMax$9(u,f[1])}function fromQuadratic(r,n,a,o,s,l,c,u){var d=quadraticExtremum,f=quadraticAt$1,v=mathMax$9(mathMin$9(d(r,a,s),1),0),g=mathMax$9(mathMin$9(d(n,o,l),1),0),y=f(r,a,s,v),_=f(n,o,l,g);c[0]=mathMin$9(r,s,y),c[1]=mathMin$9(n,l,_),u[0]=mathMax$9(r,s,y),u[1]=mathMax$9(n,l,_)}function fromArc(r,n,a,o,s,l,c,u,d){var f=min$1,v=max$1,g=Math.abs(s-l);if(g%PI2$8<1e-4&&g>1e-4){u[0]=r-a,u[1]=n-o,d[0]=r+a,d[1]=n+o;return}if(start[0]=mathCos$4(s)*a+r,start[1]=mathSin$4(s)*o+n,end[0]=mathCos$4(l)*a+r,end[1]=mathSin$4(l)*o+n,f(u,start,end),v(d,start,end),s=s%PI2$8,s<0&&(s=s+PI2$8),l=l%PI2$8,l<0&&(l=l+PI2$8),s>l&&!c?l+=PI2$8:s<l&&c&&(s+=PI2$8),c){var y=l;l=s,s=y}for(var _=0;_<l;_+=Math.PI/2)_>s&&(extremity[0]=mathCos$4(_)*a+r,extremity[1]=mathSin$4(_)*o+n,f(u,extremity,u),v(d,extremity,d))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(r){var n=Math.round(r/PI$8*1e8)/1e8;return n%2*PI$8}function normalizeArcAngles(r,n){var a=modPI2(r[0]);a<0&&(a+=PI2$7);var o=a-r[0],s=r[1];s+=o,!n&&s-a>=PI2$7?s=a+PI2$7:n&&a-s>=PI2$7?s=a-PI2$7:!n&&a>s?s=a+(PI2$7-modPI2(a-s)):n&&a<s&&(s=a-(PI2$7-modPI2(s-a))),r[0]=a,r[1]=s}var PathProxy=function(){function r(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(n,a,o){o=o||0,o>0&&(this._ux=mathAbs$2(o/devicePixelRatio/n)||0,this._uy=mathAbs$2(o/devicePixelRatio/a)||0)},r.prototype.setDPR=function(n){this.dpr=n},r.prototype.setContext=function(n){this._ctx=n},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(n,a){return this._drawPendingPt(),this.addData(CMD$4.M,n,a),this._ctx&&this._ctx.moveTo(n,a),this._x0=n,this._y0=a,this._xi=n,this._yi=a,this},r.prototype.lineTo=function(n,a){var o=mathAbs$2(n-this._xi),s=mathAbs$2(a-this._yi),l=o>this._ux||s>this._uy;if(this.addData(CMD$4.L,n,a),this._ctx&&l&&this._ctx.lineTo(n,a),l)this._xi=n,this._yi=a,this._pendingPtDist=0;else{var c=o*o+s*s;c>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=a,this._pendingPtDist=c)}return this},r.prototype.bezierCurveTo=function(n,a,o,s,l,c){return this._drawPendingPt(),this.addData(CMD$4.C,n,a,o,s,l,c),this._ctx&&this._ctx.bezierCurveTo(n,a,o,s,l,c),this._xi=l,this._yi=c,this},r.prototype.quadraticCurveTo=function(n,a,o,s){return this._drawPendingPt(),this.addData(CMD$4.Q,n,a,o,s),this._ctx&&this._ctx.quadraticCurveTo(n,a,o,s),this._xi=o,this._yi=s,this},r.prototype.arc=function(n,a,o,s,l,c){this._drawPendingPt(),tmpAngles[0]=s,tmpAngles[1]=l,normalizeArcAngles(tmpAngles,c),s=tmpAngles[0],l=tmpAngles[1];var u=l-s;return this.addData(CMD$4.A,n,a,o,o,s,u,0,c?0:1),this._ctx&&this._ctx.arc(n,a,o,s,l,c),this._xi=mathCos$3(l)*o+n,this._yi=mathSin$3(l)*o+a,this},r.prototype.arcTo=function(n,a,o,s,l){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,a,o,s,l),this},r.prototype.rect=function(n,a,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,a,o,s),this.addData(CMD$4.R,n,a,o,s),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var n=this._ctx,a=this._x0,o=this._y0;return n&&n.closePath(),this._xi=a,this._yi=o,this},r.prototype.fill=function(n){n&&n.fill(),this.toStatic()},r.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(n){var a=n.length;!(this.data&&this.data.length===a)&&hasTypedArray&&(this.data=new Float32Array(a));for(var o=0;o<a;o++)this.data[o]=n[o];this._len=a},r.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var a=n.length,o=0,s=this._len,l=0;l<a;l++)o+=n[l].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+o));for(var l=0;l<a;l++)for(var c=n[l].data,u=0;u<c.length;u++)this.data[s++]=c[u];this._len=s},r.prototype.addData=function(n,a,o,s,l,c,u,d,f){if(this._saveData){var v=this.data;this._len+arguments.length>v.length&&(this._expandData(),v=this.data);for(var g=0;g<arguments.length;g++)v[this._len++]=arguments[g]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],a=0;a<this._len;a++)n[a]=this.data[a];this.data=n}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,a=0,o=0,s=0,l=0,c;for(c=0;c<this._len;){var u=n[c++],d=c===1;switch(d&&(a=n[c],o=n[c+1],s=a,l=o),u){case CMD$4.M:a=s=n[c++],o=l=n[c++],min2[0]=s,min2[1]=l,max2[0]=s,max2[1]=l;break;case CMD$4.L:fromLine(a,o,n[c],n[c+1],min2,max2),a=n[c++],o=n[c++];break;case CMD$4.C:fromCubic(a,o,n[c++],n[c++],n[c++],n[c++],n[c],n[c+1],min2,max2),a=n[c++],o=n[c++];break;case CMD$4.Q:fromQuadratic(a,o,n[c++],n[c++],n[c],n[c+1],min2,max2),a=n[c++],o=n[c++];break;case CMD$4.A:var f=n[c++],v=n[c++],g=n[c++],y=n[c++],_=n[c++],b=n[c++]+_;c+=1;var T=!n[c++];d&&(s=mathCos$3(_)*g+f,l=mathSin$3(_)*y+v),fromArc(f,v,g,y,_,b,T,min2,max2),a=mathCos$3(b)*g+f,o=mathSin$3(b)*y+v;break;case CMD$4.R:s=a=n[c++],l=o=n[c++];var C=n[c++],P=n[c++];fromLine(s,l,s+C,l+P,min2,max2);break;case CMD$4.Z:a=s,o=l;break}min$1(min,min,min2),max$1(max,max,max2)}return c===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},r.prototype._calculateLength=function(){var n=this.data,a=this._len,o=this._ux,s=this._uy,l=0,c=0,u=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,v=0,g=0,y=0;y<a;){var _=n[y++],b=y===1;b&&(l=n[y],c=n[y+1],u=l,d=c);var T=-1;switch(_){case CMD$4.M:l=u=n[y++],c=d=n[y++];break;case CMD$4.L:{var C=n[y++],P=n[y++],E=C-l,M=P-c;(mathAbs$2(E)>o||mathAbs$2(M)>s||y===a-1)&&(T=Math.sqrt(E*E+M*M),l=C,c=P);break}case CMD$4.C:{var I=n[y++],L=n[y++],C=n[y++],P=n[y++],N=n[y++],V=n[y++];T=cubicLength(l,c,I,L,C,P,N,V,10),l=N,c=V;break}case CMD$4.Q:{var I=n[y++],L=n[y++],C=n[y++],P=n[y++];T=quadraticLength(l,c,I,L,C,P,10),l=C,c=P;break}case CMD$4.A:var B=n[y++],z=n[y++],G=n[y++],H=n[y++],W=n[y++],j=n[y++],X=j+W;y+=1,b&&(u=mathCos$3(W)*G+B,d=mathSin$3(W)*H+z),T=mathMax$8(G,H)*mathMin$8(PI2$7,Math.abs(j)),l=mathCos$3(X)*G+B,c=mathSin$3(X)*H+z;break;case CMD$4.R:{u=l=n[y++],d=c=n[y++];var Z=n[y++],q=n[y++];T=Z*2+q*2;break}case CMD$4.Z:{var E=u-l,M=d-c;T=Math.sqrt(E*E+M*M),l=u,c=d;break}}T>=0&&(f[g++]=T,v+=T)}return this._pathLen=v,v},r.prototype.rebuildPath=function(n,a){var o=this.data,s=this._ux,l=this._uy,c=this._len,u,d,f,v,g,y,_=a<1,b,T,C=0,P=0,E,M=0,I,L;if(!(_&&(this._pathSegLen||this._calculateLength(),b=this._pathSegLen,T=this._pathLen,E=a*T,!E)))e:for(var N=0;N<c;){var V=o[N++],B=N===1;switch(B&&(f=o[N],v=o[N+1],u=f,d=v),V!==CMD$4.L&&M>0&&(n.lineTo(I,L),M=0),V){case CMD$4.M:u=f=o[N++],d=v=o[N++],n.moveTo(f,v);break;case CMD$4.L:{g=o[N++],y=o[N++];var z=mathAbs$2(g-f),G=mathAbs$2(y-v);if(z>s||G>l){if(_){var H=b[P++];if(C+H>E){var W=(E-C)/H;n.lineTo(f*(1-W)+g*W,v*(1-W)+y*W);break e}C+=H}n.lineTo(g,y),f=g,v=y,M=0}else{var j=z*z+G*G;j>M&&(I=g,L=y,M=j)}break}case CMD$4.C:{var X=o[N++],Z=o[N++],q=o[N++],le=o[N++],ae=o[N++],he=o[N++];if(_){var H=b[P++];if(C+H>E){var W=(E-C)/H;cubicSubdivide(f,X,q,ae,W,tmpOutX),cubicSubdivide(v,Z,le,he,W,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}C+=H}n.bezierCurveTo(X,Z,q,le,ae,he),f=ae,v=he;break}case CMD$4.Q:{var X=o[N++],Z=o[N++],q=o[N++],le=o[N++];if(_){var H=b[P++];if(C+H>E){var W=(E-C)/H;quadraticSubdivide(f,X,q,W,tmpOutX),quadraticSubdivide(v,Z,le,W,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}C+=H}n.quadraticCurveTo(X,Z,q,le),f=q,v=le;break}case CMD$4.A:var ve=o[N++],ce=o[N++],fe=o[N++],_e=o[N++],Ce=o[N++],Se=o[N++],De=o[N++],ne=!o[N++],pe=fe>_e?fe:_e,de=mathAbs$2(fe-_e)>.001,Te=Ce+Se,we=!1;if(_){var H=b[P++];C+H>E&&(Te=Ce+Se*(E-C)/H,we=!0),C+=H}if(de&&n.ellipse?n.ellipse(ve,ce,fe,_e,De,Ce,Te,ne):n.arc(ve,ce,pe,Ce,Te,ne),we)break e;B&&(u=mathCos$3(Ce)*fe+ve,d=mathSin$3(Ce)*_e+ce),f=mathCos$3(Te)*fe+ve,v=mathSin$3(Te)*_e+ce;break;case CMD$4.R:u=f=o[N],d=v=o[N+1],g=o[N++],y=o[N++];var Ie=o[N++],te=o[N++];if(_){var H=b[P++];if(C+H>E){var oe=E-C;n.moveTo(g,y),n.lineTo(g+mathMin$8(oe,Ie),y),oe-=Ie,oe>0&&n.lineTo(g+Ie,y+mathMin$8(oe,te)),oe-=te,oe>0&&n.lineTo(g+mathMax$8(Ie-oe,0),y+te),oe-=Ie,oe>0&&n.lineTo(g,y+mathMax$8(te-oe,0));break e}C+=H}n.rect(g,y,Ie,te);break;case CMD$4.Z:if(_){var H=b[P++];if(C+H>E){var W=(E-C)/H;n.lineTo(f*(1-W)+u*W,v*(1-W)+d*W);break e}C+=H}n.closePath(),f=u,v=d}}},r.prototype.clone=function(){var n=new r,a=this.data;return n.data=a.slice?a.slice():Array.prototype.slice.call(a),n._len=this._len,n},r.CMD=CMD$4,r.initDefaultProps=function(){var n=r.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),r}();function containStroke$4(r,n,a,o,s,l,c){if(s===0)return!1;var u=s,d=0,f=r;if(c>n+u&&c>o+u||c<n-u&&c<o-u||l>r+u&&l>a+u||l<r-u&&l<a-u)return!1;if(r!==a)d=(n-o)/(r-a),f=(r*o-a*n)/(r-a);else return Math.abs(l-r)<=u/2;var v=d*l-c+f,g=v*v/(d*d+1);return g<=u/2*u/2}function containStroke$3(r,n,a,o,s,l,c,u,d,f,v){if(d===0)return!1;var g=d;if(v>n+g&&v>o+g&&v>l+g&&v>u+g||v<n-g&&v<o-g&&v<l-g&&v<u-g||f>r+g&&f>a+g&&f>s+g&&f>c+g||f<r-g&&f<a-g&&f<s-g&&f<c-g)return!1;var y=cubicProjectPoint(r,n,a,o,s,l,c,u,f,v,null);return y<=g/2}function containStroke$2(r,n,a,o,s,l,c,u,d){if(c===0)return!1;var f=c;if(d>n+f&&d>o+f&&d>l+f||d<n-f&&d<o-f&&d<l-f||u>r+f&&u>a+f&&u>s+f||u<r-f&&u<a-f&&u<s-f)return!1;var v=quadraticProjectPoint(r,n,a,o,s,l,u,d,null);return v<=f/2}var PI2$6=Math.PI*2;function normalizeRadian(r){return r%=PI2$6,r<0&&(r+=PI2$6),r}var PI2$5=Math.PI*2;function containStroke$1(r,n,a,o,s,l,c,u,d){if(c===0)return!1;var f=c;u-=r,d-=n;var v=Math.sqrt(u*u+d*d);if(v-f>a||v+f<a)return!1;if(Math.abs(o-s)%PI2$5<1e-4)return!0;if(l){var g=o;o=normalizeRadian(s),s=normalizeRadian(g)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI2$5);var y=Math.atan2(d,u);return y<0&&(y+=PI2$5),y>=o&&y<=s||y+PI2$5>=o&&y+PI2$5<=s}function windingLine(r,n,a,o,s,l){if(l>n&&l>o||l<n&&l<o||o===n)return 0;var c=(l-n)/(o-n),u=o<n?1:-1;(c===1||c===0)&&(u=o<n?.5:-.5);var d=c*(a-r)+r;return d===s?1/0:d>s?u:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(r,n){return Math.abs(r-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,n,a,o,s,l,c,u,d,f){if(f>n&&f>o&&f>l&&f>u||f<n&&f<o&&f<l&&f<u)return 0;var v=cubicRootAt(n,o,l,u,f,roots);if(v===0)return 0;for(var g=0,y=-1,_=void 0,b=void 0,T=0;T<v;T++){var C=roots[T],P=C===0||C===1?.5:1,E=cubicAt(r,a,s,c,C);E<d||(y<0&&(y=cubicExtrema(n,o,l,u,extrema),extrema[1]<extrema[0]&&y>1&&swapExtrema(),_=cubicAt(n,o,l,u,extrema[0]),y>1&&(b=cubicAt(n,o,l,u,extrema[1]))),y===2?C<extrema[0]?g+=_<n?P:-P:C<extrema[1]?g+=b<_?P:-P:g+=u<b?P:-P:C<extrema[0]?g+=_<n?P:-P:g+=u<_?P:-P)}return g}function windingQuadratic(r,n,a,o,s,l,c,u){if(u>n&&u>o&&u>l||u<n&&u<o&&u<l)return 0;var d=quadraticRootAt(n,o,l,u,roots);if(d===0)return 0;var f=quadraticExtremum(n,o,l);if(f>=0&&f<=1){for(var v=0,g=quadraticAt$1(n,o,l,f),y=0;y<d;y++){var _=roots[y]===0||roots[y]===1?.5:1,b=quadraticAt$1(r,a,s,roots[y]);b<c||(roots[y]<f?v+=g<n?_:-_:v+=l<g?_:-_)}return v}else{var _=roots[0]===0||roots[0]===1?.5:1,b=quadraticAt$1(r,a,s,roots[0]);return b<c?0:l<n?_:-_}}function windingArc(r,n,a,o,s,l,c,u){if(u-=n,u>a||u<-a)return 0;var d=Math.sqrt(a*a-u*u);roots[0]=-d,roots[1]=d;var f=Math.abs(o-s);if(f<1e-4)return 0;if(f>=PI2$4-1e-4){o=0,s=PI2$4;var v=l?1:-1;return c>=roots[0]+r&&c<=roots[1]+r?v:0}if(o>s){var g=o;o=s,s=g}o<0&&(o+=PI2$4,s+=PI2$4);for(var y=0,_=0;_<2;_++){var b=roots[_];if(b+r>c){var T=Math.atan2(u,b),v=l?1:-1;T<0&&(T=PI2$4+T),(T>=o&&T<=s||T+PI2$4>=o&&T+PI2$4<=s)&&(T>Math.PI/2&&T<Math.PI*1.5&&(v=-v),y+=v)}}return y}function containPath(r,n,a,o,s){for(var l=r.data,c=r.len(),u=0,d=0,f=0,v=0,g=0,y,_,b=0;b<c;){var T=l[b++],C=b===1;switch(T===CMD$3.M&&b>1&&(a||(u+=windingLine(d,f,v,g,o,s))),C&&(d=l[b],f=l[b+1],v=d,g=f),T){case CMD$3.M:v=l[b++],g=l[b++],d=v,f=g;break;case CMD$3.L:if(a){if(containStroke$4(d,f,l[b],l[b+1],n,o,s))return!0}else u+=windingLine(d,f,l[b],l[b+1],o,s)||0;d=l[b++],f=l[b++];break;case CMD$3.C:if(a){if(containStroke$3(d,f,l[b++],l[b++],l[b++],l[b++],l[b],l[b+1],n,o,s))return!0}else u+=windingCubic(d,f,l[b++],l[b++],l[b++],l[b++],l[b],l[b+1],o,s)||0;d=l[b++],f=l[b++];break;case CMD$3.Q:if(a){if(containStroke$2(d,f,l[b++],l[b++],l[b],l[b+1],n,o,s))return!0}else u+=windingQuadratic(d,f,l[b++],l[b++],l[b],l[b+1],o,s)||0;d=l[b++],f=l[b++];break;case CMD$3.A:var P=l[b++],E=l[b++],M=l[b++],I=l[b++],L=l[b++],N=l[b++];b+=1;var V=!!(1-l[b++]);y=Math.cos(L)*M+P,_=Math.sin(L)*I+E,C?(v=y,g=_):u+=windingLine(d,f,y,_,o,s);var B=(o-P)*I/M+P;if(a){if(containStroke$1(P,E,I,L,L+N,V,n,B,s))return!0}else u+=windingArc(P,E,I,L,L+N,V,B,s);d=Math.cos(L+N)*M+P,f=Math.sin(L+N)*I+E;break;case CMD$3.R:v=d=l[b++],g=f=l[b++];var z=l[b++],G=l[b++];if(y=v+z,_=g+G,a){if(containStroke$4(v,g,y,g,n,o,s)||containStroke$4(y,g,y,_,n,o,s)||containStroke$4(y,_,v,_,n,o,s)||containStroke$4(v,_,v,g,n,o,s))return!0}else u+=windingLine(y,g,y,_,o,s),u+=windingLine(v,_,v,g,o,s);break;case CMD$3.Z:if(a){if(containStroke$4(d,f,v,g,n,o,s))return!0}else u+=windingLine(d,f,v,g,o,s);d=v,f=g;break}}return!a&&!isAroundEqual$1(f,g)&&(u+=windingLine(d,f,v,g,o,s)||0),u!==0}function contain$2(r,n,a){return containPath(r,0,!1,n,a)}function containStroke(r,n,a,o){return containPath(r,n,!0,a,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.update=function(){var a=this;r.prototype.update.call(this);var o=this.style;if(o.decal){var s=this._decalEl=this._decalEl||new n;s.buildPath===n.prototype.buildPath&&(s.buildPath=function(d){a.buildPath(d,a.shape)}),s.silent=!0;var l=s.style;for(var c in o)l[c]!==o[c]&&(l[c]=o[c]);l.fill=o.fill?o.decal:null,l.decal=null,l.shadowColor=null,o.strokeFirst&&(l.stroke=null);for(var u=0;u<pathCopyParams.length;++u)s[pathCopyParams[u]]=this[pathCopyParams[u]];s.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(a){var o=keys(a);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var l=0;l<o.length;l++){var c=o[l],u=a[c];c==="style"?this.style?extend(this.style,u):this.useStyle(u):c==="shape"?extend(this.shape,u):r.prototype.attrKV.call(this,c,u)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var a=this.style.fill;if(a!=="none"){if(isString(a)){var o=lum(a,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(a)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(a){var o=this.style.fill;if(isString(o)){var s=this.__zr,l=!!(s&&s.isDarkMode()),c=lum(a,0)<DARK_MODE_THRESHOLD;if(l===c)return o}},n.prototype.buildPath=function(a,o,s){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(a){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},n.prototype.hasStroke=function(){var a=this.style,o=a.stroke;return!(o==null||o==="none"||!(a.lineWidth>0))},n.prototype.hasFill=function(){var a=this.style,o=a.fill;return o!=null&&o!=="none"},n.prototype.getBoundingRect=function(){var a=this._rect,o=this.style,s=!a;if(s){var l=!1;this.path||(l=!0,this.createPathProxy());var c=this.path;(l||this.__dirty&SHAPE_CHANGED_BIT)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),a=c.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||s){u.copy(a);var d=o.strokeNoScale?this.getLineScale():1,f=o.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;f=Math.max(f,v??4)}d>1e-10&&(u.width+=f/d,u.height+=f/d,u.x-=f/d/2,u.y-=f/d/2)}return u}return a},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect(),c=this.style;if(a=s[0],o=s[1],l.contain(a,o)){var u=this.path;if(this.hasStroke()){var d=c.lineWidth,f=c.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke(u,d/f,a,o)))return!0}if(this.hasFill())return contain$2(u,a,o)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(a){return this.animate("shape",a)},n.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():a==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(a,o){a==="shape"?this.setShape(o):r.prototype.attrKV.call(this,a,o)},n.prototype.setShape=function(a,o){var s=this.shape;return s||(s=this.shape={}),typeof a=="string"?s[a]=o:extend(s,a),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(a){return createObject(DEFAULT_PATH_STYLE,a)},n.prototype._innerSaveToNormal=function(a){r.prototype._innerSaveToNormal.call(this,a);var o=this._normalState;a.shape&&!o.shape&&(o.shape=extend({},this.shape))},n.prototype._applyStateObj=function(a,o,s,l,c,u){r.prototype._applyStateObj.call(this,a,o,s,l,c,u);var d=!(o&&l),f;if(o&&o.shape?c?l?f=o.shape:(f=extend({},s.shape),extend(f,o.shape)):(f=extend({},l?this.shape:s.shape),extend(f,o.shape)):d&&(f=s.shape),f)if(c){this.shape=extend({},this.shape);for(var v={},g=keys(f),y=0;y<g.length;y++){var _=g[y];typeof f[_]=="object"?this.shape[_]=f[_]:v[_]=f[_]}this._transitionState(a,{shape:v},u)}else this.shape=f,this.dirtyShape()},n.prototype._mergeStates=function(a){for(var o=r.prototype._mergeStates.call(this,a),s,l=0;l<a.length;l++){var c=a[l];c.shape&&(s=s||{},this._mergeStyle(s,c.shape))}return s&&(o.shape=s),o},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(a){var o=function(l){__extends(c,l);function c(u){var d=l.call(this,u)||this;return a.init&&a.init.call(d,u),d}return c.prototype.getDefaultStyle=function(){return clone$4(a.style)},c.prototype.getDefaultShape=function(){return clone$4(a.shape)},c}(n);for(var s in a)typeof a[s]=="function"&&(o.prototype[s]=a[s]);return o},n.initDefaultProps=function(){var a=n.prototype;a.type="path",a.strokeContainThreshold=5,a.segmentIgnoreThreshold=0,a.subPixelOptimize=!1,a.autoBatch=!1,a.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var a=this.style,o=a.stroke;return o!=null&&o!=="none"&&a.lineWidth>0},n.prototype.hasFill=function(){var a=this.style,o=a.fill;return o!=null&&o!=="none"},n.prototype.createStyle=function(a){return createObject(DEFAULT_TSPAN_STYLE,a)},n.prototype.setBoundingRect=function(a){this._rect=a},n.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var o=a.text;o!=null?o+="":o="";var s=getBoundingRect(o,a.font,a.textAlign,a.textBaseline);if(s.x+=a.x||0,s.y+=a.y||0,this.hasStroke()){var l=a.lineWidth;s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l}this._rect=s}return this._rect},n.initDefaultProps=function(){var a=n.prototype;a.dirtyRectTolerance=10}(),n}(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.createStyle=function(a){return createObject(DEFAULT_IMAGE_STYLE,a)},n.prototype._getSize=function(a){var o=this.style,s=o[a];if(s!=null)return s;var l=isImageLike$1(o.image)?o.image:this.__image;if(!l)return 0;var c=a==="width"?"height":"width",u=o[c];return u==null?l[a]:l[a]/l[c]*u},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new BoundingRect(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable);ZRImage.prototype.type="image";function buildPath$2(r,n){var a=n.x,o=n.y,s=n.width,l=n.height,c=n.r,u,d,f,v;s<0&&(a=a+s,s=-s),l<0&&(o=o+l,l=-l),typeof c=="number"?u=d=f=v=c:c instanceof Array?c.length===1?u=d=f=v=c[0]:c.length===2?(u=f=c[0],d=v=c[1]):c.length===3?(u=c[0],d=v=c[1],f=c[2]):(u=c[0],d=c[1],f=c[2],v=c[3]):u=d=f=v=0;var g;u+d>s&&(g=u+d,u*=s/g,d*=s/g),f+v>s&&(g=f+v,f*=s/g,v*=s/g),d+f>l&&(g=d+f,d*=l/g,f*=l/g),u+v>l&&(g=u+v,u*=l/g,v*=l/g),r.moveTo(a+u,o),r.lineTo(a+s-d,o),d!==0&&r.arc(a+s-d,o+d,d,-Math.PI/2,0),r.lineTo(a+s,o+l-f),f!==0&&r.arc(a+s-f,o+l-f,f,0,Math.PI/2),r.lineTo(a+v,o+l),v!==0&&r.arc(a+v,o+l-v,v,Math.PI/2,Math.PI),r.lineTo(a,o+u),u!==0&&r.arc(a+u,o+u,u,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(r,n,a){if(n){var o=n.x1,s=n.x2,l=n.y1,c=n.y2;r.x1=o,r.x2=s,r.y1=l,r.y2=c;var u=a&&a.lineWidth;return u&&(round$2(o*2)===round$2(s*2)&&(r.x1=r.x2=subPixelOptimize$1(o,u,!0)),round$2(l*2)===round$2(c*2)&&(r.y1=r.y2=subPixelOptimize$1(l,u,!0))),r}}function subPixelOptimizeRect$1(r,n,a){if(n){var o=n.x,s=n.y,l=n.width,c=n.height;r.x=o,r.y=s,r.width=l,r.height=c;var u=a&&a.lineWidth;return u&&(r.x=subPixelOptimize$1(o,u,!0),r.y=subPixelOptimize$1(s,u,!0),r.width=Math.max(subPixelOptimize$1(o+l,u,!1)-r.x,l===0?0:1),r.height=Math.max(subPixelOptimize$1(s+c,u,!1)-r.y,c===0?0:1)),r}}function subPixelOptimize$1(r,n,a){if(!n)return r;var o=round$2(r*2);return(o+round$2(n))%2===0?o/2:(o+(a?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape$1={},Rect$2=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(a,o){var s,l,c,u;if(this.subPixelOptimize){var d=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);s=d.x,l=d.y,c=d.width,u=d.height,d.r=o.r,o=d}else s=o.x,l=o.y,c=o.width,u=o.height;o.r?buildPath$2(a,o):a.rect(s,l,c,u)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path);Rect$2.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(a),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var a=0;a<this._children.length;a++){var o=this._children[a];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},n.prototype.updateTransform=function(){var a=this.innerTransformable;a?(a.updateTransform(),a.transform&&(this.transform=a.transform)):r.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(a){var o=this.innerTransformable;return o?o.getLocalTransform(a):r.prototype.getLocalTransform.call(this,a)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(a){r.prototype.addSelfToZr.call(this,a);for(var o=0;o<this._children.length;o++)this._children[o].__zr=a},n.prototype.removeSelfFromZr=function(a){r.prototype.removeSelfFromZr.call(this,a);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new BoundingRect(0,0,0,0),o=this._children,s=[],l=null,c=0;c<o.length;c++){var u=o[c],d=u.getBoundingRect(),f=u.getLocalTransform(s);f?(a.copy(d),a.applyTransform(f),l=l||a.clone(),l.union(a)):(l=l||d.clone(),l.union(d))}this._rect=l||a}return this._rect},n.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(a){},n.prototype._mergeStyle=function(a,o){if(!o)return a;var s=o.rich,l=a.rich||s&&{};return extend(a,o),s&&l?(this._mergeRich(l,s),a.rich=l):l&&(a.rich=l),a},n.prototype._mergeRich=function(a,o){for(var s=keys(o),l=0;l<s.length;l++){var c=s[l];a[c]=a[c]||{},extend(a[c],o[c])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(a){var o=this._children[this._childCursor];return(!o||!(o instanceof a))&&(o=new a),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},n.prototype._updatePlainTexts=function(){var a=this.style,o=a.font||DEFAULT_FONT,s=a.padding,l=getStyleText(a),c=parsePlainText(l,a),u=needDrawBackground(a),d=!!a.backgroundColor,f=c.outerHeight,v=c.outerWidth,g=c.contentWidth,y=c.lines,_=c.lineHeight,b=this._defaultStyle;this.isTruncated=!!c.isTruncated;var T=a.x||0,C=a.y||0,P=a.align||b.align||"left",E=a.verticalAlign||b.verticalAlign||"top",M=T,I=adjustTextY(C,c.contentHeight,E);if(u||s){var L=adjustTextX(T,v,P),N=adjustTextY(C,f,E);u&&this._renderBackground(a,a,L,N,v,f)}I+=_/2,s&&(M=getTextXForPadding(T,P,s),E==="top"?I+=s[0]:E==="bottom"&&(I-=s[2]));for(var V=0,B=!1,z=getFill("fill"in a?a.fill:(B=!0,b.fill)),G=getStroke("stroke"in a?a.stroke:!d&&(!b.autoStroke||B)?(V=DEFAULT_STROKE_LINE_WIDTH,b.stroke):null),H=a.textShadowBlur>0,W=a.width!=null&&(a.overflow==="truncate"||a.overflow==="break"||a.overflow==="breakAll"),j=c.calculatedLineHeight,X=0;X<y.length;X++){var Z=this._getOrCreateChild(TSpan),q=Z.createStyle();Z.useStyle(q),q.text=y[X],q.x=M,q.y=I,P&&(q.textAlign=P),q.textBaseline="middle",q.opacity=a.opacity,q.strokeFirst=!0,H&&(q.shadowBlur=a.textShadowBlur||0,q.shadowColor=a.textShadowColor||"transparent",q.shadowOffsetX=a.textShadowOffsetX||0,q.shadowOffsetY=a.textShadowOffsetY||0),q.stroke=G,q.fill=z,G&&(q.lineWidth=a.lineWidth||V,q.lineDash=a.lineDash,q.lineDashOffset=a.lineDashOffset||0),q.font=o,setSeparateFont(q,a),I+=_,W&&Z.setBoundingRect(new BoundingRect(adjustTextX(q.x,g,q.textAlign),adjustTextY(q.y,j,q.textBaseline),g,j))}},n.prototype._updateRichTexts=function(){var a=this.style,o=getStyleText(a),s=parseRichText(o,a),l=s.width,c=s.outerWidth,u=s.outerHeight,d=a.padding,f=a.x||0,v=a.y||0,g=this._defaultStyle,y=a.align||g.align,_=a.verticalAlign||g.verticalAlign;this.isTruncated=!!s.isTruncated;var b=adjustTextX(f,c,y),T=adjustTextY(v,u,_),C=b,P=T;d&&(C+=d[3],P+=d[0]);var E=C+l;needDrawBackground(a)&&this._renderBackground(a,a,b,T,c,u);for(var M=!!a.backgroundColor,I=0;I<s.lines.length;I++){for(var L=s.lines[I],N=L.tokens,V=N.length,B=L.lineHeight,z=L.width,G=0,H=C,W=E,j=V-1,X=void 0;G<V&&(X=N[G],!X.align||X.align==="left");)this._placeToken(X,a,B,P,H,"left",M),z-=X.width,H+=X.width,G++;for(;j>=0&&(X=N[j],X.align==="right");)this._placeToken(X,a,B,P,W,"right",M),z-=X.width,W-=X.width,j--;for(H+=(l-(H-C)-(E-W)-z)/2;G<=j;)X=N[G],this._placeToken(X,a,B,P,H+X.width/2,"center",M),H+=X.width,G++;P+=B}},n.prototype._placeToken=function(a,o,s,l,c,u,d){var f=o.rich[a.styleName]||{};f.text=a.text;var v=a.verticalAlign,g=l+s/2;v==="top"?g=l+a.height/2:v==="bottom"&&(g=l+s-a.height/2);var y=!a.isLineHolder&&needDrawBackground(f);y&&this._renderBackground(f,o,u==="right"?c-a.width:u==="center"?c-a.width/2:c,g-a.height/2,a.width,a.height);var _=!!f.backgroundColor,b=a.textPadding;b&&(c=getTextXForPadding(c,u,b),g-=a.height/2-b[0]-a.innerHeight/2);var T=this._getOrCreateChild(TSpan),C=T.createStyle();T.useStyle(C);var P=this._defaultStyle,E=!1,M=0,I=getFill("fill"in f?f.fill:"fill"in o?o.fill:(E=!0,P.fill)),L=getStroke("stroke"in f?f.stroke:"stroke"in o?o.stroke:!_&&!d&&(!P.autoStroke||E)?(M=DEFAULT_STROKE_LINE_WIDTH,P.stroke):null),N=f.textShadowBlur>0||o.textShadowBlur>0;C.text=a.text,C.x=c,C.y=g,N&&(C.shadowBlur=f.textShadowBlur||o.textShadowBlur||0,C.shadowColor=f.textShadowColor||o.textShadowColor||"transparent",C.shadowOffsetX=f.textShadowOffsetX||o.textShadowOffsetX||0,C.shadowOffsetY=f.textShadowOffsetY||o.textShadowOffsetY||0),C.textAlign=u,C.textBaseline="middle",C.font=a.font||DEFAULT_FONT,C.opacity=retrieve3(f.opacity,o.opacity,1),setSeparateFont(C,f),L&&(C.lineWidth=retrieve3(f.lineWidth,o.lineWidth,M),C.lineDash=retrieve2(f.lineDash,o.lineDash),C.lineDashOffset=o.lineDashOffset||0,C.stroke=L),I&&(C.fill=I);var V=a.contentWidth,B=a.contentHeight;T.setBoundingRect(new BoundingRect(adjustTextX(C.x,V,C.textAlign),adjustTextY(C.y,B,C.textBaseline),V,B))},n.prototype._renderBackground=function(a,o,s,l,c,u){var d=a.backgroundColor,f=a.borderWidth,v=a.borderColor,g=d&&d.image,y=d&&!g,_=a.borderRadius,b=this,T,C;if(y||a.lineHeight||f&&v){T=this._getOrCreateChild(Rect$2),T.useStyle(T.createStyle()),T.style.fill=null;var P=T.shape;P.x=s,P.y=l,P.width=c,P.height=u,P.r=_,T.dirtyShape()}if(y){var E=T.style;E.fill=d||null,E.fillOpacity=retrieve2(a.fillOpacity,1)}else if(g){C=this._getOrCreateChild(ZRImage),C.onload=function(){b.dirtyStyle()};var M=C.style;M.image=d.image,M.x=s,M.y=l,M.width=c,M.height=u}if(f&&v){var E=T.style;E.lineWidth=f,E.stroke=v,E.strokeOpacity=retrieve2(a.strokeOpacity,1),E.lineDash=a.borderDash,E.lineDashOffset=a.borderDashOffset||0,T.strokeContainThreshold=0,T.hasFill()&&T.hasStroke()&&(E.strokeFirst=!0,E.lineWidth*=2)}var I=(T||C).style;I.shadowBlur=a.shadowBlur||0,I.shadowColor=a.shadowColor||"transparent",I.shadowOffsetX=a.shadowOffsetX||0,I.shadowOffsetY=a.shadowOffsetY||0,I.opacity=retrieve3(a.opacity,o.opacity,1)},n.makeFont=function(a){var o="";return hasSeparateFont(a)&&(o=[a.fontStyle,a.fontWeight,parseFontSize(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),o&&trim$1(o)||a.textFont||a.font},n}(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,n){for(var a=0;a<FONT_PARTS.length;a++){var o=FONT_PARTS[a],s=n[o];s!=null&&(r[o]=s)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$f(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var n=r.align;n==="middle"&&(n="center"),r.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var a=r.verticalAlign;a==="center"&&(a="middle"),r.verticalAlign=a==null||VALID_TEXT_VERTICAL_ALIGN[a]?a:"top";var o=r.padding;o&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,n){return r==null||n<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,n,a){return n==="right"?r-a[1]:n==="center"?r+a[3]/2-a[1]/2:r+a[3]}function getStyleText(r){var n=r.text;return n!=null&&(n+=""),n}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var getECData=makeInner(),setCommonECData=function(r,n,a,o){if(o){var s=getECData(o);s.dataIndex=a,s.dataType=n,s.seriesIndex=r,s.ssrType="chart",o.type==="group"&&o.traverse(function(l){var c=getECData(l);c.seriesIndex=r,c.dataIndex=a,c.dataType=n,c.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}function doChangeHoverState(r,n,a){r.onHoverStateChange&&(r.hoverState||0)!==a&&r.onHoverStateChange(n),r.hoverState=a}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,n,a){n(r,a)}function traverseUpdateState(r,n,a){updateElementState(r,n,a),r.isGroup&&r.traverse(function(o){updateElementState(o,n,a)})}function setStatesFlag(r,n){switch(n){case"emphasis":r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":r.hoverState=HOVER_STATE_NORMAL;break;case"blur":r.hoverState=HOVER_STATE_BLUR;break;case"select":r.selected=!0}}function getFromStateStyle(r,n,a,o){for(var s=r.style,l={},c=0;c<n.length;c++){var u=n[c],d=s[u];l[u]=d??(o&&o[u])}for(var c=0;c<r.animators.length;c++){var f=r.animators[c];f.__fromStateTransition&&f.__fromStateTransition.indexOf(a)<0&&f.targetName==="style"&&f.saveTo(l,n)}return l}function createEmphasisDefaultState(r,n,a,o){var s=a&&indexOf(a,"select")>=0,l=!1;if(r instanceof Path){var c=getSavedStates(r),u=s&&c.selectFill||c.normalFill,d=s&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(u)||hasFillOrStroke(d)){o=o||{};var f=o.style||{};f.fill==="inherit"?(l=!0,o=extend({},o),f=extend({},f),f.fill=u):!hasFillOrStroke(f.fill)&&hasFillOrStroke(u)?(l=!0,o=extend({},o),f=extend({},f),f.fill=liftColor(u)):!hasFillOrStroke(f.stroke)&&hasFillOrStroke(d)&&(l||(o=extend({},o),f=extend({},f)),f.stroke=liftColor(d)),o.style=f}}if(o&&o.z2==null){l||(o=extend({},o));var v=r.z2EmphasisLift;o.z2=r.z2+(v??Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(r,n,a){if(a&&a.z2==null){a=extend({},a);var o=r.z2SelectLift;a.z2=r.z2+(o??Z2_SELECT_LIFT)}return a}function createBlurDefaultState(r,n,a){var o=indexOf(r.currentStates,n)>=0,s=r.style.opacity,l=o?null:getFromStateStyle(r,["opacity"],n,{opacity:1});a=a||{};var c=a.style||{};return c.opacity==null&&(a=extend({},a),c=extend({opacity:o?s:l.opacity*.1},c),a.style=c),a}function elementStateProxy(r,n){var a=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,n,a);if(r==="blur")return createBlurDefaultState(this,r,a);if(r==="select")return createSelectDefaultState(this,r,a)}return a}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var n=r.getTextContent(),a=r.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),a&&(a.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,n){r.__highByOuter|=1<<(n||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,n){!(r.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,n){return r.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(r){var n=r.getModel(),a=[],o=[];n.eachComponent(function(s,l){var c=getComponentStates(l),u=s==="series",d=u?r.getViewOfSeriesModel(l):r.getViewOfComponentModel(l);!u&&o.push(d),c.isBlured&&(d.group.traverse(function(f){singleLeaveBlur(f)}),u&&a.push(l)),c.isBlured=!1}),each$f(o,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(a,!1,n)})}function blurSeries(r,n,a,o){var s=o.getModel();a=a||"coordinateSystem";function l(f,v){for(var g=0;g<v.length;g++){var y=f.getItemGraphicEl(v[g]);y&&leaveBlur(y)}}if(r!=null&&!(!n||n==="none")){var c=s.getSeriesByIndex(r),u=c.coordinateSystem;u&&u.master&&(u=u.master);var d=[];s.eachSeries(function(f){var v=c===f,g=f.coordinateSystem;g&&g.master&&(g=g.master);var y=g&&u?g===u:v;if(!(a==="series"&&!v||a==="coordinateSystem"&&!y||n==="series"&&v)){var _=o.getViewOfSeriesModel(f);if(_.group.traverse(function(C){C.__highByOuter&&v&&n==="self"||singleEnterBlur(C)}),isArrayLike(n))l(f.getData(),n);else if(isObject$3(n))for(var b=keys(n),T=0;T<b.length;T++)l(f.getData(b[T]),n[b[T]]);d.push(f),getComponentStates(f).isBlured=!0}}),s.eachComponent(function(f,v){if(f!=="series"){var g=o.getViewOfComponentModel(v);g&&g.toggleBlurSeries&&g.toggleBlurSeries(d,!0,s)}})}}function blurComponent(r,n,a){if(!(r==null||n==null)){var o=a.getModel().getComponent(r,n);if(o){getComponentStates(o).isBlured=!0;var s=a.getViewOfComponentModel(o);!s||!s.focusBlurEnabled||s.group.traverse(function(l){singleEnterBlur(l)})}}}function blurSeriesFromHighlightPayload(r,n,a){var o=r.seriesIndex,s=r.getData(n.dataType);if(s){var l=queryDataIndex(s,n);l=(isArray$1(l)?l[0]:l)||0;var c=s.getItemGraphicEl(l);if(!c)for(var u=s.count(),d=0;!c&&d<u;)c=s.getItemGraphicEl(d++);if(c){var f=getECData(c);blurSeries(o,f.focus,f.blurScope,a)}else{var v=r.get(["emphasis","focus"]),g=r.get(["emphasis","blurScope"]);v!=null&&blurSeries(o,v,g,a)}}}function findComponentHighDownDispatchers(r,n,a,o){var s={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||n==null||a==null)return s;var l=o.getModel().getComponent(r,n);if(!l)return s;var c=o.getViewOfComponentModel(l);if(!c||!c.findHighDownDispatchers)return s;for(var u=c.findHighDownDispatchers(a),d,f=0;f<u.length;f++)if(getECData(u[f]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:u}}function handleGlobalMouseOverForHighDown(r,n,a){var o=getECData(r),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,a),l=s.dispatchers,c=s.focusSelf;l?(c&&blurComponent(o.componentMainType,o.componentIndex,a),each$f(l,function(u){return enterEmphasisWhenMouseOver(u,n)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,a),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,a),enterEmphasisWhenMouseOver(r,n))}function handleGlobalMouseOutForHighDown(r,n,a){allLeaveBlur(a);var o=getECData(r),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,a).dispatchers;s?each$f(s,function(l){return leaveEmphasisWhenMouseOut(l,n)}):leaveEmphasisWhenMouseOut(r,n)}function toggleSelectionFromPayload(r,n,a){if(isSelectChangePayload(n)){var o=n.dataType,s=r.getData(o),l=queryDataIndex(s,n);isArray$1(l)||(l=[l]),r[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](l,o)}}function updateSeriesElementSelection(r){var n=r.getAllData();each$f(n,function(a){var o=a.data,s=a.type;o.eachItemGraphicEl(function(l,c){r.isSelected(c,s)?enterSelect(l):leaveSelect(l)})})}function getAllSelectedIndices(r){var n=[];return r.eachSeries(function(a){var o=a.getAllData();each$f(o,function(s){s.data;var l=s.type,c=a.getSelectedDataIndices();if(c.length>0){var u={dataIndex:c,seriesIndex:a.seriesIndex};l!=null&&(u.dataType=l),n.push(u)}})}),n}function enableHoverEmphasis(r,n,a){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,n,a)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,n,a,o){o?disableHoverEmphasis(r):enableHoverEmphasis(r,n,a)}function enableHoverFocus(r,n,a){var o=getECData(r);n!=null?(o.focus=n,o.blurScope=a):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,n,a,o){a=a||"itemStyle";for(var s=0;s<OTHER_STATES.length;s++){var l=OTHER_STATES[s],c=n.getModel([l,a]),u=r.ensureState(l);u.style=o?o(c):c[defaultStyleGetterMap[a]]()}}function setAsHighDownDispatcher(r,n){var a=n===!1,o=r;r.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!a||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!a)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function enableComponentHighDownFeatures(r,n,a){var o=getECData(r);o.componentMainType=n.mainType,o.componentIndex=n.componentIndex,o.componentHighDownName=a}function getHighlightDigit(r){var n=_highlightKeyMap[r];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[r]=_highlightNextDigit++),n}function isSelectChangePayload(r){var n=r.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var n=r.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var n=getSavedStates(r);n.normalFill=r.style.fill,n.normalStroke=r.style.stroke;var a=r.states.select||{};n.selectFill=a.style&&a.style.fill||null,n.selectStroke=a.style&&a.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,n){if(n){var a=r.data,o=r.len(),s,l,c,u,d,f,v=CMD$2.M,g=CMD$2.C,y=CMD$2.L,_=CMD$2.R,b=CMD$2.A,T=CMD$2.Q;for(c=0,u=0;c<o;){switch(s=a[c++],u=c,l=0,s){case v:l=1;break;case y:l=1;break;case g:l=3;break;case T:l=2;break;case b:var C=n[4],P=n[5],E=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),M=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),I=mathAtan2(-n[1]/M,n[0]/E);a[c]*=E,a[c++]+=C,a[c]*=M,a[c++]+=P,a[c++]*=E,a[c++]*=M,a[c++]+=I,a[c++]+=I,c+=2,u=c;break;case _:f[0]=a[c++],f[1]=a[c++],applyTransform$1(f,f,n),a[u++]=f[0],a[u++]=f[1],f[0]+=a[c++],f[1]+=a[c++],applyTransform$1(f,f,n),a[u++]=f[0],a[u++]=f[1]}for(d=0;d<l;d++){var L=points$2[d];L[0]=a[c++],L[1]=a[c++],applyTransform$1(L,L,n),a[u++]=L[0],a[u++]=L[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,n){return(r[0]*n[0]+r[1]*n[1])/(vMag(r)*vMag(n))}function vAngle(r,n){return(r[0]*n[1]<r[1]*n[0]?-1:1)*Math.acos(vRatio(r,n))}function processArc(r,n,a,o,s,l,c,u,d,f,v){var g=d*(PI$7/180),y=mathCos$2(g)*(r-a)/2+mathSin$2(g)*(n-o)/2,_=-1*mathSin$2(g)*(r-a)/2+mathCos$2(g)*(n-o)/2,b=y*y/(c*c)+_*_/(u*u);b>1&&(c*=mathSqrt$1(b),u*=mathSqrt$1(b));var T=(s===l?-1:1)*mathSqrt$1((c*c*(u*u)-c*c*(_*_)-u*u*(y*y))/(c*c*(_*_)+u*u*(y*y)))||0,C=T*c*_/u,P=T*-u*y/c,E=(r+a)/2+mathCos$2(g)*C-mathSin$2(g)*P,M=(n+o)/2+mathSin$2(g)*C+mathCos$2(g)*P,I=vAngle([1,0],[(y-C)/c,(_-P)/u]),L=[(y-C)/c,(_-P)/u],N=[(-1*y-C)/c,(-1*_-P)/u],V=vAngle(L,N);if(vRatio(L,N)<=-1&&(V=PI$7),vRatio(L,N)>=1&&(V=0),V<0){var B=Math.round(V/PI$7*1e6)/1e6;V=PI$7*2+B%2*PI$7}v.addData(f,E,M,c,u,I,V,g,l)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var n=new PathProxy;if(!r)return n;var a=0,o=0,s=a,l=o,c,u=PathProxy.CMD,d=r.match(commandReg);if(!d)return n;for(var f=0;f<d.length;f++){for(var v=d[f],g=v.charAt(0),y=void 0,_=v.match(numberReg$1)||[],b=_.length,T=0;T<b;T++)_[T]=parseFloat(_[T]);for(var C=0;C<b;){var P=void 0,E=void 0,M=void 0,I=void 0,L=void 0,N=void 0,V=void 0,B=a,z=o,G=void 0,H=void 0;switch(g){case"l":a+=_[C++],o+=_[C++],y=u.L,n.addData(y,a,o);break;case"L":a=_[C++],o=_[C++],y=u.L,n.addData(y,a,o);break;case"m":a+=_[C++],o+=_[C++],y=u.M,n.addData(y,a,o),s=a,l=o,g="l";break;case"M":a=_[C++],o=_[C++],y=u.M,n.addData(y,a,o),s=a,l=o,g="L";break;case"h":a+=_[C++],y=u.L,n.addData(y,a,o);break;case"H":a=_[C++],y=u.L,n.addData(y,a,o);break;case"v":o+=_[C++],y=u.L,n.addData(y,a,o);break;case"V":o=_[C++],y=u.L,n.addData(y,a,o);break;case"C":y=u.C,n.addData(y,_[C++],_[C++],_[C++],_[C++],_[C++],_[C++]),a=_[C-2],o=_[C-1];break;case"c":y=u.C,n.addData(y,_[C++]+a,_[C++]+o,_[C++]+a,_[C++]+o,_[C++]+a,_[C++]+o),a+=_[C-2],o+=_[C-1];break;case"S":P=a,E=o,G=n.len(),H=n.data,c===u.C&&(P+=a-H[G-4],E+=o-H[G-3]),y=u.C,B=_[C++],z=_[C++],a=_[C++],o=_[C++],n.addData(y,P,E,B,z,a,o);break;case"s":P=a,E=o,G=n.len(),H=n.data,c===u.C&&(P+=a-H[G-4],E+=o-H[G-3]),y=u.C,B=a+_[C++],z=o+_[C++],a+=_[C++],o+=_[C++],n.addData(y,P,E,B,z,a,o);break;case"Q":B=_[C++],z=_[C++],a=_[C++],o=_[C++],y=u.Q,n.addData(y,B,z,a,o);break;case"q":B=_[C++]+a,z=_[C++]+o,a+=_[C++],o+=_[C++],y=u.Q,n.addData(y,B,z,a,o);break;case"T":P=a,E=o,G=n.len(),H=n.data,c===u.Q&&(P+=a-H[G-4],E+=o-H[G-3]),a=_[C++],o=_[C++],y=u.Q,n.addData(y,P,E,a,o);break;case"t":P=a,E=o,G=n.len(),H=n.data,c===u.Q&&(P+=a-H[G-4],E+=o-H[G-3]),a+=_[C++],o+=_[C++],y=u.Q,n.addData(y,P,E,a,o);break;case"A":M=_[C++],I=_[C++],L=_[C++],N=_[C++],V=_[C++],B=a,z=o,a=_[C++],o=_[C++],y=u.A,processArc(B,z,a,o,N,V,M,I,L,y,n);break;case"a":M=_[C++],I=_[C++],L=_[C++],N=_[C++],V=_[C++],B=a,z=o,a+=_[C++],o+=_[C++],y=u.A,processArc(B,z,a,o,N,V,M,I,L,y,n);break}}(g==="z"||g==="Z")&&(y=u.Z,n.addData(y),a=s,o=l),c=y}return n.toStatic(),n}var SVGPath=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.applyTransform=function(a){},n}(Path);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,n){var a=createPathProxyFromString(r),o=extend({},n);return o.buildPath=function(s){if(isPathProxy(s)){s.setData(a.data);var l=s.getContext();l&&s.rebuildPath(l,1)}else{var l=s;a.rebuildPath(l,1)}},o.applyTransform=function(s){transformPath(a,s),this.dirtyShape()},o}function createFromString(r,n){return new SVGPath(createPathOptions(r,n))}function extendFromString(r,n){var a=createPathOptions(r,n),o=function(s){__extends(l,s);function l(c){var u=s.call(this,c)||this;return u.applyTransform=a.applyTransform,u.buildPath=a.buildPath,u}return l}(SVGPath);return o}function mergePath$1(r,n){for(var a=[],o=r.length,s=0;s<o;s++){var l=r[s];a.push(l.getUpdatedPathProxy(!0))}var c=new Path(n);return c.createPathProxy(),c.buildPath=function(u){if(isPathProxy(u)){u.appendPath(a);var d=u.getContext();d&&u.rebuildPath(d,1)}},c}function clonePath(r,n){n=n||{};var a=new Path;return r.shape&&a.setShape(r.shape),a.setStyle(r.style),n.bakeTransform?transformPath(a.path,r.getComputedTransform()):n.toLocal?a.setLocalTransform(r.getComputedTransform()):a.copyTransform(r),a.buildPath=r.buildPath,a.applyTransform=a.applyTransform,a.z=r.z,a.z2=r.z2,a.zlevel=r.zlevel,a}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(a,o){a.moveTo(o.cx+o.r,o.cy),a.arc(o.cx,o.cy,o.r,0,Math.PI*2)},n}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(a,o){var s=.5522848,l=o.cx,c=o.cy,u=o.rx,d=o.ry,f=u*s,v=d*s;a.moveTo(l-u,c),a.bezierCurveTo(l-u,c-v,l-f,c-d,l,c-d),a.bezierCurveTo(l+f,c-d,l+u,c-v,l+u,c),a.bezierCurveTo(l+u,c+v,l+f,c+d,l,c+d),a.bezierCurveTo(l-f,c+d,l-u,c+v,l-u,c),a.closePath()},n}(Path);Ellipse.prototype.type="ellipse";var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(r,n,a,o,s,l,c,u){var d=a-r,f=o-n,v=c-s,g=u-l,y=g*d-v*f;if(!(y*y<e))return y=(v*(n-l)-g*(r-s))/y,[r+y*d,n+y*f]}function computeCornerTangents(r,n,a,o,s,l,c){var u=r-a,d=n-o,f=(c?l:-l)/mathSqrt(u*u+d*d),v=f*d,g=-f*u,y=r+v,_=n+g,b=a+v,T=o+g,C=(y+b)/2,P=(_+T)/2,E=b-y,M=T-_,I=E*E+M*M,L=s-l,N=y*T-b*_,V=(M<0?-1:1)*mathSqrt(mathMax$7(0,L*L*I-N*N)),B=(N*M-E*V)/I,z=(-N*E-M*V)/I,G=(N*M+E*V)/I,H=(-N*E+M*V)/I,W=B-C,j=z-P,X=G-C,Z=H-P;return W*W+j*j>X*X+Z*Z&&(B=G,z=H),{cx:B,cy:z,x0:-v,y0:-g,x1:B*(s/L-1),y1:z*(s/L-1)}}function normalizeCornerRadius(r){var n;if(isArray$1(r)){var a=r.length;if(!a)return r;a===1?n=[r[0],r[0],0,0]:a===2?n=[r[0],r[0],r[1],r[1]]:a===3?n=r.concat(r[2]):n=r}else n=[r,r,r,r];return n}function buildPath$1(r,n){var a,o=mathMax$7(n.r,0),s=mathMax$7(n.r0||0,0),l=o>0,c=s>0;if(!(!l&&!c)){if(l||(o=s,s=0),s>o){var u=o;o=s,s=u}var d=n.startAngle,f=n.endAngle;if(!(isNaN(d)||isNaN(f))){var v=n.cx,g=n.cy,y=!!n.clockwise,_=mathAbs$1(f-d),b=_>PI2$3&&_%PI2$3;if(b>e&&(_=b),!(o>e))r.moveTo(v,g);else if(_>PI2$3-e)r.moveTo(v+o*mathCos$1(d),g+o*mathSin$1(d)),r.arc(v,g,o,d,f,!y),s>e&&(r.moveTo(v+s*mathCos$1(f),g+s*mathSin$1(f)),r.arc(v,g,s,f,d,y));else{var T=void 0,C=void 0,P=void 0,E=void 0,M=void 0,I=void 0,L=void 0,N=void 0,V=void 0,B=void 0,z=void 0,G=void 0,H=void 0,W=void 0,j=void 0,X=void 0,Z=o*mathCos$1(d),q=o*mathSin$1(d),le=s*mathCos$1(f),ae=s*mathSin$1(f),he=_>e;if(he){var ve=n.cornerRadius;ve&&(a=normalizeCornerRadius(ve),T=a[0],C=a[1],P=a[2],E=a[3]);var ce=mathAbs$1(o-s)/2;if(M=mathMin$7(ce,P),I=mathMin$7(ce,E),L=mathMin$7(ce,T),N=mathMin$7(ce,C),z=V=mathMax$7(M,I),G=B=mathMax$7(L,N),(V>e||B>e)&&(H=o*mathCos$1(f),W=o*mathSin$1(f),j=s*mathCos$1(d),X=s*mathSin$1(d),_<PI$6)){var fe=intersect(Z,q,j,X,H,W,le,ae);if(fe){var _e=Z-fe[0],Ce=q-fe[1],Se=H-fe[0],De=W-fe[1],ne=1/mathSin$1(mathACos((_e*Se+Ce*De)/(mathSqrt(_e*_e+Ce*Ce)*mathSqrt(Se*Se+De*De)))/2),pe=mathSqrt(fe[0]*fe[0]+fe[1]*fe[1]);z=mathMin$7(V,(o-pe)/(ne+1)),G=mathMin$7(B,(s-pe)/(ne-1))}}}if(!he)r.moveTo(v+Z,g+q);else if(z>e){var de=mathMin$7(P,z),Te=mathMin$7(E,z),we=computeCornerTangents(j,X,Z,q,o,de,y),Ie=computeCornerTangents(H,W,le,ae,o,Te,y);r.moveTo(v+we.cx+we.x0,g+we.cy+we.y0),z<V&&de===Te?r.arc(v+we.cx,g+we.cy,z,mathATan2(we.y0,we.x0),mathATan2(Ie.y0,Ie.x0),!y):(de>0&&r.arc(v+we.cx,g+we.cy,de,mathATan2(we.y0,we.x0),mathATan2(we.y1,we.x1),!y),r.arc(v,g,o,mathATan2(we.cy+we.y1,we.cx+we.x1),mathATan2(Ie.cy+Ie.y1,Ie.cx+Ie.x1),!y),Te>0&&r.arc(v+Ie.cx,g+Ie.cy,Te,mathATan2(Ie.y1,Ie.x1),mathATan2(Ie.y0,Ie.x0),!y))}else r.moveTo(v+Z,g+q),r.arc(v,g,o,d,f,!y);if(!(s>e)||!he)r.lineTo(v+le,g+ae);else if(G>e){var de=mathMin$7(T,G),Te=mathMin$7(C,G),we=computeCornerTangents(le,ae,H,W,s,-Te,y),Ie=computeCornerTangents(Z,q,j,X,s,-de,y);r.lineTo(v+we.cx+we.x0,g+we.cy+we.y0),G<B&&de===Te?r.arc(v+we.cx,g+we.cy,G,mathATan2(we.y0,we.x0),mathATan2(Ie.y0,Ie.x0),!y):(Te>0&&r.arc(v+we.cx,g+we.cy,Te,mathATan2(we.y0,we.x0),mathATan2(we.y1,we.x1),!y),r.arc(v,g,s,mathATan2(we.cy+we.y1,we.cx+we.x1),mathATan2(Ie.cy+Ie.y1,Ie.cx+Ie.x1),y),de>0&&r.arc(v+Ie.cx,g+Ie.cy,de,mathATan2(Ie.y1,Ie.x1),mathATan2(Ie.y0,Ie.x0),!y))}else r.lineTo(v+le,g+ae),r.arc(v,g,s,f,d,y)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(a,o){buildPath$1(a,o)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path);Sector.prototype.type="sector";var RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,c=Math.PI*2;a.moveTo(s+o.r,l),a.arc(s,l,o.r,0,c,!1),a.moveTo(s+o.r0,l),a.arc(s,l,o.r0,0,c,!0)},n}(Path);Ring.prototype.type="ring";function smoothBezier(r,n,a,o){var s=[],l=[],c=[],u=[],d,f,v,g;if(o){v=[1/0,1/0],g=[-1/0,-1/0];for(var y=0,_=r.length;y<_;y++)min$1(v,v,r[y]),max$1(g,g,r[y]);min$1(v,v,o[0]),max$1(g,g,o[1])}for(var y=0,_=r.length;y<_;y++){var b=r[y];if(a)d=r[y?y-1:_-1],f=r[(y+1)%_];else if(y===0||y===_-1){s.push(clone$3(r[y]));continue}else d=r[y-1],f=r[y+1];sub(l,f,d),scale$2(l,l,n);var T=distance(b,d),C=distance(b,f),P=T+C;P!==0&&(T/=P,C/=P),scale$2(c,l,-T),scale$2(u,l,C);var E=add([],b,c),M=add([],b,u);o&&(max$1(E,E,v),min$1(E,E,g),max$1(M,M,v),min$1(M,M,g)),s.push(E),s.push(M)}return a&&s.push(s.shift()),s}function buildPath(r,n,a){var o=n.smooth,s=n.points;if(s&&s.length>=2){if(o){var l=smoothBezier(s,o,a,n.smoothConstraint);r.moveTo(s[0][0],s[0][1]);for(var c=s.length,u=0;u<(a?c:c-1);u++){var d=l[u*2],f=l[u*2+1],v=s[(u+1)%c];r.bezierCurveTo(d[0],d[1],f[0],f[1],v[0],v[1])}}else{r.moveTo(s[0][0],s[0][1]);for(var u=1,g=s.length;u<g;u++)r.lineTo(s[u][0],s[u][1])}a&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(a,o){buildPath(a,o,!0)},n}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline$1=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(a,o){buildPath(a,o,!1)},n}(Path);Polyline$1.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line$1=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(a,o){var s,l,c,u;if(this.subPixelOptimize){var d=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);s=d.x1,l=d.y1,c=d.x2,u=d.y2}else s=o.x1,l=o.y1,c=o.x2,u=o.y2;var f=o.percent;f!==0&&(a.moveTo(s,l),f<1&&(c=s*(1-f)+c*f,u=l*(1-f)+u*f),a.lineTo(c,u))},n.prototype.pointAt=function(a){var o=this.shape;return[o.x1*(1-a)+o.x2*a,o.y1*(1-a)+o.y2*a]},n}(Path);Line$1.prototype.type="line";var out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,n,a){var o=r.cpx2,s=r.cpy2;return o!=null||s!=null?[(a?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,n),(a?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,n)]:[(a?quadraticDerivativeAt:quadraticAt$1)(r.x1,r.cpx1,r.x2,n),(a?quadraticDerivativeAt:quadraticAt$1)(r.y1,r.cpy1,r.y2,n)]}var BezierCurve=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(a,o){var s=o.x1,l=o.y1,c=o.x2,u=o.y2,d=o.cpx1,f=o.cpy1,v=o.cpx2,g=o.cpy2,y=o.percent;y!==0&&(a.moveTo(s,l),v==null||g==null?(y<1&&(quadraticSubdivide(s,d,c,y,out),d=out[1],c=out[2],quadraticSubdivide(l,f,u,y,out),f=out[1],u=out[2]),a.quadraticCurveTo(d,f,c,u)):(y<1&&(cubicSubdivide(s,d,v,c,y,out),d=out[1],v=out[2],c=out[3],cubicSubdivide(l,f,g,u,y,out),f=out[1],g=out[2],u=out[3]),a.bezierCurveTo(d,f,v,g,c,u)))},n.prototype.pointAt=function(a){return someVectorAt(this.shape,a,!1)},n.prototype.tangentAt=function(a){var o=someVectorAt(this.shape,a,!0);return normalize$3(o,o)},n}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,c=Math.max(o.r,0),u=o.startAngle,d=o.endAngle,f=o.clockwise,v=Math.cos(u),g=Math.sin(u);a.moveTo(v*c+s,g*c+l),a.arc(s,l,c,u,d,!f)},n}(Path);Arc.prototype.type="arc";var CompoundPath=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="compound",a}return n.prototype._updatePathDirty=function(){for(var a=this.shape.paths,o=this.shapeChanged(),s=0;s<a.length;s++)o=o||a[s].shapeChanged();o&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],o=this.getGlobalScale(),s=0;s<a.length;s++)a[s].path||a[s].createPathProxy(),a[s].path.setScale(o[0],o[1],a[s].segmentIgnoreThreshold)},n.prototype.buildPath=function(a,o){for(var s=o.paths||[],l=0;l<s.length;l++)s[l].buildPath(a,s[l].shape,!0)},n.prototype.afterBrush=function(){for(var a=this.shape.paths||[],o=0;o<a.length;o++)a[o].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},n}(Path),Gradient=function(){function r(n){this.colorStops=n||[]}return r.prototype.addColorStop=function(n,a){this.colorStops.push({offset:n,color:a})},r}(),LinearGradient=function(r){__extends(n,r);function n(a,o,s,l,c,u){var d=r.call(this,c)||this;return d.x=a??0,d.y=o??0,d.x2=s??1,d.y2=l??0,d.type="linear",d.global=u||!1,d}return n}(Gradient),RadialGradient=function(r){__extends(n,r);function n(a,o,s,l,c){var u=r.call(this,l)||this;return u.x=a??.5,u.y=o??.5,u.r=s??.5,u.type="radial",u.global=c||!1,u}return n}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function r(n,a){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point;for(var o=0;o<2;o++)this._axes[o]=new Point;n&&this.fromBoundingRect(n,a)}return r.prototype.fromBoundingRect=function(n,a){var o=this._corners,s=this._axes,l=n.x,c=n.y,u=l+n.width,d=c+n.height;if(o[0].set(l,c),o[1].set(u,c),o[2].set(u,d),o[3].set(l,d),a)for(var f=0;f<4;f++)o[f].transform(a);Point.sub(s[0],o[1],o[0]),Point.sub(s[1],o[3],o[0]),s[0].normalize(),s[1].normalize();for(var f=0;f<2;f++)this._origin[f]=s[f].dot(o[0])},r.prototype.intersect=function(n,a){var o=!0,s=!a;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,s,1)&&(o=!1,s)||!this._intersectCheckOneSide(n,this,minTv,maxTv,s,-1)&&(o=!1,s)||s||Point.copy(a,o?minTv:maxTv),o},r.prototype._intersectCheckOneSide=function(n,a,o,s,l,c){for(var u=!0,d=0;d<2;d++){var f=this._axes[d];if(this._getProjMinMaxOnAxis(d,n._corners,extent),this._getProjMinMaxOnAxis(d,a._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(u=!1,l)return u;var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)>s.len()&&(v<g?Point.scale(s,f,-v*c):Point.scale(s,f,g*c))}else if(o){var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)<o.len()&&(v<g?Point.scale(o,f,v*c):Point.scale(o,f,-g*c))}}return u},r.prototype._getProjMinMaxOnAxis=function(n,a,o){for(var s=this._axes[n],l=this._origin,c=a[0].dot(s)+l[n],u=c,d=c,f=1;f<a.length;f++){var v=a[f].dot(s)+l[n];u=Math.min(v,u),d=Math.max(v,d)}o[0]=u,o[1]=d},r}(),m=[],IncrementalDisplayable=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.notClear=!0,a.incremental=!0,a._displayables=[],a._temporaryDisplayables=[],a._cursor=0,a}return n.prototype.traverse=function(a,o){a.call(o,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(a,o){o?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},n.prototype.addDisplayables=function(a,o){o=o||!1;for(var s=0;s<a.length;s++)this.addDisplayable(a[s],o)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(a){for(var o=this._cursor;o<this._displayables.length;o++)a&&a(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)a&&a(this._temporaryDisplayables[o])},n.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var o=this._displayables[a];o.parent=this,o.update(),o.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var o=this._temporaryDisplayables[a];o.parent=this,o.update(),o.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new BoundingRect(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var s=this._displayables[o],l=s.getBoundingRect().clone();s.needLocalTransform()&&l.applyTransform(s.getLocalTransform(m)),a.union(l)}this._rect=a}return this._rect},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(l.contain(s[0],s[1]))for(var c=0;c<this._displayables.length;c++){var u=this._displayables[c];if(u.contain(a,o))return!0}return!1},n}(Displayable),transitionStore=makeInner();function getAnimationConfig(r,n,a,o,s){var l;if(n&&n.ecModel){var c=n.ecModel.getUpdatePayload();l=c&&c.animation}var u=n&&n.isAnimationEnabled(),d=r==="update";if(u){var f=void 0,v=void 0,g=void 0;o?(f=retrieve2(o.duration,200),v=retrieve2(o.easing,"cubicOut"),g=0):(f=n.getShallow(d?"animationDurationUpdate":"animationDuration"),v=n.getShallow(d?"animationEasingUpdate":"animationEasing"),g=n.getShallow(d?"animationDelayUpdate":"animationDelay")),l&&(l.duration!=null&&(f=l.duration),l.easing!=null&&(v=l.easing),l.delay!=null&&(g=l.delay)),isFunction(g)&&(g=g(a,s)),isFunction(f)&&(f=f(a));var y={duration:f||0,delay:g,easing:v};return y}else return null}function animateOrSetProps(r,n,a,o,s,l,c){var u=!1,d;isFunction(s)?(c=l,l=s,s=null):isObject$3(s)&&(l=s.cb,c=s.during,u=s.isFrom,d=s.removeOpt,s=s.dataIndex);var f=r==="leave";f||n.stopAnimation("leave");var v=getAnimationConfig(r,o,s,f?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(n,s):null);if(v&&v.duration>0){var g=v.duration,y=v.delay,_=v.easing,b={duration:g,delay:y||0,easing:_,done:l,force:!!l||!!c,setToFinal:!f,scope:r,during:c};u?n.animateFrom(a,b):n.animateTo(a,b)}else n.stopAnimation(),!u&&n.attr(a),c&&c(1),l&&l()}function updateProps$1(r,n,a,o,s,l){animateOrSetProps("update",r,n,a,o,s,l)}function initProps(r,n,a,o,s,l){animateOrSetProps("enter",r,n,a,o,s,l)}function isElementRemoved(r){if(!r.__zr)return!0;for(var n=0;n<r.animators.length;n++){var a=r.animators[n];if(a.scope==="leave")return!0}return!1}function removeElement(r,n,a,o,s,l){isElementRemoved(r)||animateOrSetProps("leave",r,n,a,o,s,l)}function fadeOutDisplayable(r,n,a,o){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},n,a,o)}function removeElementWithFadeOut(r,n,a){function o(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(s){s.isGroup||fadeOutDisplayable(s,n,a,o)}):fadeOutDisplayable(r,n,a,o)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}function getOldStyle(r){return transitionStore(r).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(r){return Path.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,n){return extendPathFromString(r,n)}function registerShape(r,n){_customShapeMap[r]=n}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,n,a,o){var s=createFromString(r,n);return a&&(o==="center"&&(a=centerGraphic(a,s.getBoundingRect())),resizePath(s,a)),s}function makeImage(r,n,a){var o=new ZRImage({style:{image:r,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(s){if(a==="center"){var l={width:s.width,height:s.height};o.setStyle(centerGraphic(n,l))}}});return o}function centerGraphic(r,n){var a=n.width/n.height,o=r.height*a,s;o<=r.width?s=r.height:(o=r.width,s=o/a);var l=r.x+r.width/2,c=r.y+r.height/2;return{x:l-o/2,y:c-s/2,width:o,height:s}}var mergePath=mergePath$1;function resizePath(r,n){if(r.applyTransform){var a=r.getBoundingRect(),o=a.calculateTransform(n);r.applyTransform(o)}}function subPixelOptimizeLine(r,n){return subPixelOptimizeLine$1(r,r,{lineWidth:n}),r}function subPixelOptimizeRect(r){return subPixelOptimizeRect$1(r.shape,r.shape,r.style),r}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(r,n){for(var a=identity([]);r&&r!==n;)mul(a,r.getLocalTransform(),a),r=r.parent;return a}function applyTransform(r,n,a){return n&&!isArrayLike(n)&&(n=Transformable.getLocalTransform(n)),a&&(n=invert([],n)),applyTransform$1([],r,n)}function transformDirection(r,n,a){var o=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),s=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),l=[r==="left"?-o:r==="right"?o:0,r==="top"?-s:r==="bottom"?s:0];return l=applyTransform(l,n,a),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath$1(r){return r.shape!=null}function groupTransition(r,n,a){if(!r||!n)return;function o(c){var u={};return c.traverse(function(d){isNotGroup(d)&&d.anid&&(u[d.anid]=d)}),u}function s(c){var u={x:c.x,y:c.y,rotation:c.rotation};return isPath$1(c)&&(u.shape=extend({},c.shape)),u}var l=o(r);n.traverse(function(c){if(isNotGroup(c)&&c.anid){var u=l[c.anid];if(u){var d=s(c);c.attr(s(u)),updateProps$1(c,d,a,getECData(c).dataIndex)}}})}function clipPointsByRect(r,n){return map$1(r,function(a){var o=a[0];o=mathMax$6(o,n.x),o=mathMin$6(o,n.x+n.width);var s=a[1];return s=mathMax$6(s,n.y),s=mathMin$6(s,n.y+n.height),[o,s]})}function clipRectByRect(r,n){var a=mathMax$6(r.x,n.x),o=mathMin$6(r.x+r.width,n.x+n.width),s=mathMax$6(r.y,n.y),l=mathMin$6(r.y+r.height,n.y+n.height);if(o>=a&&l>=s)return{x:a,y:s,width:o-a,height:l-s}}function createIcon(r,n,a){var o=extend({rectHover:!0},n),s=o.style={strokeNoScale:!0};if(a=a||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(s.image=r.slice(8),defaults(s,a),new ZRImage(o)):makePath(r.replace("path://",""),o,a,"center")}function linePolygonIntersect(r,n,a,o,s){for(var l=0,c=s[s.length-1];l<s.length;l++){var u=s[l];if(lineLineIntersect$1(r,n,a,o,u[0],u[1],c[0],c[1]))return!0;c=u}}function lineLineIntersect$1(r,n,a,o,s,l,c,u){var d=a-r,f=o-n,v=c-s,g=u-l,y=crossProduct2d$1(v,g,d,f);if(nearZero(y))return!1;var _=r-s,b=n-l,T=crossProduct2d$1(_,b,d,f)/y;if(T<0||T>1)return!1;var C=crossProduct2d$1(_,b,v,g)/y;return!(C<0||C>1)}function crossProduct2d$1(r,n,a,o){return r*o-a*n}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var n=r.itemTooltipOption,a=r.componentModel,o=r.itemName,s=isString(n)?{formatter:n}:n,l=a.mainType,c=a.componentIndex,u={componentType:l,name:o,$vars:["name"]};u[l+"Index"]=c;var d=r.formatterParamsExtra;d&&each$f(keys(d),function(v){hasOwn(u,v)||(u[v]=d[v],u.$vars.push(v))});var f=getECData(r.el);f.componentMainType=l,f.componentIndex=c,f.tooltipConfig={name:o,option:defaults({content:o,encodeHTMLContent:!0,formatterParams:u},s)}}function traverseElement(r,n){var a;r.isGroup&&(a=n(r)),a||r.traverse(n)}function traverseElements(r,n){if(r)if(isArray$1(r))for(var a=0;a<r.length;a++)traverseElement(r[a],n);else traverseElement(r,n)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$1);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$1,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(r,n){for(var a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a],s=n[o],l=r.ensureState(o);l.style=l.style||{},l.style.text=s}var c=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:n.normal}),r.useStates(c,!0)}function getLabelText(r,n,a){var o=r.labelFetcher,s=r.labelDataIndex,l=r.labelDimIndex,c=n.normal,u;o&&(u=o.getFormattedLabel(s,"normal",null,l,c&&c.get("formatter"),a!=null?{interpolatedValue:a}:null)),u==null&&(u=isFunction(r.defaultText)?r.defaultText(s,r,a):r.defaultText);for(var d={normal:u},f=0;f<SPECIAL_STATES.length;f++){var v=SPECIAL_STATES[f],g=n[v];d[v]=retrieve2(o?o.getFormattedLabel(s,v,null,l,g&&g.get("formatter")):null,u)}return d}function setLabelStyle(r,n,a,o){a=a||EMPTY_OBJ;for(var s=r instanceof ZRText,l=!1,c=0;c<DISPLAY_STATES.length;c++){var u=n[DISPLAY_STATES[c]];if(u&&u.getShallow("show")){l=!0;break}}var d=s?r:r.getTextContent();if(l){s||(d||(d=new ZRText,r.setTextContent(d)),r.stateProxy&&(d.stateProxy=r.stateProxy));var f=getLabelText(a,n),v=n.normal,g=!!v.getShallow("show"),y=createTextStyle(v,o&&o.normal,a,!1,!s);y.text=f.normal,s||r.setTextConfig(createTextConfig(v,a,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var _=SPECIAL_STATES[c],u=n[_];if(u){var b=d.ensureState(_),T=!!retrieve2(u.getShallow("show"),g);if(T!==g&&(b.ignore=!T),b.style=createTextStyle(u,o&&o[_],a,!0,!s),b.style.text=f[_],!s){var C=r.ensureState(_);C.textConfig=createTextConfig(u,a,!0)}}}d.silent=!!v.getShallow("silent"),d.style.x!=null&&(y.x=d.style.x),d.style.y!=null&&(y.y=d.style.y),d.ignore=!g,d.useStyle(y),d.dirty(),a.enableTextSetter&&(labelInner(d).setLabelText=function(P){var E=getLabelText(a,n,P);setLabelText(d,E)})}else d&&(d.ignore=!0);r.dirty()}function getLabelStatesModels(r,n){n=n||"label";for(var a={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];a[s]=r.getModel([s,n])}return a}function createTextStyle(r,n,a,o,s){var l={};return setTextStyleCommon(l,r,a,o,s),n&&extend(l,n),l}function createTextConfig(r,n,a){n=n||{};var o={},s,l=r.getShallow("rotate"),c=retrieve2(r.getShallow("distance"),a?null:5),u=r.getShallow("offset");return s=r.getShallow("position")||(a?null:"inside"),s==="outside"&&(s=n.defaultOutsidePosition||"top"),s!=null&&(o.position=s),u!=null&&(o.offset=u),l!=null&&(l*=Math.PI/180,o.rotation=l),c!=null&&(o.distance=c),o.outsideFill=r.get("color")==="inherit"?n.inheritColor||null:"auto",o}function setTextStyleCommon(r,n,a,o,s){a=a||EMPTY_OBJ;var l=n.ecModel,c=l&&l.option.textStyle,u=getRichItemNames(n),d;if(u){d={};for(var f in u)if(u.hasOwnProperty(f)){var v=n.getModel(["rich",f]);setTokenTextStyle(d[f]={},v,c,a,o,s,!1,!0)}}d&&(r.rich=d);var g=n.get("overflow");g&&(r.overflow=g);var y=n.get("minMargin");y!=null&&(r.margin=y),setTokenTextStyle(r,n,c,a,o,s,!0,!1)}function getRichItemNames(r){for(var n;r&&r!==r.ecModel;){var a=(r.option||EMPTY_OBJ).rich;if(a){n=n||{};for(var o=keys(a),s=0;s<o.length;s++){var l=o[s];n[l]=1}}r=r.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,n,a,o,s,l,c,u){a=!s&&a||EMPTY_OBJ;var d=o&&o.inheritColor,f=n.getShallow("color"),v=n.getShallow("textBorderColor"),g=retrieve2(n.getShallow("opacity"),a.opacity);(f==="inherit"||f==="auto")&&(d?f=d:f=null),(v==="inherit"||v==="auto")&&(d?v=d:v=null),l||(f=f||a.color,v=v||a.textBorderColor),f!=null&&(r.fill=f),v!=null&&(r.stroke=v);var y=retrieve2(n.getShallow("textBorderWidth"),a.textBorderWidth);y!=null&&(r.lineWidth=y);var _=retrieve2(n.getShallow("textBorderType"),a.textBorderType);_!=null&&(r.lineDash=_);var b=retrieve2(n.getShallow("textBorderDashOffset"),a.textBorderDashOffset);b!=null&&(r.lineDashOffset=b),!s&&g==null&&!u&&(g=o&&o.defaultOpacity),g!=null&&(r.opacity=g),!s&&!l&&r.fill==null&&o.inheritColor&&(r.fill=o.inheritColor);for(var T=0;T<TEXT_PROPS_WITH_GLOBAL.length;T++){var C=TEXT_PROPS_WITH_GLOBAL[T],P=retrieve2(n.getShallow(C),a[C]);P!=null&&(r[C]=P)}for(var T=0;T<TEXT_PROPS_SELF.length;T++){var C=TEXT_PROPS_SELF[T],P=n.getShallow(C);P!=null&&(r[C]=P)}if(r.verticalAlign==null){var E=n.getShallow("baseline");E!=null&&(r.verticalAlign=E)}if(!c||!o.disableBox){for(var T=0;T<TEXT_PROPS_BOX.length;T++){var C=TEXT_PROPS_BOX[T],P=n.getShallow(C);P!=null&&(r[C]=P)}var M=n.getShallow("borderType");M!=null&&(r.borderDash=M),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&d&&(r.backgroundColor=d),(r.borderColor==="auto"||r.borderColor==="inherit")&&d&&(r.borderColor=d)}}function getFont(r,n){var a=n&&n.getModel("textStyle");return trim$1([r.fontStyle||a&&a.getShallow("fontStyle")||"",r.fontWeight||a&&a.getShallow("fontWeight")||"",(r.fontSize||a&&a.getShallow("fontSize")||12)+"px",r.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(r,n,a,o){if(r){var s=labelInner(r);s.prevValue=s.value,s.value=a;var l=n.normal;s.valueAnimation=l.get("valueAnimation"),s.valueAnimation&&(s.precision=l.get("precision"),s.defaultInterpolatedText=o,s.statesModels=n)}}function animateLabelValue(r,n,a,o,s){var l=labelInner(r);if(!l.valueAnimation||l.prevValue===l.value)return;var c=l.defaultInterpolatedText,u=retrieve2(l.interpolatedValue,l.prevValue),d=l.value;function f(v){var g=interpolateRawValues(a,l.precision,u,d,v);l.interpolatedValue=v===1?null:g;var y=getLabelText({labelDataIndex:n,labelFetcher:s,defaultText:c?c(g):g+""},l.statesModels,g);setLabelText(r,y)}r.percent=0,(l.prevValue==null?initProps:updateProps$1)(r,{percent:1},o,n,null,f)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(n){var a=this.ecModel;return this.getShallow("color")||(!n&&a?a.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(n){for(var a={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)a[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(a),tmpText.update(),tmpText.getBoundingRect()},r}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(n){return getLineStyle(this,n)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(n,a){return getItemStyle(this,n,a)},r}(),Model=function(){function r(n,a,o){this.parentModel=a,this.ecModel=o,this.option=n}return r.prototype.init=function(n,a,o){},r.prototype.mergeOption=function(n,a){merge(this.option,n,!0)},r.prototype.get=function(n,a){return n==null?this.option:this._doGet(this.parsePath(n),!a&&this.parentModel)},r.prototype.getShallow=function(n,a){var o=this.option,s=o==null?o:o[n];if(s==null&&!a){var l=this.parentModel;l&&(s=l.getShallow(n))}return s},r.prototype.getModel=function(n,a){var o=n!=null,s=o?this.parsePath(n):null,l=o?this._doGet(s):this.option;return a=a||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),new r(l,a,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var n=this.constructor;return new n(clone$4(this.option))},r.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},r.prototype.resolveParentPath=function(n){return n},r.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(n,a){var o=this.option;if(!n)return o;for(var s=0;s<n.length&&!(n[s]&&(o=o&&typeof o=="object"?o[n[s]]:null,o==null));s++);return o==null&&a&&(o=a._doGet(this.resolveParentPath(n),a.parentModel)),o},r}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base=Math.round(Math.random()*10);function getUID(r){return[r||"",base++].join("_")}function enableSubTypeDefaulter(r){var n={};r.registerSubTypeDefaulter=function(a,o){var s=parseClassType(a);n[s.main]=o},r.determineSubType=function(a,o){var s=o.type;if(!s){var l=parseClassType(a).main;r.hasSubTypes(a)&&n[l]&&(s=n[l](o))}return s}}function enableTopologicalTravel(r,n){r.topologicalTravel=function(l,c,u,d){if(!l.length)return;var f=a(c),v=f.graph,g=f.noEntryList,y={};for(each$f(l,function(E){y[E]=!0});g.length;){var _=g.pop(),b=v[_],T=!!y[_];T&&(u.call(d,_,b.originalDeps.slice()),delete y[_]),each$f(b.successor,T?P:C)}each$f(y,function(){var E="";throw new Error(E)});function C(E){v[E].entryCount--,v[E].entryCount===0&&g.push(E)}function P(E){y[E]=!0,C(E)}};function a(l){var c={},u=[];return each$f(l,function(d){var f=o(c,d),v=f.originalDeps=n(d),g=s(v,l);f.entryCount=g.length,f.entryCount===0&&u.push(d),each$f(g,function(y){indexOf(f.predecessor,y)<0&&f.predecessor.push(y);var _=o(c,y);indexOf(_.successor,y)<0&&_.successor.push(d)})}),{graph:c,noEntryList:u}}function o(l,c){return l[c]||(l[c]={predecessor:[],successor:[]}),l[c]}function s(l,c){var u=[];return each$f(l,function(d){indexOf(c,d)>=0&&u.push(d)}),u}}function inheritDefaultOption(r,n){return merge(merge({},r,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,n){r=r.toUpperCase(),localeModels[r]=new Model(n),localeStorage[r]=n}function createLocaleObject(r){if(isString(r)){var n=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$4(n):merge(clone$4(n),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(r),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(r,n){return r+="","0000".substr(0,n-r.length)+r}function getPrimaryTimeUnit(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function isPrimaryTimeUnit(r){return r===getPrimaryTimeUnit(r)}function getDefaultFormatPrecisionOfInterval(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(r,n,a,o){var s=parseDate(r),l=s[fullYearGetterName(a)](),c=s[monthGetterName(a)]()+1,u=Math.floor((c-1)/3)+1,d=s[dateGetterName(a)](),f=s["get"+(a?"UTC":"")+"Day"](),v=s[hoursGetterName(a)](),g=(v-1)%12+1,y=s[minutesGetterName(a)](),_=s[secondsGetterName(a)](),b=s[millisecondsGetterName(a)](),T=v>=12?"pm":"am",C=T.toUpperCase(),P=o instanceof Model?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),E=P.getModel("time"),M=E.get("month"),I=E.get("monthAbbr"),L=E.get("dayOfWeek"),N=E.get("dayOfWeekAbbr");return(n||"").replace(/{a}/g,T+"").replace(/{A}/g,C+"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,pad(l%100+"",2)).replace(/{Q}/g,u+"").replace(/{MMMM}/g,M[c-1]).replace(/{MMM}/g,I[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,L[f]).replace(/{ee}/g,N[f]).replace(/{e}/g,f+"").replace(/{HH}/g,pad(v,2)).replace(/{H}/g,v+"").replace(/{hh}/g,pad(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,pad(y,2)).replace(/{m}/g,y+"").replace(/{ss}/g,pad(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,pad(b,3)).replace(/{S}/g,b+"")}function leveledFormat(r,n,a,o,s){var l=null;if(isString(a))l=a;else if(isFunction(a))l=a(r.value,n,{level:r.level});else{var c=extend({},defaultLeveledFormatter);if(r.level>0)for(var u=0;u<primaryTimeUnits.length;++u)c[primaryTimeUnits[u]]="{primary|"+c[primaryTimeUnits[u]]+"}";var d=a?a.inherit===!1?a:defaults(a,c):c,f=getUnitFromValue(r.value,s);if(d[f])l=d[f];else if(d.inherit){for(var v=timeUnits.indexOf(f),u=v-1;u>=0;--u)if(d[f]){l=d[f];break}l=l||c.none}if(isArray$1(l)){var g=r.level==null?0:r.level>=0?r.level:l.length+r.level;g=Math.min(g,l.length-1),l=l[g]}}return format(new Date(r.value),l,s,o)}function getUnitFromValue(r,n){var a=parseDate(r),o=a[monthGetterName(n)]()+1,s=a[dateGetterName(n)](),l=a[hoursGetterName(n)](),c=a[minutesGetterName(n)](),u=a[secondsGetterName(n)](),d=a[millisecondsGetterName(n)](),f=d===0,v=f&&u===0,g=v&&c===0,y=g&&l===0,_=y&&s===1,b=_&&o===1;return b?"year":_?"month":y?"day":g?"hour":v?"minute":f?"second":"millisecond"}function getUnitValue(r,n,a){var o=isNumber(r)?parseDate(r):r;switch(n=n||getUnitFromValue(r,a),n){case"year":return o[fullYearGetterName(a)]();case"half-year":return o[monthGetterName(a)]()>=6?1:0;case"quarter":return Math.floor((o[monthGetterName(a)]()+1)/4);case"month":return o[monthGetterName(a)]();case"day":return o[dateGetterName(a)]();case"half-day":return o[hoursGetterName(a)]()/24;case"hour":return o[hoursGetterName(a)]();case"minute":return o[minutesGetterName(a)]();case"second":return o[secondsGetterName(a)]();case"millisecond":return o[millisecondsGetterName(a)]()}}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(r){return r?"setUTCFullYear":"setFullYear"}function monthSetterName(r){return r?"setUTCMonth":"setMonth"}function dateSetterName(r){return r?"setUTCDate":"setDate"}function hoursSetterName(r){return r?"setUTCHours":"setHours"}function minutesSetterName(r){return r?"setUTCMinutes":"setMinutes"}function secondsSetterName(r){return r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(r){return r?"setUTCMilliseconds":"setMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString(r)?r:"-";var n=(r+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(r,n){return r=(r||"").toLowerCase().replace(/-(.)/g,function(a,o){return o.toUpperCase()}),n&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(r,n,a){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function s(v){return v&&trim$1(v)?v:"-"}function l(v){return!!(v!=null&&!isNaN(v)&&isFinite(v))}var c=n==="time",u=r instanceof Date;if(c||u){var d=c?parseDate(r):r;if(isNaN(+d)){if(u)return"-"}else return format(d,o,a)}if(n==="ordinal")return isStringSafe(r)?s(r):isNumber(r)&&l(r)?r+"":"-";var f=numericToNumber(r);return l(f)?addCommas(f):isStringSafe(r)?s(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,n){return"{"+r+(n??"")+"}"};function formatTpl(r,n,a){isArray$1(n)||(n=[n]);var o=n.length;if(!o)return"";for(var s=n[0].$vars||[],l=0;l<s.length;l++){var c=TPL_VAR_ALIAS[l];r=r.replace(wrapVar(c),wrapVar(c,0))}for(var u=0;u<o;u++)for(var d=0;d<s.length;d++){var f=n[u][s[d]];r=r.replace(wrapVar(TPL_VAR_ALIAS[d],u),a?encodeHTML(f):f)}return r}function formatTplSimple(r,n,a){return each$f(n,function(o,s){r=r.replace("{"+s+"}",o)}),r}function getTooltipMarker(r,n){var a=isString(r)?{color:r,extraCssText:n}:r||{},o=a.color,s=a.type;n=a.extraCssText;var l=a.renderMode||"html";if(!o)return"";if(l==="html")return s==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>';var c=a.markerId||"markerX";return{renderMode:l,content:"{"+c+"|}  ",style:s==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(r,n){return n=n||"transparent",isString(r)?r:isObject$3(r)&&r.colorStops&&(r.colorStops[0]||{}).color||n}function windowOpen(r,n){if(n==="_blank"||n==="blank"){var a=window.open();a.opener=null,a.location.href=r}else window.open(r,n)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,n,a,o,s){var l=0,c=0;o==null&&(o=1/0),s==null&&(s=1/0);var u=0;n.eachChild(function(d,f){var v=d.getBoundingRect(),g=n.childAt(f+1),y=g&&g.getBoundingRect(),_,b;if(r==="horizontal"){var T=v.width+(y?-y.x+v.x:0);_=l+T,_>o||d.newline?(l=0,_=T,c+=u+a,u=v.height):u=Math.max(u,v.height)}else{var C=v.height+(y?-y.y+v.y:0);b=c+C,b>s||d.newline?(l+=u+a,c=0,b=C,u=v.width):u=Math.max(u,v.width)}d.newline||(d.x=l,d.y=c,d.markRedraw(),r==="horizontal"?l=_+a:c=b+a)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(r,n,a){var o=n.width,s=n.height,l=parsePercent(r.left,o),c=parsePercent(r.top,s),u=parsePercent(r.right,o),d=parsePercent(r.bottom,s);return(isNaN(l)||isNaN(parseFloat(r.left)))&&(l=0),(isNaN(u)||isNaN(parseFloat(r.right)))&&(u=o),(isNaN(c)||isNaN(parseFloat(r.top)))&&(c=0),(isNaN(d)||isNaN(parseFloat(r.bottom)))&&(d=s),a=normalizeCssArray(a||0),{width:Math.max(u-l-a[1]-a[3],0),height:Math.max(d-c-a[0]-a[2],0)}}function getLayoutRect(r,n,a){a=normalizeCssArray(a||0);var o=n.width,s=n.height,l=parsePercent(r.left,o),c=parsePercent(r.top,s),u=parsePercent(r.right,o),d=parsePercent(r.bottom,s),f=parsePercent(r.width,o),v=parsePercent(r.height,s),g=a[2]+a[0],y=a[1]+a[3],_=r.aspect;switch(isNaN(f)&&(f=o-u-y-l),isNaN(v)&&(v=s-d-g-c),_!=null&&(isNaN(f)&&isNaN(v)&&(_>o/s?f=o*.8:v=s*.8),isNaN(f)&&(f=_*v),isNaN(v)&&(v=f/_)),isNaN(l)&&(l=o-u-f-y),isNaN(c)&&(c=s-d-v-g),r.left||r.right){case"center":l=o/2-f/2-a[3];break;case"right":l=o-f-y;break}switch(r.top||r.bottom){case"middle":case"center":c=s/2-v/2-a[0];break;case"bottom":c=s-v-g;break}l=l||0,c=c||0,isNaN(f)&&(f=o-y-l-(u||0)),isNaN(v)&&(v=s-g-c-(d||0));var b=new BoundingRect(l+a[3],c+a[0],f,v);return b.margin=a,b}function positionElement(r,n,a,o,s,l){var c=!s||!s.hv||s.hv[0],u=!s||!s.hv||s.hv[1],d=s&&s.boundingMode||"all";if(l=l||r,l.x=r.x,l.y=r.y,!c&&!u)return!1;var f;if(d==="raw")f=r.type==="group"?new BoundingRect(0,0,+n.width||0,+n.height||0):r.getBoundingRect();else if(f=r.getBoundingRect(),r.needLocalTransform()){var v=r.getLocalTransform();f=f.clone(),f.applyTransform(v)}var g=getLayoutRect(defaults({width:f.width,height:f.height},n),a,o),y=c?g.x-f.x:0,_=u?g.y-f.y:0;return d==="raw"?(l.x=y,l.y=_):(l.x+=y,l.y+=_),l===r&&r.markRedraw(),!0}function sizeCalculable(r,n){return r[HV_NAMES[n][0]]!=null||r[HV_NAMES[n][1]]!=null&&r[HV_NAMES[n][2]]!=null}function fetchLayoutMode(r){var n=r.layoutMode||r.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(r,n,a){var o=a&&a.ignoreSize;!isArray$1(o)&&(o=[o,o]);var s=c(HV_NAMES[0],0),l=c(HV_NAMES[1],1);f(HV_NAMES[0],r,s),f(HV_NAMES[1],r,l);function c(v,g){var y={},_=0,b={},T=0,C=2;if(each$e(v,function(M){b[M]=r[M]}),each$e(v,function(M){u(n,M)&&(y[M]=b[M]=n[M]),d(y,M)&&_++,d(b,M)&&T++}),o[g])return d(n,v[1])?b[v[2]]=null:d(n,v[2])&&(b[v[1]]=null),b;if(T===C||!_)return b;if(_>=C)return y;for(var P=0;P<v.length;P++){var E=v[P];if(!u(y,E)&&u(r,E)){y[E]=r[E];break}}return y}function u(v,g){return v.hasOwnProperty(g)}function d(v,g){return v[g]!=null&&v[g]!=="auto"}function f(v,g,y){each$e(v,function(_){g[_]=y[_]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,n){return n&&r&&each$e(LOCATION_PARAMS,function(a){n.hasOwnProperty(a)&&(r[a]=n[a])}),r}var inner$l=makeInner(),ComponentModel=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,a,o,s)||this;return l.uid=getUID("ec_cpt_model"),l}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s)},n.prototype.mergeDefaultAndTheme=function(a,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(a):{},c=o.getTheme();merge(a,c.get(this.mainType)),merge(a,this.getDefaultOption()),s&&mergeLayoutParam(a,l,s)},n.prototype.mergeOption=function(a,o){merge(this.option,a,!0);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,a,s)},n.prototype.optionUpdated=function(a,o){},n.prototype.getDefaultOption=function(){var a=this.constructor;if(!isExtendedClass(a))return a.defaultOption;var o=inner$l(this);if(!o.defaultOption){for(var s=[],l=a;l;){var c=l.prototype.defaultOption;c&&s.push(c),l=l.superClass}for(var u={},d=s.length-1;d>=0;d--)u=merge(u,s[d],!0);o.defaultOption=u}return o.defaultOption},n.prototype.getReferringComponents=function(a,o){var s=a+"Index",l=a+"Id";return queryReferringComponents(this.ecModel,a,{index:this.get(s,!0),id:this.get(l,!0)},o)},n.prototype.getBoxLayoutParams=function(){var a=this;return{left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(a){this.option.zlevel=a},n.protoInitialize=function(){var a=n.prototype;a.type="component",a.id="",a.name="",a.mainType="",a.subType="",a.componentIndex=0}(),n}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var n=[];return each$f(ComponentModel.getClassesByMainType(r),function(a){n=n.concat(a.dependencies||a.prototype.dependencies||[])}),n=map$1(n,function(a){return parseClassType(a).main}),r!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(r,n,a){var o={},s=querySeriesUpstreamDatasetModel(n);if(!s||!r)return o;var l=[],c=[],u=n.ecModel,d=innerGlobalModel(u).datasetMap,f=s.uid+"_"+a.seriesLayoutBy,v,g;r=r.slice(),each$f(r,function(T,C){var P=isObject$3(T)?T:r[C]={name:T};P.type==="ordinal"&&v==null&&(v=C,g=b(P)),o[P.name]=[]});var y=d.get(f)||d.set(f,{categoryWayDim:g,valueWayDim:0});each$f(r,function(T,C){var P=T.name,E=b(T);if(v==null){var M=y.valueWayDim;_(o[P],M,E),_(c,M,E),y.valueWayDim+=E}else if(v===C)_(o[P],0,E),_(l,0,E);else{var M=y.categoryWayDim;_(o[P],M,E),_(c,M,E),y.categoryWayDim+=E}});function _(T,C,P){for(var E=0;E<P;E++)T.push(C+E)}function b(T){var C=T.dimsDef;return C?C.length:1}return l.length&&(o.itemName=l),c.length&&(o.seriesName=c),o}function makeSeriesEncodeForNameBased(r,n,a){var o={},s=querySeriesUpstreamDatasetModel(r);if(!s)return o;var l=n.sourceFormat,c=n.dimensionsDefine,u;(l===SOURCE_FORMAT_OBJECT_ROWS||l===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(c,function(v,g){(isObject$3(v)?v.name:v)==="name"&&(u=g)});var d=function(){for(var v={},g={},y=[],_=0,b=Math.min(5,a);_<b;_++){var T=doGuessOrdinal(n.data,l,n.seriesLayoutBy,c,n.startIndex,_);y.push(T);var C=T===BE_ORDINAL.Not;if(C&&v.v==null&&_!==u&&(v.v=_),(v.n==null||v.n===v.v||!C&&y[v.n]===BE_ORDINAL.Not)&&(v.n=_),P(v)&&y[v.n]!==BE_ORDINAL.Not)return v;C||(T===BE_ORDINAL.Might&&g.v==null&&_!==u&&(g.v=_),(g.n==null||g.n===g.v)&&(g.n=_))}function P(E){return E.v!=null&&E.n!=null}return P(v)?v:P(g)?g:null}();if(d){o.value=[d.v];var f=u??d.n;o.itemName=[f],o.seriesName=[f]}return o}function querySeriesUpstreamDatasetModel(r){var n=r.get("data",!0);if(!n)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,n){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,n)}function doGuessOrdinal(r,n,a,o,s,l){var c,u=5;if(isTypedArray(r))return BE_ORDINAL.Not;var d,f;if(o){var v=o[l];isObject$3(v)?(d=v.name,f=v.type):isString(v)&&(d=v)}if(f!=null)return f==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var g=r;if(a===SERIES_LAYOUT_BY_ROW){for(var y=g[l],_=0;_<(y||[]).length&&_<u;_++)if((c=I(y[s+_]))!=null)return c}else for(var _=0;_<g.length&&_<u;_++){var b=g[s+_];if(b&&(c=I(b[l]))!=null)return c}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var T=r;if(!d)return BE_ORDINAL.Not;for(var _=0;_<T.length&&_<u;_++){var C=T[_];if(C&&(c=I(C[d]))!=null)return c}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var P=r;if(!d)return BE_ORDINAL.Not;var y=P[d];if(!y||isTypedArray(y))return BE_ORDINAL.Not;for(var _=0;_<y.length&&_<u;_++)if((c=I(y[_]))!=null)return c}else if(n===SOURCE_FORMAT_ORIGINAL)for(var E=r,_=0;_<E.length&&_<u;_++){var C=E[_],M=getDataItemValue(C);if(!isArray$1(M))return BE_ORDINAL.Not;if((c=I(M[l]))!=null)return c}function I(L){var N=isString(L);if(L!=null&&Number.isFinite(Number(L))&&L!=="")return N?BE_ORDINAL.Might:BE_ORDINAL.Not;if(N&&L!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(r,n){assert(internalOptionCreatorMap.get(r)==null&&n),internalOptionCreatorMap.set(r,n)}function concatInternalOptions(r,n,a){var o=internalOptionCreatorMap.get(n);if(!o)return a;var s=o(r);return s?a.concat(s):a}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(n,a,o){var s=normalizeToArray(this.get("color",!0)),l=this.get("colorLayer",!0);return getFromPalette(this,innerColor,s,l,n,a,o)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getDecalFromPalette(r,n,a,o){var s=normalizeToArray(r.get(["aria","decal","decals"]));return getFromPalette(r,innerDecal,s,null,n,a,o)}function getNearestPalette(r,n){for(var a=r.length,o=0;o<a;o++)if(r[o].length>n)return r[o];return r[a-1]}function getFromPalette(r,n,a,o,s,l,c){l=l||r;var u=n(l),d=u.paletteIdx||0,f=u.paletteNameMap=u.paletteNameMap||{};if(f.hasOwnProperty(s))return f[s];var v=c==null||!o?a:getNearestPalette(o,c);if(v=v||a,!(!v||!v.length)){var g=v[d];return s&&(f[s]=g),u.paletteIdx=(d+1)%v.length,g}}function clearPalette(r,n){n(r).paletteIdx=0,n(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(a,o,s,l,c,u){l=l||{},this.option=null,this._theme=new Model(l),this._locale=new Model(c),this._optionManager=u},n.prototype.setOption=function(a,o,s){var l=normalizeSetOptionInput(o);this._optionManager.setOption(a,s,l),this._resetOption(null,l)},n.prototype.resetOption=function(a,o){return this._resetOption(a,normalizeSetOptionInput(o))},n.prototype._resetOption=function(a,o){var s=!1,l=this._optionManager;if(!a||a==="recreate"){var c=l.mountOption(a==="recreate");!this.option||a==="recreate"?initBase(this,c):(this.restoreData(),this._mergeOption(c,o)),s=!0}if((a==="timeline"||a==="media")&&this.restoreData(),!a||a==="recreate"||a==="timeline"){var u=l.getTimelineOption(this);u&&(s=!0,this._mergeOption(u,o))}if(!a||a==="recreate"||a==="media"){var d=l.getMediaOption(this);d.length&&each$f(d,function(f){s=!0,this._mergeOption(f,o)},this)}return s},n.prototype.mergeOption=function(a){this._mergeOption(a,null)},n.prototype._mergeOption=function(a,o){var s=this.option,l=this._componentsMap,c=this._componentsCount,u=[],d=createHashMap(),f=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(a,function(g,y){g!=null&&(ComponentModel.hasClass(y)?y&&(u.push(y),d.set(y,!0)):s[y]=s[y]==null?clone$4(g):merge(s[y],g,!0))}),f&&f.each(function(g,y){ComponentModel.hasClass(y)&&!d.get(y)&&(u.push(y),d.set(y,!0))}),ComponentModel.topologicalTravel(u,ComponentModel.getAllClassMainTypes(),v,this);function v(g){var y=concatInternalOptions(this,g,normalizeToArray(a[g])),_=l.get(g),b=_?f&&f.get(g)?"replaceMerge":"normalMerge":"replaceAll",T=mappingToExists(_,y,b);setComponentTypeToKeyInfo(T,g,ComponentModel),s[g]=null,l.set(g,null),c.set(g,0);var C=[],P=[],E=0,M;each$f(T,function(I,L){var N=I.existing,V=I.newOption;if(!V)N&&(N.mergeOption({},this),N.optionUpdated({},!1));else{var B=g==="series",z=ComponentModel.getClass(g,I.keyInfo.subType,!B);if(!z)return;if(g==="tooltip"){if(M)return;M=!0}if(N&&N.constructor===z)N.name=I.keyInfo.name,N.mergeOption(V,this),N.optionUpdated(V,!1);else{var G=extend({componentIndex:L},I.keyInfo);N=new z(V,this,this,G),extend(N,G),I.brandNew&&(N.__requireNewView=!0),N.init(V,this,this),N.optionUpdated(null,!0)}}N?(C.push(N.option),P.push(N),E++):(C.push(void 0),P.push(void 0))},this),s[g]=C,l.set(g,P),c.set(g,E),g==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var a=clone$4(this.option);return each$f(a,function(o,s){if(ComponentModel.hasClass(s)){for(var l=normalizeToArray(o),c=l.length,u=!1,d=c-1;d>=0;d--)l[d]&&!isComponentIdInternal(l[d])?u=!0:(l[d]=null,!u&&c--);l.length=c,a[s]=l}}),delete a[OPTION_INNER_KEY],a},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(a){this._payload=a},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(a,o){var s=this._componentsMap.get(a);if(s){var l=s[o||0];if(l)return l;if(o==null){for(var c=0;c<s.length;c++)if(s[c])return s[c]}}},n.prototype.queryComponents=function(a){var o=a.mainType;if(!o)return[];var s=a.index,l=a.id,c=a.name,u=this._componentsMap.get(o);if(!u||!u.length)return[];var d;return s!=null?(d=[],each$f(normalizeToArray(s),function(f){u[f]&&d.push(u[f])})):l!=null?d=queryByIdOrName("id",l,u):c!=null?d=queryByIdOrName("name",c,u):d=filter(u,function(f){return!!f}),filterBySubType(d,a)},n.prototype.findComponents=function(a){var o=a.query,s=a.mainType,l=u(o),c=l?this.queryComponents(l):filter(this._componentsMap.get(s),function(f){return!!f});return d(filterBySubType(c,a));function u(f){var v=s+"Index",g=s+"Id",y=s+"Name";return f&&(f[v]!=null||f[g]!=null||f[y]!=null)?{mainType:s,index:f[v],id:f[g],name:f[y]}:null}function d(f){return a.filter?filter(f,a.filter):f}},n.prototype.eachComponent=function(a,o,s){var l=this._componentsMap;if(isFunction(a)){var c=o,u=a;l.each(function(g,y){for(var _=0;g&&_<g.length;_++){var b=g[_];b&&u.call(c,y,b,b.componentIndex)}})}else for(var d=isString(a)?l.get(a):isObject$3(a)?this.findComponents(a):null,f=0;d&&f<d.length;f++){var v=d[f];v&&o.call(s,v,v.componentIndex)}},n.prototype.getSeriesByName=function(a){var o=convertOptionIdName(a,null);return filter(this._componentsMap.get("series"),function(s){return!!s&&o!=null&&s.name===o})},n.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},n.prototype.getSeriesByType=function(a){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===a})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(a){return!!a})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(a,o){assertSeriesInitialized(this),each$f(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];a.call(o,l,s)},this)},n.prototype.eachRawSeries=function(a,o){each$f(this._componentsMap.get("series"),function(s){s&&a.call(o,s,s.componentIndex)})},n.prototype.eachSeriesByType=function(a,o,s){assertSeriesInitialized(this),each$f(this._seriesIndices,function(l){var c=this._componentsMap.get("series")[l];c.subType===a&&o.call(s,c,l)},this)},n.prototype.eachRawSeriesByType=function(a,o,s){return each$f(this.getSeriesByType(a),o,s)},n.prototype.isSeriesFiltered=function(a){return assertSeriesInitialized(this),this._seriesIndicesMap.get(a.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(a,o){assertSeriesInitialized(this);var s=[];each$f(this._seriesIndices,function(l){var c=this._componentsMap.get("series")[l];a.call(o,c,l)&&s.push(l)},this),this._seriesIndices=s,this._seriesIndicesMap=createHashMap(s)},n.prototype.restoreData=function(a){reCreateSeriesIndices(this);var o=this._componentsMap,s=[];o.each(function(l,c){ComponentModel.hasClass(c)&&s.push(c)}),ComponentModel.topologicalTravel(s,ComponentModel.getAllClassMainTypes(),function(l){each$f(o.get(l),function(c){c&&(l!=="series"||!isNotTargetSeries(c,a))&&c.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(a){var o=a._seriesIndices=[];each$f(a._componentsMap.get("series"),function(s){s&&o.push(s.componentIndex)}),a._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(a){},initBase=function(a,o){a.option={},a.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,a._componentsMap=createHashMap({series:[]}),a._componentsCount=createHashMap();var s=o.aria;isObject$3(s)&&s.enabled==null&&(s.enabled=!0),mergeTheme(o,a._theme.option),merge(o,globalDefault,!1),a._mergeOption(o,null)}}(),n}(Model);function isNotTargetSeries(r,n){if(n){var a=n.seriesIndex,o=n.seriesId,s=n.seriesName;return a!=null&&r.componentIndex!==a||o!=null&&r.id!==o||s!=null&&r.name!==s}}function mergeTheme(r,n){var a=r.color&&!r.colorLayer;each$f(n,function(o,s){s==="colorLayer"&&a||ComponentModel.hasClass(s)||(typeof o=="object"?r[s]=r[s]?merge(r[s],o,!1):clone$4(o):r[s]==null&&(r[s]=o))})}function queryByIdOrName(r,n,a){if(isArray$1(n)){var o=createHashMap();return each$f(n,function(l){if(l!=null){var c=convertOptionIdName(l,null);c!=null&&o.set(l,!0)}}),filter(a,function(l){return l&&o.get(l[r])})}else{var s=convertOptionIdName(n,null);return filter(a,function(l){return l&&s!=null&&l[r]===s})}}function filterBySubType(r,n){return n.hasOwnProperty("subType")?filter(r,function(a){return a&&a.subType===n.subType}):r}function normalizeSetOptionInput(r){var n=createHashMap();return r&&each$f(normalizeToArray(r.replaceMerge),function(a){n.set(a,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(n){each$f(availableMethods,function(a){this[a]=bind$1(n[a],n)},this)}return r}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(n,a){var o=[];each$f(coordinateSystemCreators,function(s,l){var c=s.create(n,a);o=o.concat(c||[])}),this._coordinateSystems=o},r.prototype.update=function(n,a){each$f(this._coordinateSystems,function(o){o.update&&o.update(n,a)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(n,a){coordinateSystemCreators[n]=a},r.get=function(n){return coordinateSystemCreators[n]},r}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return r.prototype.setOption=function(n,a,o){n&&(each$f(normalizeToArray(n.series),function(c){c&&c.data&&isTypedArray(c.data)&&setAsPrimitive(c.data)}),each$f(normalizeToArray(n.dataset),function(c){c&&c.source&&isTypedArray(c.source)&&setAsPrimitive(c.source)})),n=clone$4(n);var s=this._optionBackup,l=parseRawOption(n,a,!s);this._newBaseOption=l.baseOption,s?(l.timelineOptions.length&&(s.timelineOptions=l.timelineOptions),l.mediaList.length&&(s.mediaList=l.mediaList),l.mediaDefault&&(s.mediaDefault=l.mediaDefault)):this._optionBackup=l},r.prototype.mountOption=function(n){var a=this._optionBackup;return this._timelineOptions=a.timelineOptions,this._mediaList=a.mediaList,this._mediaDefault=a.mediaDefault,this._currentMediaIndices=[],clone$4(n?a.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(n){var a,o=this._timelineOptions;if(o.length){var s=n.getComponent("timeline");s&&(a=clone$4(o[s.getCurrentIndex()]))}return a},r.prototype.getMediaOption=function(n){var a=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,c=[],u=[];if(!s.length&&!l)return u;for(var d=0,f=s.length;d<f;d++)applyMediaQuery(s[d].query,a,o)&&c.push(d);return!c.length&&l&&(c=[-1]),c.length&&!indicesEquals(c,this._currentMediaIndices)&&(u=map$1(c,function(v){return clone$4(v===-1?l.option:s[v].option)})),this._currentMediaIndices=c,u},r}();function parseRawOption(r,n,a){var o=[],s,l,c=r.baseOption,u=r.timeline,d=r.options,f=r.media,v=!!r.media,g=!!(d||u||c&&c.timeline);c?(l=c,l.timeline||(l.timeline=u)):((g||v)&&(r.options=r.media=null),l=r),v&&isArray$1(f)&&each$f(f,function(_){_&&_.option&&(_.query?o.push(_):s||(s=_))}),y(l),each$f(d,function(_){return y(_)}),each$f(o,function(_){return y(_.option)});function y(_){each$f(n,function(b){b(_,a)})}return{baseOption:l,timelineOptions:d||[],mediaDefault:s,mediaList:o}}function applyMediaQuery(r,n,a){var o={width:n,height:a,aspectratio:n/a},s=!0;return each$f(r,function(l,c){var u=c.match(QUERY_REG);if(!(!u||!u[1]||!u[2])){var d=u[1],f=u[2].toLowerCase();compare(o[f],l,d)||(s=!1)}}),s}function compare(r,n,a){return a==="min"?r>=n:a==="max"?r<=n:r===n}function indicesEquals(r,n){return r.join(",")===n.join(",")}var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var n=r&&r.itemStyle;if(n)for(var a=0,o=POSSIBLE_STYLES.length;a<o;a++){var s=POSSIBLE_STYLES[a],l=n.normal,c=n.emphasis;l&&l[s]&&(r[s]=r[s]||{},r[s].normal?merge(r[s].normal,l[s]):r[s].normal=l[s],l[s]=null),c&&c[s]&&(r[s]=r[s]||{},r[s].emphasis?merge(r[s].emphasis,c[s]):r[s].emphasis=c[s],c[s]=null)}}function convertNormalEmphasis(r,n,a){if(r&&r[n]&&(r[n].normal||r[n].emphasis)){var o=r[n].normal,s=r[n].emphasis;o&&(a?(r[n].normal=r[n].emphasis=null,defaults(r[n],o)):r[n]=o),s&&(r.emphasis=r.emphasis||{},r.emphasis[n]=s,s.focus&&(r.emphasis.focus=s.focus),s.blurScope&&(r.emphasis.blurScope=s.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,n){var a=isObject$2(r)&&r[n],o=isObject$2(a)&&a.textStyle;if(o)for(var s=0,l=TEXT_STYLE_OPTIONS.length;s<l;s++){var c=TEXT_STYLE_OPTIONS[s];o.hasOwnProperty(c)&&(a[c]=o[c])}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(isObject$2(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var n=r.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var a=r.markLine;a&&(compatEC2ItemStyle(a),compatEC3CommonStyles(a));var o=r.markArea;o&&compatEC3CommonStyles(o);var s=r.data;if(r.type==="graph"){s=s||r.nodes;var l=r.links||r.edges;if(l&&!isTypedArray(l))for(var c=0;c<l.length;c++)compatEC3CommonStyles(l[c]);each$f(r.categories,function(f){removeEC3NormalStatus(f)})}if(s&&!isTypedArray(s))for(var c=0;c<s.length;c++)compatEC3CommonStyles(s[c]);if(n=r.markPoint,n&&n.data)for(var u=n.data,c=0;c<u.length;c++)compatEC3CommonStyles(u[c]);if(a=r.markLine,a&&a.data)for(var d=a.data,c=0;c<d.length;c++)isArray$1(d[c])?(compatEC3CommonStyles(d[c][0]),compatEC3CommonStyles(d[c][1])):compatEC3CommonStyles(d[c]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$f(r.levels,function(f){removeEC3NormalStatus(f)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray$1(r)?r:r?[r]:[]}function toObj(r){return(isArray$1(r)?r[0]:r)||{}}function globalCompatStyle(r,n){each$d(toArr(r.series),function(o){isObject$2(o)&&processSeries(o)});var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(a,function(o){each$d(toArr(r[o]),function(s){s&&(compatTextStyle(s,"axisLabel"),compatTextStyle(s.axisPointer,"label"))})}),each$d(toArr(r.parallel),function(o){var s=o&&o.parallelAxisDefault;compatTextStyle(s,"axisLabel"),compatTextStyle(s&&s.axisPointer,"label")}),each$d(toArr(r.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$d(toArr(r.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),each$d(toArr(r.geo),function(o){isObject$2(o)&&(compatEC3CommonStyles(o),each$d(toArr(o.regions),function(s){compatEC3CommonStyles(s)}))}),each$d(toArr(r.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var s=o.data;isArray$1(s)&&each$f(s,function(l){isObject$3(l)&&(convertNormalEmphasis(l,"label"),convertNormalEmphasis(l,"itemStyle"))})}),each$d(toArr(r.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$d(o.feature,function(s){convertNormalEmphasis(s,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,n){for(var a=n.split(","),o=r,s=0;s<a.length&&(o=o&&o[a[s]],o!=null);s++);return o}function set(r,n,a,o){for(var s=n.split(","),l=r,c,u=0;u<s.length-1;u++)c=s[u],l[c]==null&&(l[c]={}),l=l[c];l[s[u]]==null&&(l[s[u]]=a)}function compatLayoutProperties(r){r&&each$f(LAYOUT_PROPERTIES,function(n){n[0]in r&&!(n[1]in r)&&(r[n[1]]=r[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var n=r&&r.itemStyle;if(n)for(var a=0;a<BAR_ITEM_STYLE_MAP.length;a++){var o=BAR_ITEM_STYLE_MAP[a][1],s=BAR_ITEM_STYLE_MAP[a][0];n[o]!=null&&(n[s]=n[o])}}function compatPieLabel(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function compatSunburstState(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function compatGraphFocus(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function traverseTree(r,n){if(r)for(var a=0;a<r.length;a++)n(r[a]),r[a]&&traverseTree(r[a].children,n)}function globalBackwardCompat(r,n){globalCompatStyle(r,n),r.series=normalizeToArray(r.series),each$f(r.series,function(a){if(isObject$3(a)){var o=a.type;if(o==="line")a.clipOverflow!=null&&(a.clip=a.clipOverflow);else if(o==="pie"||o==="gauge"){a.clockWise!=null&&(a.clockwise=a.clockWise),compatPieLabel(a.label);var s=a.data;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)compatPieLabel(s[l]);a.hoverOffset!=null&&(a.emphasis=a.emphasis||{},(a.emphasis.scaleSize=null)&&(a.emphasis.scaleSize=a.hoverOffset))}else if(o==="gauge"){var c=get(a,"pointer.color");c!=null&&set(a,"itemStyle.color",c)}else if(o==="bar"){compatBarItemStyle(a),compatBarItemStyle(a.backgroundStyle),compatBarItemStyle(a.emphasis);var s=a.data;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)typeof s[l]=="object"&&(compatBarItemStyle(s[l]),compatBarItemStyle(s[l]&&s[l].emphasis))}else if(o==="sunburst"){var u=a.highlightPolicy;u&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=u)),compatSunburstState(a),traverseTree(a.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(a):o==="map"&&(a.mapType&&!a.map&&(a.map=a.mapType),a.mapLocation&&defaults(a,a.mapLocation));a.hoverAnimation!=null&&(a.emphasis=a.emphasis||{},a.emphasis&&a.emphasis.scale==null&&(a.emphasis.scale=a.hoverAnimation)),compatLayoutProperties(a)}}),r.dataRange&&(r.visualMap=r.dataRange),each$f(COMPATITABLE_COMPONENTS,function(a){var o=r[a];o&&(isArray$1(o)||(o=[o]),each$f(o,function(s){compatLayoutProperties(s)}))})}function dataStack(r){var n=createHashMap();r.eachSeries(function(a){var o=a.get("stack");if(o){var s=n.get(o)||n.set(o,[]),l=a.getData(),c={stackResultDimension:l.getCalculationInfo("stackResultDimension"),stackedOverDimension:l.getCalculationInfo("stackedOverDimension"),stackedDimension:l.getCalculationInfo("stackedDimension"),stackedByDimension:l.getCalculationInfo("stackedByDimension"),isStackedByIndex:l.getCalculationInfo("isStackedByIndex"),data:l,seriesModel:a};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;s.length&&l.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(c)}}),n.each(calculateStack)}function calculateStack(r){each$f(r,function(n,a){var o=[],s=[NaN,NaN],l=[n.stackResultDimension,n.stackedOverDimension],c=n.data,u=n.isStackedByIndex,d=n.seriesModel.get("stackStrategy")||"samesign";c.modify(l,function(f,v,g){var y=c.get(n.stackedDimension,g);if(isNaN(y))return s;var _,b;u?b=c.getRawIndex(g):_=c.get(n.stackedByDimension,g);for(var T=NaN,C=a-1;C>=0;C--){var P=r[C];if(u||(b=P.data.rawIndexOf(P.stackedByDimension,_)),b>=0){var E=P.data.getByRawIndex(P.stackResultDimension,b);if(d==="all"||d==="positive"&&E>0||d==="negative"&&E<0||d==="samesign"&&y>=0&&E>0||d==="samesign"&&y<=0&&E<0){y=addSafe(y,E),T=E;break}}}return o[0]=y,o[1]=T,o})})}var SourceImpl=function(){function r(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var a=this.dimensionsDefine=n.dimensionsDefine;if(a)for(var o=0;o<a.length;o++){var s=a[o];s.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(s.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,n,a){a=a||detectSourceFormat(r);var o=n.seriesLayoutBy,s=determineSourceDimensions(r,a,o,n.sourceHeader,n.dimensions),l=new SourceImpl({data:r,sourceFormat:a,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:clone$4(n)});return l}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$4(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(r)){r.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var a=0,o=r.length;a<o;a++){var s=r[a];if(s!=null){if(isArray$1(s)||isTypedArray(s)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(s)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(r)){for(var l in r)if(hasOwn(r,l)&&isArrayLike(r[l])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(r,n,a,o,s){var l,c;if(!r)return{dimensionsDefine:normalizeDimensionsOption(s),startIndex:c,dimensionsDetectedCount:l};if(n===SOURCE_FORMAT_ARRAY_ROWS){var u=r;o==="auto"||o==null?arrayRowsTravelFirst(function(f){f!=null&&f!=="-"&&(isString(f)?c==null&&(c=1):c=0)},a,u,10):c=isNumber(o)?o:o?1:0,!s&&c===1&&(s=[],arrayRowsTravelFirst(function(f,v){s[v]=f!=null?f+"":""},a,u,1/0)),l=s?s.length:a===SERIES_LAYOUT_BY_ROW?u.length:u[0]?u[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)s||(s=objectRowsCollectDimensions(r));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)s||(s=[],each$f(r,function(f,v){s.push(v)}));else if(n===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(r[0]);l=isArray$1(d)&&d.length||1}return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(s),dimensionsDetectedCount:l}}function objectRowsCollectDimensions(r){for(var n=0,a;n<r.length&&!(a=r[n++]););if(a)return keys(a)}function normalizeDimensionsOption(r){if(r){var n=createHashMap();return map$1(r,function(a,o){a=isObject$3(a)?a:{name:a};var s={name:a.name,displayName:a.displayName,type:a.type};if(s.name==null)return s;s.name+="",s.displayName==null&&(s.displayName=s.name);var l=n.get(s.name);return l?s.name+="-"+l.count++:n.set(s.name,{count:1}),s})}}function arrayRowsTravelFirst(r,n,a,o){if(n===SERIES_LAYOUT_BY_ROW)for(var s=0;s<a.length&&s<o;s++)r(a[s]?a[s][0]:null,s);else for(var l=a[0]||[],s=0;s<l.length&&s<o;s++)r(l[s],s)}function shouldRetrieveDataByName(r){var n=r.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(n,a){var o=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=o;var s=this._data=o.data;o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=a,this._data=s),mountMethods(this,s,o)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(n,a){},r.prototype.appendData=function(n){},r.prototype.clean=function(){},r.protoInitialize=function(){var n=r.prototype;n.pure=!1,n.persistent=!0}(),r.internalField=function(){var n;mountMethods=function(c,u,d){var f=d.sourceFormat,v=d.seriesLayoutBy,g=d.startIndex,y=d.dimensionsDefine,_=providerMethods[getMethodMapKey(f,v)];if(extend(c,_),f===SOURCE_FORMAT_TYPED_ARRAY)c.getItem=a,c.count=s,c.fillStorage=o;else{var b=getRawSourceItemGetter(f,v);c.getItem=bind$1(b,null,u,g,y);var T=getRawSourceDataCounter(f,v);c.count=bind$1(T,null,u,g,y)}};var a=function(c,u){c=c-this._offset,u=u||[];for(var d=this._data,f=this._dimSize,v=f*c,g=0;g<f;g++)u[g]=d[v+g];return u},o=function(c,u,d,f){for(var v=this._data,g=this._dimSize,y=0;y<g;y++){for(var _=f[y],b=_[0]==null?1/0:_[0],T=_[1]==null?-1/0:_[1],C=u-c,P=d[y],E=0;E<C;E++){var M=v[E*g+y];P[c+E]=M,M<b&&(b=M),M>T&&(T=M)}_[0]=b,_[1]=T}},s=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:l},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:l},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(c){var u=this._data;each$f(c,function(d,f){for(var v=u[f]||(u[f]=[]),g=0;g<(d||[]).length;g++)v.push(d[g])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:l},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(c){this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},n);function l(c){for(var u=0;u<c.length;u++)this._data.push(c[u])}}(),r}(),getItemSimply=function(r,n,a,o){return r[o]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,a,o){return r[o+n]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,a,o,s){o+=n;for(var l=s||[],c=r,u=0;u<c.length;u++){var d=c[u];l[u]=d?d[o]:null}return l},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,a,o,s){for(var l=s||[],c=0;c<a.length;c++){var u=a[c].name,d=r[u];l[c]=d?d[o]:null}return l},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(r,n){var a=rawSourceItemGetterMap[getMethodMapKey(r,n)];return a}var countSimply=function(r,n,a){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,a){return Math.max(0,r.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,a){var o=r[0];return o?Math.max(0,o.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,a){var o=a[0].name,s=r[o];return s?s.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,n){var a=rawSourceDataCounterMap[getMethodMapKey(r,n)];return a}var getRawValueSimply=function(r,n,a){return r[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,n,a){return r[a]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,n,a){var o=getDataItemValue(r);return o instanceof Array?o[n]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var n=rawSourceValueGetterMap[r];return n}function getMethodMapKey(r,n){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+n:r}function retrieveRawValue(r,n,a){if(r){var o=r.getRawDataItem(n);if(o!=null){var s=r.getStore(),l=s.getSource().sourceFormat;if(a!=null){var c=r.getDimensionIndex(a),u=s.getDimensionProperty(c);return getRawSourceValueGetter(l)(o,c,u)}else{var d=o;return l===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(n,a){var o=this.getData(a),s=this.getRawValue(n,a),l=o.getRawIndex(n),c=o.getName(n),u=o.getRawDataItem(n),d=o.getItemVisual(n,"style"),f=d&&d[o.getItemVisual(n,"drawType")||"fill"],v=d&&d.stroke,g=this.mainType,y=g==="series",_=o.userOutput&&o.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:y?this.subType:null,seriesIndex:this.seriesIndex,seriesId:y?this.id:null,seriesName:y?this.name:null,name:c,dataIndex:l,data:u,dataType:a,value:s,color:f,borderColor:v,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(n,a,o,s,l,c){a=a||"normal";var u=this.getData(o),d=this.getDataParams(n,o);if(c&&(d.value=c.interpolatedValue),s!=null&&isArray$1(d.value)&&(d.value=d.value[s]),!l){var f=u.getItemModel(n);l=f.get(a==="normal"?["label","formatter"]:[a,"label","formatter"])}if(isFunction(l))return d.status=a,d.dimensionIndex=s,l(d);if(isString(l)){var v=formatTpl(l,d);return v.replace(DIMENSION_LABEL_REG,function(g,y){var _=y.length,b=y;b.charAt(0)==="["&&b.charAt(_-1)==="]"&&(b=+b.slice(1,_-1));var T=retrieveRawValue(u,n,b);if(c&&isArray$1(c.interpolatedValue)){var C=u.getDimensionIndex(b);C>=0&&(T=c.interpolatedValue[C])}return T!=null?T+"":""})}},r.prototype.getRawValue=function(n,a){return retrieveRawValue(this.getData(a),n)},r.prototype.formatTooltip=function(n,a,o){},r}();function normalizeTooltipFormatResult(r){var n,a;return isObject$3(r)?r.type&&(a=r):n=r,{text:n,frag:a}}function createTask(r){return new Task(r)}var Task=function(){function r(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return r.prototype.perform=function(n){var a=this._upstream,o=n&&n.skip;if(this._dirty&&a){var s=this.context;s.data=s.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var l;this._plan&&!o&&(l=this._plan(this.context));var c=v(this._modBy),u=this._modDataCount||0,d=v(n&&n.modBy),f=n&&n.modDataCount||0;(c!==d||u!==f)&&(l="reset");function v(E){return!(E>=1)&&(E=1),E}var g;(this._dirty||l==="reset")&&(this._dirty=!1,g=this._doReset(o)),this._modBy=d,this._modDataCount=f;var y=n&&n.step;if(a?this._dueEnd=a._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,b=Math.min(y!=null?this._dueIndex+y:1/0,this._dueEnd);if(!o&&(g||_<b)){var T=this._progress;if(isArray$1(T))for(var C=0;C<T.length;C++)this._doProgress(T[C],_,b,d,f);else this._doProgress(T,_,b,d,f)}this._dueIndex=b;var P=this._settedOutputEnd!=null?this._settedOutputEnd:b;this._outputDueEnd=P}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(n,a,o,s,l){iterator.reset(a,o,s,l),this._callingProgress=n,this._callingProgress({start:a,end:o,count:o-a,next:iterator.next},this.context)},r.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var a,o;!n&&this._reset&&(a=this._reset(this.context),a&&a.progress&&(o=a.forceFirstProgress,a=a.progress),isArray$1(a)&&!a.length&&(a=null)),this._progress=a,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),o},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},r}(),iterator=function(){var r,n,a,o,s,l={reset:function(d,f,v,g){n=d,r=f,a=v,o=g,s=Math.ceil(o/a),l.next=a>1&&o>0?u:c}};return l;function c(){return n<r?n++:null}function u(){var d=n%s*a+Math.ceil(n/s),f=n>=r?null:d<o?d:n;return n++,f}}();function parseDataValue(r,n){var a=n&&n.type;return a==="ordinal"?r:(a==="time"&&!isNumber(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:Number(r))}var valueParserMap=createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString(r)?trim$1(r):r}});function getRawValueParser(r){return valueParserMap.get(r)}var ORDER_COMPARISON_OP_MAP={lt:function(r,n){return r<n},lte:function(r,n){return r<=n},gt:function(r,n){return r>n},gte:function(r,n){return r>=n}},FilterOrderComparator=function(){function r(n,a){if(!isNumber(a)){var o="";throwError(o)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(a)}return r.prototype.evaluate=function(n){return isNumber(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},r}(),SortOrderComparator=function(){function r(n,a){var o=n==="desc";this._resultLT=o?1:-1,a==null&&(a=o?"min":"max"),this._incomparable=a==="min"?-1/0:1/0}return r.prototype.evaluate=function(n,a){var o=isNumber(n)?n:numericToNumber(n),s=isNumber(a)?a:numericToNumber(a),l=isNaN(o),c=isNaN(s);if(l&&(o=this._incomparable),c&&(s=this._incomparable),l&&c){var u=isString(n),d=isString(a);u&&(o=d?n:0),d&&(s=u?a:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},r}(),FilterEqualityComparator=function(){function r(n,a){this._rval=a,this._isEQ=n,this._rvalTypeof=typeof a,this._rvalFloat=numericToNumber(a)}return r.prototype.evaluate=function(n){var a=n===this._rval;if(!a){var o=typeof n;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(a=numericToNumber(n)===this._rvalFloat)}return this._isEQ?a:!a},r}();function createFilterComparator(r,n){return r==="eq"||r==="ne"?new FilterEqualityComparator(r==="eq",n):hasOwn(ORDER_COMPARISON_OP_MAP,r)?new FilterOrderComparator(r,n):null}var ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(n){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(n){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(n,a){},r.prototype.retrieveValueFromItem=function(n,a){},r.prototype.convertValue=function(n,a){return parseDataValue(n,a)},r}();function createExternalSource(r,n){var a=new ExternalSource,o=r.data,s=a.sourceFormat=r.sourceFormat,l=r.startIndex,c="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(c);var u=[],d={},f=r.dimensionsDefine;if(f)each$f(f,function(T,C){var P=T.name,E={index:C,name:P,displayName:T.displayName};if(u.push(E),P!=null){var M="";hasOwn(d,P)&&throwError(M),d[P]=E}});else for(var v=0;v<r.dimensionsDetectedCount;v++)u.push({index:v});var g=getRawSourceItemGetter(s,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(a.getRawDataItem=function(T){return g(o,l,u,T)},a.getRawData=bind$1(getRawData,null,r)),a.cloneRawData=bind$1(cloneRawData,null,r);var y=getRawSourceDataCounter(s,SERIES_LAYOUT_BY_COLUMN);a.count=bind$1(y,null,o,l,u);var _=getRawSourceValueGetter(s);a.retrieveValue=function(T,C){var P=g(o,l,u,T);return b(P,C)};var b=a.retrieveValueFromItem=function(T,C){if(T!=null){var P=u[C];if(P)return _(T,C,P.name)}};return a.getDimensionInfo=bind$1(getDimensionInfo,null,u,d),a.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,u),a}function getRawData(r){var n=r.sourceFormat;if(!isSupportedSourceFormat(n)){var a="";throwError(a)}return r.data}function cloneRawData(r){var n=r.sourceFormat,a=r.data;if(!isSupportedSourceFormat(n)){var o="";throwError(o)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var s=[],l=0,c=a.length;l<c;l++)s.push(a[l].slice());return s}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var s=[],l=0,c=a.length;l<c;l++)s.push(extend({},a[l]));return s}}function getDimensionInfo(r,n,a){if(a!=null){if(isNumber(a)||!isNaN(a)&&!hasOwn(n,a))return r[a];if(hasOwn(n,a))return n[a]}}function cloneAllDimensionInfo(r){return clone$4(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$4(r);var n=r.type,a="";n||throwError(a);var o=n.split(":");o.length!==2&&throwError(a);var s=!1;o[0]==="echarts"&&(n=o[1],s=!0),r.__isBuiltIn=s,externalTransformMap.set(n,r)}function applyDataTransform(r,n,a){var o=normalizeToArray(r),s=o.length,l="";s||throwError(l);for(var c=0,u=s;c<u;c++){var d=o[c];n=applySingleDataTransform(d,n),c!==u-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(r,n,a,o){var s="";n.length||throwError(s),isObject$3(r)||throwError(s);var l=r.type,c=externalTransformMap.get(l);c||throwError(s);var u=map$1(n,function(f){return createExternalSource(f,c)}),d=normalizeToArray(c.transform({upstream:u[0],upstreamList:u,config:clone$4(r.config)}));return map$1(d,function(f,v){var g="";isObject$3(f)||throwError(g),f.data||throwError(g);var y=detectSourceFormat(f.data);isSupportedSourceFormat(y)||throwError(g);var _,b=n[0];if(b&&v===0&&!f.dimensions){var T=b.startIndex;T&&(f.data=b.data.slice(0,T).concat(f.data)),_={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:T,dimensions:b.metaRawOption.dimensions}}else _={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:f.dimensions};return createSource(f.data,_,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var n=r.constructor;return n===Array?r.slice():new n(r)}function prepareStore(r,n,a,o,s){var l=dataCtors[a||"float"];if(s){var c=r[n],u=c&&c.length;if(u!==o){for(var d=new l(o),f=0;f<u;f++)d[f]=c[f];r[n]=d}}else r[n]=new l(o)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(n,a,o){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=n.getSource(),l=this.defaultDimValueGetter=defaultDimValueGetters[s.sourceFormat];this._dimValueGetter=o||l,this._rawExtent=[],shouldRetrieveDataByName(s),this._dimensions=map$1(a,function(c){return{type:c.type,property:c.property}}),this._initDataFromProvider(0,n.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(n,a){var o=this._calcDimNameToIdx,s=this._dimensions,l=o.get(n);if(l!=null){if(s[l].type===a)return l}else l=s.length;return s[l]={type:a},o.set(n,l),this._chunks[l]=new dataCtors[a||"float"](this._rawCount),this._rawExtent[l]=getInitialExtent(),l},r.prototype.collectOrdinalMeta=function(n,a){var o=this._chunks[n],s=this._dimensions[n],l=this._rawExtent,c=s.ordinalOffset||0,u=o.length;c===0&&(l[n]=getInitialExtent());for(var d=l[n],f=c;f<u;f++){var v=o[f]=a.parseAndCollect(o[f]);isNaN(v)||(d[0]=Math.min(v,d[0]),d[1]=Math.max(v,d[1]))}s.ordinalMeta=a,s.ordinalOffset=u,s.type="ordinal"},r.prototype.getOrdinalMeta=function(n){var a=this._dimensions[n],o=a.ordinalMeta;return o},r.prototype.getDimensionProperty=function(n){var a=this._dimensions[n];return a&&a.property},r.prototype.appendData=function(n){var a=this._provider,o=this.count();a.appendData(n);var s=a.count();return a.persistent||(s+=o),o<s&&this._initDataFromProvider(o,s,!0),[o,s]},r.prototype.appendValues=function(n,a){for(var o=this._chunks,s=this._dimensions,l=s.length,c=this._rawExtent,u=this.count(),d=u+Math.max(n.length,a||0),f=0;f<l;f++){var v=s[f];prepareStore(o,f,v.type,d,!0)}for(var g=[],y=u;y<d;y++)for(var _=y-u,b=0;b<l;b++){var v=s[b],T=defaultDimValueGetters.arrayRows.call(this,n[_]||g,v.property,_,b);o[b][y]=T;var C=c[b];T<C[0]&&(C[0]=T),T>C[1]&&(C[1]=T)}return this._rawCount=this._count=d,{start:u,end:d}},r.prototype._initDataFromProvider=function(n,a,o){for(var s=this._provider,l=this._chunks,c=this._dimensions,u=c.length,d=this._rawExtent,f=map$1(c,function(E){return E.property}),v=0;v<u;v++){var g=c[v];d[v]||(d[v]=getInitialExtent()),prepareStore(l,v,g.type,a,o)}if(s.fillStorage)s.fillStorage(n,a,l,d);else for(var y=[],_=n;_<a;_++){y=s.getItem(_,y);for(var b=0;b<u;b++){var T=l[b],C=this._dimValueGetter(y,f[b],_,b);T[_]=C;var P=d[b];C<P[0]&&(P[0]=C),C>P[1]&&(P[1]=C)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=a,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(n,a){if(!(a>=0&&a<this._count))return NaN;var o=this._chunks[n];return o?o[this.getRawIndex(a)]:NaN},r.prototype.getValues=function(n,a){var o=[],s=[];if(a==null){a=n,n=[];for(var l=0;l<this._dimensions.length;l++)s.push(l)}else s=n;for(var l=0,c=s.length;l<c;l++)o.push(this.get(s[l],a));return o},r.prototype.getByRawIndex=function(n,a){if(!(a>=0&&a<this._rawCount))return NaN;var o=this._chunks[n];return o?o[a]:NaN},r.prototype.getSum=function(n){var a=this._chunks[n],o=0;if(a)for(var s=0,l=this.count();s<l;s++){var c=this.get(n,s);isNaN(c)||(o+=c)}return o},r.prototype.getMedian=function(n){var a=[];this.each([n],function(l){isNaN(l)||a.push(l)});var o=a.sort(function(l,c){return l-c}),s=this.count();return s===0?0:s%2===1?o[(s-1)/2]:(o[s/2]+o[s/2-1])/2},r.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var a=this._indices,o=a[n];if(o!=null&&o<this._count&&o===n)return n;for(var s=0,l=this._count-1;s<=l;){var c=(s+l)/2|0;if(a[c]<n)s=c+1;else if(a[c]>n)l=c-1;else return c}return-1},r.prototype.indicesOfNearest=function(n,a,o){var s=this._chunks,l=s[n],c=[];if(!l)return c;o==null&&(o=1/0);for(var u=1/0,d=-1,f=0,v=0,g=this.count();v<g;v++){var y=this.getRawIndex(v),_=a-l[y],b=Math.abs(_);b<=o&&((b<u||b===u&&_>=0&&d<0)&&(u=b,d=_,f=0),_===d&&(c[f++]=v))}return c.length=f,c},r.prototype.getIndices=function(){var n,a=this._indices;if(a){var o=a.constructor,s=this._count;if(o===Array){n=new o(s);for(var l=0;l<s;l++)n[l]=a[l]}else n=new o(a.buffer,0,s)}else{var o=getIndicesCtor(this._rawCount);n=new o(this.count());for(var l=0;l<n.length;l++)n[l]=l}return n},r.prototype.filter=function(n,a){if(!this._count)return this;for(var o=this.clone(),s=o.count(),l=getIndicesCtor(o._rawCount),c=new l(s),u=[],d=n.length,f=0,v=n[0],g=o._chunks,y=0;y<s;y++){var _=void 0,b=o.getRawIndex(y);if(d===0)_=a(y);else if(d===1){var T=g[v][b];_=a(T,y)}else{for(var C=0;C<d;C++)u[C]=g[n[C]][b];u[C]=y,_=a.apply(null,u)}_&&(c[f++]=b)}return f<s&&(o._indices=c),o._count=f,o._extent=[],o._updateGetRawIdx(),o},r.prototype.selectRange=function(n){var a=this.clone(),o=a._count;if(!o)return this;var s=keys(n),l=s.length;if(!l)return this;var c=a.count(),u=getIndicesCtor(a._rawCount),d=new u(c),f=0,v=s[0],g=n[v][0],y=n[v][1],_=a._chunks,b=!1;if(!a._indices){var T=0;if(l===1){for(var C=_[s[0]],P=0;P<o;P++){var E=C[P];(E>=g&&E<=y||isNaN(E))&&(d[f++]=T),T++}b=!0}else if(l===2){for(var C=_[s[0]],M=_[s[1]],I=n[s[1]][0],L=n[s[1]][1],P=0;P<o;P++){var E=C[P],N=M[P];(E>=g&&E<=y||isNaN(E))&&(N>=I&&N<=L||isNaN(N))&&(d[f++]=T),T++}b=!0}}if(!b)if(l===1)for(var P=0;P<c;P++){var V=a.getRawIndex(P),E=_[s[0]][V];(E>=g&&E<=y||isNaN(E))&&(d[f++]=V)}else for(var P=0;P<c;P++){for(var B=!0,V=a.getRawIndex(P),z=0;z<l;z++){var G=s[z],E=_[G][V];(E<n[G][0]||E>n[G][1])&&(B=!1)}B&&(d[f++]=a.getRawIndex(P))}return f<c&&(a._indices=d),a._count=f,a._extent=[],a._updateGetRawIdx(),a},r.prototype.map=function(n,a){var o=this.clone(n);return this._updateDims(o,n,a),o},r.prototype.modify=function(n,a){this._updateDims(this,n,a)},r.prototype._updateDims=function(n,a,o){for(var s=n._chunks,l=[],c=a.length,u=n.count(),d=[],f=n._rawExtent,v=0;v<a.length;v++)f[a[v]]=getInitialExtent();for(var g=0;g<u;g++){for(var y=n.getRawIndex(g),_=0;_<c;_++)d[_]=s[a[_]][y];d[c]=g;var b=o&&o.apply(null,d);if(b!=null){typeof b!="object"&&(l[0]=b,b=l);for(var v=0;v<b.length;v++){var T=a[v],C=b[v],P=f[T],E=s[T];E&&(E[y]=C),C<P[0]&&(P[0]=C),C>P[1]&&(P[1]=C)}}}},r.prototype.lttbDownSample=function(n,a){var o=this.clone([n],!0),s=o._chunks,l=s[n],c=this.count(),u=0,d=Math.floor(1/a),f=this.getRawIndex(0),v,g,y,_=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c/d)+2)*2,c));_[u++]=f;for(var b=1;b<c-1;b+=d){for(var T=Math.min(b+d,c-1),C=Math.min(b+d*2,c),P=(C+T)/2,E=0,M=T;M<C;M++){var I=this.getRawIndex(M),L=l[I];isNaN(L)||(E+=L)}E/=C-T;var N=b,V=Math.min(b+d,c),B=b-1,z=l[f];v=-1,y=N;for(var G=-1,H=0,M=N;M<V;M++){var I=this.getRawIndex(M),L=l[I];if(isNaN(L)){H++,G<0&&(G=I);continue}g=Math.abs((B-P)*(L-z)-(B-M)*(E-z)),g>v&&(v=g,y=I)}H>0&&H<V-N&&(_[u++]=Math.min(G,y),y=Math.max(G,y)),_[u++]=y,f=y}return _[u++]=this.getRawIndex(c-1),o._count=u,o._indices=_,o.getRawIndex=this._getRawIdx,o},r.prototype.minmaxDownSample=function(n,a){for(var o=this.clone([n],!0),s=o._chunks,l=Math.floor(1/a),c=s[n],u=this.count(),d=new(getIndicesCtor(this._rawCount))(Math.ceil(u/l)*2),f=0,v=0;v<u;v+=l){var g=v,y=c[this.getRawIndex(g)],_=v,b=c[this.getRawIndex(_)],T=l;v+l>u&&(T=u-v);for(var C=0;C<T;C++){var P=this.getRawIndex(v+C),E=c[P];E<y&&(y=E,g=v+C),E>b&&(b=E,_=v+C)}var M=this.getRawIndex(g),I=this.getRawIndex(_);g<_?(d[f++]=M,d[f++]=I):(d[f++]=I,d[f++]=M)}return o._count=f,o._indices=d,o._updateGetRawIdx(),o},r.prototype.downSample=function(n,a,o,s){for(var l=this.clone([n],!0),c=l._chunks,u=[],d=Math.floor(1/a),f=c[n],v=this.count(),g=l._rawExtent[n]=getInitialExtent(),y=new(getIndicesCtor(this._rawCount))(Math.ceil(v/d)),_=0,b=0;b<v;b+=d){d>v-b&&(d=v-b,u.length=d);for(var T=0;T<d;T++){var C=this.getRawIndex(b+T);u[T]=f[C]}var P=o(u),E=this.getRawIndex(Math.min(b+s(u,P)||0,v-1));f[E]=P,P<g[0]&&(g[0]=P),P>g[1]&&(g[1]=P),y[_++]=E}return l._count=_,l._indices=y,l._updateGetRawIdx(),l},r.prototype.each=function(n,a){if(this._count)for(var o=n.length,s=this._chunks,l=0,c=this.count();l<c;l++){var u=this.getRawIndex(l);switch(o){case 0:a(l);break;case 1:a(s[n[0]][u],l);break;case 2:a(s[n[0]][u],s[n[1]][u],l);break;default:for(var d=0,f=[];d<o;d++)f[d]=s[n[d]][u];f[d]=l,a.apply(null,f)}}},r.prototype.getDataExtent=function(n){var a=this._chunks[n],o=getInitialExtent();if(!a)return o;var s=this.count(),l=!this._indices,c;if(l)return this._rawExtent[n].slice();if(c=this._extent[n],c)return c.slice();c=o;for(var u=c[0],d=c[1],f=0;f<s;f++){var v=this.getRawIndex(f),g=a[v];g<u&&(u=g),g>d&&(d=g)}return c=[u,d],this._extent[n]=c,c},r.prototype.getRawDataItem=function(n){var a=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(a);for(var o=[],s=this._chunks,l=0;l<s.length;l++)o.push(s[l][a]);return o},r.prototype.clone=function(n,a){var o=new r,s=this._chunks,l=n&&reduce(n,function(u,d){return u[d]=!0,u},{});if(l)for(var c=0;c<s.length;c++)o._chunks[c]=l[c]?cloneChunk(s[c]):s[c];else o._chunks=s;return this._copyCommonProps(o),a||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},r.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$4(this._extent),n._rawExtent=clone$4(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,a=void 0;if(n===Array){var o=this._indices.length;a=new n(o);for(var s=0;s<o;s++)a[s]=this._indices[s]}else a=new n(this._indices);return a}return null},r.prototype._getRawIdxIdentity=function(n){return n},r.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function n(a,o,s,l){return parseDataValue(a[l],this._dimensions[l])}defaultDimValueGetters={arrayRows:n,objectRows:function(a,o,s,l){return parseDataValue(a[o],this._dimensions[l])},keyedColumns:n,original:function(a,o,s,l){var c=a&&(a.value==null?a:a.value);return parseDataValue(c instanceof Array?c[l]:c,this._dimensions[l])},typedArray:function(a,o,s,l){return a[l]}}}(),r}(),SourceManager=function(){function r(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(n,a){this._sourceList=n,this._upstreamSignList=a,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,a=this._getUpstreamSourceManagers(),o=!!a.length,s,l;if(isSeries(n)){var c=n,u=void 0,d=void 0,f=void 0;if(o){var v=a[0];v.prepareSource(),f=v.getSource(),u=f.data,d=f.sourceFormat,l=[v._getVersionSign()]}else u=c.get("data",!0),d=isTypedArray(u)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,l=[];var g=this._getSourceMetaRawOption()||{},y=f&&f.metaRawOption||{},_=retrieve2(g.seriesLayoutBy,y.seriesLayoutBy)||null,b=retrieve2(g.sourceHeader,y.sourceHeader),T=retrieve2(g.dimensions,y.dimensions),C=_!==y.seriesLayoutBy||!!b!=!!y.sourceHeader||T;s=C?[createSource(u,{seriesLayoutBy:_,sourceHeader:b,dimensions:T},d)]:[]}else{var P=n;if(o){var E=this._applyTransform(a);s=E.sourceList,l=E.upstreamSignList}else{var M=P.get("source",!0);s=[createSource(M,this._getSourceMetaRawOption(),null)],l=[]}}this._setLocalSource(s,l)},r.prototype._applyTransform=function(n){var a=this._sourceHost,o=a.get("transform",!0),s=a.get("fromTransformResult",!0);if(s!=null){var l="";n.length!==1&&doThrow(l)}var c,u=[],d=[];return each$f(n,function(f){f.prepareSource();var v=f.getSource(s||0),g="";s!=null&&!v&&doThrow(g),u.push(v),d.push(f._getVersionSign())}),o?c=applyDataTransform(o,u,{datasetIndex:a.componentIndex}):s!=null&&(c=[cloneSourceShallow(u[0])]),{sourceList:c,upstreamSignList:d}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),a=0;a<n.length;a++){var o=n[a];if(o._isDirty()||this._upstreamSignList[a]!==o._getVersionSign())return!0}},r.prototype.getSource=function(n){n=n||0;var a=this._sourceList[n];if(!a){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(n)}return a},r.prototype.getSharedDataStore=function(n){var a=n.makeStoreSchema();return this._innerGetDataStore(a.dimensions,n.source,a.hash)},r.prototype._innerGetDataStore=function(n,a,o){var s=0,l=this._storeList,c=l[s];c||(c=l[s]={});var u=c[o];if(!u){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?u=d._innerGetDataStore(n,a,o):(u=new DataStore,u.initData(new DefaultDataProvider(a,n.length),n)),c[o]=u}return u},r.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var a=querySeriesUpstreamDatasetModel(n);return a?[a.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(o){return o.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,a,o,s;if(isSeries(n))a=n.get("seriesLayoutBy",!0),o=n.get("sourceHeader",!0),s=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var l=n;a=l.get("seriesLayoutBy",!0),o=l.get("sourceHeader",!0),s=l.get("dimensions",!0)}return{seriesLayoutBy:a,sourceHeader:o,dimensions:s}},r}();function disableTransformOptionMerge(r){var n=r.option.transform;n&&setAsPrimitive(r.option.transform)}function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(r){var n=r.lineHeight;return n==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(n+"")+"px"}function getTooltipTextStyle(r,n){var a=r.color||"#6e7079",o=r.fontSize||12,s=r.fontWeight||"400",l=r.color||"#464646",c=r.fontSize||14,u=r.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(a)+";font-weight:"+encodeHTML(s+""),valueStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(l)+";font-weight:"+encodeHTML(u+"")}:{nameStyle:{fontSize:o,fill:a,fontWeight:s},valueStyle:{fontSize:c,fill:l,fontWeight:u}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,n){return n.type=r,n}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var n=0,a=r.blocks.length,o=a>1||a>0&&!r.noHeader;return each$f(r.blocks,function(s){var l=getBlockGapLevel(s);l>=n&&(n=l+ +(o&&(!l||isSectionFragment(s)&&!s.noHeader)))}),n}return 0}function buildSection(r,n,a,o){var s=n.noHeader,l=getGap(getBlockGapLevel(n)),c=[],u=n.blocks||[];assert(!u||isArray$1(u)),u=u||[];var d=r.orderMode;if(n.sortBlocks&&d){u=u.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(f,d)){var v=new SortOrderComparator(f[d],null);u.sort(function(T,C){return v.evaluate(T.sortParam,C.sortParam)})}else d==="seriesDesc"&&u.reverse()}each$f(u,function(T,C){var P=n.valueFormatter,E=getBuilder(T)(P?extend(extend({},r),{valueFormatter:P}):r,T,C>0?l.html:0,o);E!=null&&c.push(E)});var g=r.renderMode==="richText"?c.join(l.richText):wrapBlockHTML(o,c.join(""),s?a:l.html);if(s)return g;var y=makeValueReadable(n.header,"ordinal",r.useUTC),_=getTooltipTextStyle(o,r.renderMode).nameStyle,b=getTooltipLineHeight(o);return r.renderMode==="richText"?wrapInlineNameRichText(r,y,_)+l.richText+g:wrapBlockHTML(o,'<div style="'+_+";"+b+';">'+encodeHTML(y)+"</div>"+g,a)}function buildNameValue(r,n,a,o){var s=r.renderMode,l=n.noName,c=n.noValue,u=!n.markerType,d=n.name,f=r.useUTC,v=n.valueFormatter||r.valueFormatter||function(I){return I=isArray$1(I)?I:[I],map$1(I,function(L,N){return makeValueReadable(L,isArray$1(_)?_[N]:_,f)})};if(!(l&&c)){var g=u?"":r.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",s),y=l?"":makeValueReadable(d,"ordinal",f),_=n.valueType,b=c?[]:v(n.value,n.dataIndex),T=!u||!l,C=!u&&l,P=getTooltipTextStyle(o,s),E=P.nameStyle,M=P.valueStyle;return s==="richText"?(u?"":g)+(l?"":wrapInlineNameRichText(r,y,E))+(c?"":wrapInlineValueRichText(r,b,T,C,M)):wrapBlockHTML(o,(u?"":g)+(l?"":wrapInlineNameHTML(y,!u,E))+(c?"":wrapInlineValueHTML(b,T,C,M)),a)}}function buildTooltipMarkup(r,n,a,o,s,l){if(r){var c=getBuilder(r),u={useUTC:s,renderMode:a,orderMode:o,markupStyleCreator:n,valueFormatter:r.valueFormatter};return c(u,r,0,l)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,n,a){var o='<div style="clear:both"></div>',s="margin: "+a+"px 0 0",l=getTooltipLineHeight(r);return'<div style="'+s+";"+l+';">'+n+o+"</div>"}function wrapInlineNameHTML(r,n,a){var o=n?"margin-left:2px":"";return'<span style="'+a+";"+o+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,n,a,o){var s=a?"10px":"20px",l=n?"float:right;margin-left:"+s:"";return r=isArray$1(r)?r:[r],'<span style="'+l+";"+o+'">'+map$1(r,function(c){return encodeHTML(c)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,n,a){return r.markupStyleCreator.wrapRichTextStyle(n,a)}function wrapInlineValueRichText(r,n,a,o,s){var l=[s],c=o?10:20;return a&&l.push({padding:[0,0,0,c],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray$1(n)?n.join("  "):n,l)}function retrieveVisualColorForTooltipMarker(r,n){var a=r.getData().getItemVisual(n,"style"),o=a[r.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(r,n){var a=r.get("padding");return a??(n==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(n,a,o){var s=o==="richText"?this._generateStyleName():null,l=getTooltipMarker({color:a,type:n,renderMode:o,markerId:s});return isString(l)?l:(this.richTextStyles[s]=l.style,l.content)},r.prototype.wrapRichTextStyle=function(n,a){var o={};isArray$1(a)?each$f(a,function(l){return extend(o,l)}):extend(o,a);var s=this._generateStyleName();return this.richTextStyles[s]=o,"{"+s+"|"+n+"}"},r}();function defaultSeriesFormatTooltip(r){var n=r.series,a=r.dataIndex,o=r.multipleSeries,s=n.getData(),l=s.mapDimensionsAll("defaultedTooltip"),c=l.length,u=n.getRawValue(a),d=isArray$1(u),f=retrieveVisualColorForTooltipMarker(n,a),v,g,y,_;if(c>1||d&&!c){var b=formatTooltipArrayValue(u,n,a,l,f);v=b.inlineValues,g=b.inlineValueTypes,y=b.blocks,_=b.inlineValues[0]}else if(c){var T=s.getDimensionInfo(l[0]);_=v=retrieveRawValue(s,a,l[0]),g=T.type}else _=v=d?u[0]:u;var C=isNameSpecified(n),P=C&&n.name||"",E=s.getName(a),M=o?P:E;return createTooltipMarkup("section",{header:P,noHeader:o||!C,sortParam:_,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:f,name:M,noName:!trim$1(M),value:v,valueType:g,dataIndex:a})].concat(y||[])})}function formatTooltipArrayValue(r,n,a,o,s){var l=n.getData(),c=reduce(r,function(g,y,_){var b=l.getDimensionInfo(_);return g=g||b&&b.tooltip!==!1&&b.displayName!=null},!1),u=[],d=[],f=[];o.length?each$f(o,function(g){v(retrieveRawValue(l,a,g),g)}):each$f(r,v);function v(g,y){var _=l.getDimensionInfo(y);!_||_.otherDims.tooltip===!1||(c?f.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:s,name:_.displayName,value:g,valueType:_.type})):(u.push(g),d.push(_.type)))}return{inlineValues:u,inlineValueTypes:d,blocks:f}}var inner$k=makeInner();function getSelectionKey(r,n){return r.getName(n)||r.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a._selectedDataIndicesMap={},a}return n.prototype.init=function(a,o,s){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,s);var l=inner$k(this).sourceManager=new SourceManager(this);l.prepareSource();var c=this.getInitialData(a,s);wrapData(c,this),this.dataTask.context.data=c,inner$k(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.mergeDefaultAndTheme=function(a,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(a):{},c=this.subType;ComponentModel.hasClass(c)&&(c+="Series"),merge(a,o.getTheme().get(this.subType)),merge(a,this.getDefaultOption()),defaultEmphasis(a,"label",["show"]),this.fillDataTextStyle(a.data),s&&mergeLayoutParam(a,l,s)},n.prototype.mergeOption=function(a,o){a=merge(this.option,a,!0),this.fillDataTextStyle(a.data);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,a,s);var l=inner$k(this).sourceManager;l.dirty(),l.prepareSource();var c=this.getInitialData(a,o);wrapData(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,inner$k(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.fillDataTextStyle=function(a){if(a&&!isTypedArray(a))for(var o=["show"],s=0;s<a.length;s++)a[s]&&a[s].label&&defaultEmphasis(a[s],"label",o)},n.prototype.getInitialData=function(a,o){},n.prototype.appendData=function(a){var o=this.getRawData();o.appendData(a.data)},n.prototype.getData=function(a){var o=getCurrentTask(this);if(o){var s=o.context.data;return a==null||!s.getLinkedData?s:s.getLinkedData(a)}else return inner$k(this).data},n.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},n.prototype.setData=function(a){var o=getCurrentTask(this);if(o){var s=o.context;s.outputData=a,o!==this.dataTask&&(s.data=a)}inner$k(this).data=a},n.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return createHashMap(a)},n.prototype.getSourceManager=function(){return inner$k(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var a=this.get("colorBy");return a||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},n.prototype.formatTooltip=function(a,o,s){return defaultSeriesFormatTooltip({series:this,dataIndex:a,multipleSeries:o})},n.prototype.isAnimationEnabled=function(){var a=this.ecModel;if(env.node&&!(a&&a.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(a,o,s){var l=this.ecModel,c=PaletteMixin.prototype.getColorFromPalette.call(this,a,o,s);return c||(c=l.getColorFromPalette(a,o,s)),c},n.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(a,o){this._innerSelect(this.getData(o),a)},n.prototype.unselect=function(a,o){var s=this.option.selectedMap;if(s){var l=this.option.selectedMode,c=this.getData(o);if(l==="series"||s==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var u=0;u<a.length;u++){var d=a[u],f=getSelectionKey(c,d);s[f]=!1,this._selectedDataIndicesMap[f]=-1}}},n.prototype.toggleSelect=function(a,o){for(var s=[],l=0;l<a.length;l++)s[0]=a[l],this.isSelected(a[l],o)?this.unselect(s,o):this.select(s,o)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var a=this._selectedDataIndicesMap,o=keys(a),s=[],l=0;l<o.length;l++){var c=a[o[l]];c>=0&&s.push(c)}return s},n.prototype.isSelected=function(a,o){var s=this.option.selectedMap;if(!s)return!1;var l=this.getData(o);return(s==="all"||s[getSelectionKey(l,a)])&&!l.getItemModel(a).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var a=this.option.universalTransition;return a?a===!0?!0:a&&a.enabled:!1},n.prototype._innerSelect=function(a,o){var s,l,c=this.option,u=c.selectedMode,d=o.length;if(!(!u||!d)){if(u==="series")c.selectedMap="all";else if(u==="multiple"){isObject$3(c.selectedMap)||(c.selectedMap={});for(var f=c.selectedMap,v=0;v<d;v++){var g=o[v],y=getSelectionKey(a,g);f[y]=!0,this._selectedDataIndicesMap[y]=a.getRawIndex(g)}}else if(u==="single"||u===!0){var _=o[d-1],y=getSelectionKey(a,_);c.selectedMap=(s={},s[y]=!0,s),this._selectedDataIndicesMap=(l={},l[y]=a.getRawIndex(_),l)}}},n.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var o=[];a.hasItemOption&&a.each(function(s){var l=a.getRawDataItem(s);l&&l.selected&&o.push(s)}),o.length>0&&this._innerSelect(a,o)}},n.registerClass=function(a){return ComponentModel.registerClass(a)},n.protoInitialize=function(){var a=n.prototype;a.type="series.__base__",a.seriesIndex=0,a.ignoreStyleOnData=!1,a.hasSymbolVisual=!1,a.defaultSymbol="circle",a.visualStyleAccessPath="itemStyle",a.visualDrawType="fill"}(),n}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(r){var n=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||n)}function getSeriesAutoName(r){var n=r.getRawData(),a=n.mapDimensionsAll("seriesName"),o=[];return each$f(a,function(s){var l=n.getDimensionInfo(s);l.displayName&&o.push(l.displayName)}),o.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var n=r.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,n){n.outputData&&r.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(r,n){each$f(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(a){r.wrapMethod(a,curry$1(onDataChange,n))})}function onDataChange(r,n){var a=getCurrentTask(r);return a&&a.setOutputEnd((n||this).count()),n}function getCurrentTask(r){var n=(r.ecModel||{}).scheduler,a=n&&n.getPipeline(r.uid);if(a){var o=a.currentTask;if(o){var s=o.agentStubMap;s&&(o=s.get(r.uid))}return o}}var ComponentView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewComponent")}return r.prototype.init=function(n,a){},r.prototype.render=function(n,a,o,s){},r.prototype.dispose=function(n,a){},r.prototype.updateView=function(n,a,o,s){},r.prototype.updateLayout=function(n,a,o,s){},r.prototype.updateVisual=function(n,a,o,s){},r.prototype.toggleBlurSeries=function(n,a,o){},r.prototype.eachRendered=function(n){var a=this.group;a&&a.traverse(n)},r}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var r=makeInner();return function(n){var a=r(n),o=n.pipelineContext,s=!!a.large,l=!!a.progressiveRender,c=a.large=!!(o&&o.large),u=a.progressiveRender=!!(o&&o.progressiveRender);return(s!==c||l!==u)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(n,a){},r.prototype.render=function(n,a,o,s){},r.prototype.highlight=function(n,a,o,s){var l=n.getData(s&&s.dataType);l&&toggleHighlight(l,s,"emphasis")},r.prototype.downplay=function(n,a,o,s){var l=n.getData(s&&s.dataType);l&&toggleHighlight(l,s,"normal")},r.prototype.remove=function(n,a){this.group.removeAll()},r.prototype.dispose=function(n,a){},r.prototype.updateView=function(n,a,o,s){this.render(n,a,o,s)},r.prototype.updateLayout=function(n,a,o,s){this.render(n,a,o,s)},r.prototype.updateVisual=function(n,a,o,s){this.render(n,a,o,s)},r.prototype.eachRendered=function(n){traverseElements(this.group,n)},r.markUpdateMethod=function(n,a){inner$j(n).updateMethod=a},r.protoInitialize=function(){var n=r.prototype;n.type="chart"}(),r}();function elSetState(r,n,a){r&&isHighDownDispatcher(r)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(r,a)}function toggleHighlight(r,n,a){var o=queryDataIndex(r,n),s=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;o!=null?each$f(normalizeToArray(o),function(l){elSetState(r.getItemGraphicEl(l),a,s)}):r.eachItemGraphicEl(function(l){elSetState(l,a,s)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var n=r.model,a=r.ecModel,o=r.api,s=r.payload,l=n.pipelineContext.progressiveRender,c=r.view,u=s&&inner$j(s).updateMethod,d=l?"incrementalPrepareRender":u&&c[u]?u:"render";return d!=="render"&&c[d](n,a,o,s),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,n){n.view.incrementalRender(r,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(r,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(r,n,a){var o,s=0,l=0,c=null,u,d,f,v;n=n||0;function g(){l=new Date().getTime(),c=null,r.apply(d,f||[])}var y=function(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];o=new Date().getTime(),d=this,f=_;var T=v||n,C=v||a;v=null,u=o-(C?s:l)-T,clearTimeout(c),C?c=setTimeout(g,T):u>=0?g():c=setTimeout(g,-u),s=o};return y.clear=function(){c&&(clearTimeout(c),c=null)},y.debounceNextCall=function(_){v=_},y}function createOrUpdate(r,n,a,o){var s=r[n];if(s){var l=s[ORIGIN_METHOD]||s,c=s[THROTTLE_TYPE],u=s[RATE];if(u!==a||c!==o){if(a==null||!o)return r[n]=l;s=r[n]=throttle(l,a,o==="debounce"),s[ORIGIN_METHOD]=l,s[THROTTLE_TYPE]=o,s[RATE]=a}return s}}function clear$1(r,n){var a=r[n];a&&a[ORIGIN_METHOD]&&(a.clear&&a.clear(),r[n]=a[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,n){var a=r.visualStyleMapper||defaultStyleMappers[n];return a||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,n){var a=r.visualDrawType||defaultColorKey[n];return a||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var a=r.getData(),o=r.visualStyleAccessPath||"itemStyle",s=r.getModel(o),l=getStyleMapper(r,o),c=l(s),u=s.getShallow("decal");u&&(a.setVisual("decal",u),u.dirty=!0);var d=getDefaultColorKey(r,o),f=c[d],v=isFunction(f)?f:null,g=c.fill==="auto"||c.stroke==="auto";if(!c[d]||v||g){var y=r.getColorFromPalette(r.name,null,n.getSeriesCount());c[d]||(c[d]=y,a.setVisual("colorFromPalette",!0)),c.fill=c.fill==="auto"||isFunction(c.fill)?y:c.fill,c.stroke=c.stroke==="auto"||isFunction(c.stroke)?y:c.stroke}if(a.setVisual("style",c),a.setVisual("drawType",d),!n.isSeriesFiltered(r)&&v)return a.setVisual("colorFromPalette",!1),{dataEach:function(_,b){var T=r.getDataParams(b),C=extend({},c);C[d]=v(T),_.setItemVisual(b,"style",C)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!(r.ignoreStyleOnData||n.isSeriesFiltered(r))){var a=r.getData(),o=r.visualStyleAccessPath||"itemStyle",s=getStyleMapper(r,o),l=a.getVisual("drawType");return{dataEach:a.hasItemOption?function(c,u){var d=c.getRawDataItem(u);if(d&&d[o]){sharedModel.option=d[o];var f=s(sharedModel),v=c.ensureUniqueItemVisual(u,"style");extend(v,f),sharedModel.option.decal&&(c.setItemVisual(u,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),l in f&&c.setItemVisual(u,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var n=createHashMap();r.eachSeries(function(a){var o=a.getColorBy();if(!a.isColorBySeries()){var s=a.type+"-"+o,l=n.get(s);l||(l={},n.set(s,l)),inner$i(a).scope=l}}),r.eachSeries(function(a){if(!(a.isColorBySeries()||r.isSeriesFiltered(a))){var o=a.getRawData(),s={},l=a.getData(),c=inner$i(a).scope,u=a.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(a,u);l.each(function(f){var v=l.getRawIndex(f);s[v]=f}),o.each(function(f){var v=s[f],g=l.getItemVisual(v,"colorFromPalette");if(g){var y=l.ensureUniqueItemVisual(v,"style"),_=o.getName(f)||f+"",b=o.count();y[d]=a.getColorFromPalette(_,c,b)}})}})}},PI$5=Math.PI;function defaultLoading(r,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new Group$3,o=new Rect$2({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});a.add(o);var s=new ZRText({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),l=new Rect$2({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});a.add(l);var c;return n.showSpinner&&(c=new Arc({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),a.add(c)),a.resize=function(){var u=s.getBoundingRect().width,d=n.showSpinner?n.spinnerRadius:0,f=(r.getWidth()-d*2-(n.showSpinner&&u?10:0)-u)/2-(n.showSpinner&&u?0:5+u/2)+(n.showSpinner?0:u/2)+(u?0:d),v=r.getHeight()/2;n.showSpinner&&c.setShape({cx:f,cy:v}),l.setShape({x:f-d,y:v-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},a.resize(),a}var Scheduler=function(){function r(n,a,o,s){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=a,o=this._dataProcessorHandlers=o.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=o.concat(s)}return r.prototype.restoreData=function(n,a){n.restoreData(a),this._stageTaskMap.each(function(o){var s=o.overallTask;s&&s.dirty()})},r.prototype.getPerformArgs=function(n,a){if(n.__pipeline){var o=this._pipelineMap.get(n.__pipeline.id),s=o.context,l=!a&&o.progressiveEnabled&&(!s||s.progressiveRender)&&n.__idxInPipeline>o.blockIndex,c=l?o.step:null,u=s&&s.modDataCount,d=u!=null?Math.ceil(u/c):null;return{step:c,modBy:d,modDataCount:u}}},r.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},r.prototype.updateStreamModes=function(n,a){var o=this._pipelineMap.get(n.uid),s=n.getData(),l=s.count(),c=o.progressiveEnabled&&a.incrementalPrepareRender&&l>=o.threshold,u=n.get("large")&&l>=n.get("largeThreshold"),d=n.get("progressiveChunkMode")==="mod"?l:null;n.pipelineContext=o.context={progressiveRender:c,modDataCount:d,large:u}},r.prototype.restorePipelines=function(n){var a=this,o=a._pipelineMap=createHashMap();n.eachSeries(function(s){var l=s.getProgressive(),c=s.uid;o.set(c,{id:c,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:l&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(l||700),count:0}),a._pipe(s,s.dataTask)})},r.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,a=this.api.getModel(),o=this.api;each$f(this._allHandlers,function(s){var l=n.get(s.uid)||n.set(s.uid,{}),c="";assert(!(s.reset&&s.overallReset),c),s.reset&&this._createSeriesStageTask(s,l,a,o),s.overallReset&&this._createOverallStageTask(s,l,a,o)},this)},r.prototype.prepareView=function(n,a,o,s){var l=n.renderTask,c=l.context;c.model=a,c.ecModel=o,c.api=s,l.__block=!n.incrementalPrepareRender,this._pipe(a,l)},r.prototype.performDataProcessorTasks=function(n,a){this._performStageTasks(this._dataProcessorHandlers,n,a,{block:!0})},r.prototype.performVisualTasks=function(n,a,o){this._performStageTasks(this._visualHandlers,n,a,o)},r.prototype._performStageTasks=function(n,a,o,s){s=s||{};var l=!1,c=this;each$f(n,function(d,f){if(!(s.visualType&&s.visualType!==d.visualType)){var v=c._stageTaskMap.get(d.uid),g=v.seriesTaskMap,y=v.overallTask;if(y){var _,b=y.agentStubMap;b.each(function(C){u(s,C)&&(C.dirty(),_=!0)}),_&&y.dirty(),c.updatePayload(y,o);var T=c.getPerformArgs(y,s.block);b.each(function(C){C.perform(T)}),y.perform(T)&&(l=!0)}else g&&g.each(function(C,P){u(s,C)&&C.dirty();var E=c.getPerformArgs(C,s.block);E.skip=!d.performRawSeries&&a.isSeriesFiltered(C.context.model),c.updatePayload(C,o),C.perform(E)&&(l=!0)})}});function u(d,f){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(f.__pipeline.id))}this.unfinished=l||this.unfinished},r.prototype.performSeriesTasks=function(n){var a;n.eachSeries(function(o){a=o.dataTask.perform()||a}),this.unfinished=a||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(n){var a=n.tail;do{if(a.__block){n.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},r.prototype.updatePayload=function(n,a){a!=="remain"&&(n.context.payload=a)},r.prototype._createSeriesStageTask=function(n,a,o,s){var l=this,c=a.seriesTaskMap,u=a.seriesTaskMap=createHashMap(),d=n.seriesType,f=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(v):d?o.eachRawSeriesByType(d,v):f&&f(o,s).each(v);function v(g){var y=g.uid,_=u.set(y,c&&c.get(y)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));_.context={model:g,ecModel:o,api:s,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:l},l._pipe(g,_)}},r.prototype._createOverallStageTask=function(n,a,o,s){var l=this,c=a.overallTask=a.overallTask||createTask({reset:overallTaskReset});c.context={ecModel:o,api:s,overallReset:n.overallReset,scheduler:l};var u=c.agentStubMap,d=c.agentStubMap=createHashMap(),f=n.seriesType,v=n.getTargetSeries,g=!0,y=!1,_="";assert(!n.createOnAllSeries,_),f?o.eachRawSeriesByType(f,b):v?v(o,s).each(b):(g=!1,each$f(o.getSeries(),b));function b(T){var C=T.uid,P=d.set(C,u&&u.get(C)||(y=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));P.context={model:T,overallProgress:g},P.agent=c,P.__block=g,l._pipe(T,P)}y&&c.dirty()},r.prototype._pipe=function(n,a){var o=n.uid,s=this._pipelineMap.get(o);!s.head&&(s.head=a),s.tail&&s.tail.pipe(a),s.tail=a,a.__idxInPipeline=s.count++,a.__pipeline=s},r.wrapStageHandler=function(n,a){return isFunction(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),a&&(n.visualType=a),n},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var n=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return n.length>1?map$1(n,function(a,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(n,a){var o=a.data,s=a.resetDefines[r];if(s&&s.dataEach)for(var l=n.start;l<n.end;l++)s.dataEach(o,l);else s&&s.progress&&s.progress(n,o)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r};ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,n){for(var a in n.prototype)r[a]=noop}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(n){var a={},o={},s={};if(isString(n)){var l=parseClassType(n);a.mainType=l.main||null,a.subType=l.sub||null}else{var c=["Index","Name","Id"],u={name:1,dataIndex:1,dataType:1};each$f(n,function(d,f){for(var v=!1,g=0;g<c.length;g++){var y=c[g],_=f.lastIndexOf(y);if(_>0&&_===f.length-y.length){var b=f.slice(0,_);b!=="data"&&(a.mainType=b,a[y.toLowerCase()]=d,v=!0)}}u.hasOwnProperty(f)&&(o[f]=d,v=!0),v||(s[f]=d)})}return{cptQuery:a,dataQuery:o,otherQuery:s}},r.prototype.filter=function(n,a){var o=this.eventInfo;if(!o)return!0;var s=o.targetEl,l=o.packedEvent,c=o.model,u=o.view;if(!c||!u)return!0;var d=a.cptQuery,f=a.dataQuery;return v(d,c,"mainType")&&v(d,c,"subType")&&v(d,c,"index","componentIndex")&&v(d,c,"name")&&v(d,c,"id")&&v(f,l,"name")&&v(f,l,"dataIndex")&&v(f,l,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(n,a.otherQuery,s,l));function v(g,y,_,b){return g[_]==null||y[b||_]===g[_]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var a=r.getData();if(r.legendIcon&&a.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var o={},s={},l=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var u=SYMBOL_PROPS_WITH_CB[c],d=r.get(u);isFunction(d)?(l=!0,s[u]=d):o[u]=d}if(o.symbol=o.symbol||r.defaultSymbol,a.setVisual(extend({legendIcon:r.legendIcon||o.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},o)),n.isSeriesFiltered(r))return;var f=keys(s);function v(g,y){for(var _=r.getRawValue(y),b=r.getDataParams(y),T=0;T<f.length;T++){var C=f[T];g.setItemVisual(y,C,s[C](_,b))}}return{dataEach:l?v:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!r.hasSymbolVisual||n.isSeriesFiltered(r))return;var a=r.getData();function o(s,l){for(var c=s.getItemModel(l),u=0;u<SYMBOL_PROPS.length;u++){var d=SYMBOL_PROPS[u],f=c.getShallow(d,!0);f!=null&&s.setItemVisual(l,d,f)}}return{dataEach:a.hasItemOption?o:null}}};function getItemVisualFromData(r,n,a){switch(a){case"color":var o=r.getItemVisual(n,"style");return o[r.getVisual("drawType")];case"opacity":return r.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(n,a)}}function getVisualFromData(r,n){switch(n){case"color":var a=r.getVisual("style");return a[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(n)}}function setItemVisualFromData(r,n,a,o){switch(a){case"color":var s=r.ensureUniqueItemVisual(n,"style");s[r.getVisual("drawType")]=o,r.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(n,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(n,a,o);break}}function createLegacyDataSelectAction(r,n){function a(o,s){var l=[];return o.eachComponent({mainType:"series",subType:r,query:s},function(c){l.push(c.seriesIndex)}),l}each$f([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(o){n(o[0],function(s,l,c){s=extend({},s),c.dispatchAction(extend(s,{type:o[1],seriesIndex:a(l,s)}))})})}function handleSeriesLegacySelectEvents(r,n,a,o,s){var l=r+n;a.isSilent(l)||o.eachComponent({mainType:"series",subType:"pie"},function(c){for(var u=c.seriesIndex,d=c.option.selectedMap,f=s.selected,v=0;v<f.length;v++)if(f[v].seriesIndex===u){var g=c.getData(),y=queryDataIndex(g,s.fromActionPayload);a.trigger(l,{type:l,seriesId:c.id,name:isArray$1(y)?g.getName(y[0]):g.getName(y),selected:isString(d)?d:extend({},d)})}})}function handleLegacySelectEvents(r,n,a){r.on("selectchanged",function(o){var s=a.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,s,o),handleSeriesLegacySelectEvents("pie","selectchanged",n,s,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,s,o),handleSeriesLegacySelectEvents("pie","selected",n,s,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,s,o),handleSeriesLegacySelectEvents("pie","unselected",n,s,o))})}function findEventDispatcher(r,n,a){for(var o;r&&!(n(r)&&(o=r,a));)r=r.__hostTarget||r.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(n){return this._guard(n)[this._id]},r.prototype.set=function(n,a){var o=this._guard(n);return supportDefineProperty?Object.defineProperty(o,this._id,{value:a,enumerable:!1,configurable:!0}):o[this._id]=a,this},r.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},r.prototype.has=function(n){return!!this._guard(n)[this._id]},r.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},r}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var a=n.cx,o=n.cy,s=n.width/2,l=n.height/2;r.moveTo(a,o-l),r.lineTo(a+s,o+l),r.lineTo(a-s,o+l),r.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var a=n.cx,o=n.cy,s=n.width/2,l=n.height/2;r.moveTo(a,o-l),r.lineTo(a+s,o),r.lineTo(a,o+l),r.lineTo(a-s,o),r.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var a=n.x,o=n.y,s=n.width/5*3,l=Math.max(s,n.height),c=s/2,u=c*c/(l-c),d=o-l+c+u,f=Math.asin(u/c),v=Math.cos(f)*c,g=Math.sin(f),y=Math.cos(f),_=c*.6,b=c*.7;r.moveTo(a-v,d+u),r.arc(a,d,c,Math.PI-f,Math.PI*2+f),r.bezierCurveTo(a+v-g*_,d+u+y*_,a,o-b,a,o),r.bezierCurveTo(a,o-b,a-v+g*_,d+u+y*_,a-v,d+u),r.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var a=n.height,o=n.width,s=n.x,l=n.y,c=o/3*2;r.moveTo(s,l),r.lineTo(s+c,l+a),r.lineTo(s,l+a/4*3),r.lineTo(s-c,l+a),r.lineTo(s,l),r.closePath()}}),symbolCtors={line:Line$1,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,n,a,o,s){s.x1=r,s.y1=n+o/2,s.x2=r+a,s.y2=n+o/2},rect:function(r,n,a,o,s){s.x=r,s.y=n,s.width=a,s.height=o},roundRect:function(r,n,a,o,s){s.x=r,s.y=n,s.width=a,s.height=o,s.r=Math.min(a,o)/4},square:function(r,n,a,o,s){var l=Math.min(a,o);s.x=r,s.y=n,s.width=l,s.height=l},circle:function(r,n,a,o,s){s.cx=r+a/2,s.cy=n+o/2,s.r=Math.min(a,o)/2},diamond:function(r,n,a,o,s){s.cx=r+a/2,s.cy=n+o/2,s.width=a,s.height=o},pin:function(r,n,a,o,s){s.x=r+a/2,s.y=n+o/2,s.width=a,s.height=o},arrow:function(r,n,a,o,s){s.x=r+a/2,s.y=n+o/2,s.width=a,s.height=o},triangle:function(r,n,a,o,s){s.cx=r+a/2,s.cy=n+o/2,s.width=a,s.height=o}},symbolBuildProxies={};each$f(symbolCtors,function(r,n){symbolBuildProxies[n]=new r});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,n,a){var o=calculateTextPosition(r,n,a),s=this.shape;return s&&s.symbolType==="pin"&&n.position==="inside"&&(o.y=a.y+a.height*.4),o},buildPath:function(r,n,a){var o=n.symbolType;if(o!=="none"){var s=symbolBuildProxies[o];s||(o="rect",s=symbolBuildProxies[o]),symbolShapeMakers[o](n.x,n.y,n.width,n.height,s.shape),s.buildPath(r,s.shape,a)}}});function symbolPathSetColor(r,n){if(this.type!=="image"){var a=this.style;this.__isEmptyBrush?(a.stroke=r,a.fill=n||"#fff",a.lineWidth=2):this.shape.symbolType==="line"?a.stroke=r:a.fill=r,this.markRedraw()}}function createSymbol$1(r,n,a,o,s,l,c){var u=r.indexOf("empty")===0;u&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var d;return r.indexOf("image://")===0?d=makeImage(r.slice(8),new BoundingRect(n,a,o,s),c?"center":"cover"):r.indexOf("path://")===0?d=makePath(r.slice(7),{},new BoundingRect(n,a,o,s),c?"center":"cover"):d=new SymbolClz({shape:{symbolType:r,x:n,y:a,width:o,height:s}}),d.__isEmptyBrush=u,d.setColor=symbolPathSetColor,l&&d.setColor(l),d}function normalizeSymbolSize(r){return isArray$1(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function normalizeSymbolOffset(r,n){if(r!=null)return isArray$1(r)||(r=[r,r]),[parsePercent(r[0],n[0])||0,parsePercent(retrieve2(r[1],r[0]),n[1])||0]}function isSafeNum(r){return isFinite(r)}function createLinearGradient(r,n,a){var o=n.x==null?0:n.x,s=n.x2==null?1:n.x2,l=n.y==null?0:n.y,c=n.y2==null?0:n.y2;n.global||(o=o*a.width+a.x,s=s*a.width+a.x,l=l*a.height+a.y,c=c*a.height+a.y),o=isSafeNum(o)?o:0,s=isSafeNum(s)?s:1,l=isSafeNum(l)?l:0,c=isSafeNum(c)?c:0;var u=r.createLinearGradient(o,l,s,c);return u}function createRadialGradient(r,n,a){var o=a.width,s=a.height,l=Math.min(o,s),c=n.x==null?.5:n.x,u=n.y==null?.5:n.y,d=n.r==null?.5:n.r;n.global||(c=c*o+a.x,u=u*s+a.y,d=d*l),c=isSafeNum(c)?c:.5,u=isSafeNum(u)?u:.5,d=d>=0&&isSafeNum(d)?d:.5;var f=r.createRadialGradient(c,u,0,c,u,d);return f}function getCanvasGradient(r,n,a){for(var o=n.type==="radial"?createRadialGradient(r,n,a):createLinearGradient(r,n,a),s=n.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}function isClipPathChanged(r,n){if(r===n||!r&&!n)return!1;if(!r||!n||r.length!==n.length)return!0;for(var a=0;a<r.length;a++)if(r[a]!==n[a])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize$1(r,n,a){var o=["width","height"][n],s=["clientWidth","clientHeight"][n],l=["paddingLeft","paddingTop"][n],c=["paddingRight","paddingBottom"][n];if(a[o]!=null&&a[o]!=="auto")return parseFloat(a[o]);var u=document.defaultView.getComputedStyle(r);return(r[s]||parseInt10(u[o])||parseInt10(r.style[o]))-(parseInt10(u[l])||0)-(parseInt10(u[c])||0)|0}function normalizeLineDash(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:isNumber(r)?[r]:isArray$1(r)?r:null}function getLineDash(r){var n=r.style,a=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(a){var s=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;s&&s!==1&&(a=map$1(a,function(l){return l/s}),o/=s)}return[a,o]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(r){var n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var n=r.fill;return n!=null&&n!=="none"}function doFillPath(r,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var a=r.globalAlpha;r.globalAlpha=n.fillOpacity*n.opacity,r.fill(),r.globalAlpha=a}else r.fill()}function doStrokePath(r,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var a=r.globalAlpha;r.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(),r.globalAlpha=a}else r.stroke()}function createCanvasPattern(r,n,a){var o=createOrUpdateImage(n.image,n.__image,a);if(isImageReady(o)){var s=r.createPattern(o,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&s&&s.setTransform){var l=new DOMMatrix;l.translateSelf(n.x||0,n.y||0),l.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),l.scaleSelf(n.scaleX||1,n.scaleY||1),s.setTransform(l)}return s}}function brushPath(r,n,a,o){var s,l=styleHasStroke(a),c=styleHasFill(a),u=a.strokePercent,d=u<1,f=!n.path;(!n.silent||d)&&f&&n.createPathProxy();var v=n.path||pathProxyForDraw,g=n.__dirty;if(!o){var y=a.fill,_=a.stroke,b=c&&!!y.colorStops,T=l&&!!_.colorStops,C=c&&!!y.image,P=l&&!!_.image,E=void 0,M=void 0,I=void 0,L=void 0,N=void 0;(b||T)&&(N=n.getBoundingRect()),b&&(E=g?getCanvasGradient(r,y,N):n.__canvasFillGradient,n.__canvasFillGradient=E),T&&(M=g?getCanvasGradient(r,_,N):n.__canvasStrokeGradient,n.__canvasStrokeGradient=M),C&&(I=g||!n.__canvasFillPattern?createCanvasPattern(r,y,n):n.__canvasFillPattern,n.__canvasFillPattern=I),P&&(L=g||!n.__canvasStrokePattern?createCanvasPattern(r,_,n):n.__canvasStrokePattern,n.__canvasStrokePattern=I),b?r.fillStyle=E:C&&(I?r.fillStyle=I:c=!1),T?r.strokeStyle=M:P&&(L?r.strokeStyle=L:l=!1)}var V=n.getGlobalScale();v.setScale(V[0],V[1],n.segmentIgnoreThreshold);var B,z;r.setLineDash&&a.lineDash&&(s=getLineDash(n),B=s[0],z=s[1]);var G=!0;(f||g&SHAPE_CHANGED_BIT)&&(v.setDPR(r.dpr),d?v.setContext(null):(v.setContext(r),G=!1),v.reset(),n.buildPath(v,n.shape,o),v.toStatic(),n.pathUpdated()),G&&v.rebuildPath(r,d?u:1),B&&(r.setLineDash(B),r.lineDashOffset=z),o||(a.strokeFirst?(l&&doStrokePath(r,a),c&&doFillPath(r,a)):(c&&doFillPath(r,a),l&&doStrokePath(r,a))),B&&r.setLineDash([])}function brushImage(r,n,a){var o=n.__image=createOrUpdateImage(a.image,n.__image,n,n.onload);if(!(!o||!isImageReady(o))){var s=a.x||0,l=a.y||0,c=n.getWidth(),u=n.getHeight(),d=o.width/o.height;if(c==null&&u!=null?c=u*d:u==null&&c!=null?u=c/d:c==null&&u==null&&(c=o.width,u=o.height),a.sWidth&&a.sHeight){var f=a.sx||0,v=a.sy||0;r.drawImage(o,f,v,a.sWidth,a.sHeight,s,l,c,u)}else if(a.sx&&a.sy){var f=a.sx,v=a.sy,g=c-f,y=u-v;r.drawImage(o,f,v,g,y,s,l,c,u)}else r.drawImage(o,s,l,c,u)}}function brushText(r,n,a){var o,s=a.text;if(s!=null&&(s+=""),s){r.font=a.font||DEFAULT_FONT,r.textAlign=a.textAlign,r.textBaseline=a.textBaseline;var l=void 0,c=void 0;r.setLineDash&&a.lineDash&&(o=getLineDash(n),l=o[0],c=o[1]),l&&(r.setLineDash(l),r.lineDashOffset=c),a.strokeFirst?(styleHasStroke(a)&&r.strokeText(s,a.x,a.y),styleHasFill(a)&&r.fillText(s,a.x,a.y)):(styleHasFill(a)&&r.fillText(s,a.x,a.y),styleHasStroke(a)&&r.strokeText(s,a.x,a.y)),l&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,n,a,o,s){var l=!1;if(!o&&(a=a||{},n===a))return!1;if(o||n.opacity!==a.opacity){flushPathDrawn(r,s),l=!0;var c=Math.max(Math.min(n.opacity,1),0);r.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(o||n.blend!==a.blend)&&(l||(flushPathDrawn(r,s),l=!0),r.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var u=0;u<SHADOW_NUMBER_PROPS.length;u++){var d=SHADOW_NUMBER_PROPS[u];(o||n[d]!==a[d])&&(l||(flushPathDrawn(r,s),l=!0),r[d]=r.dpr*(n[d]||0))}return(o||n.shadowColor!==a.shadowColor)&&(l||(flushPathDrawn(r,s),l=!0),r.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),l}function bindPathAndTextCommonStyle(r,n,a,o,s){var l=getStyle(n,s.inHover),c=o?null:a&&getStyle(a,s.inHover)||{};if(l===c)return!1;var u=bindCommonProps(r,l,c,o,s);if((o||l.fill!==c.fill)&&(u||(flushPathDrawn(r,s),u=!0),isValidStrokeFillStyle(l.fill)&&(r.fillStyle=l.fill)),(o||l.stroke!==c.stroke)&&(u||(flushPathDrawn(r,s),u=!0),isValidStrokeFillStyle(l.stroke)&&(r.strokeStyle=l.stroke)),(o||l.opacity!==c.opacity)&&(u||(flushPathDrawn(r,s),u=!0),r.globalAlpha=l.opacity==null?1:l.opacity),n.hasStroke()){var d=l.lineWidth,f=d/(l.strokeNoScale&&n.getLineScale?n.getLineScale():1);r.lineWidth!==f&&(u||(flushPathDrawn(r,s),u=!0),r.lineWidth=f)}for(var v=0;v<STROKE_PROPS.length;v++){var g=STROKE_PROPS[v],y=g[0];(o||l[y]!==c[y])&&(u||(flushPathDrawn(r,s),u=!0),r[y]=l[y]||g[1])}return u}function bindImageStyle(r,n,a,o,s){return bindCommonProps(r,getStyle(n,s.inHover),a&&getStyle(a,s.inHover),o,s)}function setContextTransform(r,n){var a=n.transform,o=r.dpr||1;a?r.setTransform(o*a[0],o*a[1],o*a[2],o*a[3],o*a[4],o*a[5]):r.setTransform(o,0,0,o,0,0)}function updateClipStatus(r,n,a){for(var o=!1,s=0;s<r.length;s++){var l=r[s];o=o||l.isZeroArea(),setContextTransform(n,l),n.beginPath(),l.buildPath(n,l.shape),n.clip()}a.allClipped=o}function isTransformChanged(r,n){return r&&n?r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==n[3]||r[4]!==n[4]||r[5]!==n[5]:!(!r&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var n=styleHasFill(r),a=styleHasStroke(r);return!(r.lineDash||!(+n^+a)||n&&typeof r.fill!="string"||a&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,n){n.batchFill&&r.fill(),n.batchStroke&&r.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(r,n){return n&&r.__hoverStyle||r.style}function brushSingle(r,n){brush$1(r,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(r,n,a,o){var s=n.transform;if(!n.shouldBePainted(a.viewWidth,a.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var l=n.__clipPaths,c=a.prevElClipPaths,u=!1,d=!1;if((!c||isClipPathChanged(l,c))&&(c&&c.length&&(flushPathDrawn(r,a),r.restore(),d=u=!0,a.prevElClipPaths=null,a.allClipped=!1,a.prevEl=null),l&&l.length&&(flushPathDrawn(r,a),r.save(),updateClipStatus(l,r,a),u=!0),a.prevElClipPaths=l),a.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var f=a.prevEl;f||(d=u=!0);var v=n instanceof Path&&n.autoBatch&&canPathBatch(n.style);u||isTransformChanged(s,f.transform)?(flushPathDrawn(r,a),setContextTransform(r,n)):v||flushPathDrawn(r,a);var g=getStyle(n,a.inHover);n instanceof Path?(a.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,a.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,n,f,d,a),(!v||!a.batchFill&&!a.batchStroke)&&r.beginPath(),brushPath(r,n,g,v),v&&(a.batchFill=g.fill||"",a.batchStroke=g.stroke||"")):n instanceof TSpan?(a.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,a.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,n,f,d,a),brushText(r,n,g)):n instanceof ZRImage?(a.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,a.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,n,f,d,a),brushImage(r,n,g)):n.getTemporalDisplayables&&(a.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,a.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,n,a)),v&&o&&flushPathDrawn(r,a),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),a.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(r,n,a){var o=n.getDisplayables(),s=n.getTemporalDisplayables();r.save();var l={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:a.viewWidth,viewHeight:a.viewHeight,inHover:a.inHover},c,u;for(c=n.getCursor(),u=o.length;c<u;c++){var d=o[c];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(r,d,l,c===u-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}for(var f=0,v=s.length;f<v;f++){var d=s[f];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(r,d,l,f===v-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}n.clearTemporalDisplayables(),n.notClear=!0,r.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,n){if(r==="none")return null;var a=n.getDevicePixelRatio(),o=n.getZr(),s=o.painter.type==="svg";r.dirty&&decalMap.delete(r);var l=decalMap.get(r);if(l)return l;var c=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor==="none"&&(c.backgroundColor=null);var u={repeat:"repeat"};return d(u),u.rotation=c.rotation,u.scaleX=u.scaleY=s?1:1/a,decalMap.set(r,u),r.dirty=!1,u;function d(f){for(var v=[a],g=!0,y=0;y<decalKeys.length;++y){var _=c[decalKeys[y]];if(_!=null&&!isArray$1(_)&&!isString(_)&&!isNumber(_)&&typeof _!="boolean"){g=!1;break}v.push(_)}var b;if(g){b=v.join(",")+(s?"-svg":"");var T=decalCache.get(b);T&&(s?f.svgElement=T:f.image=T)}var C=normalizeDashArrayX(c.dashArrayX),P=normalizeDashArrayY(c.dashArrayY),E=normalizeSymbolArray(c.symbol),M=getLineBlockLengthX(C),I=getLineBlockLengthY(P),L=!s&&platformApi.createCanvas(),N=s&&{tag:"g",attrs:{},key:"dcl",children:[]},V=z(),B;L&&(L.width=V.width*a,L.height=V.height*a,B=L.getContext("2d")),G(),g&&decalCache.put(b,L||N),f.image=L,f.svgElement=N,f.svgWidth=V.width,f.svgHeight=V.height;function z(){for(var H=1,W=0,j=M.length;W<j;++W)H=getLeastCommonMultiple(H,M[W]);for(var X=1,W=0,j=E.length;W<j;++W)X=getLeastCommonMultiple(X,E[W].length);H*=X;var Z=I*M.length*E.length;return{width:Math.max(1,Math.min(H,c.maxTileWidth)),height:Math.max(1,Math.min(Z,c.maxTileHeight))}}function G(){B&&(B.clearRect(0,0,L.width,L.height),c.backgroundColor&&(B.fillStyle=c.backgroundColor,B.fillRect(0,0,L.width,L.height)));for(var H=0,W=0;W<P.length;++W)H+=P[W];if(H<=0)return;for(var j=-I,X=0,Z=0,q=0;j<V.height;){if(X%2===0){for(var le=Z/2%E.length,ae=0,he=0,ve=0;ae<V.width*2;){for(var ce=0,W=0;W<C[q].length;++W)ce+=C[q][W];if(ce<=0)break;if(he%2===0){var fe=(1-c.symbolSize)*.5,_e=ae+C[q][he]*fe,Ce=j+P[X]*fe,Se=C[q][he]*c.symbolSize,De=P[X]*c.symbolSize,ne=ve/2%E[le].length;pe(_e,Ce,Se,De,E[le][ne])}ae+=C[q][he],++ve,++he,he===C[q].length&&(he=0)}++q,q===C.length&&(q=0)}j+=P[X],++Z,++X,X===P.length&&(X=0)}function pe(de,Te,we,Ie,te){var oe=s?1:a,ge=createSymbol$1(te,de*oe,Te*oe,we*oe,Ie*oe,c.color,c.symbolKeepAspect);if(s){var Ae=o.painter.renderOneToVNode(ge);Ae&&N.children.push(Ae)}else brushSingle(B,ge)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString(r))return[[r]];for(var n=!0,a=0;a<r.length;++a)if(!isString(r[a])){n=!1;break}if(n)return normalizeSymbolArray([r]);for(var o=[],a=0;a<r.length;++a)isString(r[a])?o.push([r[a]]):o.push(r[a]);return o}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber(r)){var n=Math.ceil(r);return[[n,n]]}for(var a=!0,o=0;o<r.length;++o)if(!isNumber(r[o])){a=!1;break}if(a)return normalizeDashArrayX([r]);for(var s=[],o=0;o<r.length;++o)if(isNumber(r[o])){var n=Math.ceil(r[o]);s.push([n,n])}else{var n=map$1(r[o],function(u){return Math.ceil(u)});n.length%2===1?s.push(n.concat(n)):s.push(n)}return s}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber(r)){var n=Math.ceil(r);return[n,n]}var a=map$1(r,function(o){return Math.ceil(o)});return r.length%2?a.concat(a):a}function getLineBlockLengthX(r){return map$1(r,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(r){for(var n=0,a=0;a<r.length;++a)n+=r[a];return r.length%2===1?n*2:n}function decalVisual(r,n){r.eachRawSeries(function(a){if(!r.isSeriesFiltered(a)){var o=a.getData();o.hasItemVisual()&&o.each(function(c){var u=o.getItemVisual(c,"decal");if(u){var d=o.ensureUniqueItemVisual(c,"style");d.decal=createOrUpdatePatternFromDecal(u,n)}});var s=o.getVisual("decal");if(s){var l=o.getVisual("style");l.decal=createOrUpdatePatternFromDecal(s,n)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(r,n){implsStore[r]=n}function getImpl(r){return implsStore[r]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(r){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,r,n)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return toLowercaseNameAndCallEventful(this,r,n)}}function toLowercaseNameAndCallEventful(r,n,a){return a[0]=a[0]&&a[0].toLowerCase(),Eventful.prototype[n].apply(r,a)}var MessageCenter=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts$1=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,new ECEventProcessor)||this;l._chartsViews=[],l._chartsMap={},l._componentsViews=[],l._componentsMap={},l._pendingActions=[],s=s||{},isString(o)&&(o=themeStorage[o]),l._dom=a;var c="canvas",u="auto",d=!1;s.ssr&&registerSSRDataGetter(function(y){var _=getECData(y),b=_.dataIndex;if(b!=null){var T=createHashMap();return T.set("series_index",_.seriesIndex),T.set("data_index",b),_.ssrType&&T.set("ssr_type",_.ssrType),T}});var f=l._zr=init$2(a,{renderer:s.renderer||c,devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:retrieve2(s.useDirtyRect,d),useCoarsePointer:retrieve2(s.useCoarsePointer,u),pointerSize:s.pointerSize});l._ssr=s.ssr,l._throttledZrFlush=throttle(bind$1(f.flush,f),17),o=clone$4(o),o&&globalBackwardCompat(o,!0),l._theme=o,l._locale=createLocaleObject(s.locale||SYSTEM_LANG),l._coordSysMgr=new CoordinateSystemManager;var v=l._api=createExtensionAPI(l);function g(y,_){return y.__prio-_.__prio}return sort$2(visualFuncs,g),sort$2(dataProcessorFuncs,g),l._scheduler=new Scheduler(l,v,dataProcessorFuncs,visualFuncs),l._messageCenter=new MessageCenter,l._initEvents(),l.resize=bind$1(l.resize,l),f.animation.on("frame",l._onframe,l),bindRenderedEvent(f,l),bindMouseEvent(f,l),setAsPrimitive(l),l}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var a=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(a.unfinished){var s=TEST_FRAME_REMAIN_TIME,l=this._model,c=this._api;a.unfinished=!1;do{var u=+new Date;a.performSeriesTasks(l),a.performDataProcessorTasks(l),updateStreamModes(this,l),a.performVisualTasks(l),renderSeries(this,this._model,c,"remain",{}),s-=+new Date-u}while(s>0&&a.unfinished);a.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(a,o,s){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var l,c,u;if(isObject$3(o)&&(s=o.lazyUpdate,l=o.silent,c=o.replaceMerge,u=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager(this._api),f=this._theme,v=this._model=new GlobalModel;v.scheduler=this._scheduler,v.ssr=this._ssr,v.init(null,null,null,f,this._locale,d)}this._model.setOption(a,{replaceMerge:c},optionPreprocessorFuncs);var g={seriesTransition:u,optionChanged:!0};if(s)this[PENDING_UPDATE]={silent:l,updateParams:g},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,g)}catch(y){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,y}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(a){return this.renderToCanvas(a)},n.prototype.renderToCanvas=function(a){a=a||{};var o=this._zr.painter;return o.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(a){a=a||{};var o=this._zr.painter;return o.renderToString({useViewBox:a.useViewBox})},n.prototype.getSvgDataURL=function(){if(env.svgSupported){var a=this._zr,o=a.storage.getDisplayList();return each$f(o,function(s){s.stopAnimation(null,!0)}),a.painter.toDataURL()}},n.prototype.getDataURL=function(a){if(this._disposed){this.id;return}a=a||{};var o=a.excludeComponents,s=this._model,l=[],c=this;each$f(o,function(d){s.eachComponent({mainType:d},function(f){var v=c._componentsMap[f.__viewId];v.group.ignore||(l.push(v),v.group.ignore=!0)})});var u=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return each$f(l,function(d){d.group.ignore=!1}),u},n.prototype.getConnectedDataURL=function(a){if(this._disposed){this.id;return}var o=a.type==="svg",s=this.group,l=Math.min,c=Math.max,u=1/0;if(connectedGroups[s]){var d=u,f=u,v=-u,g=-u,y=[],_=a&&a.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(M,I){if(M.group===s){var L=o?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(clone$4(a)),N=M.getDom().getBoundingClientRect();d=l(N.left,d),f=l(N.top,f),v=c(N.right,v),g=c(N.bottom,g),y.push({dom:L,left:N.left,top:N.top})}}),d*=_,f*=_,v*=_,g*=_;var b=v-d,T=g-f,C=platformApi.createCanvas(),P=init$2(C,{renderer:o?"svg":"canvas"});if(P.resize({width:b,height:T}),o){var E="";return each$f(y,function(M){var I=M.left-d,L=M.top-f;E+='<g transform="translate('+I+","+L+')">'+M.dom+"</g>"}),P.painter.getSvgRoot().innerHTML=E,a.connectedBackgroundColor&&P.painter.setBackgroundColor(a.connectedBackgroundColor),P.refreshImmediately(),P.painter.toDataURL()}else return a.connectedBackgroundColor&&P.add(new Rect$2({shape:{x:0,y:0,width:b,height:T},style:{fill:a.connectedBackgroundColor}})),each$f(y,function(M){var I=new ZRImage({style:{x:M.left*_-d,y:M.top*_-f,image:M.dom}});P.add(I)}),P.refreshImmediately(),C.toDataURL("image/"+(a&&a.type||"png"))}else return this.getDataURL(a)},n.prototype.convertToPixel=function(a,o){return doConvertPixel(this,"convertToPixel",a,o)},n.prototype.convertFromPixel=function(a,o){return doConvertPixel(this,"convertFromPixel",a,o)},n.prototype.containPixel=function(a,o){if(this._disposed){this.id;return}var s=this._model,l,c=parseFinder$1(s,a);return each$f(c,function(u,d){d.indexOf("Models")>=0&&each$f(u,function(f){var v=f.coordinateSystem;if(v&&v.containPoint)l=l||!!v.containPoint(o);else if(d==="seriesModels"){var g=this._chartsMap[f.__viewId];g&&g.containPoint&&(l=l||g.containPoint(o,f))}},this)},this),!!l},n.prototype.getVisual=function(a,o){var s=this._model,l=parseFinder$1(s,a,{defaultMainType:"series"}),c=l.seriesModel,u=c.getData(),d=l.hasOwnProperty("dataIndexInside")?l.dataIndexInside:l.hasOwnProperty("dataIndex")?u.indexOfRawIndex(l.dataIndex):null;return d!=null?getItemVisualFromData(u,d,o):getVisualFromData(u,o)},n.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},n.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},n.prototype._initEvents=function(){var a=this;each$f(MOUSE_EVENT_NAMES,function(o){var s=function(l){var c=a.getModel(),u=l.target,d,f=o==="globalout";if(f?d={}:u&&findEventDispatcher(u,function(b){var T=getECData(b);if(T&&T.dataIndex!=null){var C=T.dataModel||c.getSeriesByIndex(T.seriesIndex);return d=C&&C.getDataParams(T.dataIndex,T.dataType,u)||{},!0}else if(T.eventData)return d=extend({},T.eventData),!0},!0),d){var v=d.componentType,g=d.componentIndex;(v==="markLine"||v==="markPoint"||v==="markArea")&&(v="series",g=d.seriesIndex);var y=v&&g!=null&&c.getComponent(v,g),_=y&&a[y.mainType==="series"?"_chartsMap":"_componentsMap"][y.__viewId];d.event=l,d.type=o,a._$eventProcessor.eventInfo={targetEl:u,packedEvent:d,model:y,view:_},a.trigger(o,d)}};s.zrEventfulCallAtLast=!0,a._zr.on(o,s,a)}),each$f(eventActionMap,function(o,s){a._messageCenter.on(s,function(l){this.trigger(s,l)},a)}),each$f(["selectchanged"],function(o){a._messageCenter.on(o,function(s){this.trigger(o,s)},a)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var a=this.getDom();a&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,s=o._api,l=o._model;each$f(o._componentsViews,function(c){c.dispose(l,s)}),each$f(o._chartsViews,function(c){c.dispose(l,s)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},n.prototype.resize=function(a){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(a);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var s=o.resetOption("media"),l=a&&a.silent;this[PENDING_UPDATE]&&(l==null&&(l=this[PENDING_UPDATE].silent),s=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{s&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},a&&a.animation)})}catch(c){throw this[IN_MAIN_PROCESS_KEY]=!1,c}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}}},n.prototype.showLoading=function(a,o){if(this._disposed){this.id;return}if(isObject$3(a)&&(o=a,a=""),a=a||"default",this.hideLoading(),!!loadingEffects[a]){var s=loadingEffects[a](this._api,o),l=this._zr;this._loadingFX=s,l.add(s)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(a){var o=extend({},a);return o.type=eventActionMap[a.type],o},n.prototype.dispatchAction=function(a,o){if(this._disposed){this.id;return}if(isObject$3(o)||(o={silent:!!o}),!!actions[a.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(a);return}var s=o.silent;doDispatchAction.call(this,a,s);var l=o.flush;l?this._zr.flush():l!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}},n.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(a){if(this._disposed){this.id;return}var o=a.seriesIndex,s=this.getModel(),l=s.getSeriesByIndex(o);l.appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(g){var y=g._scheduler;y.restorePipelines(g._model),y.prepareStageTasks(),prepareView(g,!0),prepareView(g,!1),y.plan()},prepareView=function(g,y){for(var _=g._model,b=g._scheduler,T=y?g._componentsViews:g._chartsViews,C=y?g._componentsMap:g._chartsMap,P=g._zr,E=g._api,M=0;M<T.length;M++)T[M].__alive=!1;y?_.eachComponent(function(N,V){N!=="series"&&I(V)}):_.eachSeries(I);function I(N){var V=N.__requireNewView;N.__requireNewView=!1;var B="_ec_"+N.id+"_"+N.type,z=!V&&C[B];if(!z){var G=parseClassType(N.type),H=y?ComponentView.getClass(G.main,G.sub):ChartView.getClass(G.sub);z=new H,z.init(_,E),C[B]=z,T.push(z),P.add(z.group)}N.__viewId=z.__id=B,z.__alive=!0,z.__model=N,z.group.__ecComponentInfo={mainType:N.mainType,index:N.componentIndex},!y&&b.prepareView(z,N,_,E)}for(var M=0;M<T.length;){var L=T[M];L.__alive?M++:(!y&&L.renderTask.dispose(),P.remove(L.group),L.dispose(_,E),T.splice(M,1),C[L.__id]===L&&delete C[L.__id],L.__id=L.group.__ecComponentInfo=null)}},updateDirectly=function(g,y,_,b,T){var C=g._model;if(C.setUpdatePayload(_),!b){each$f([].concat(g._componentsViews).concat(g._chartsViews),L);return}var P={};P[b+"Id"]=_[b+"Id"],P[b+"Index"]=_[b+"Index"],P[b+"Name"]=_[b+"Name"];var E={mainType:b,query:P};T&&(E.subType=T);var M=_.excludeSeriesId,I;M!=null&&(I=createHashMap(),each$f(normalizeToArray(M),function(N){var V=convertOptionIdName(N,null);V!=null&&I.set(V,!0)})),C&&C.eachComponent(E,function(N){var V=I&&I.get(N.id)!=null;if(!V)if(isHighDownPayload(_))if(N instanceof SeriesModel)_.type===HIGHLIGHT_ACTION_TYPE&&!_.notBlur&&!N.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(N,_,g._api);else{var B=findComponentHighDownDispatchers(N.mainType,N.componentIndex,_.name,g._api),z=B.focusSelf,G=B.dispatchers;_.type===HIGHLIGHT_ACTION_TYPE&&z&&!_.notBlur&&blurComponent(N.mainType,N.componentIndex,g._api),G&&each$f(G,function(H){_.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(H):leaveEmphasis(H)})}else isSelectChangePayload(_)&&N instanceof SeriesModel&&(toggleSelectionFromPayload(N,_,g._api),updateSeriesElementSelection(N),markStatusToUpdate(g))},g),C&&C.eachComponent(E,function(N){var V=I&&I.get(N.id)!=null;V||L(g[b==="series"?"_chartsMap":"_componentsMap"][N.__viewId])},g);function L(N){N&&N.__alive&&N[y]&&N[y](N.__model,C,g._api,_)}},updateMethods={prepareAndUpdate:function(g){prepare(this),updateMethods.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,y){var _=this._model,b=this._api,T=this._zr,C=this._coordSysMgr,P=this._scheduler;if(_){_.setUpdatePayload(g),P.restoreData(_,g),P.performSeriesTasks(_),C.create(_,b),P.performDataProcessorTasks(_,g),updateStreamModes(this,_),C.update(_,b),a(_),P.performVisualTasks(_,g),render(this,_,b,g,y);var E=_.get("backgroundColor")||"transparent",M=_.get("darkMode");T.setBackgroundColor(E),M!=null&&M!=="auto"&&T.setDarkMode(M),lifecycle.trigger("afterupdate",_,b)}},updateTransform:function(g){var y=this,_=this._model,b=this._api;if(_){_.setUpdatePayload(g);var T=[];_.eachComponent(function(P,E){if(P!=="series"){var M=y.getViewOfComponentModel(E);if(M&&M.__alive)if(M.updateTransform){var I=M.updateTransform(E,_,b,g);I&&I.update&&T.push(M)}else T.push(M)}});var C=createHashMap();_.eachSeries(function(P){var E=y._chartsMap[P.__viewId];if(E.updateTransform){var M=E.updateTransform(P,_,b,g);M&&M.update&&C.set(P.uid,1)}else C.set(P.uid,1)}),a(_),this._scheduler.performVisualTasks(_,g,{setDirty:!0,dirtyMap:C}),renderSeries(this,_,b,g,{},C),lifecycle.trigger("afterupdate",_,b)}},updateView:function(g){var y=this._model;y&&(y.setUpdatePayload(g),ChartView.markUpdateMethod(g,"updateView"),a(y),this._scheduler.performVisualTasks(y,g,{setDirty:!0}),render(this,y,this._api,g,{}),lifecycle.trigger("afterupdate",y,this._api))},updateVisual:function(g){var y=this,_=this._model;_&&(_.setUpdatePayload(g),_.eachSeries(function(b){b.getData().clearAllVisual()}),ChartView.markUpdateMethod(g,"updateVisual"),a(_),this._scheduler.performVisualTasks(_,g,{visualType:"visual",setDirty:!0}),_.eachComponent(function(b,T){if(b!=="series"){var C=y.getViewOfComponentModel(T);C&&C.__alive&&C.updateVisual(T,_,y._api,g)}}),_.eachSeries(function(b){var T=y._chartsMap[b.__viewId];T.updateVisual(b,_,y._api,g)}),lifecycle.trigger("afterupdate",_,this._api))},updateLayout:function(g){updateMethods.update.call(this,g)}},doConvertPixel=function(g,y,_,b){if(g._disposed){g.id;return}for(var T=g._model,C=g._coordSysMgr.getCoordinateSystems(),P,E=parseFinder$1(T,_),M=0;M<C.length;M++){var I=C[M];if(I[y]&&(P=I[y](T,E,b))!=null)return P}},updateStreamModes=function(g,y){var _=g._chartsMap,b=g._scheduler;y.eachSeries(function(T){b.updateStreamModes(T,_[T.__viewId])})},doDispatchAction=function(g,y){var _=this,b=this.getModel(),T=g.type,C=g.escapeConnect,P=actions[T],E=P.actionInfo,M=(E.update||"update").split(":"),I=M.pop(),L=M[0]!=null&&parseClassType(M[0]);this[IN_MAIN_PROCESS_KEY]=!0;var N=[g],V=!1;g.batch&&(V=!0,N=map$1(g.batch,function(X){return X=defaults(extend({},X),g),X.batch=null,X}));var B=[],z,G=isSelectChangePayload(g),H=isHighDownPayload(g);if(H&&allLeaveBlur(this._api),each$f(N,function(X){if(z=P.action(X,_._model,_._api),z=z||extend({},X),z.type=E.event||z.type,B.push(z),H){var Z=preParseFinder(g),q=Z.queryOptionMap,le=Z.mainTypeSpecified,ae=le?q.keys()[0]:"series";updateDirectly(_,I,X,ae),markStatusToUpdate(_)}else G?(updateDirectly(_,I,X,"series"),markStatusToUpdate(_)):L&&updateDirectly(_,I,X,L.main,L.sub)}),I!=="none"&&!H&&!G&&!L)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,g),this[PENDING_UPDATE]=null):updateMethods[I].call(this,g)}catch(X){throw this[IN_MAIN_PROCESS_KEY]=!1,X}if(V?z={type:E.event||T,escapeConnect:C,batch:B}:z=B[0],this[IN_MAIN_PROCESS_KEY]=!1,!y){var W=this._messageCenter;if(W.trigger(z.type,z),G){var j={type:"selectchanged",escapeConnect:C,selected:getAllSelectedIndices(b),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};W.trigger(j.type,j)}}},flushPendingActions=function(g){for(var y=this._pendingActions;y.length;){var _=y.shift();doDispatchAction.call(this,_,g)}},triggerUpdatedEvent=function(g){!g&&this.trigger("updated")},bindRenderedEvent=function(g,y){g.on("rendered",function(_){y.trigger("rendered",_),g.animation.isFinished()&&!y[PENDING_UPDATE]&&!y._scheduler.unfinished&&!y._pendingActions.length&&y.trigger("finished")})},bindMouseEvent=function(g,y){g.on("mouseover",function(_){var b=_.target,T=findEventDispatcher(b,isHighDownDispatcher);T&&(handleGlobalMouseOverForHighDown(T,_,y._api),markStatusToUpdate(y))}).on("mouseout",function(_){var b=_.target,T=findEventDispatcher(b,isHighDownDispatcher);T&&(handleGlobalMouseOutForHighDown(T,_,y._api),markStatusToUpdate(y))}).on("click",function(_){var b=_.target,T=findEventDispatcher(b,function(E){return getECData(E).dataIndex!=null},!0);if(T){var C=T.selected?"unselect":"select",P=getECData(T);y._api.dispatchAction({type:C,dataType:P.dataType,dataIndexInside:P.dataIndex,seriesIndex:P.seriesIndex,isFromClick:!0})}})};function a(g){g.clearColorPalette(),g.eachSeries(function(y){y.clearColorPalette()})}function o(g){var y=[],_=[],b=!1;if(g.eachComponent(function(E,M){var I=M.get("zlevel")||0,L=M.get("z")||0,N=M.getZLevelKey();b=b||!!N,(E==="series"?_:y).push({zlevel:I,z:L,idx:M.componentIndex,type:E,key:N})}),b){var T=y.concat(_),C,P;sort$2(T,function(E,M){return E.zlevel===M.zlevel?E.z-M.z:E.zlevel-M.zlevel}),each$f(T,function(E){var M=g.getComponent(E.type,E.idx),I=E.zlevel,L=E.key;C!=null&&(I=Math.max(C,I)),L?(I===C&&L!==P&&I++,P=L):P&&(I===C&&I++,P=""),C=I,M.setZLevel(I)})}}render=function(g,y,_,b,T){o(y),renderComponents(g,y,_,b,T),each$f(g._chartsViews,function(C){C.__alive=!1}),renderSeries(g,y,_,b,T),each$f(g._chartsViews,function(C){C.__alive||C.remove(y,_)})},renderComponents=function(g,y,_,b,T,C){each$f(C||g._componentsViews,function(P){var E=P.__model;f(E,P),P.render(E,y,_,b),u(E,P),v(E,P)})},renderSeries=function(g,y,_,b,T,C){var P=g._scheduler;T=extend(T||{},{updatedSeries:y.getSeries()}),lifecycle.trigger("series:beforeupdate",y,_,T);var E=!1;y.eachSeries(function(M){var I=g._chartsMap[M.__viewId];I.__alive=!0;var L=I.renderTask;P.updatePayload(L,b),f(M,I),C&&C.get(M.uid)&&L.dirty(),L.perform(P.getPerformArgs(L))&&(E=!0),I.group.silent=!!M.get("silent"),c(M,I),updateSeriesElementSelection(M)}),P.unfinished=E||P.unfinished,lifecycle.trigger("series:layoutlabels",y,_,T),lifecycle.trigger("series:transition",y,_,T),y.eachSeries(function(M){var I=g._chartsMap[M.__viewId];u(M,I),v(M,I)}),l(g,y),lifecycle.trigger("series:afterupdate",y,_,T)},markStatusToUpdate=function(g){g[STATUS_NEEDS_UPDATE_KEY]=!0,g.getZr().wakeUp()},applyChangedStates=function(g){g[STATUS_NEEDS_UPDATE_KEY]&&(g.getZr().storage.traverse(function(y){isElementRemoved(y)||s(y)}),g[STATUS_NEEDS_UPDATE_KEY]=!1)};function s(g){for(var y=[],_=g.currentStates,b=0;b<_.length;b++){var T=_[b];T==="emphasis"||T==="blur"||T==="select"||y.push(T)}g.selected&&g.states.select&&y.push("select"),g.hoverState===HOVER_STATE_EMPHASIS&&g.states.emphasis?y.push("emphasis"):g.hoverState===HOVER_STATE_BLUR&&g.states.blur&&y.push("blur"),g.useStates(y)}function l(g,y){var _=g._zr,b=_.storage,T=0;b.traverse(function(C){C.isGroup||T++}),T>y.get("hoverLayerThreshold")&&!env.node&&!env.worker&&y.eachSeries(function(C){if(!C.preventUsingHoverLayer){var P=g._chartsMap[C.__viewId];P.__alive&&P.eachRendered(function(E){E.states.emphasis&&(E.states.emphasis.hoverLayer=!0)})}})}function c(g,y){var _=g.get("blendMode")||null;y.eachRendered(function(b){b.isGroup||(b.style.blend=_)})}function u(g,y){if(!g.preventAutoZ){var _=g.get("z")||0,b=g.get("zlevel")||0;y.eachRendered(function(T){return d(T,_,b,-1/0),!0})}}function d(g,y,_,b){var T=g.getTextContent(),C=g.getTextGuideLine(),P=g.isGroup;if(P)for(var E=g.childrenRef(),M=0;M<E.length;M++)b=Math.max(d(E[M],y,_,b),b);else g.z=y,g.zlevel=_,b=Math.max(g.z2,b);if(T&&(T.z=y,T.zlevel=_,isFinite(b)&&(T.z2=b+2)),C){var I=g.textGuideLineConfig;C.z=y,C.zlevel=_,isFinite(b)&&(C.z2=b+(I&&I.showAbove?1:-1))}return b}function f(g,y){y.eachRendered(function(_){if(!isElementRemoved(_)){var b=_.getTextContent(),T=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),T&&T.stateTransition&&(T.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function v(g,y){var _=g.getModel("stateAnimation"),b=g.isAnimationEnabled(),T=_.get("duration"),C=T>0?{duration:T,delay:_.get("delay"),easing:_.get("easing")}:null;y.eachRendered(function(P){if(P.states&&P.states.emphasis){if(isElementRemoved(P))return;if(P instanceof Path&&savePathStates(P),P.__dirty){var E=P.prevStates;E&&P.useStates(E)}if(b){P.stateTransition=C;var M=P.getTextContent(),I=P.getTextGuideLine();M&&(M.stateTransition=C),I&&(I.stateTransition=C)}P.__dirty&&s(P)}})}createExtensionAPI=function(g){return new(function(y){__extends(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(b){for(;b;){var T=b.__ecComponentInfo;if(T!=null)return g._model.getComponent(T.mainType,T.index);b=b.parent}},_.prototype.enterEmphasis=function(b,T){enterEmphasis(b,T),markStatusToUpdate(g)},_.prototype.leaveEmphasis=function(b,T){leaveEmphasis(b,T),markStatusToUpdate(g)},_.prototype.enterBlur=function(b){enterBlur(b),markStatusToUpdate(g)},_.prototype.leaveBlur=function(b){leaveBlur(b),markStatusToUpdate(g)},_.prototype.enterSelect=function(b){enterSelect(b),markStatusToUpdate(g)},_.prototype.leaveSelect=function(b){leaveSelect(b),markStatusToUpdate(g)},_.prototype.getModel=function(){return g.getModel()},_.prototype.getViewOfComponentModel=function(b){return g.getViewOfComponentModel(b)},_.prototype.getViewOfSeriesModel=function(b){return g.getViewOfSeriesModel(b)},_}(ExtensionAPI))(g)},enableConnect=function(g){function y(_,b){for(var T=0;T<_.length;T++){var C=_[T];C[CONNECT_STATUS_KEY]=b}}each$f(eventActionMap,function(_,b){g._messageCenter.on(b,function(T){if(connectedGroups[g.group]&&g[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(T&&T.escapeConnect)return;var C=g.makeActionFromEvent(T),P=[];each$f(instances,function(E){E!==g&&E.group===g.group&&P.push(E)}),y(P,CONNECT_STATUS_PENDING),each$f(P,function(E){E[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&E.dispatchAction(C)}),y(P,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful),echartsProto=ECharts$1.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(r,n,a){var o=this;function s(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];n&&n.apply&&n.apply(this,l),o.off(r,s)}this.on.call(this,r,s,a)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(r,n,a){var o=!(a&&a.ssr);if(o){var s=getInstanceByDom(r);if(s)return s}var l=new ECharts$1(r,n,a);return l.id="ec_"+idBase++,instances[l.id]=l,o&&setAttribute(r,DOM_ATTRIBUTE_KEY,l.id),enableConnect(l),lifecycle.trigger("afterinit",l),l}function getInstanceByDom(r){return instances[getAttribute(r,DOM_ATTRIBUTE_KEY)]}function registerTheme(r,n){themeStorage[r]=n}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,n){normalizeRegister(dataProcessorFuncs,r,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,n){lifecycle.on(r,n)}function registerAction(r,n,a){isFunction(n)&&(a=n,n="");var o=isObject$3(r)?r.type:[r,r={event:n}][0];r.event=(r.event||o).toLowerCase(),n=r.event,!eventActionMap[n]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(n)),actions[o]||(actions[o]={action:a,actionInfo:r}),eventActionMap[n]=o)}function registerCoordinateSystem(r,n){CoordinateSystemManager.register(r,n)}function registerLayout(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,n,a,o,s){if((isFunction(n)||isObject$3(n))&&(a=n,n=o),!(indexOf(registeredTasks,a)>=0)){registeredTasks.push(a);var l=Scheduler.wrapStageHandler(a,s);l.__prio=n,l.__raw=a,r.push(l)}}function registerLoading(r,n){loadingEffects[r]=n}function registerMap$1(r,n,a){var o=getImpl("registerMap");o&&o(r,n,a)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",theme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(r){ComponentModel.registerClass(r)},registerComponentView:function(r){ComponentView.registerClass(r)},registerSeriesModel:function(r){SeriesModel.registerClass(r)},registerChartView:function(r){ChartView.registerClass(r)},registerSubTypeDefaulter:function(r,n){ComponentModel.registerSubTypeDefaulter(r,n)},registerPainter:function(r,n){registerPainter(r,n)}};function use(r){if(isArray$1(r)){each$f(r,function(n){use(n)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction(r)&&(r={install:r}),r.install(extensionRegisters))}function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(n,a,o,s,l,c){this._old=n,this._new=a,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=s||defaultKeyGetter,this.context=l,this._diffModeMultiple=c==="multiple"}return r.prototype.add=function(n){return this._add=n,this},r.prototype.update=function(n){return this._update=n,this},r.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},r.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},r.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},r.prototype.remove=function(n){return this._remove=n,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var n=this._old,a=this._new,o={},s=new Array(n.length),l=new Array(a.length);this._initIndexMap(n,null,s,"_oldKeyGetter"),this._initIndexMap(a,o,l,"_newKeyGetter");for(var c=0;c<n.length;c++){var u=s[c],d=o[u],f=dataIndexMapValueLength(d);if(f>1){var v=d.shift();d.length===1&&(o[u]=d[0]),this._update&&this._update(v,c)}else f===1?(o[u]=null,this._update&&this._update(d,c)):this._remove&&this._remove(c)}this._performRestAdd(l,o)},r.prototype._executeMultiple=function(){var n=this._old,a=this._new,o={},s={},l=[],c=[];this._initIndexMap(n,o,l,"_oldKeyGetter"),this._initIndexMap(a,s,c,"_newKeyGetter");for(var u=0;u<l.length;u++){var d=l[u],f=o[d],v=s[d],g=dataIndexMapValueLength(f),y=dataIndexMapValueLength(v);if(g>1&&y===1)this._updateManyToOne&&this._updateManyToOne(v,f),s[d]=null;else if(g===1&&y>1)this._updateOneToMany&&this._updateOneToMany(v,f),s[d]=null;else if(g===1&&y===1)this._update&&this._update(v,f),s[d]=null;else if(g>1&&y>1)this._updateManyToMany&&this._updateManyToMany(v,f),s[d]=null;else if(g>1)for(var _=0;_<g;_++)this._remove&&this._remove(f[_]);else this._remove&&this._remove(f)}this._performRestAdd(c,s)},r.prototype._performRestAdd=function(n,a){for(var o=0;o<n.length;o++){var s=n[o],l=a[s],c=dataIndexMapValueLength(l);if(c>1)for(var u=0;u<c;u++)this._add&&this._add(l[u]);else c===1&&this._add&&this._add(l);a[s]=null}},r.prototype._initIndexMap=function(n,a,o,s){for(var l=this._diffModeMultiple,c=0;c<n.length;c++){var u="_ec_"+this[s](n[c],c);if(l||(o[c]=u),!!a){var d=a[u],f=dataIndexMapValueLength(d);f===0?(a[u]=c,l&&o.push(u)):f===1?a[u]=[d,c]:d.push(c)}}},r}(),DimensionUserOuput=function(){function r(n,a){this._encode=n,this._schema=a}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,n){var a={},o=a.encode={},s=createHashMap(),l=[],c=[],u={};each$f(r.dimensions,function(y){var _=r.getDimensionInfo(y),b=_.coordDim;if(b){var T=_.coordDimIndex;getOrCreateEncodeArr(o,b)[T]=y,_.isExtraCoord||(s.set(b,1),mayLabelDimType(_.type)&&(l[0]=y),getOrCreateEncodeArr(u,b)[T]=r.getDimensionIndex(_.name)),_.defaultTooltip&&c.push(y)}VISUAL_DIMENSIONS.each(function(C,P){var E=getOrCreateEncodeArr(o,P),M=_.otherDims[P];M!=null&&M!==!1&&(E[M]=_.name)})});var d=[],f={};s.each(function(y,_){var b=o[_];f[_]=b[0],d=d.concat(b)}),a.dataDimsOnCoord=d,a.dataDimIndicesOnCoord=map$1(d,function(y){return r.getDimensionInfo(y).storeDimIndex}),a.encodeFirstDimNotExtra=f;var v=o.label;v&&v.length&&(l=v.slice());var g=o.tooltip;return g&&g.length?c=g.slice():c.length||(c=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=c,a.userOutput=new DimensionUserOuput(u,n),a}function getOrCreateEncodeArr(r,n){return r.hasOwnProperty(n)||(r[n]=[]),r[n]}function getDimensionTypeByAxis(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(n){this.otherDims={},n!=null&&extend(this,n)}return r}(),inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},r.prototype.getSourceDimension=function(n){var a=this.source.dimensionsDefine;if(a)return a[n]},r.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,a=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(n),s="",l=[],c=0,u=0;c<n;c++){var d=void 0,f=void 0,v=void 0,g=this.dimensions[u];if(g&&g.storeDimIndex===c)d=a?g.name:null,f=g.type,v=g.ordinalMeta,u++;else{var y=this.getSourceDimension(c);y&&(d=a?y.name:null,f=y.type)}l.push({property:d,type:f,ordinalMeta:v}),a&&d!=null&&(!g||!g.isCalculationCoord)&&(s+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),s+="$",s+=dimTypeShort[f]||"f",v&&(s+=v.uid),s+="$"}var _=this.source,b=[_.seriesLayoutBy,_.startIndex,s].join("$$");return{dimensions:l,hash:b}},r.prototype.makeOutputDimensionNames=function(){for(var n=[],a=0,o=0;a<this._fullDimCount;a++){var s=void 0,l=this.dimensions[o];if(l&&l.storeDimIndex===a)l.isCalculationCoord||(s=l.name),o++;else{var c=this.getSourceDimension(a);c&&(s=c.name)}n.push(s)}return n},r.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var n=createHashMap(),a=0;a<(r||[]).length;a++){var o=r[a],s=isObject$3(o)?o.name:o;s!=null&&n.get(s)==null&&n.set(s,a)}return n}function ensureSourceDimNameMap(r){var n=inner$h(r);return n.dimNameMap||(n.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(n,a){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var o,s=!1;isSeriesDataSchema(n)?(o=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(s=!0,o=n),o=o||["x","y"];for(var l={},c=[],u={},d=!1,f={},v=0;v<o.length;v++){var g=o[v],y=isString(g)?new SeriesDimensionDefine({name:g}):g instanceof SeriesDimensionDefine?g:new SeriesDimensionDefine(g),_=y.name;y.type=y.type||"float",y.coordDim||(y.coordDim=_,y.coordDimIndex=0);var b=y.otherDims=y.otherDims||{};c.push(_),l[_]=y,f[_]!=null&&(d=!0),y.createInvertedIndices&&(u[_]=[]),b.itemName===0&&(this._nameDimIdx=v),b.itemId===0&&(this._idDimIdx=v),s&&(y.storeDimIndex=v)}if(this.dimensions=c,this._dimInfos=l,this._initGetDimensionInfo(d),this.hostModel=a,this._invertedIndicesMap=u,this._dimOmitted){var T=this._dimIdxToName=createHashMap();each$f(c,function(C){T.set(l[C].storeDimIndex,C)})}}return r.prototype.getDimension=function(n){var a=this._recognizeDimIndex(n);if(a==null)return n;if(a=n,!this._dimOmitted)return this.dimensions[a];var o=this._dimIdxToName.get(a);if(o!=null)return o;var s=this._schema.getSourceDimension(a);if(s)return s.name},r.prototype.getDimensionIndex=function(n){var a=this._recognizeDimIndex(n);if(a!=null)return a;if(n==null)return-1;var o=this._getDimInfo(n);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},r.prototype._recognizeDimIndex=function(n){if(isNumber(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},r.prototype._getStoreDimIndex=function(n){var a=this.getDimensionIndex(n);return a},r.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},r.prototype._initGetDimensionInfo=function(n){var a=this._dimInfos;this._getDimInfo=n?function(o){return a.hasOwnProperty(o)?a[o]:void 0}:function(o){return a[o]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(n,a){var o=this._dimSummary;if(a==null)return o.encodeFirstDimNotExtra[n];var s=o.encode[n];return s?s[a]:null},r.prototype.mapDimensionsAll=function(n){var a=this._dimSummary,o=a.encode[n];return(o||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(n,a,o){var s=this,l;if(n instanceof DataStore&&(l=n),!l){var c=this.dimensions,u=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,c.length):n;l=new DataStore;var d=map(c,function(f){return{type:s._dimInfos[f].type,property:f}});l.initData(u,d,o)}this._store=l,this._nameList=(a||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,l.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(n){var a=this._store.appendData(n);this._doInit(a[0],a[1])},r.prototype.appendValues=function(n,a){var o=this._store.appendValues(n,a&&a.length),s=o.start,l=o.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),a)for(var u=s;u<l;u++){var d=u-s;this._nameList[u]=a[d],c&&makeIdFromName(this,u)}},r.prototype._updateOrdinalMeta=function(){for(var n=this._store,a=this.dimensions,o=0;o<a.length;o++){var s=this._dimInfos[a[o]];s.ordinalMeta&&n.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},r.prototype._doInit=function(n,a){if(!(n>=a)){var o=this._store,s=o.getProvider();this._updateOrdinalMeta();var l=this._nameList,c=this._idList,u=s.getSource().sourceFormat,d=u===SOURCE_FORMAT_ORIGINAL;if(d&&!s.pure)for(var f=[],v=n;v<a;v++){var g=s.getItem(v,f);if(!this.hasItemOption&&isDataItemOption(g)&&(this.hasItemOption=!0),g){var y=g.name;l[v]==null&&y!=null&&(l[v]=convertOptionIdName(y,null));var _=g.id;c[v]==null&&_!=null&&(c[v]=convertOptionIdName(_,null))}}if(this._shouldMakeIdFromName())for(var v=n;v<a;v++)makeIdFromName(this,v);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.setApproximateExtent=function(n,a){a=this.getDimension(a),this._approximateExtent[a]=n.slice()},r.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},r.prototype.setCalculationInfo=function(n,a){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=a},r.prototype.getName=function(n){var a=this.getRawIndex(n),o=this._nameList[a];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,a)),o==null&&(o=""),o},r.prototype._getCategory=function(n,a){var o=this._store.get(n,a),s=this._store.getOrdinalMeta(n);return s?s.categories[o]:o},r.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(n,a){var o=this._store,s=this._dimInfos[n];if(s)return o.get(s.storeDimIndex,a)},r.prototype.getByRawIndex=function(n,a){var o=this._store,s=this._dimInfos[n];if(s)return o.getByRawIndex(s.storeDimIndex,a)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},r.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},r.prototype.getValues=function(n,a){var o=this,s=this._store;return isArray$1(n)?s.getValues(map(n,function(l){return o._getStoreDimIndex(l)}),a):s.getValues(n)},r.prototype.hasValue=function(n){for(var a=this._dimSummary.dataDimIndicesOnCoord,o=0,s=a.length;o<s;o++)if(isNaN(this._store.get(a[o],n)))return!1;return!0},r.prototype.indexOfName=function(n){for(var a=0,o=this._store.count();a<o;a++)if(this.getName(a)===n)return a;return-1},r.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},r.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},r.prototype.rawIndexOf=function(n,a){var o=n&&this._invertedIndicesMap[n],s=o&&o[a];return s==null||isNaN(s)?INDEX_NOT_FOUND:s},r.prototype.indicesOfNearest=function(n,a,o){return this._store.indicesOfNearest(this._getStoreDimIndex(n),a,o)},r.prototype.each=function(n,a,o){isFunction(n)&&(o=a,a=n,n=[]);var s=o||this,l=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(l,s?bind$1(a,s):a)},r.prototype.filterSelf=function(n,a,o){isFunction(n)&&(o=a,a=n,n=[]);var s=o||this,l=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(l,s?bind$1(a,s):a),this},r.prototype.selectRange=function(n){var a=this,o={},s=keys(n);return each$f(s,function(l){var c=a._getStoreDimIndex(l);o[c]=n[l]}),this._store=this._store.selectRange(o),this},r.prototype.mapArray=function(n,a,o){isFunction(n)&&(o=a,a=n,n=[]),o=o||this;var s=[];return this.each(n,function(){s.push(a&&a.apply(this,arguments))},o),s},r.prototype.map=function(n,a,o,s){var l=o||s||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this),u=cloneListForMapAndSample(this);return u._store=this._store.map(c,l?bind$1(a,l):a),u},r.prototype.modify=function(n,a,o,s){var l=o||s||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(c,l?bind$1(a,l):a)},r.prototype.downSample=function(n,a,o,s){var l=cloneListForMapAndSample(this);return l._store=this._store.downSample(this._getStoreDimIndex(n),a,o,s),l},r.prototype.minmaxDownSample=function(n,a){var o=cloneListForMapAndSample(this);return o._store=this._store.minmaxDownSample(this._getStoreDimIndex(n),a),o},r.prototype.lttbDownSample=function(n,a){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(n),a),o},r.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},r.prototype.getItemModel=function(n){var a=this.hostModel,o=this.getRawDataItem(n);return new Model(o,a,a&&a.ecModel)},r.prototype.diff=function(n){var a=this;return new DataDiffer(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(n,o)},function(o){return getId(a,o)})},r.prototype.getVisual=function(n){var a=this._visual;return a&&a[n]},r.prototype.setVisual=function(n,a){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=a},r.prototype.getItemVisual=function(n,a){var o=this._itemVisuals[n],s=o&&o[a];return s??this.getVisual(a)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(n,a){var o=this._itemVisuals,s=o[n];s||(s=o[n]={});var l=s[a];return l==null&&(l=this.getVisual(a),isArray$1(l)?l=l.slice():isObject$1(l)&&(l=extend({},l)),s[a]=l),l},r.prototype.setItemVisual=function(n,a,o){var s=this._itemVisuals[n]||{};this._itemVisuals[n]=s,isObject$1(a)?extend(s,a):s[a]=o},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(n,a){isObject$1(n)?extend(this._layout,n):this._layout[n]=a},r.prototype.getLayout=function(n){return this._layout[n]},r.prototype.getItemLayout=function(n){return this._itemLayouts[n]},r.prototype.setItemLayout=function(n,a,o){this._itemLayouts[n]=o?extend(this._itemLayouts[n]||{},a):a},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(n,a){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,n,a),this._graphicEls[n]=a},r.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},r.prototype.eachItemGraphicEl=function(n,a){each$f(this._graphicEls,function(o,s){o&&n&&n.call(a,o,s)})},r.prototype.cloneShallow=function(n){return n||(n=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},r.prototype.wrapMethod=function(n,a){var o=this[n];isFunction(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var s=o.apply(this,arguments);return a.apply(this,[s].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(n){var a=n._invertedIndicesMap;each$f(a,function(o,s){var l=n._dimInfos[s],c=l.ordinalMeta,u=n._store;if(c){o=a[s]=new CtorInt32Array(c.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<u.count();d++)o[u.get(l.storeDimIndex,d)]=d}})},getIdNameFromStore=function(n,a,o){return convertOptionIdName(n._getCategory(a,o),null)},getId=function(n,a){var o=n._idList[a];return o==null&&n._idDimIdx!=null&&(o=getIdNameFromStore(n,n._idDimIdx,a)),o==null&&(o=ID_PREFIX+a),o},normalizeDimensions=function(n){return isArray$1(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var a=new r(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(a,n),a},transferProperties=function(n,a){each$f(TRANSFERABLE_PROPERTIES.concat(a.__wrappedMethods||[]),function(o){a.hasOwnProperty(o)&&(n[o]=a[o])}),n.__wrappedMethods=a.__wrappedMethods,each$f(CLONE_PROPERTIES,function(o){n[o]=clone$4(a[o])}),n._calculationInfo=extend({},a._calculationInfo)},makeIdFromName=function(n,a){var o=n._nameList,s=n._idList,l=n._nameDimIdx,c=n._idDimIdx,u=o[a],d=s[a];if(u==null&&l!=null&&(o[a]=u=getIdNameFromStore(n,l,a)),d==null&&c!=null&&(s[a]=d=getIdNameFromStore(n,c,a)),d==null&&u!=null){var f=n._nameRepeatCount,v=f[u]=(f[u]||0)+1;d=u,v>1&&(d+="__ec__"+v),s[a]=d}}}(),r}();function prepareSeriesDataSchema(r,n){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),n=n||{};var a=n.coordDimensions||[],o=n.dimensionsDefine||r.dimensionsDefine||[],s=createHashMap(),l=[],c=getDimCount(r,a,o,n.dimensionsCount),u=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),d=o===r.dimensionsDefine,f=d?ensureSourceDimNameMap(r):createDimNameMap(o),v=n.encodeDefine;!v&&n.encodeDefaulter&&(v=n.encodeDefaulter(r,c));for(var g=createHashMap(v),y=new CtorInt32Array$1(c),_=0;_<y.length;_++)y[_]=-1;function b(z){var G=y[z];if(G<0){var H=o[z],W=isObject$3(H)?H:{name:H},j=new SeriesDimensionDefine,X=W.name;X!=null&&f.get(X)!=null&&(j.name=j.displayName=X),W.type!=null&&(j.type=W.type),W.displayName!=null&&(j.displayName=W.displayName);var Z=l.length;return y[z]=Z,j.storeDimIndex=z,l.push(j),j}return l[G]}if(!u)for(var _=0;_<c;_++)b(_);g.each(function(z,G){var H=normalizeToArray(z).slice();if(H.length===1&&!isString(H[0])&&H[0]<0){g.set(G,!1);return}var W=g.set(G,[]);each$f(H,function(j,X){var Z=isString(j)?f.get(j):j;Z!=null&&Z<c&&(W[X]=Z,C(b(Z),G,X))})});var T=0;each$f(a,function(z){var G,H,W,j;if(isString(z))G=z,j={};else{j=z,G=j.name;var X=j.ordinalMeta;j.ordinalMeta=null,j=extend({},j),j.ordinalMeta=X,H=j.dimsDef,W=j.otherDims,j.name=j.coordDim=j.coordDimIndex=j.dimsDef=j.otherDims=null}var Z=g.get(G);if(Z!==!1){if(Z=normalizeToArray(Z),!Z.length)for(var q=0;q<(H&&H.length||1);q++){for(;T<c&&b(T).coordDim!=null;)T++;T<c&&Z.push(T++)}each$f(Z,function(le,ae){var he=b(le);if(d&&j.type!=null&&(he.type=j.type),C(defaults(he,j),G,ae),he.name==null&&H){var ve=H[ae];!isObject$3(ve)&&(ve={name:ve}),he.name=he.displayName=ve.name,he.defaultTooltip=ve.defaultTooltip}W&&defaults(he.otherDims,W)})}});function C(z,G,H){VISUAL_DIMENSIONS.get(G)!=null?z.otherDims[G]=H:(z.coordDim=G,z.coordDimIndex=H,s.set(G,!0))}var P=n.generateCoord,E=n.generateCoordCount,M=E!=null;E=P?E||1:0;var I=P||"value";function L(z){z.name==null&&(z.name=z.coordDim)}if(u)each$f(l,function(z){L(z)}),l.sort(function(z,G){return z.storeDimIndex-G.storeDimIndex});else for(var N=0;N<c;N++){var V=b(N),B=V.coordDim;B==null&&(V.coordDim=genCoordDimName(I,s,M),V.coordDimIndex=0,(!P||E<=0)&&(V.isExtraCoord=!0),E--),L(V),V.type==null&&(guessOrdinal(r,N)===BE_ORDINAL.Must||V.isExtraCoord&&(V.otherDims.itemName!=null||V.otherDims.seriesName!=null))&&(V.type="ordinal")}return removeDuplication(l),new SeriesDataSchema({source:r,dimensions:l,fullDimensionCount:c,dimensionOmitted:u})}function removeDuplication(r){for(var n=createHashMap(),a=0;a<r.length;a++){var o=r[a],s=o.name,l=n.get(s)||0;l>0&&(o.name=s+(l-1)),l++,n.set(s,l)}}function getDimCount(r,n,a,o){var s=Math.max(r.dimensionsDetectedCount||1,n.length,a.length,o||0);return each$f(n,function(l){var c;isObject$3(l)&&(c=l.dimsDef)&&(s=Math.max(s,c.length))}),s}function genCoordDimName(r,n,a){if(a||n.hasKey(r)){for(var o=0;n.hasKey(r+o);)o++;r+=o}return n.set(r,!0),r}var CoordSysInfo=function(){function r(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return r}();function getCoordSysInfoBySeries(r){var n=r.get("coordinateSystem"),a=new CoordSysInfo(n),o=fetchers[n];if(o)return o(r,a,a.axisMap,a.categoryAxisMap),a}var fetchers={cartesian2d:function(r,n,a,o){var s=r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],l=r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["x","y"],a.set("x",s),a.set("y",l),isCategory(s)&&(o.set("x",s),n.firstCategoryDimIndex=0),isCategory(l)&&(o.set("y",l),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(r,n,a,o){var s=r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["single"],a.set("single",s),isCategory(s)&&(o.set("single",s),n.firstCategoryDimIndex=0)},polar:function(r,n,a,o){var s=r.getReferringComponents("polar",SINGLE_REFERRING).models[0],l=s.findAxisModel("radiusAxis"),c=s.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],a.set("radius",l),a.set("angle",c),isCategory(l)&&(o.set("radius",l),n.firstCategoryDimIndex=0),isCategory(c)&&(o.set("angle",c),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(r,n,a,o){n.coordSysDims=["lng","lat"]},parallel:function(r,n,a,o){var s=r.ecModel,l=s.getComponent("parallel",r.get("parallelIndex")),c=n.coordSysDims=l.dimensions.slice();each$f(l.parallelAxisIndex,function(u,d){var f=s.getComponent("parallelAxis",u),v=c[d];a.set(v,f),isCategory(f)&&(o.set(v,f),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=d))})}};function isCategory(r){return r.get("type")==="category"}function enableDataStack(r,n,a){a=a||{};var o=a.byIndex,s=a.stackedCoordDimension,l,c,u;isLegacyDimensionsInput(n)?l=n:(c=n.schema,l=c.dimensions,u=n.store);var d=!!(r&&r.get("stack")),f,v,g,y;if(each$f(l,function(E,M){isString(E)&&(l[M]=E={name:E}),d&&!E.isExtraCoord&&(!o&&!f&&E.ordinalMeta&&(f=E),!v&&E.type!=="ordinal"&&E.type!=="time"&&(!s||s===E.coordDim)&&(v=E))}),v&&!o&&!f&&(o=!0),v){g="__\0ecstackresult_"+r.id,y="__\0ecstackedover_"+r.id,f&&(f.createInvertedIndices=!0);var _=v.coordDim,b=v.type,T=0;each$f(l,function(E){E.coordDim===_&&T++});var C={name:g,coordDim:_,coordDimIndex:T,type:b,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length},P={name:y,coordDim:y,coordDimIndex:T+1,type:b,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length+1};c?(u&&(C.storeDimIndex=u.ensureCalculationDimension(y,b),P.storeDimIndex=u.ensureCalculationDimension(g,b)),c.appendCalculationDimension(C),c.appendCalculationDimension(P)):(l.push(C),l.push(P))}return{stackedDimension:v&&v.name,stackedByDimension:f&&f.name,isStackedByIndex:o,stackedOverDimension:y,stackResultDimension:g}}function isLegacyDimensionsInput(r){return!isSeriesDataSchema(r.schema)}function isDimensionStacked(r,n){return!!n&&n===r.getCalculationInfo("stackedDimension")}function getStackedDimension(r,n){return isDimensionStacked(r,n)?r.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(r,n){var a=r.get("coordinateSystem"),o=CoordinateSystemManager.get(a),s;return n&&n.coordSysDims&&(s=map$1(n.coordSysDims,function(l){var c={name:l},u=n.axisMap.get(l);if(u){var d=u.get("type");c.type=getDimensionTypeByAxis(d)}return c})),s||(s=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s}function injectOrdinalMeta(r,n,a){var o,s;return a&&each$f(r,function(l,c){var u=l.coordDim,d=a.categoryAxisMap.get(u);d&&(o==null&&(o=c),l.ordinalMeta=d.getOrdinalMeta(),n&&(l.createInvertedIndices=!0)),l.otherDims.itemName!=null&&(s=!0)}),!s&&o!=null&&(r[o].otherDims.itemName=0),o}function createSeriesData(r,n,a){a=a||{};var o=n.getSourceManager(),s,l=!1;r?(l=!0,s=createSourceFromSeriesDataOption(r)):(s=o.getSource(),l=s.sourceFormat===SOURCE_FORMAT_ORIGINAL);var c=getCoordSysInfoBySeries(n),u=getCoordSysDimDefs(n,c),d=a.useEncodeDefaulter,f=isFunction(d)?d:d?curry$1(makeSeriesEncodeForAxisCoordSys,u,n):null,v={coordDimensions:u,generateCoord:a.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!l},g=prepareSeriesDataSchema(s,v),y=injectOrdinalMeta(g.dimensions,a.createInvertedIndices,c),_=l?null:o.getSharedDataStore(g),b=enableDataStack(n,{schema:g,store:_}),T=new SeriesData(g,n);T.setCalculationInfo(b);var C=y!=null&&isNeedCompleteOrdinalData(s)?function(P,E,M,I){return I===y?M:this.defaultDimValueGetter(P,E,M,I)}:null;return T.hasItemOption=!1,T.initData(l?s:_,null,C),T}function isNeedCompleteOrdinalData(r){if(r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(r.data||[]);return!isArray$1(getDataItemValue(n))}}function firstDataNotNull(r){for(var n=0;n<r.length&&r[n]==null;)n++;return r[n]}var Scale=function(){function r(n){this._setting=n||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(n){return this._setting[n]},r.prototype.unionExtent=function(n){var a=this._extent;n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1])},r.prototype.unionExtentFromData=function(n,a){this.unionExtent(n.getApproximateExtent(a))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(n,a){var o=this._extent;isNaN(n)||(o[0]=n),isNaN(a)||(o[1]=a)},r.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(n){this._isBlank=n},r}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function r(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return r.createByAxisModel=function(n){var a=n.option,o=a.data,s=o&&map$1(o,getName);return new r({categories:s,needCollect:!s,deduplication:a.dedplication!==!1})},r.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},r.prototype.parseAndCollect=function(n){var a,o=this._needCollect;if(!isString(n)&&!o)return n;if(o&&!this._deduplication)return a=this.categories.length,this.categories[a]=n,a;var s=this._getOrCreateMap();return a=s.get(n),a==null&&(o?(a=this.categories.length,this.categories[a]=n,s.set(n,a)):a=NaN),a},r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},r}();function getName(r){return isObject$3(r)&&r.value!=null?r.value:r+""}function isIntervalOrLogScale(r){return r.type==="interval"||r.type==="log"}function intervalScaleNiceTicks(r,n,a,o){var s={},l=r[1]-r[0],c=s.interval=nice(l/n);a!=null&&c<a&&(c=s.interval=a),o!=null&&c>o&&(c=s.interval=o);var u=s.intervalPrecision=getIntervalPrecision(c),d=s.niceTickExtent=[round$3(Math.ceil(r[0]/c)*c,u),round$3(Math.floor(r[1]/c)*c,u)];return fixExtent(d,r),s}function increaseInterval(r){var n=Math.pow(10,quantityExponent(r)),a=r/n;return a?a===2?a=3:a===3?a=5:a*=2:a=1,round$3(a*n)}function getIntervalPrecision(r){return getPrecision(r)+2}function clamp(r,n,a){r[n]=Math.max(Math.min(r[n],a[1]),a[0])}function fixExtent(r,n){!isFinite(r[0])&&(r[0]=n[0]),!isFinite(r[1])&&(r[1]=n[1]),clamp(r,0,n),clamp(r,1,n),r[0]>r[1]&&(r[0]=r[1])}function contain$1(r,n){return r>=n[0]&&r<=n[1]}function normalize$2(r,n){return n[1]===n[0]?.5:(r-n[0])/(n[1]-n[0])}function scale(r,n){return r*(n[1]-n[0])+n[0]}var OrdinalScale=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;o.type="ordinal";var s=o.getSetting("ordinalMeta");return s||(s=new OrdinalMeta({})),isArray$1(s)&&(s=new OrdinalMeta({categories:map$1(s,function(l){return isObject$3(l)?l.value:l})})),o._ordinalMeta=s,o._extent=o.getSetting("extent")||[0,s.categories.length-1],o}return n.prototype.parse=function(a){return a==null?NaN:isString(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},n.prototype.contain=function(a){return a=this.parse(a),contain$1(a,this._extent)&&this._ordinalMeta.categories[a]!=null},n.prototype.normalize=function(a){return a=this._getTickNumber(this.parse(a)),normalize$2(a,this._extent)},n.prototype.scale=function(a){return a=Math.round(scale(a,this._extent)),this.getRawOrdinalNumber(a)},n.prototype.getTicks=function(){for(var a=[],o=this._extent,s=o[0];s<=o[1];)a.push({value:s}),s++;return a},n.prototype.getMinorTicks=function(a){},n.prototype.setSortInfo=function(a){if(a==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=a.ordinalNumbers,s=this._ordinalNumbersByTick=[],l=this._ticksByOrdinalNumber=[],c=0,u=this._ordinalMeta.categories.length,d=Math.min(u,o.length);c<d;++c){var f=o[c];s[c]=f,l[f]=c}for(var v=0;c<u;++c){for(;l[v]!=null;)v++;s.push(v),l[v]=c}},n.prototype._getTickNumber=function(a){var o=this._ticksByOrdinalNumber;return o&&a>=0&&a<o.length?o[a]:a},n.prototype.getRawOrdinalNumber=function(a){var o=this._ordinalNumbersByTick;return o&&a>=0&&a<o.length?o[a]:a},n.prototype.getLabel=function(a){if(!this.isBlank()){var o=this.getRawOrdinalNumber(a.value),s=this._ordinalMeta.categories[o];return s==null?"":s+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(a,o){this.unionExtent(a.getApproximateExtent(o))},n.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$3,IntervalScale=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="interval",a._interval=0,a._intervalPrecision=2,a}return n.prototype.parse=function(a){return a},n.prototype.contain=function(a){return contain$1(a,this._extent)},n.prototype.normalize=function(a){return normalize$2(a,this._extent)},n.prototype.scale=function(a){return scale(a,this._extent)},n.prototype.setExtent=function(a,o){var s=this._extent;isNaN(a)||(s[0]=parseFloat(a)),isNaN(o)||(s[1]=parseFloat(o))},n.prototype.unionExtent=function(a){var o=this._extent;a[0]<o[0]&&(o[0]=a[0]),a[1]>o[1]&&(o[1]=a[1]),this.setExtent(o[0],o[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(a)},n.prototype.getTicks=function(a){var o=this._interval,s=this._extent,l=this._niceExtent,c=this._intervalPrecision,u=[];if(!o)return u;var d=1e4;s[0]<l[0]&&(a?u.push({value:roundNumber(l[0]-o,c)}):u.push({value:s[0]}));for(var f=l[0];f<=l[1]&&(u.push({value:f}),f=roundNumber(f+o,c),f!==u[u.length-1].value);)if(u.length>d)return[];var v=u.length?u[u.length-1].value:l[1];return s[1]>v&&(a?u.push({value:roundNumber(v+o,c)}):u.push({value:s[1]})),u},n.prototype.getMinorTicks=function(a){for(var o=this.getTicks(!0),s=[],l=this.getExtent(),c=1;c<o.length;c++){for(var u=o[c],d=o[c-1],f=0,v=[],g=u.value-d.value,y=g/a;f<a-1;){var _=roundNumber(d.value+(f+1)*y);_>l[0]&&_<l[1]&&v.push(_),f++}s.push(v)}return s},n.prototype.getLabel=function(a,o){if(a==null)return"";var s=o&&o.precision;s==null?s=getPrecision(a.value)||0:s==="auto"&&(s=this._intervalPrecision);var l=roundNumber(a.value,s,!0);return addCommas(l)},n.prototype.calcNiceTicks=function(a,o,s){a=a||5;var l=this._extent,c=l[1]-l[0];if(isFinite(c)){c<0&&(c=-c,l.reverse());var u=intervalScaleNiceTicks(l,a,o,s);this._intervalPrecision=u.intervalPrecision,this._interval=u.interval,this._niceExtent=u.niceTickExtent}},n.prototype.calcNiceExtent=function(a){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var s=Math.abs(o[0]);a.fixMax||(o[1]+=s/2),o[0]-=s/2}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval);var c=this._interval;a.fixMin||(o[0]=roundNumber(Math.floor(o[0]/c)*c)),a.fixMax||(o[1]=roundNumber(Math.ceil(o[1]/c)*c))},n.prototype.setNiceExtent=function(a,o){this._niceExtent=[a,o]},n.type="interval",n}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(r){return isArray$1(r)?supportFloat32Array?new Float32Array(r):r:new Float32ArrayCtor(r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(r){return r.get("stack")||STACK_PREFIX+r.seriesIndex}function getAxisKey$1(r){return r.dim+r.index}function getLayoutOnAxis(r){var n=[],a=r.axis,o="axis0";if(a.type==="category"){for(var s=a.getBandWidth(),l=0;l<r.count;l++)n.push(defaults({bandWidth:s,axisKey:o,stackId:STACK_PREFIX+l},r));for(var c=doCalBarWidthAndOffset(n),u=[],l=0;l<r.count;l++){var d=c[o][STACK_PREFIX+l];d.offsetCenter=d.offset+d.width/2,u.push(d)}return u}}function prepareLayoutBarSeries(r,n){var a=[];return n.eachSeriesByType(r,function(o){isOnCartesian(o)&&a.push(o)}),a}function getValueAxesMinGaps(r){var n={};each$f(r,function(d){var f=d.coordinateSystem,v=f.getBaseAxis();if(!(v.type!=="time"&&v.type!=="value"))for(var g=d.getData(),y=v.dim+"_"+v.index,_=g.getDimensionIndex(g.mapDimension(v.dim)),b=g.getStore(),T=0,C=b.count();T<C;++T){var P=b.get(_,T);n[y]?n[y].push(P):n[y]=[P]}});var a={};for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s){s.sort(function(d,f){return d-f});for(var l=null,c=1;c<s.length;++c){var u=s[c]-s[c-1];u>0&&(l=l===null?u:Math.min(l,u))}a[o]=l}}return a}function makeColumnLayout(r){var n=getValueAxesMinGaps(r),a=[];return each$f(r,function(o){var s=o.coordinateSystem,l=s.getBaseAxis(),c=l.getExtent(),u;if(l.type==="category")u=l.getBandWidth();else if(l.type==="value"||l.type==="time"){var d=l.dim+"_"+l.index,f=n[d],v=Math.abs(c[1]-c[0]),g=l.scale.getExtent(),y=Math.abs(g[1]-g[0]);u=f?v/y*f:v}else{var _=o.getData();u=Math.abs(c[1]-c[0])/_.count()}var b=parsePercent(o.get("barWidth"),u),T=parsePercent(o.get("barMaxWidth"),u),C=parsePercent(o.get("barMinWidth")||(isInLargeMode(o)?.5:1),u),P=o.get("barGap"),E=o.get("barCategoryGap");a.push({bandWidth:u,barWidth:b,barMaxWidth:T,barMinWidth:C,barGap:P,barCategoryGap:E,axisKey:getAxisKey$1(l),stackId:getSeriesStackId$1(o)})}),doCalBarWidthAndOffset(a)}function doCalBarWidthAndOffset(r){var n={};each$f(r,function(o,s){var l=o.axisKey,c=o.bandWidth,u=n[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=u.stacks;n[l]=u;var f=o.stackId;d[f]||u.autoWidthCount++,d[f]=d[f]||{width:0,maxWidth:0};var v=o.barWidth;v&&!d[f].width&&(d[f].width=v,v=Math.min(u.remainedWidth,v),u.remainedWidth-=v);var g=o.barMaxWidth;g&&(d[f].maxWidth=g);var y=o.barMinWidth;y&&(d[f].minWidth=y);var _=o.barGap;_!=null&&(u.gap=_);var b=o.barCategoryGap;b!=null&&(u.categoryGap=b)});var a={};return each$f(n,function(o,s){a[s]={};var l=o.stacks,c=o.bandWidth,u=o.categoryGap;if(u==null){var d=keys(l).length;u=Math.max(35-d*4,15)+"%"}var f=parsePercent(u,c),v=parsePercent(o.gap,1),g=o.remainedWidth,y=o.autoWidthCount,_=(g-f)/(y+(y-1)*v);_=Math.max(_,0),each$f(l,function(P){var E=P.maxWidth,M=P.minWidth;if(P.width){var I=P.width;E&&(I=Math.min(I,E)),M&&(I=Math.max(I,M)),P.width=I,g-=I+v*I,y--}else{var I=_;E&&E<I&&(I=Math.min(E,g)),M&&M>I&&(I=M),I!==_&&(P.width=I,g-=I+v*I,y--)}}),_=(g-f)/(y+(y-1)*v),_=Math.max(_,0);var b=0,T;each$f(l,function(P,E){P.width||(P.width=_),T=P,b+=P.width*(1+v)}),T&&(b-=T.width*v);var C=-b/2;each$f(l,function(P,E){a[s][E]=a[s][E]||{bandWidth:c,offset:C,width:P.width},C+=P.width*(1+v)})}),a}function retrieveColumnLayout(r,n,a){if(r&&n){var o=r[getAxisKey$1(n)];return o!=null&&a!=null?o[getSeriesStackId$1(a)]:o}}function layout$3(r,n){var a=prepareLayoutBarSeries(r,n),o=makeColumnLayout(a);each$f(a,function(s){var l=s.getData(),c=s.coordinateSystem,u=c.getBaseAxis(),d=getSeriesStackId$1(s),f=o[getAxisKey$1(u)][d],v=f.offset,g=f.width;l.setLayout({bandWidth:f.bandWidth,offset:v,size:g})})}function createProgressiveLayout(r){return{seriesType:r,plan:createRenderPlanner(),reset:function(n){if(isOnCartesian(n)){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=o.getOtherAxis(s),c=a.getDimensionIndex(a.mapDimension(l.dim)),u=a.getDimensionIndex(a.mapDimension(s.dim)),d=n.get("showBackground",!0),f=a.mapDimension(l.dim),v=a.getCalculationInfo("stackResultDimension"),g=isDimensionStacked(a,f)&&!!a.getCalculationInfo("stackedOnSeries"),y=l.isHorizontal(),_=getValueAxisStart(s,l),b=isInLargeMode(n),T=n.get("barMinHeight")||0,C=v&&a.getDimensionIndex(v),P=a.getLayout("size"),E=a.getLayout("offset");return{progress:function(M,I){for(var L=M.count,N=b&&createFloat32Array(L*3),V=b&&d&&createFloat32Array(L*3),B=b&&createFloat32Array(L),z=o.master.getRect(),G=y?z.width:z.height,H,W=I.getStore(),j=0;(H=M.next())!=null;){var X=W.get(g?C:c,H),Z=W.get(u,H),q=_,le=void 0;g&&(le=+X-W.get(c,H));var ae=void 0,he=void 0,ve=void 0,ce=void 0;if(y){var fe=o.dataToPoint([X,Z]);if(g){var _e=o.dataToPoint([le,Z]);q=_e[0]}ae=q,he=fe[1]+E,ve=fe[0]-q,ce=P,Math.abs(ve)<T&&(ve=(ve<0?-1:1)*T)}else{var fe=o.dataToPoint([Z,X]);if(g){var _e=o.dataToPoint([Z,le]);q=_e[1]}ae=fe[0]+E,he=q,ve=P,ce=fe[1]-q,Math.abs(ce)<T&&(ce=(ce<=0?-1:1)*T)}b?(N[j]=ae,N[j+1]=he,N[j+2]=y?ve:ce,V&&(V[j]=y?z.x:ae,V[j+1]=y?he:z.y,V[j+2]=G),B[H]=H):I.setItemLayout(H,{x:ae,y:he,width:ve,height:ce}),j+=3}b&&I.setLayout({largePoints:N,largeDataIndices:B,largeBackgroundPoints:V,valueAxisHorizontal:y})}}}}}}function isOnCartesian(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(r){return r.pipelineContext&&r.pipelineContext.large}function getValueAxisStart(r,n){var a=n.model.get("startValue");return a||(a=0),n.toGlobalCoord(n.dataToCoord(n.type==="log"?a>0?a:1:a))}var bisect=function(r,n,a,o){for(;a<o;){var s=a+o>>>1;r[s][1]<n?a=s+1:o=s}return a},TimeScale=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="time",o}return n.prototype.getLabel=function(a){var o=this.getSetting("useUTC");return format(a.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,o,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(a,o,s){var l=this.getSetting("useUTC"),c=this.getSetting("locale");return leveledFormat(a,o,s,c,l)},n.prototype.getTicks=function(){var a=this._interval,o=this._extent,s=[];if(!a)return s;s.push({value:o[0],level:0});var l=this.getSetting("useUTC"),c=getIntervalTicks(this._minLevelUnit,this._approxInterval,l,o);return s=s.concat(c),s.push({value:o[1],level:0}),s},n.prototype.calcNiceExtent=function(a){var o=this._extent;if(o[0]===o[1]&&(o[0]-=ONE_DAY,o[1]+=ONE_DAY),o[1]===-1/0&&o[0]===1/0){var s=new Date;o[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),o[0]=o[1]-ONE_DAY}this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval)},n.prototype.calcNiceTicks=function(a,o,s){a=a||10;var l=this._extent,c=l[1]-l[0];this._approxInterval=c/a,o!=null&&this._approxInterval<o&&(this._approxInterval=o),s!=null&&this._approxInterval>s&&(this._approxInterval=s);var u=scaleIntervals.length,d=Math.min(bisect(scaleIntervals,this._approxInterval,0,u),u-1);this._interval=scaleIntervals[d][1],this._minLevelUnit=scaleIntervals[Math.max(d-1,0)][0]},n.prototype.parse=function(a){return isNumber(a)?a:+parseDate(a)},n.prototype.contain=function(a){return contain$1(this.parse(a),this._extent)},n.prototype.normalize=function(a){return normalize$2(this.parse(a),this._extent)},n.prototype.scale=function(a){return scale(a,this._extent)},n.type="time",n}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(r,n,a,o){var s=parseDate(n),l=parseDate(a),c=function(b){return getUnitValue(s,b,o)===getUnitValue(l,b,o)},u=function(){return c("year")},d=function(){return u()&&c("month")},f=function(){return d()&&c("day")},v=function(){return f()&&c("hour")},g=function(){return v()&&c("minute")},y=function(){return g()&&c("second")},_=function(){return y()&&c("millisecond")};switch(r){case"year":return u();case"month":return d();case"day":return f();case"hour":return v();case"minute":return g();case"second":return y();case"millisecond":return _()}}function getDateInterval(r,n){return r/=ONE_DAY,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function getMonthInterval(r){var n=30*ONE_DAY;return r/=n,r>6?6:r>3?3:r>2?2:1}function getHourInterval(r){return r/=ONE_HOUR,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function getMinutesAndSecondsInterval(r,n){return r/=n?ONE_MINUTE:ONE_SECOND,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function getMillisecondsInterval(r){return nice(r)}function getFirstTimestampOfUnit(r,n,a){var o=new Date(r);switch(getPrimaryTimeUnit(n)){case"year":case"month":o[monthSetterName(a)](0);case"day":o[dateSetterName(a)](1);case"hour":o[hoursSetterName(a)](0);case"minute":o[minutesSetterName(a)](0);case"second":o[secondsSetterName(a)](0),o[millisecondsSetterName(a)](0)}return o.getTime()}function getIntervalTicks(r,n,a,o){var s=1e4,l=timeUnits,c=0;function u(G,H,W,j,X,Z,q){for(var le=new Date(H),ae=H,he=le[j]();ae<W&&ae<=o[1];)q.push({value:ae}),he+=G,le[X](he),ae=le.getTime();q.push({value:ae,notAdd:!0})}function d(G,H,W){var j=[],X=!H.length;if(!isUnitValueSame(getPrimaryTimeUnit(G),o[0],o[1],a)){X&&(H=[{value:getFirstTimestampOfUnit(new Date(o[0]),G,a)},{value:o[1]}]);for(var Z=0;Z<H.length-1;Z++){var q=H[Z].value,le=H[Z+1].value;if(q!==le){var ae=void 0,he=void 0,ve=void 0,ce=!1;switch(G){case"year":ae=Math.max(1,Math.round(n/ONE_DAY/365)),he=fullYearGetterName(a),ve=fullYearSetterName(a);break;case"half-year":case"quarter":case"month":ae=getMonthInterval(n),he=monthGetterName(a),ve=monthSetterName(a);break;case"week":case"half-week":case"day":ae=getDateInterval(n),he=dateGetterName(a),ve=dateSetterName(a),ce=!0;break;case"half-day":case"quarter-day":case"hour":ae=getHourInterval(n),he=hoursGetterName(a),ve=hoursSetterName(a);break;case"minute":ae=getMinutesAndSecondsInterval(n,!0),he=minutesGetterName(a),ve=minutesSetterName(a);break;case"second":ae=getMinutesAndSecondsInterval(n,!1),he=secondsGetterName(a),ve=secondsSetterName(a);break;case"millisecond":ae=getMillisecondsInterval(n),he=millisecondsGetterName(a),ve=millisecondsSetterName(a);break}u(ae,q,le,he,ve,ce,j),G==="year"&&W.length>1&&Z===0&&W.unshift({value:W[0].value-ae})}}for(var Z=0;Z<j.length;Z++)W.push(j[Z]);return j}}for(var f=[],v=[],g=0,y=0,_=0;_<l.length&&c++<s;++_){var b=getPrimaryTimeUnit(l[_]);if(isPrimaryTimeUnit(l[_])){d(l[_],f[f.length-1]||[],v);var T=l[_+1]?getPrimaryTimeUnit(l[_+1]):null;if(b!==T){if(v.length){y=g,v.sort(function(G,H){return G.value-H.value});for(var C=[],P=0;P<v.length;++P){var E=v[P].value;(P===0||v[P-1].value!==E)&&(C.push(v[P]),E>=o[0]&&E<=o[1]&&g++)}var M=(o[1]-o[0])/n;if(g>M*1.5&&y>M/1.5||(f.push(C),g>M||r===l[_]))break}v=[]}}}for(var I=filter(map$1(f,function(G){return filter(G,function(H){return H.value>=o[0]&&H.value<=o[1]&&!H.notAdd})}),function(G){return G.length>0}),L=[],N=I.length-1,_=0;_<I.length;++_)for(var V=I[_],B=0;B<V.length;++B)L.push({value:V[B].value,level:N-_});L.sort(function(G,H){return G.value-H.value});for(var z=[],_=0;_<L.length;++_)(_===0||L[_].value!==L[_-1].value)&&z.push(L[_]);return z}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="log",a.base=10,a._originalScale=new IntervalScale,a._interval=0,a}return n.prototype.getTicks=function(a){var o=this._originalScale,s=this._extent,l=o.getExtent(),c=intervalScaleProto.getTicks.call(this,a);return map$1(c,function(u){var d=u.value,f=round$3(mathPow$1(this.base,d));return f=d===s[0]&&this._fixMin?fixRoundingError(f,l[0]):f,f=d===s[1]&&this._fixMax?fixRoundingError(f,l[1]):f,{value:f}},this)},n.prototype.setExtent=function(a,o){var s=mathLog$1(this.base);a=mathLog$1(Math.max(0,a))/s,o=mathLog$1(Math.max(0,o))/s,intervalScaleProto.setExtent.call(this,a,o)},n.prototype.getExtent=function(){var a=this.base,o=scaleProto.getExtent.call(this);o[0]=mathPow$1(a,o[0]),o[1]=mathPow$1(a,o[1]);var s=this._originalScale,l=s.getExtent();return this._fixMin&&(o[0]=fixRoundingError(o[0],l[0])),this._fixMax&&(o[1]=fixRoundingError(o[1],l[1])),o},n.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var o=this.base;a[0]=mathLog$1(a[0])/mathLog$1(o),a[1]=mathLog$1(a[1])/mathLog$1(o),scaleProto.unionExtent.call(this,a)},n.prototype.unionExtentFromData=function(a,o){this.unionExtent(a.getApproximateExtent(o))},n.prototype.calcNiceTicks=function(a){a=a||10;var o=this._extent,s=o[1]-o[0];if(!(s===1/0||s<=0)){var l=quantity(s),c=a/s*l;for(c<=.5&&(l*=10);!isNaN(l)&&Math.abs(l)<1&&Math.abs(l)>0;)l*=10;var u=[round$3(mathCeil$1(o[0]/l)*l),round$3(mathFloor$1(o[1]/l)*l)];this._interval=l,this._niceExtent=u}},n.prototype.calcNiceExtent=function(a){intervalScaleProto.calcNiceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},n.prototype.parse=function(a){return a},n.prototype.contain=function(a){return a=mathLog$1(a)/mathLog$1(this.base),contain$1(a,this._extent)},n.prototype.normalize=function(a){return a=mathLog$1(a)/mathLog$1(this.base),normalize$2(a,this._extent)},n.prototype.scale=function(a){return a=scale(a,this._extent),mathPow$1(this.base,a)},n.type="log",n}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(r,n){return roundingErrorFix(r,getPrecision(n))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function r(n,a,o){this._prepareParams(n,a,o)}return r.prototype._prepareParams=function(n,a,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var s=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&a.getNeedCrossZero&&a.getNeedCrossZero();var l=a.get("min",!0);l==null&&(l=a.get("startValue",!0));var c=this._modelMinRaw=l;isFunction(c)?this._modelMinNum=parseAxisModelMinMax(n,c({min:o[0],max:o[1]})):c!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,c));var u=this._modelMaxRaw=a.get("max",!0);if(isFunction(u)?this._modelMaxNum=parseAxisModelMinMax(n,u({min:o[0],max:o[1]})):u!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,u)),s)this._axisDataLen=a.getCategories().length;else{var d=a.get("boundaryGap"),f=isArray$1(d)?d:[d||0,d||0];typeof f[0]=="boolean"||typeof f[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(f[0],1),parsePercent$1(f[1],1)]}},r.prototype.calculate=function(){var n=this._isOrdinal,a=this._dataMin,o=this._dataMax,s=this._axisDataLen,l=this._boundaryGapInner,c=n?null:o-a||Math.abs(a),u=this._modelMinRaw==="dataMin"?a:this._modelMinNum,d=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,f=u!=null,v=d!=null;u==null&&(u=n?s?0:NaN:a-l[0]*c),d==null&&(d=n?s?s-1:NaN:o+l[1]*c),(u==null||!isFinite(u))&&(u=NaN),(d==null||!isFinite(d))&&(d=NaN);var g=eqNaN(u)||eqNaN(d)||n&&!s;this._needCrossZero&&(u>0&&d>0&&!f&&(u=0),u<0&&d<0&&!v&&(d=0));var y=this._determinedMin,_=this._determinedMax;return y!=null&&(u=y,f=!0),_!=null&&(d=_,v=!0),{min:u,max:d,minFixed:f,maxFixed:v,isBlank:g}},r.prototype.modifyDataMinMax=function(n,a){this[DATA_MIN_MAX_ATTR[n]]=a},r.prototype.setDeterminedMinMax=function(n,a){var o=DETERMINED_MIN_MAX_ATTR[n];this[o]=a},r.prototype.freeze=function(){this.frozen=!0},r}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(r,n,a){var o=r.rawExtentInfo;return o||(o=new ScaleRawExtentInfo(r,n,a),r.rawExtentInfo=o,o)}function parseAxisModelMinMax(r,n){return n==null?null:eqNaN(n)?NaN:r.parse(n)}function getScaleExtent(r,n){var a=r.type,o=ensureScaleRawExtentInfo(r,n,r.getExtent()).calculate();r.setBlank(o.isBlank);var s=o.min,l=o.max,c=n.ecModel;if(c&&a==="time"){var u=prepareLayoutBarSeries("bar",c),d=!1;if(each$f(u,function(g){d=d||g.getBaseAxis()===n.axis}),d){var f=makeColumnLayout(u),v=adjustScaleForOverflow(s,l,n,f);s=v.min,l=v.max}}return{extent:[s,l],fixMin:o.minFixed,fixMax:o.maxFixed}}function adjustScaleForOverflow(r,n,a,o){var s=a.axis.getExtent(),l=Math.abs(s[1]-s[0]),c=retrieveColumnLayout(o,a.axis);if(c===void 0)return{min:r,max:n};var u=1/0;each$f(c,function(_){u=Math.min(_.offset,u)});var d=-1/0;each$f(c,function(_){d=Math.max(_.offset+_.width,d)}),u=Math.abs(u),d=Math.abs(d);var f=u+d,v=n-r,g=1-(u+d)/l,y=v/g-v;return n+=y*(d/f),r-=y*(u/f),{min:r,max:n}}function niceScaleExtent(r,n){var a=n,o=getScaleExtent(r,a),s=o.extent,l=a.get("splitNumber");r instanceof LogScale&&(r.base=a.get("logBase"));var c=r.type,u=a.get("interval"),d=c==="interval"||c==="time";r.setExtent(s[0],s[1]),r.calcNiceExtent({splitNumber:l,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:d?a.get("minInterval"):null,maxInterval:d?a.get("maxInterval"):null}),u!=null&&r.setInterval&&r.setInterval(u)}function createScaleByModel$1(r,n){if(n=n||r.get("type"),n)switch(n){case"category":return new OrdinalScale({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Scale.getClass(n)||IntervalScale)}}function ifAxisCrossZero(r){var n=r.scale.getExtent(),a=n[0],o=n[1];return!(a>0&&o>0||a<0&&o<0)}function makeLabelFormatter(r){var n=r.getLabelModel().get("formatter"),a=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(o){return function(s,l){return r.scale.getFormattedLabel(s,l,o)}}(n):isString(n)?function(o){return function(s){var l=r.scale.getLabel(s),c=o.replace("{value}",l??"");return c}}(n):isFunction(n)?function(o){return function(s,l){return a!=null&&(l=s.value-a),o(getAxisRawValue(r,s),l,s.level!=null?{level:s.level}:null)}}(n):function(o){return r.scale.getLabel(o)}}function getAxisRawValue(r,n){return r.type==="category"?r.scale.getLabel(n):n.value}function estimateLabelUnionRect(r){var n=r.model,a=r.scale;if(!(!n.get(["axisLabel","show"])||a.isBlank())){var o,s,l=a.getExtent();a instanceof OrdinalScale?s=a.count():(o=a.getTicks(),s=o.length);var c=r.getLabelModel(),u=makeLabelFormatter(r),d,f=1;s>40&&(f=Math.ceil(s/40));for(var v=0;v<s;v+=f){var g=o?o[v]:{value:l[0]+v},y=u(g,v),_=c.getTextRect(y),b=rotateTextRect(_,c.get("rotate")||0);d?d.union(b):d=b}return d}}function rotateTextRect(r,n){var a=n*Math.PI/180,o=r.width,s=r.height,l=o*Math.abs(Math.cos(a))+Math.abs(s*Math.sin(a)),c=o*Math.abs(Math.sin(a))+Math.abs(s*Math.cos(a)),u=new BoundingRect(r.x,r.y,l,c);return u}function getOptionCategoryInterval(r){var n=r.get("interval");return n??"auto"}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}function getDataDimensionsOnAxis(r,n){var a={};return each$f(r.mapDimensionsAll(n),function(o){a[getStackedDimension(r,o)]=!0}),keys(a)}function unionAxisExtentFromData(r,n,a){n&&each$f(getDataDimensionsOnAxis(n,a),function(o){var s=n.getApproximateExtent(o);s[0]<r[0]&&(r[0]=s[0]),s[1]>r[1]&&(r[1]=s[1])})}var AxisModelCommonMixin=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},r.prototype.getCoordSysModel=function(){},r}(),EPSILON=1e-8;function isAroundEqual(r,n){return Math.abs(r-n)<EPSILON}function contain(r,n,a){var o=0,s=r[0];if(!s)return!1;for(var l=1;l<r.length;l++){var c=r[l];o+=windingLine(s[0],s[1],c[0],c[1],n,a),s=c}var u=r[0];return(!isAroundEqual(s[0],u[0])||!isAroundEqual(s[1],u[1]))&&(o+=windingLine(s[0],s[1],u[0],u[1],n,a)),o!==0}var TMP_TRANSFORM=[];function transformPoints(r,n){for(var a=0;a<r.length;a++)applyTransform$1(r[a],r[a],n)}function updateBBoxFromPoints(r,n,a,o){for(var s=0;s<r.length;s++){var l=r[s];o&&(l=o.project(l)),l&&isFinite(l[0])&&isFinite(l[1])&&(min$1(n,n,l),max$1(a,a,l))}}function centroid$1(r){for(var n=0,a=0,o=0,s=r.length,l=r[s-1][0],c=r[s-1][1],u=0;u<s;u++){var d=r[u][0],f=r[u][1],v=l*f-d*c;n+=v,a+=(l+d)*v,o+=(c+f)*v,l=d,c=f}return n?[a/n/3,o/n/3,n]:[r[0][0]||0,r[0][1]||0]}var Region=function(){function r(n){this.name=n}return r.prototype.setCenter=function(n){this._center=n},r.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},r}(),GeoJSONPolygonGeometry=function(){function r(n,a){this.type="polygon",this.exterior=n,this.interiors=a}return r}(),GeoJSONLineStringGeometry=function(){function r(n){this.type="linestring",this.points=n}return r}(),GeoJSONRegion=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,a)||this;return l.type="geoJSON",l.geometries=o,l._center=s&&[s[0],s[1]],l}return n.prototype.calcCenter=function(){for(var a=this.geometries,o,s=0,l=0;l<a.length;l++){var c=a[l],u=c.exterior,d=u&&u.length;d>s&&(o=c,s=d)}if(o)return centroid$1(o.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},n.prototype.getBoundingRect=function(a){var o=this._rect;if(o&&!a)return o;var s=[1/0,1/0],l=[-1/0,-1/0],c=this.geometries;return each$f(c,function(u){u.type==="polygon"?updateBBoxFromPoints(u.exterior,s,l,a):each$f(u.points,function(d){updateBBoxFromPoints(d,s,l,a)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])||(s[0]=s[1]=l[0]=l[1]=0),o=new BoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1]),a||(this._rect=o),o},n.prototype.contain=function(a){var o=this.getBoundingRect(),s=this.geometries;if(!o.contain(a[0],a[1]))return!1;e:for(var l=0,c=s.length;l<c;l++){var u=s[l];if(u.type==="polygon"){var d=u.exterior,f=u.interiors;if(contain(d,a[0],a[1])){for(var v=0;v<(f?f.length:0);v++)if(contain(f[v],a[0],a[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(a,o,s,l){var c=this.getBoundingRect(),u=c.width/c.height;s?l||(l=s/u):s=u*l;for(var d=new BoundingRect(a,o,s,l),f=c.calculateTransform(d),v=this.geometries,g=0;g<v.length;g++){var y=v[g];y.type==="polygon"?(transformPoints(y.exterior,f),each$f(y.interiors,function(_){transformPoints(_,f)})):each$f(y.points,function(_){transformPoints(_,f)})}c=this._rect,c.copy(d),this._center=[c.x+c.width/2,c.y+c.height/2]},n.prototype.cloneShallow=function(a){a==null&&(a=this.name);var o=new n(a,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},n}(Region),GeoSVGRegion=function(r){__extends(n,r);function n(a,o){var s=r.call(this,a)||this;return s.type="geoSVG",s._elOnlyForCalculate=o,s}return n.prototype.calcCenter=function(){for(var a=this._elOnlyForCalculate,o=a.getBoundingRect(),s=[o.x+o.width/2,o.y+o.height/2],l=identity(TMP_TRANSFORM),c=a;c&&!c.isGeoSVGGraphicRoot;)mul(l,c.getLocalTransform(),l),c=c.parent;return invert(l,l),applyTransform$1(s,s,l),s},n}(Region);function decode(r){if(!r.UTF8Encoding)return r;var n=r,a=n.UTF8Scale;a==null&&(a=1024);var o=n.features;return each$f(o,function(s){var l=s.geometry,c=l.encodeOffsets,u=l.coordinates;if(c)switch(l.type){case"LineString":l.coordinates=decodeRing(u,c,a);break;case"Polygon":decodeRings(u,c,a);break;case"MultiLineString":decodeRings(u,c,a);break;case"MultiPolygon":each$f(u,function(d,f){return decodeRings(d,c[f],a)})}}),n.UTF8Encoding=!1,n}function decodeRings(r,n,a){for(var o=0;o<r.length;o++)r[o]=decodeRing(r[o],n[o],a)}function decodeRing(r,n,a){for(var o=[],s=n[0],l=n[1],c=0;c<r.length;c+=2){var u=r.charCodeAt(c)-64,d=r.charCodeAt(c+1)-64;u=u>>1^-(u&1),d=d>>1^-(d&1),u+=s,d+=l,s=u,l=d,o.push([u/a,d/a])}return o}function parseGeoJSON(r,n){return r=decode(r),map$1(filter(r.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var o=a.properties,s=a.geometry,l=[];switch(s.type){case"Polygon":var c=s.coordinates;l.push(new GeoJSONPolygonGeometry(c[0],c.slice(1)));break;case"MultiPolygon":each$f(s.coordinates,function(d){d[0]&&l.push(new GeoJSONPolygonGeometry(d[0],d.slice(1)))});break;case"LineString":l.push(new GeoJSONLineStringGeometry([s.coordinates]));break;case"MultiLineString":l.push(new GeoJSONLineStringGeometry(s.coordinates))}var u=new GeoJSONRegion(o[n||"name"],l,o.cp);return u.properties=o,u})}var inner$g=makeInner();function tickValuesToNumbers(r,n){var a=map$1(n,function(o){return r.scale.parse(o)});return r.type==="time"&&a.length>0&&(a.sort(),a.unshift(a[0]),a.push(a[a.length-1])),a}function createAxisLabels(r){var n=r.getLabelModel().get("customValues");if(n){var a=makeLabelFormatter(r),o=r.scale.getExtent(),s=tickValuesToNumbers(r,n),l=filter(s,function(c){return c>=o[0]&&c<=o[1]});return{labels:map$1(l,function(c){var u={value:c};return{formattedLabel:a(u),rawLabel:r.scale.getLabel(u),tickValue:c}})}}return r.type==="category"?makeCategoryLabels(r):makeRealNumberLabels(r)}function createAxisTicks(r,n){var a=r.getTickModel().get("customValues");if(a){var o=r.scale.getExtent(),s=tickValuesToNumbers(r,a);return{ticks:filter(s,function(l){return l>=o[0]&&l<=o[1]})}}return r.type==="category"?makeCategoryTicks(r,n):{ticks:map$1(r.scale.getTicks(),function(l){return l.value})}}function makeCategoryLabels(r){var n=r.getLabelModel(),a=makeCategoryLabelsActually(r,n);return!n.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function makeCategoryLabelsActually(r,n){var a=getListCache(r,"labels"),o=getOptionCategoryInterval(n),s=listCacheGet(a,o);if(s)return s;var l,c;return isFunction(o)?l=makeLabelsByCustomizedCategoryInterval(r,o):(c=o==="auto"?makeAutoCategoryInterval(r):o,l=makeLabelsByNumericCategoryInterval(r,c)),listCacheSet(a,o,{labels:l,labelCategoryInterval:c})}function makeCategoryTicks(r,n){var a=getListCache(r,"ticks"),o=getOptionCategoryInterval(n),s=listCacheGet(a,o);if(s)return s;var l,c;if((!n.get("show")||r.scale.isBlank())&&(l=[]),isFunction(o))l=makeLabelsByCustomizedCategoryInterval(r,o,!0);else if(o==="auto"){var u=makeCategoryLabelsActually(r,r.getLabelModel());c=u.labelCategoryInterval,l=map$1(u.labels,function(d){return d.tickValue})}else c=o,l=makeLabelsByNumericCategoryInterval(r,c,!0);return listCacheSet(a,o,{ticks:l,tickCategoryInterval:c})}function makeRealNumberLabels(r){var n=r.scale.getTicks(),a=makeLabelFormatter(r);return{labels:map$1(n,function(o,s){return{level:o.level,formattedLabel:a(o,s),rawLabel:r.scale.getLabel(o),tickValue:o.value}})}}function getListCache(r,n){return inner$g(r)[n]||(inner$g(r)[n]=[])}function listCacheGet(r,n){for(var a=0;a<r.length;a++)if(r[a].key===n)return r[a].value}function listCacheSet(r,n,a){return r.push({key:n,value:a}),a}function makeAutoCategoryInterval(r){var n=inner$g(r).autoInterval;return n??(inner$g(r).autoInterval=r.calculateCategoryInterval())}function calculateCategoryInterval(r){var n=fetchAutoCategoryIntervalCalculationParams(r),a=makeLabelFormatter(r),o=(n.axisRotate-n.labelRotate)/180*Math.PI,s=r.scale,l=s.getExtent(),c=s.count();if(l[1]-l[0]<1)return 0;var u=1;c>40&&(u=Math.max(1,Math.floor(c/40)));for(var d=l[0],f=r.dataToCoord(d+1)-r.dataToCoord(d),v=Math.abs(f*Math.cos(o)),g=Math.abs(f*Math.sin(o)),y=0,_=0;d<=l[1];d+=u){var b=0,T=0,C=getBoundingRect(a({value:d}),n.font,"center","top");b=C.width*1.3,T=C.height*1.3,y=Math.max(y,b,7),_=Math.max(_,T,7)}var P=y/v,E=_/g;isNaN(P)&&(P=1/0),isNaN(E)&&(E=1/0);var M=Math.max(0,Math.floor(Math.min(P,E))),I=inner$g(r.model),L=r.getExtent(),N=I.lastAutoInterval,V=I.lastTickCount;return N!=null&&V!=null&&Math.abs(N-M)<=1&&Math.abs(V-c)<=1&&N>M&&I.axisExtent0===L[0]&&I.axisExtent1===L[1]?M=N:(I.lastTickCount=c,I.lastAutoInterval=M,I.axisExtent0=L[0],I.axisExtent1=L[1]),M}function fetchAutoCategoryIntervalCalculationParams(r){var n=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(r,n,a){var o=makeLabelFormatter(r),s=r.scale,l=s.getExtent(),c=r.getLabelModel(),u=[],d=Math.max((n||0)+1,1),f=l[0],v=s.count();f!==0&&d>1&&v/d>2&&(f=Math.round(Math.ceil(f/d)*d));var g=shouldShowAllLabels(r),y=c.get("showMinLabel")||g,_=c.get("showMaxLabel")||g;y&&f!==l[0]&&T(l[0]);for(var b=f;b<=l[1];b+=d)T(b);_&&b-d!==l[1]&&T(l[1]);function T(C){var P={value:C};u.push(a?C:{formattedLabel:o(P),rawLabel:s.getLabel(P),tickValue:C})}return u}function makeLabelsByCustomizedCategoryInterval(r,n,a){var o=r.scale,s=makeLabelFormatter(r),l=[];return each$f(o.getTicks(),function(c){var u=o.getLabel(c),d=c.value;n(c.value,u)&&l.push(a?d:{formattedLabel:s(c),rawLabel:u,tickValue:d})}),l}var NORMALIZED_EXTENT=[0,1],Axis=function(){function r(n,a,o){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=a,this._extent=o||[0,0]}return r.prototype.contain=function(n){var a=this._extent,o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return n>=o&&n<=s},r.prototype.containData=function(n){return this.scale.contain(n)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(n,a){var o=this._extent;o[0]=n,o[1]=a},r.prototype.dataToCoord=function(n,a){var o=this._extent,s=this.scale;return n=s.normalize(n),this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count())),linearMap$2(n,NORMALIZED_EXTENT,o,a)},r.prototype.coordToData=function(n,a){var o=this._extent,s=this.scale;this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count()));var l=linearMap$2(n,o,NORMALIZED_EXTENT,a);return this.scale.scale(l)},r.prototype.pointToData=function(n,a){},r.prototype.getTicksCoords=function(n){n=n||{};var a=n.tickModel||this.getTickModel(),o=createAxisTicks(this,a),s=o.ticks,l=map$1(s,function(u){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(u):u),tickValue:u}},this),c=a.get("alignWithLabel");return fixOnBandTicksCoords(this,l,c,n.clamp),l},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),a=n.get("splitNumber");a>0&&a<100||(a=5);var o=this.scale.getMinorTicks(a),s=map$1(o,function(l){return map$1(l,function(c){return{coord:this.dataToCoord(c),tickValue:c}},this)},this);return s},r.prototype.getViewLabels=function(){return createAxisLabels(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var n=this._extent,a=this.scale.getExtent(),o=a[1]-a[0]+(this.onBand?1:0);o===0&&(o=1);var s=Math.abs(n[1]-n[0]);return Math.abs(s)/o},r.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},r}();function fixExtentWithBands(r,n){var a=r[1]-r[0],o=n,s=a/o/2;r[0]+=s,r[1]-=s}function fixOnBandTicksCoords(r,n,a,o){var s=n.length;if(!r.onBand||a||!s)return;var l=r.getExtent(),c,u;if(s===1)n[0].coord=l[0],c=n[1]={coord:l[1],tickValue:n[0].tickValue};else{var d=n[s-1].tickValue-n[0].tickValue,f=(n[s-1].coord-n[0].coord)/d;each$f(n,function(_){_.coord-=f/2});var v=r.scale.getExtent();u=1+v[1]-n[s-1].tickValue,c={coord:n[s-1].coord+f*u,tickValue:v[1]+1},n.push(c)}var g=l[0]>l[1];y(n[0].coord,l[0])&&(o?n[0].coord=l[0]:n.shift()),o&&y(l[0],n[0].coord)&&n.unshift({coord:l[0]}),y(l[1],c.coord)&&(o?c.coord=l[1]:n.pop()),o&&y(c.coord,l[1])&&n.push({coord:l[1]});function y(_,b){return _=round$3(_),b=round$3(b),g?_>b:_<b}}var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(r,n,a,o,s){var l=a.width,c=a.height;switch(r){case"top":o.set(a.x+l/2,a.y-n),s.set(0,-1);break;case"bottom":o.set(a.x+l/2,a.y+c+n),s.set(0,1);break;case"left":o.set(a.x-n,a.y+c/2),s.set(-1,0);break;case"right":o.set(a.x+l+n,a.y+c/2),s.set(1,0);break}}function projectPointToArc(r,n,a,o,s,l,c,u,d){c-=r,u-=n;var f=Math.sqrt(c*c+u*u);c/=f,u/=f;var v=c*a+r,g=u*a+n;if(Math.abs(o-s)%PI2$2<1e-4)return d[0]=v,d[1]=g,f-a;if(l){var y=o;o=normalizeRadian(s),s=normalizeRadian(y)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI2$2);var _=Math.atan2(u,c);if(_<0&&(_+=PI2$2),_>=o&&_<=s||_+PI2$2>=o&&_+PI2$2<=s)return d[0]=v,d[1]=g,f-a;var b=a*Math.cos(o)+r,T=a*Math.sin(o)+n,C=a*Math.cos(s)+r,P=a*Math.sin(s)+n,E=(b-c)*(b-c)+(T-u)*(T-u),M=(C-c)*(C-c)+(P-u)*(P-u);return E<M?(d[0]=b,d[1]=T,Math.sqrt(E)):(d[0]=C,d[1]=P,Math.sqrt(M))}function projectPointToLine(r,n,a,o,s,l,c,u){var d=s-r,f=l-n,v=a-r,g=o-n,y=Math.sqrt(v*v+g*g);v/=y,g/=y;var _=d*v+f*g,b=_/y;u&&(b=Math.min(Math.max(b,0),1)),b*=y;var T=c[0]=r+b*v,C=c[1]=n+b*g;return Math.sqrt((T-s)*(T-s)+(C-l)*(C-l))}function projectPointToRect(r,n,a,o,s,l,c){a<0&&(r=r+a,a=-a),o<0&&(n=n+o,o=-o);var u=r+a,d=n+o,f=c[0]=Math.min(Math.max(s,r),u),v=c[1]=Math.min(Math.max(l,n),d);return Math.sqrt((f-s)*(f-s)+(v-l)*(v-l))}var tmpPt=[];function nearestPointOnRect(r,n,a){var o=projectPointToRect(n.x,n.y,n.width,n.height,r.x,r.y,tmpPt);return a.set(tmpPt[0],tmpPt[1]),o}function nearestPointOnPath(r,n,a){for(var o=0,s=0,l=0,c=0,u,d,f=1/0,v=n.data,g=r.x,y=r.y,_=0;_<v.length;){var b=v[_++];_===1&&(o=v[_],s=v[_+1],l=o,c=s);var T=f;switch(b){case CMD$1.M:l=v[_++],c=v[_++],o=l,s=c;break;case CMD$1.L:T=projectPointToLine(o,s,v[_],v[_+1],g,y,tmpPt,!0),o=v[_++],s=v[_++];break;case CMD$1.C:T=cubicProjectPoint(o,s,v[_++],v[_++],v[_++],v[_++],v[_],v[_+1],g,y,tmpPt),o=v[_++],s=v[_++];break;case CMD$1.Q:T=quadraticProjectPoint(o,s,v[_++],v[_++],v[_],v[_+1],g,y,tmpPt),o=v[_++],s=v[_++];break;case CMD$1.A:var C=v[_++],P=v[_++],E=v[_++],M=v[_++],I=v[_++],L=v[_++];_+=1;var N=!!(1-v[_++]);u=Math.cos(I)*E+C,d=Math.sin(I)*M+P,_<=1&&(l=u,c=d);var V=(g-C)*M/E+C;T=projectPointToArc(C,P,M,I,I+L,N,V,y,tmpPt),o=Math.cos(I+L)*E+C,s=Math.sin(I+L)*M+P;break;case CMD$1.R:l=o=v[_++],c=s=v[_++];var B=v[_++],z=v[_++];T=projectPointToRect(l,c,B,z,g,y,tmpPt);break;case CMD$1.Z:T=projectPointToLine(o,s,l,c,g,y,tmpPt,!0),o=l,s=c;break}T<f&&(f=T,a.set(tmpPt[0],tmpPt[1]))}return f}var pt0=new Point,pt1=new Point,pt2=new Point,dir=new Point,dir2=new Point;function updateLabelLinePoints(r,n){if(r){var a=r.getTextGuideLine(),o=r.getTextContent();if(o&&a){var s=r.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],c=s.candidates||DEFAULT_SEARCH_SPACE,u=o.getBoundingRect().clone();u.applyTransform(o.getComputedTransform());var d=1/0,f=s.anchor,v=r.getComputedTransform(),g=v&&invert([],v),y=n.get("length2")||0;f&&pt2.copy(f);for(var _=0;_<c.length;_++){var b=c[_];getCandidateAnchor(b,0,u,pt0,dir),Point.scaleAndAdd(pt1,pt0,dir,y),pt1.transform(g);var T=r.getBoundingRect(),C=f?f.distance(pt1):r instanceof Path?nearestPointOnPath(pt1,r.path,pt2):nearestPointOnRect(pt1,T,pt2);C<d&&(d=C,pt1.transform(v),pt2.transform(v),pt2.toArray(l[0]),pt1.toArray(l[1]),pt0.toArray(l[2]))}limitTurnAngle(l,n.get("minTurnAngle")),a.setShape({points:l})}}}var tmpArr=[],tmpProjPoint=new Point;function limitTurnAngle(r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point.sub(dir,pt0,pt1),Point.sub(dir2,pt2,pt1);var a=dir.len(),o=dir2.len();if(!(a<.001||o<.001)){dir.scale(1/a),dir2.scale(1/o);var s=dir.dot(dir2),l=Math.cos(n);if(l<s){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI-n));var u=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(u))return;u<0?Point.copy(tmpProjPoint,pt1):u>1&&Point.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,n,a){if(a<=180&&a>0){a=a/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point.sub(dir,pt1,pt0),Point.sub(dir2,pt2,pt1);var o=dir.len(),s=dir2.len();if(!(o<.001||s<.001)){dir.scale(1/o),dir2.scale(1/s);var l=dir.dot(n),c=Math.cos(a);if(l<c){var u=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,f=Math.acos(dir2.dot(n)),v=d+f-a;if(v>=d)Point.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,u/Math.tan(Math.PI/2-v));var g=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(g))return;g<0?Point.copy(tmpProjPoint,pt1):g>1&&Point.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,n,a,o){var s=a==="normal",l=s?r:r.ensureState(a);l.ignore=n;var c=o.get("smooth");c&&c===!0&&(c=.3),l.shape=l.shape||{},c>0&&(l.shape.smooth=c);var u=o.getModel("lineStyle").getLineStyle();s?r.useStyle(u):l.style=u}function buildLabelLinePath(r,n){var a=n.smooth,o=n.points;if(o)if(r.moveTo(o[0][0],o[0][1]),a>0&&o.length>=3){var s=dist$1(o[0],o[1]),l=dist$1(o[1],o[2]);if(!s||!l){r.lineTo(o[1][0],o[1][1]),r.lineTo(o[2][0],o[2][1]);return}var c=Math.min(s,l)*a,u=lerp$1([],o[1],o[0],c/s),d=lerp$1([],o[1],o[2],c/l),f=lerp$1([],u,d,.5);r.bezierCurveTo(u[0],u[1],u[0],u[1],f[0],f[1]),r.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var v=1;v<o.length;v++)r.lineTo(o[v][0],o[v][1])}function setLabelLineStyle(r,n,a){var o=r.getTextGuideLine(),s=r.getTextContent();if(!s){o&&r.removeTextGuideLine();return}for(var l=n.normal,c=l.get("show"),u=s.ignore,d=0;d<DISPLAY_STATES.length;d++){var f=DISPLAY_STATES[d],v=n[f],g=f==="normal";if(v){var y=v.get("show"),_=g?u:retrieve2(s.states[f]&&s.states[f].ignore,u);if(_||!retrieve2(y,c)){var b=g?o:o&&o.states[f];b&&(b.ignore=!0),o&&setLabelLineState(o,!0,f,v);continue}o||(o=new Polyline$1,r.setTextGuideLine(o),!g&&(u||!c)&&setLabelLineState(o,!0,"normal",n.normal),r.stateProxy&&(o.stateProxy=r.stateProxy)),setLabelLineState(o,!1,f,v)}}if(o){defaults(o.style,a),o.style.fill=null;var T=l.get("showAbove"),C=r.textGuideLineConfig=r.textGuideLineConfig||{};C.showAbove=T||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,n){n=n||"labelLine";for(var a={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];a[s]=r.getModel([s,n])}return a}function prepareLayoutList(r){for(var n=[],a=0;a<r.length;a++){var o=r[a];if(!o.defaultAttr.ignore){var s=o.label,l=s.getComputedTransform(),c=s.getBoundingRect(),u=!l||l[1]<1e-5&&l[2]<1e-5,d=s.style.margin||0,f=c.clone();f.applyTransform(l),f.x-=d/2,f.y-=d/2,f.width+=d,f.height+=d;var v=u?new OrientedBoundingRect(c,l):null;n.push({label:s,labelLine:o.labelLine,rect:f,localRect:c,obb:v,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:u,transform:l})}}return n}function shiftLayout(r,n,a,o,s,l){var c=r.length;if(c<2)return;r.sort(function(B,z){return B.rect[n]-z.rect[n]});for(var u=0,d,f=!1,v=0,g=0;g<c;g++){var y=r[g],_=y.rect;d=_[n]-u,d<0&&(_[n]-=d,y.label[n]-=d,f=!0);var b=Math.max(-d,0);v+=b,u=_[n]+_[a]}v>0&&l&&L(-v/c,0,c);var T=r[0],C=r[c-1],P,E;M(),P<0&&N(-P,.8),E<0&&N(E,.8),M(),I(P,E,1),I(E,P,-1),M(),P<0&&V(-P),E<0&&V(E);function M(){P=T.rect[n]-o,E=s-C.rect[n]-C.rect[a]}function I(B,z,G){if(B<0){var H=Math.min(z,-B);if(H>0){L(H*G,0,c);var W=H+B;W<0&&N(-W*G,1)}else N(-B*G,1)}}function L(B,z,G){B!==0&&(f=!0);for(var H=z;H<G;H++){var W=r[H],j=W.rect;j[n]+=B,W.label[n]+=B}}function N(B,z){for(var G=[],H=0,W=1;W<c;W++){var j=r[W-1].rect,X=Math.max(r[W].rect[n]-j[n]-j[a],0);G.push(X),H+=X}if(H){var Z=Math.min(Math.abs(B)/H,z);if(B>0)for(var W=0;W<c-1;W++){var q=G[W]*Z;L(q,0,W+1)}else for(var W=c-1;W>0;W--){var q=G[W-1]*Z;L(-q,W,c)}}}function V(B){var z=B<0?-1:1;B=Math.abs(B);for(var G=Math.ceil(B/(c-1)),H=0;H<c-1;H++)if(z>0?L(G,0,H+1):L(-G,c-H-1,c),B-=G,B<=0)return}return f}function shiftLayoutOnX(r,n,a,o){return shiftLayout(r,"x","width",n,a,o)}function shiftLayoutOnY(r,n,a,o){return shiftLayout(r,"y","height",n,a,o)}function hideOverlap(r){var n=[];r.sort(function(T,C){return C.priority-T.priority});var a=new BoundingRect(0,0,0,0);function o(T){if(!T.ignore){var C=T.ensureState("emphasis");C.ignore==null&&(C.ignore=!1)}T.ignore=!0}for(var s=0;s<r.length;s++){var l=r[s],c=l.axisAligned,u=l.localRect,d=l.transform,f=l.label,v=l.labelLine;a.copy(l.rect),a.width-=.1,a.height-=.1,a.x+=.05,a.y+=.05;for(var g=l.obb,y=!1,_=0;_<n.length;_++){var b=n[_];if(a.intersect(b.rect)){if(c&&b.axisAligned){y=!0;break}if(b.obb||(b.obb=new OrientedBoundingRect(b.localRect,b.transform)),g||(g=new OrientedBoundingRect(u,d)),g.intersect(b.obb)){y=!0;break}}}y?(o(f),v&&o(v)):(f.attr("ignore",l.defaultAttr.ignore),v&&v.attr("ignore",l.defaultAttr.labelGuideIgnore),n.push(l))}}function cloneArr(r){if(r){for(var n=[],a=0;a<r.length;a++)n.push(r[a].slice());return n}}function prepareLayoutCallbackParams(r,n){var a=r.label,o=n&&n.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:cloneArr(o&&o.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(r,n,a){for(var o=0;o<a.length;o++){var s=a[o];n[s]!=null&&(r[s]=n[s])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(n,a,o,s,l){var c=s.style,u=s.__hostTarget,d=u.textConfig||{},f=s.getComputedTransform(),v=s.getBoundingRect().plain();BoundingRect.applyTransform(v,v,f),f?dummyTransformable.setLocalTransform(f):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var g=s.__hostTarget,y;if(g){y=g.getBoundingRect().plain();var _=g.getComputedTransform();BoundingRect.applyTransform(y,y,_)}var b=y&&g.getTextGuideLine();this._labelList.push({label:s,labelLine:b,seriesModel:o,dataIndex:n,dataType:a,layoutOption:l,computedLayoutOption:null,rect:v,hostRect:y,priority:y?y.width*y.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:b&&b.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:c.x,y:c.y,align:c.align,verticalAlign:c.verticalAlign,width:c.width,height:c.height,fontSize:c.fontSize},cursor:s.cursor,attachedPos:d.position,attachedRot:d.rotation}})},r.prototype.addLabelsOfSeries=function(n){var a=this;this._chartViewList.push(n);var o=n.__model,s=o.get("labelLayout");(isFunction(s)||keys(s).length)&&n.group.traverse(function(l){if(l.ignore)return!0;var c=l.getTextContent(),u=getECData(l);c&&!c.disableLabelLayout&&a._addLabel(u.dataIndex,u.dataType,o,c,s)})},r.prototype.updateLayoutConfig=function(n){var a=n.getWidth(),o=n.getHeight();function s(M,I){return function(){updateLabelLinePoints(M,I)}}for(var l=0;l<this._labelList.length;l++){var c=this._labelList[l],u=c.label,d=u.__hostTarget,f=c.defaultAttr,v=void 0;isFunction(c.layoutOption)?v=c.layoutOption(prepareLayoutCallbackParams(c,d)):v=c.layoutOption,v=v||{},c.computedLayoutOption=v;var g=Math.PI/180;d&&d.setTextConfig({local:!1,position:v.x!=null||v.y!=null?null:f.attachedPos,rotation:v.rotate!=null?v.rotate*g:f.attachedRot,offset:[v.dx||0,v.dy||0]});var y=!1;if(v.x!=null?(u.x=parsePercent(v.x,a),u.setStyle("x",0),y=!0):(u.x=f.x,u.setStyle("x",f.style.x)),v.y!=null?(u.y=parsePercent(v.y,o),u.setStyle("y",0),y=!0):(u.y=f.y,u.setStyle("y",f.style.y)),v.labelLinePoints){var _=d.getTextGuideLine();_&&(_.setShape({points:v.labelLinePoints}),y=!1)}var b=labelLayoutInnerStore(u);b.needsUpdateLabelLine=y,u.rotation=v.rotate!=null?v.rotate*g:f.rotation,u.scaleX=f.scaleX,u.scaleY=f.scaleY;for(var T=0;T<LABEL_OPTION_TO_STYLE_KEYS.length;T++){var C=LABEL_OPTION_TO_STYLE_KEYS[T];u.setStyle(C,v[C]!=null?v[C]:f.style[C])}if(v.draggable){if(u.draggable=!0,u.cursor="move",d){var P=c.seriesModel;if(c.dataIndex!=null){var E=c.seriesModel.getData(c.dataType);P=E.getItemModel(c.dataIndex)}u.on("drag",s(d,P.getModel("labelLine")))}}else u.off("drag"),u.cursor=f.cursor}},r.prototype.layout=function(n){var a=n.getWidth(),o=n.getHeight(),s=prepareLayoutList(this._labelList),l=filter(s,function(d){return d.layoutOption.moveOverlap==="shiftX"}),c=filter(s,function(d){return d.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(l,0,a),shiftLayoutOnY(c,0,o);var u=filter(s,function(d){return d.layoutOption.hideOverlap});hideOverlap(u)},r.prototype.processLabelsOverall=function(){var n=this;each$f(this._chartViewList,function(a){var o=a.__model,s=a.ignoreLabelLineUpdate,l=o.isAnimationEnabled();a.group.traverse(function(c){if(c.ignore&&!c.forceLabelAnimation)return!0;var u=!s,d=c.getTextContent();!u&&d&&(u=labelLayoutInnerStore(d).needsUpdateLabelLine),u&&n._updateLabelLine(c,o),l&&n._animateLabels(c,o)})})},r.prototype._updateLabelLine=function(n,a){var o=n.getTextContent(),s=getECData(n),l=s.dataIndex;if(o&&l!=null){var c=a.getData(s.dataType),u=c.getItemModel(l),d={},f=c.getItemVisual(l,"style");if(f){var v=c.getVisual("drawType");d.stroke=f[v]}var g=u.getModel("labelLine");setLabelLineStyle(n,getLabelLineStatesModels(u),d),updateLabelLinePoints(n,g)}},r.prototype._animateLabels=function(n,a){var o=n.getTextContent(),s=n.getTextGuideLine();if(o&&(n.forceLabelAnimation||!o.ignore&&!o.invisible&&!n.disableLabelAnimation&&!isElementRemoved(n))){var l=labelLayoutInnerStore(o),c=l.oldLayout,u=getECData(n),d=u.dataIndex,f={x:o.x,y:o.y,rotation:o.rotation},v=a.getData(u.dataType);if(c){o.attr(c);var y=n.prevStates;y&&(indexOf(y,"select")>=0&&o.attr(l.oldLayoutSelect),indexOf(y,"emphasis")>=0&&o.attr(l.oldLayoutEmphasis)),updateProps$1(o,f,a,d)}else if(o.attr(f),!labelInner(o).valueAnimation){var g=retrieve2(o.style.opacity,1);o.style.opacity=0,initProps(o,{style:{opacity:g}},a,d)}if(l.oldLayout=f,o.states.select){var _=l.oldLayoutSelect={};extendWithKeys(_,f,LABEL_LAYOUT_PROPS),extendWithKeys(_,o.states.select,LABEL_LAYOUT_PROPS)}if(o.states.emphasis){var b=l.oldLayoutEmphasis={};extendWithKeys(b,f,LABEL_LAYOUT_PROPS),extendWithKeys(b,o.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(o,d,v,a,a)}if(s&&!s.ignore&&!s.invisible){var l=labelLineAnimationStore(s),c=l.oldLayout,T={points:s.shape.points};c?(s.attr({shape:c}),updateProps$1(s,{shape:T},a)):(s.setShape(T),s.style.strokePercent=0,initProps(s,{style:{strokePercent:1}},a)),l.oldLayout=T}},r}(),getLabelManager=makeInner();function installLabelLayout(r){r.registerUpdateLifecycle("series:beforeupdate",function(n,a,o){var s=getLabelManager(a).labelManager;s||(s=getLabelManager(a).labelManager=new LabelManager),s.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(n,a,o){var s=getLabelManager(a).labelManager;o.updatedSeries.forEach(function(l){s.addLabelsOfSeries(a.getViewOfSeriesModel(l))}),s.updateLayoutConfig(a),s.layout(a),s.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function r(){}return r.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},r.prototype.moveTo=function(n,a){this._add("M",n,a)},r.prototype.lineTo=function(n,a){this._add("L",n,a)},r.prototype.bezierCurveTo=function(n,a,o,s,l,c){this._add("C",n,a,o,s,l,c)},r.prototype.quadraticCurveTo=function(n,a,o,s){this._add("Q",n,a,o,s)},r.prototype.arc=function(n,a,o,s,l,c){this.ellipse(n,a,o,o,0,s,l,c)},r.prototype.ellipse=function(n,a,o,s,l,c,u,d){var f=u-c,v=!d,g=Math.abs(f),y=isAroundZero(g-PI2$1)||(v?f>=PI2$1:-f>=PI2$1),_=f>0?f%PI2$1:f%PI2$1+PI2$1,b=!1;y?b=!0:isAroundZero(g)?b=!1:b=_>=PI$4==!!v;var T=n+o*mathCos(c),C=a+s*mathSin(c);this._start&&this._add("M",T,C);var P=Math.round(l*degree);if(y){var E=1/this._p,M=(v?1:-1)*(PI2$1-E);this._add("A",o,s,P,1,+v,n+o*mathCos(c+M),a+s*mathSin(c+M)),E>.01&&this._add("A",o,s,P,0,+v,T,C)}else{var I=n+o*mathCos(u),L=a+s*mathSin(u);this._add("A",o,s,P,+b,+v,I,L)}},r.prototype.rect=function(n,a,o,s){this._add("M",n,a),this._add("l",o,0),this._add("l",0,s),this._add("l",-o,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(n,a,o,s,l,c,u,d,f){for(var v=[],g=this._p,y=1;y<arguments.length;y++){var _=arguments[y];if(isNaN(_)){this._invalid=!0;return}v.push(Math.round(_*g)/g)}this._d.push(n+v.join(" ")),this._start=n==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),NONE="none",mathRound=Math.round;function pathHasFill(r){var n=r.fill;return n!=null&&n!==NONE}function pathHasStroke(r){var n=r.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(r){return"stroke-"+r.toLowerCase()});function mapStyleToAttrs(r,n,a,o){var s=n.opacity==null?1:n.opacity;if(a instanceof ZRImage){r("opacity",s);return}if(pathHasFill(n)){var l=normalizeColor(n.fill);r("fill",l.color);var c=n.fillOpacity!=null?n.fillOpacity*l.opacity*s:l.opacity*s;c<1&&r("fill-opacity",c)}else r("fill",NONE);if(pathHasStroke(n)){var u=normalizeColor(n.stroke);r("stroke",u.color);var d=n.strokeNoScale?a.getLineScale():1,f=d?(n.lineWidth||0)/d:0,v=n.strokeOpacity!=null?n.strokeOpacity*u.opacity*s:u.opacity*s,g=n.strokeFirst;if(f!==1&&r("stroke-width",f),g&&r("paint-order",g?"stroke":"fill"),v<1&&r("stroke-opacity",v),n.lineDash){var y=getLineDash(a),_=y[0],b=y[1];_&&(b=mathRound(b||0),r("stroke-dasharray",_.join(",")),(b||o)&&r("stroke-dashoffset",b))}for(var T=0;T<strokeProps.length;T++){var C=strokeProps[T];if(n[C]!==DEFAULT_PATH_STYLE[C]){var P=n[C]||DEFAULT_PATH_STYLE[C];P&&r(svgStrokeProps[T],P)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(r){return document.createElementNS(SVGNS,r)}function createVNode(r,n,a,o,s){return{tag:r,attrs:a||{},children:o,text:s,key:n}}function createElementOpen(r,n){var a=[];if(n)for(var o in n){var s=n[o],l=o;s!==!1&&(s!==!0&&s!=null&&(l+='="'+s+'"'),a.push(l))}return"<"+r+" "+a.join(" ")+">"}function createElementClose(r){return"</"+r+">"}function vNodeToString(r,n){n=n||{};var a=n.newline?`
`:"";function o(s){var l=s.children,c=s.tag,u=s.attrs,d=s.text;return createElementOpen(c,u)+(c!=="style"?encodeHTML(d):d||"")+(l?""+a+map$1(l,function(f){return o(f)}).join(a)+a:"")+createElementClose(c)}return o(r)}function getCssString(r,n,a){a=a||{};var o=a.newline?`
`:"",s=" {"+o,l=o+"}",c=map$1(keys(r),function(d){return d+s+map$1(keys(r[d]),function(f){return f+":"+r[d][f]+";"}).join(o)+l}).join(o),u=map$1(keys(n),function(d){return"@keyframes "+d+s+map$1(keys(n[d]),function(f){return f+s+map$1(keys(n[d][f]),function(v){var g=n[d][f][v];return v==="d"&&(g='path("'+g+'")'),v+":"+g+";"}).join(o)+l}).join(o)+l}).join(o);return!c&&!u?"":["<![CDATA[",c,u,"]]>"].join(o)}function createBrushScope(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(r,n,a,o){return createVNode("svg","root",{width:r,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+r+" "+n:!1},a)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(r,n,a){var o=extend({},r.shape);extend(o,n),r.buildPath(a,o);var s=new SVGPathRebuilder;return s.reset(getPathPrecision(r)),a.rebuildPath(s,1),s.generateStr(),s.getStr()}function setTransformOrigin(r,n){var a=n.originX,o=n.originY;(a||o)&&(r[transformOriginKey]=a+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(r,n){var a=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[a]=r,a}function createCompoundPathCSSAnimation(r,n,a){var o=r.shape.paths,s={},l,c;if(each$f(o,function(d){var f=createBrushScope(a.zrId);f.animation=!0,createCSSAnimation(d,{},f,!0);var v=f.cssAnims,g=f.cssNodes,y=keys(v),_=y.length;if(_){c=y[_-1];var b=v[c];for(var T in b){var C=b[T];s[T]=s[T]||{d:""},s[T].d+=C.d||""}for(var P in g){var E=g[P].animation;E.indexOf(c)>=0&&(l=E)}}}),!!l){n.d=!1;var u=addAnimation(s,a);return l.replace(c,u)}}function getEasingFunc(r){return isString(r)?EASING_MAP[r]?"cubic-bezier("+EASING_MAP[r]+")":createCubicEasingFunc(r)?r:"":""}function createCSSAnimation(r,n,a,o){var s=r.animators,l=s.length,c=[];if(r instanceof CompoundPath){var u=createCompoundPathCSSAnimation(r,n,a);if(u)c.push(u);else if(!l)return}else if(!l)return;for(var d={},f=0;f<l;f++){var v=s[f],g=[v.getMaxTime()/1e3+"s"],y=getEasingFunc(v.getClip().easing),_=v.getDelay();y?g.push(y):g.push("linear"),_&&g.push(_/1e3+"s"),v.getLoop()&&g.push("infinite");var b=g.join(" ");d[b]=d[b]||[b,[]],d[b][1].push(v)}function T(E){var M=E[1],I=M.length,L={},N={},V={},B="animation-timing-function";function z(pe,de,Te){for(var we=pe.getTracks(),Ie=pe.getMaxTime(),te=0;te<we.length;te++){var oe=we[te];if(oe.needsAnimate()){var ge=oe.keyframes,Ae=oe.propName;if(Te&&(Ae=Te(Ae)),Ae)for(var be=0;be<ge.length;be++){var $e=ge[be],Me=Math.round($e.time/Ie*100)+"%",Ve=getEasingFunc($e.easing),Le=$e.rawValue;(isString(Le)||isNumber(Le))&&(de[Me]=de[Me]||{},de[Me][Ae]=$e.rawValue,Ve&&(de[Me][B]=Ve))}}}}for(var G=0;G<I;G++){var H=M[G],W=H.targetName;W?W==="shape"&&z(H,N):!o&&z(H,L)}for(var j in L){var X={};copyTransform(X,r),extend(X,L[j]);var Z=getSRTTransformString(X),q=L[j][B];V[j]=Z?{transform:Z}:{},setTransformOrigin(V[j],X),q&&(V[j][B]=q)}var le,ae=!0;for(var j in N){V[j]=V[j]||{};var he=!le,q=N[j][B];he&&(le=new PathProxy);var ve=le.len();le.reset(),V[j].d=buildPathString(r,N[j],le);var ce=le.len();if(!he&&ve!==ce){ae=!1;break}q&&(V[j][B]=q)}if(!ae)for(var j in V)delete V[j].d;if(!o)for(var G=0;G<I;G++){var H=M[G],W=H.targetName;W==="style"&&z(H,V,function(we){return ANIMATE_STYLE_MAP[we]})}for(var fe=keys(V),_e=!0,Ce,G=1;G<fe.length;G++){var Se=fe[G-1],De=fe[G];if(V[Se][transformOriginKey]!==V[De][transformOriginKey]){_e=!1;break}Ce=V[Se][transformOriginKey]}if(_e&&Ce){for(var j in V)V[j][transformOriginKey]&&delete V[j][transformOriginKey];n[transformOriginKey]=Ce}if(filter(fe,function(pe){return keys(V[pe]).length>0}).length){var ne=addAnimation(V,a);return ne+" "+E[0]+" both"}}for(var C in d){var u=T(d[C]);u&&c.push(u)}if(c.length){var P=a.zrId+"-cls-"+getClassId();a.cssNodes["."+P]={animation:c.join(",")},n.class=P}}function createCSSEmphasis(r,n,a){if(!r.ignore)if(r.isSilent()){var o={"pointer-events":"none"};setClassAttribute(o,n,a)}else{var s=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},l=s.fill;if(!l){var c=r.style&&r.style.fill,u=r.states.select&&r.states.select.style&&r.states.select.style.fill,d=r.currentStates.indexOf("select")>=0&&u||c;d&&(l=liftColor(d))}var f=s.lineWidth;if(f){var v=!s.strokeNoScale&&r.transform?r.transform[0]:1;f=f/v}var o={cursor:"pointer"};l&&(o.fill=l),s.stroke&&(o.stroke=s.stroke),f&&(o["stroke-width"]=f),setClassAttribute(o,n,a)}}function setClassAttribute(r,n,a,o){var s=JSON.stringify(r),l=a.cssStyleCache[s];l||(l=a.zrId+"-cls-"+getClassId(),a.cssStyleCache[s]=l,a.cssNodes["."+l+":hover"]=r),n.class=n.class?n.class+" "+l:l}var round$1=Math.round;function isImageLike(r){return r&&isString(r.src)}function isCanvasLike(r){return r&&isFunction(r.toDataURL)}function setStyleAttrs(r,n,a,o){mapStyleToAttrs(function(s,l){var c=s==="fill"||s==="stroke";c&&isGradient(l)?setGradient(n,r,s,o):c&&isPattern(l)?setPattern(a,r,s,o):r[s]=l,c&&o.ssr&&l==="none"&&(r["pointer-events"]="visible")},n,a,!1),setShadow(a,r,o)}function setMetaData(r,n){var a=getElementSSRData(n);a&&(a.each(function(o,s){o!=null&&(r[(META_DATA_PREFIX+s).toLowerCase()]=o+"")}),n.isSilent()&&(r[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(r){return isAroundZero(r[0]-1)&&isAroundZero(r[1])&&isAroundZero(r[2])&&isAroundZero(r[3]-1)}function noTranslate(r){return isAroundZero(r[4])&&isAroundZero(r[5])}function setTransform(r,n,a){if(n&&!(noTranslate(n)&&noRotateScale(n))){var o=1e4;r.transform=noRotateScale(n)?"translate("+round$1(n[4]*o)/o+" "+round$1(n[5]*o)/o+")":getMatrixStr(n)}}function convertPolyShape(r,n,a){for(var o=r.points,s=[],l=0;l<o.length;l++)s.push(round$1(o[l][0]*a)/a),s.push(round$1(o[l][1]*a)/a);n.points=s.join(" ")}function validatePolyShape(r){return!r.smooth}function createAttrsConvert(r){var n=map$1(r,function(a){return typeof a=="string"?[a,a]:a});return function(a,o,s){for(var l=0;l<n.length;l++){var c=n[l],u=a[c[0]];u!=null&&(o[c[1]]=round$1(u*s)/s)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(r){for(var n=r.animators,a=0;a<n.length;a++)if(n[a].targetName==="shape")return!0;return!1}function brushSVGPath(r,n){var a=r.style,o=r.shape,s=builtinShapesDef[r.type],l={},c=n.animation,u="path",d=r.style.strokePercent,f=n.compress&&getPathPrecision(r)||4;if(s&&!n.willUpdate&&!(s[1]&&!s[1](o))&&!(c&&hasShapeAnimation(r))&&!(d<1)){u=r.type;var v=Math.pow(10,f);s[0](o,l,v)}else{var g=!r.path||r.shapeChanged();r.path||r.createPathProxy();var y=r.path;g&&(y.beginPath(),r.buildPath(y,r.shape),r.pathUpdated());var _=y.getVersion(),b=r,T=b.__svgPathBuilder;(b.__svgPathVersion!==_||!T||d!==b.__svgPathStrokePercent)&&(T||(T=b.__svgPathBuilder=new SVGPathRebuilder),T.reset(f),y.rebuildPath(T,d),T.generateStr(),b.__svgPathVersion=_,b.__svgPathStrokePercent=d),l.d=T.getStr()}return setTransform(l,r.transform),setStyleAttrs(l,a,r,n),setMetaData(l,r),n.animation&&createCSSAnimation(r,l,n),n.emphasis&&createCSSEmphasis(r,l,n),createVNode(u,r.id+"",l)}function brushSVGImage(r,n){var a=r.style,o=a.image;if(o&&!isString(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var s=a.x||0,l=a.y||0,c=a.width,u=a.height,d={href:o,width:c,height:u};return s&&(d.x=s),l&&(d.y=l),setTransform(d,r.transform),setStyleAttrs(d,a,r,n),setMetaData(d,r),n.animation&&createCSSAnimation(r,d,n),createVNode("image",r.id+"",d)}}function brushSVGTSpan(r,n){var a=r.style,o=a.text;if(o!=null&&(o+=""),!(!o||isNaN(a.x)||isNaN(a.y))){var s=a.font||DEFAULT_FONT,l=a.x||0,c=adjustTextY$1(a.y||0,getLineHeight(s),a.textBaseline),u=TEXT_ALIGN_TO_ANCHOR[a.textAlign]||a.textAlign,d={"dominant-baseline":"central","text-anchor":u};if(hasSeparateFont(a)){var f="",v=a.fontStyle,g=parseFontSize(a.fontSize);if(!parseFloat(g))return;var y=a.fontFamily||DEFAULT_FONT_FAMILY,_=a.fontWeight;f+="font-size:"+g+";font-family:"+y+";",v&&v!=="normal"&&(f+="font-style:"+v+";"),_&&_!=="normal"&&(f+="font-weight:"+_+";"),d.style=f}else d.style="font: "+s;return o.match(/\s/)&&(d["xml:space"]="preserve"),l&&(d.x=l),c&&(d.y=c),setTransform(d,r.transform),setStyleAttrs(d,a,r,n),setMetaData(d,r),n.animation&&createCSSAnimation(r,d,n),createVNode("text",r.id+"",d,void 0,o)}}function brush(r,n){if(r instanceof Path)return brushSVGPath(r,n);if(r instanceof ZRImage)return brushSVGImage(r,n);if(r instanceof TSpan)return brushSVGTSpan(r,n)}function setShadow(r,n,a){var o=r.style;if(hasShadow(o)){var s=getShadowKey(r),l=a.shadowCache,c=l[s];if(!c){var u=r.getGlobalScale(),d=u[0],f=u[1];if(!d||!f)return;var v=o.shadowOffsetX||0,g=o.shadowOffsetY||0,y=o.shadowBlur,_=normalizeColor(o.shadowColor),b=_.opacity,T=_.color,C=y/2/d,P=y/2/f,E=C+" "+P;c=a.zrId+"-s"+a.shadowIdx++,a.defs[c]=createVNode("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:v/d,dy:g/f,stdDeviation:E,"flood-color":T,"flood-opacity":b})]),l[s]=c}n.filter=getIdURL(c)}}function setGradient(r,n,a,o){var s=r[a],l,c={gradientUnits:s.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(s))l="linearGradient",c.x1=s.x,c.y1=s.y,c.x2=s.x2,c.y2=s.y2;else if(isRadialGradient(s))l="radialGradient",c.cx=retrieve2(s.x,.5),c.cy=retrieve2(s.y,.5),c.r=retrieve2(s.r,.5);else return;for(var u=s.colorStops,d=[],f=0,v=u.length;f<v;++f){var g=round4(u[f].offset)*100+"%",y=u[f].color,_=normalizeColor(y),b=_.color,T=_.opacity,C={offset:g};C["stop-color"]=b,T<1&&(C["stop-opacity"]=T),d.push(createVNode("stop",f+"",C))}var P=createVNode(l,"",c,d),E=vNodeToString(P),M=o.gradientCache,I=M[E];I||(I=o.zrId+"-g"+o.gradientIdx++,M[E]=I,c.id=I,o.defs[I]=createVNode(l,I,c,d)),n[a]=getIdURL(I)}function setPattern(r,n,a,o){var s=r.style[a],l=r.getBoundingRect(),c={},u=s.repeat,d=u==="no-repeat",f=u==="repeat-x",v=u==="repeat-y",g;if(isImagePattern(s)){var y=s.imageWidth,_=s.imageHeight,b=void 0,T=s.image;if(isString(T)?b=T:isImageLike(T)?b=T.src:isCanvasLike(T)&&(b=T.toDataURL()),typeof Image>"u"){var C="Image width/height must been given explictly in svg-ssr renderer.";assert(y,C),assert(_,C)}else if(y==null||_==null){var P=function(G,H){if(G){var W=G.elm,j=y||H.width,X=_||H.height;G.tag==="pattern"&&(f?(X=1,j/=l.width):v&&(j=1,X/=l.height)),G.attrs.width=j,G.attrs.height=X,W&&(W.setAttribute("width",j),W.setAttribute("height",X))}},E=createOrUpdateImage(b,null,r,function(G){d||P(N,G),P(g,G)});E&&E.width&&E.height&&(y=y||E.width,_=_||E.height)}g=createVNode("image","img",{href:b,width:y,height:_}),c.width=y,c.height=_}else s.svgElement&&(g=clone$4(s.svgElement),c.width=s.svgWidth,c.height=s.svgHeight);if(g){var M,I;d?M=I=1:f?(I=1,M=c.width/l.width):v?(M=1,I=c.height/l.height):c.patternUnits="userSpaceOnUse",M!=null&&!isNaN(M)&&(c.width=M),I!=null&&!isNaN(I)&&(c.height=I);var L=getSRTTransformString(s);L&&(c.patternTransform=L);var N=createVNode("pattern","",c,[g]),V=vNodeToString(N),B=o.patternCache,z=B[V];z||(z=o.zrId+"-p"+o.patternIdx++,B[V]=z,c.id=z,N=o.defs[z]=createVNode("pattern",z,c,[g])),n[a]=getIdURL(z)}}function setClipPath(r,n,a){var o=a.clipPathCache,s=a.defs,l=o[r.id];if(!l){l=a.zrId+"-c"+a.clipPathIdx++;var c={id:l};o[r.id]=l,s[l]=createVNode("clipPath",l,c,[brushSVGPath(r,a)])}n["clip-path"]=getIdURL(l)}function createTextNode(r){return document.createTextNode(r)}function insertBefore(r,n,a){r.insertBefore(n,a)}function removeChild(r,n){r.removeChild(n)}function appendChild(r,n){r.appendChild(n)}function parentNode(r){return r.parentNode}function nextSibling(r){return r.nextSibling}function setTextContent(r,n){r.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(r){return r===void 0}function isDef(r){return r!==void 0}function createKeyToOldIdx(r,n,a){for(var o={},s=n;s<=a;++s){var l=r[s].key;l!==void 0&&(o[l]=s)}return o}function sameVnode(r,n){var a=r.key===n.key,o=r.tag===n.tag;return o&&a}function createElm(r){var n,a=r.children,o=r.tag;if(isDef(o)){var s=r.elm=createElement(o);if(updateAttrs(emptyNode,r),isArray$1(a))for(n=0;n<a.length;++n){var l=a[n];l!=null&&appendChild(s,createElm(l))}else isDef(r.text)&&!isObject$3(r.text)&&appendChild(s,createTextNode(r.text))}else r.elm=createTextNode(r.text);return r.elm}function addVnodes(r,n,a,o,s){for(;o<=s;++o){var l=a[o];l!=null&&insertBefore(r,createElm(l),n)}}function removeVnodes(r,n,a,o){for(;a<=o;++a){var s=n[a];if(s!=null)if(isDef(s.tag)){var l=parentNode(s.elm);removeChild(l,s.elm)}else removeChild(r,s.elm)}}function updateAttrs(r,n){var a,o=n.elm,s=r&&r.attrs||{},l=n.attrs||{};if(s!==l){for(a in l){var c=l[a],u=s[a];u!==c&&(c===!0?o.setAttribute(a,""):c===!1?o.removeAttribute(a):a==="style"?o.style.cssText=c:a.charCodeAt(0)!==xChar?o.setAttribute(a,c):a==="xmlns:xlink"||a==="xmlns"?o.setAttributeNS(XMLNS,a,c):a.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,a,c):a.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,a,c):o.setAttribute(a,c))}for(a in s)a in l||o.removeAttribute(a)}}function updateChildren(r,n,a){for(var o=0,s=0,l=n.length-1,c=n[0],u=n[l],d=a.length-1,f=a[0],v=a[d],g,y,_,b;o<=l&&s<=d;)c==null?c=n[++o]:u==null?u=n[--l]:f==null?f=a[++s]:v==null?v=a[--d]:sameVnode(c,f)?(patchVnode(c,f),c=n[++o],f=a[++s]):sameVnode(u,v)?(patchVnode(u,v),u=n[--l],v=a[--d]):sameVnode(c,v)?(patchVnode(c,v),insertBefore(r,c.elm,nextSibling(u.elm)),c=n[++o],v=a[--d]):sameVnode(u,f)?(patchVnode(u,f),insertBefore(r,u.elm,c.elm),u=n[--l],f=a[++s]):(isUndef(g)&&(g=createKeyToOldIdx(n,o,l)),y=g[f.key],isUndef(y)?insertBefore(r,createElm(f),c.elm):(_=n[y],_.tag!==f.tag?insertBefore(r,createElm(f),c.elm):(patchVnode(_,f),n[y]=void 0,insertBefore(r,_.elm,c.elm))),f=a[++s]);(o<=l||s<=d)&&(o>l?(b=a[d+1]==null?null:a[d+1].elm,addVnodes(r,b,a,s,d)):removeVnodes(r,n,o,l))}function patchVnode(r,n){var a=n.elm=r.elm,o=r.children,s=n.children;r!==n&&(updateAttrs(r,n),isUndef(n.text)?isDef(o)&&isDef(s)?o!==s&&updateChildren(a,o,s):isDef(s)?(isDef(r.text)&&setTextContent(a,""),addVnodes(a,null,s,0,s.length-1)):isDef(o)?removeVnodes(a,o,0,o.length-1):isDef(r.text)&&setTextContent(a,""):r.text!==n.text&&(isDef(o)&&removeVnodes(a,o,0,o.length-1),setTextContent(a,n.text)))}function patch(r,n){if(sameVnode(r,n))patchVnode(r,n);else{var a=r.elm,o=parentNode(a);createElm(n),o!==null&&(insertBefore(o,n.elm,nextSibling(a)),removeVnodes(o,[r],0,0))}return n}var svgId=0,SVGPainter=function(){function r(n,a,o){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=a,this._opts=o=extend({},o),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),n&&!o.ssr){var s=this._viewport=document.createElement("div");s.style.cssText="position:relative;overflow:hidden";var l=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),s.appendChild(l),n.appendChild(s)}this.resize(o.width,o.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},r.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},r.prototype.renderToVNode=function(n){n=n||{};var a=this.storage.getDisplayList(!0),o=this._width,s=this._height,l=createBrushScope(this._id);l.animation=n.animation,l.willUpdate=n.willUpdate,l.compress=n.compress,l.emphasis=n.emphasis,l.ssr=this._opts.ssr;var c=[],u=this._bgVNode=createBackgroundVNode(o,s,this._backgroundColor,l);u&&c.push(u);var d=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(a,l,d?d.children:c),d&&c.push(d);var f=map$1(keys(l.defs),function(y){return l.defs[y]});if(f.length&&c.push(createVNode("defs","defs",{},f)),n.animation){var v=getCssString(l.cssNodes,l.cssAnims,{newline:!0});if(v){var g=createVNode("style","stl",{},[],v);c.push(g)}}return createSVGVNode(o,s,c,n.useViewBox)},r.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),emphasis:retrieve2(n.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(n,a,o){for(var s=n.length,l=[],c=0,u,d,f=0,v=0;v<s;v++){var g=n[v];if(!g.invisible){var y=g.__clipPaths,_=y&&y.length||0,b=d&&d.length||0,T=void 0;for(T=Math.max(_-1,b-1);T>=0&&!(y&&d&&y[T]===d[T]);T--);for(var C=b-1;C>T;C--)c--,u=l[c-1];for(var P=T+1;P<_;P++){var E={};setClipPath(y[P],E,a);var M=createVNode("g","clip-g-"+f++,E,[]);(u?u.children:o).push(M),l[c++]=M,u=M}d=y;var I=brush(g,a);I&&(u?u.children:o).push(I)}}},r.prototype.resize=function(n,a){var o=this._opts,s=this.root,l=this._viewport;if(n!=null&&(o.width=n),a!=null&&(o.height=a),s&&l&&(l.style.display="none",n=getSize$1(s,0,o),a=getSize$1(s,1,o),l.style.display=""),this._width!==n||this._height!==a){if(this._width=n,this._height=a,l){var c=l.style;c.width=n+"px",c.height=a+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var u=this._svgDom;u&&(u.setAttribute("width",n),u.setAttribute("height",a));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",n),d.setAttribute("height",a))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(n){var a=this.renderToString(),o="data:image/svg+xml;";return n?(a=encodeBase64(a),a&&o+"base64,"+a):o+"charset=UTF-8,"+encodeURIComponent(a)},r}();function createMethodNotSupport(r){return function(){}}function createBackgroundVNode(r,n,a,o){var s;if(a&&a!=="none")if(s=createVNode("rect","bg",{width:r,height:n,x:"0",y:"0"}),isGradient(a))setGradient({fill:a},s.attrs,"fill",o);else if(isPattern(a))setPattern({style:{fill:a},dirty:noop,getBoundingRect:function(){return{width:r,height:n}}},s.attrs,"fill",o);else{var l=normalizeColor(a),c=l.color,u=l.opacity;s.attrs.fill=c,u<1&&(s.attrs["fill-opacity"]=u)}return s}function install$S(r){r.registerPainter("svg",SVGPainter)}function createDom(r,n,a){var o=platformApi.createCanvas(),s=n.getWidth(),l=n.getHeight(),c=o.style;return c&&(c.position="absolute",c.left="0",c.top="0",c.width=s+"px",c.height=l+"px",o.setAttribute("data-zr-dom-id",r)),o.width=s*a,o.height=l*a,o}var Layer=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;l.motionBlur=!1,l.lastFrameAlpha=.7,l.dpr=1,l.virtual=!1,l.config={},l.incremental=!1,l.zlevel=0,l.maxRepaintRectCount=5,l.__dirty=!0,l.__firstTimePaint=!0,l.__used=!1,l.__drawIndex=0,l.__startIndex=0,l.__endIndex=0,l.__prevStartIndex=null,l.__prevEndIndex=null;var c;s=s||devicePixelRatio,typeof a=="string"?c=createDom(a,o,s):isObject$3(a)&&(c=a,a=c.id),l.id=a,l.dom=c;var u=c.style;return u&&(disableUserSelect(c),c.onselectstart=function(){return!1},u.padding="0",u.margin="0",u.borderWidth="0"),l.painter=o,l.dpr=s,l}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),a!==1&&this.ctxBack.scale(a,a)},n.prototype.createRepaintRects=function(a,o,s,l){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var c=[],u=this.maxRepaintRectCount,d=!1,f=new BoundingRect(0,0,0,0);function v(E){if(!(!E.isFinite()||E.isZero()))if(c.length===0){var M=new BoundingRect(0,0,0,0);M.copy(E),c.push(M)}else{for(var I=!1,L=1/0,N=0,V=0;V<c.length;++V){var B=c[V];if(B.intersect(E)){var z=new BoundingRect(0,0,0,0);z.copy(B),z.union(E),c[V]=z,I=!0;break}else if(d){f.copy(E),f.union(B);var G=E.width*E.height,H=B.width*B.height,W=f.width*f.height,j=W-G-H;j<L&&(L=j,N=V)}}if(d&&(c[N].union(E),I=!0),!I){var M=new BoundingRect(0,0,0,0);M.copy(E),c.push(M)}d||(d=c.length>=u)}}for(var g=this.__startIndex;g<this.__endIndex;++g){var y=a[g];if(y){var _=y.shouldBePainted(s,l,!0,!0),b=y.__isRendered&&(y.__dirty&REDRAW_BIT||!_)?y.getPrevPaintRect():null;b&&v(b);var T=_&&(y.__dirty&REDRAW_BIT||!y.__isRendered)?y.getPaintRect():null;T&&v(T)}}for(var g=this.__prevStartIndex;g<this.__prevEndIndex;++g){var y=o[g],_=y&&y.shouldBePainted(s,l,!0,!0);if(y&&(!_||!y.__zr)&&y.__isRendered){var b=y.getPrevPaintRect();b&&v(b)}}var C;do{C=!1;for(var g=0;g<c.length;){if(c[g].isZero()){c.splice(g,1);continue}for(var P=g+1;P<c.length;)c[g].intersect(c[P])?(C=!0,c[g].union(c[P]),c.splice(P,1)):P++;g++}}while(C);return this._paintRects=c,c},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(a,o){var s=this.dpr,l=this.dom,c=l.style,u=this.domBack;c&&(c.width=a+"px",c.height=o+"px"),l.width=a*s,l.height=o*s,u&&(u.width=a*s,u.height=o*s,s!==1&&this.ctxBack.scale(s,s))},n.prototype.clear=function(a,o,s){var l=this.dom,c=this.ctx,u=l.width,d=l.height;o=o||this.clearColor;var f=this.motionBlur&&!a,v=this.lastFrameAlpha,g=this.dpr,y=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(l,0,0,u/g,d/g));var _=this.domBack;function b(T,C,P,E){if(c.clearRect(T,C,P,E),o&&o!=="transparent"){var M=void 0;if(isGradientObject(o)){var I=o.global||o.__width===P&&o.__height===E;M=I&&o.__canvasGradient||getCanvasGradient(c,o,{x:0,y:0,width:P,height:E}),o.__canvasGradient=M,o.__width=P,o.__height=E}else isImagePatternObject(o)&&(o.scaleX=o.scaleX||g,o.scaleY=o.scaleY||g,M=createCanvasPattern(c,o,{dirty:function(){y.setUnpainted(),y.painter.refresh()}}));c.save(),c.fillStyle=M||o,c.fillRect(T,C,P,E),c.restore()}f&&(c.save(),c.globalAlpha=v,c.drawImage(_,T,C,P,E),c.restore())}!s||f?b(0,0,u,d):s.length&&each$f(s,function(T){b(T.x*g,T.y*g,T.width*g,T.height*g)})},n}(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function createRoot(r,n){var a=document.createElement("div");return a.style.cssText=["position:relative","width:"+r+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var CanvasPainter=function(){function r(n,a,o,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var l=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=o=extend({},o||{}),this.dpr=o.devicePixelRatio||devicePixelRatio,this._singleCanvas=l,this.root=n;var c=n.style;c&&(disableUserSelect(n),n.innerHTML=""),this.storage=a;var u=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(l){var v=n,g=v.width,y=v.height;o.width!=null&&(g=o.width),o.height!=null&&(y=o.height),this.dpr=o.devicePixelRatio||1,v.width=g*this.dpr,v.height=y*this.dpr,this._width=g,this._height=y;var _=new Layer(v,this,this.dpr);_.__builtin__=!0,_.initContext(),d[CANVAS_ZLEVEL]=_,_.zlevel=CANVAS_ZLEVEL,u.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize$1(n,0,o),this._height=getSize$1(n,1,o);var f=this._domRoot=createRoot(this._width,this._height);n.appendChild(f)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.refresh=function(n){var a=this.storage.getDisplayList(!0),o=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(a,o,n,this._redrawId);for(var l=0;l<s.length;l++){var c=s[l],u=this._layers[c];if(!u.__builtin__&&u.refresh){var d=l===0?this._backgroundColor:null;u.refresh(d)}}return this._opts.useDirtyRect&&(this._prevDisplayList=a.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(n){var a=n.length,o=this._hoverlayer;if(o&&o.clear(),!!a){for(var s={inHover:!0,viewWidth:this._width,viewHeight:this._height},l,c=0;c<a;c++){var u=n[c];u.__inHover&&(o||(o=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),l||(l=o.ctx,l.save()),brush$1(l,u,s,c===a-1))}l&&l.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},r.prototype.paintOne=function(n,a){brushSingle(n,a)},r.prototype._paintList=function(n,a,o,s){if(this._redrawId===s){o=o||!1,this._updateLayerStatus(n);var l=this._doPaintList(n,a,o),c=l.finished,u=l.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),u&&this._paintHoverList(n),c)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var d=this;requestAnimationFrame$1(function(){d._paintList(n,a,o,s)})}}},r.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,a=this._domRoot.width,o=this._domRoot.height;n.clearRect(0,0,a,o),this.eachBuiltinLayer(function(s){s.virtual&&n.drawImage(s.dom,0,0,a,o)})},r.prototype._doPaintList=function(n,a,o){for(var s=this,l=[],c=this._opts.useDirtyRect,u=0;u<this._zlevelList.length;u++){var d=this._zlevelList[u],f=this._layers[d];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||o)&&l.push(f)}for(var v=!0,g=!1,y=function(T){var C=l[T],P=C.ctx,E=c&&C.createRepaintRects(n,a,_._width,_._height),M=o?C.__startIndex:C.__drawIndex,I=!o&&C.incremental&&Date.now,L=I&&Date.now(),N=C.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(C.__startIndex===C.__endIndex)C.clear(!1,N,E);else if(M===C.__startIndex){var V=n[M];(!V.incremental||!V.notClear||o)&&C.clear(!1,N,E)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=C.__startIndex);var B,z=function(j){var X={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(B=M;B<C.__endIndex;B++){var Z=n[B];if(Z.__inHover&&(g=!0),s._doPaintEl(Z,C,c,j,X,B===C.__endIndex-1),I){var q=Date.now()-L;if(q>15)break}}X.prevElClipPaths&&P.restore()};if(E)if(E.length===0)B=C.__endIndex;else for(var G=_.dpr,H=0;H<E.length;++H){var W=E[H];P.save(),P.beginPath(),P.rect(W.x*G,W.y*G,W.width*G,W.height*G),P.clip(),z(W),P.restore()}else P.save(),z(),P.restore();C.__drawIndex=B,C.__drawIndex<C.__endIndex&&(v=!1)},_=this,b=0;b<l.length;b++)y(b);return env.wxa&&each$f(this._layers,function(T){T&&T.ctx&&T.ctx.draw&&T.ctx.draw()}),{finished:v,needsRefreshHover:g}},r.prototype._doPaintEl=function(n,a,o,s,l,c){var u=a.ctx;if(o){var d=n.getPaintRect();(!s||d&&d.intersect(s))&&(brush$1(u,n,l,c),n.setPrevPaintRect(d))}else brush$1(u,n,l,c)},r.prototype.getLayer=function(n,a){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var o=this._layers[n];return o||(o=new Layer("zr_"+n,this,this.dpr),o.zlevel=n,o.__builtin__=!0,this._layerConfig[n]?merge(o,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge(o,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),a&&(o.virtual=a),this.insertLayer(n,o),o.initContext()),o},r.prototype.insertLayer=function(n,a){var o=this._layers,s=this._zlevelList,l=s.length,c=this._domRoot,u=null,d=-1;if(!o[n]&&isLayerValid(a)){if(l>0&&n>s[0]){for(d=0;d<l-1&&!(s[d]<n&&s[d+1]>n);d++);u=o[s[d]]}if(s.splice(d+1,0,n),o[n]=a,!a.virtual)if(u){var f=u.dom;f.nextSibling?c.insertBefore(a.dom,f.nextSibling):c.appendChild(a.dom)}else c.firstChild?c.insertBefore(a.dom,c.firstChild):c.appendChild(a.dom);a.painter||(a.painter=this)}},r.prototype.eachLayer=function(n,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s];n.call(a,this._layers[l],l)}},r.prototype.eachBuiltinLayer=function(n,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],c=this._layers[l];c.__builtin__&&n.call(a,c,l)}},r.prototype.eachOtherLayer=function(n,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],c=this._layers[l];c.__builtin__||n.call(a,c,l)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(g,y){g.__dirty=g.__used=!1});function a(g){l&&(l.__endIndex!==g&&(l.__dirty=!0),l.__endIndex=g)}if(this._singleCanvas)for(var o=1;o<n.length;o++){var s=n[o];if(s.zlevel!==n[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var l=null,c=0,u,d;for(d=0;d<n.length;d++){var s=n[d],f=s.zlevel,v=void 0;u!==f&&(u=f,c=0),s.incremental?(v=this.getLayer(f+INCREMENTAL_INC,this._needsManuallyCompositing),v.incremental=!0,c=1):v=this.getLayer(f+(c>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),v.__builtin__||logError("ZLevel "+f+" has been used by unkown layer "+v.id),v!==l&&(v.__used=!0,v.__startIndex!==d&&(v.__dirty=!0),v.__startIndex=d,v.incremental?v.__drawIndex=-1:v.__drawIndex=d,a(d),l=v),s.__dirty&REDRAW_BIT&&!s.__inHover&&(v.__dirty=!0,v.incremental&&v.__drawIndex<0&&(v.__drawIndex=d))}a(d),this.eachBuiltinLayer(function(g,y){!g.__used&&g.getElementCount()>0&&(g.__dirty=!0,g.__startIndex=g.__endIndex=g.__drawIndex=0),g.__dirty&&g.__drawIndex<0&&(g.__drawIndex=g.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(n){n.clear()},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$f(this._layers,function(a){a.setUnpainted()})},r.prototype.configLayer=function(n,a){if(a){var o=this._layerConfig;o[n]?merge(o[n],a,!0):o[n]=a;for(var s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s];if(l===n||l===n+EL_AFTER_INCREMENTAL_INC){var c=this._layers[l];merge(c,o[n],!0)}}}},r.prototype.delLayer=function(n){var a=this._layers,o=this._zlevelList,s=a[n];s&&(s.dom.parentNode.removeChild(s.dom),delete a[n],o.splice(indexOf(o,n),1))},r.prototype.resize=function(n,a){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var s=this._opts,l=this.root;if(n!=null&&(s.width=n),a!=null&&(s.height=a),n=getSize$1(l,0,s),a=getSize$1(l,1,s),o.style.display="",this._width!==n||a!==this._height){o.style.width=n+"px",o.style.height=a+"px";for(var c in this._layers)this._layers.hasOwnProperty(c)&&this._layers[c].resize(n,a);this.refresh(!0)}this._width=n,this._height=a}else{if(n==null||a==null)return;this._width=n,this._height=a,this.getLayer(CANVAS_ZLEVEL).resize(n,a)}return this},r.prototype.clearLayer=function(n){var a=this._layers[n];a&&a.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var a=new Layer("image",this,n.pixelRatio||this.dpr);a.initContext(),a.clear(!1,n.backgroundColor||this._backgroundColor);var o=a.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var s=a.dom.width,l=a.dom.height;this.eachLayer(function(g){g.__builtin__?o.drawImage(g.dom,0,0,s,l):g.renderToCanvas&&(o.save(),g.renderToCanvas(o),o.restore())})}else for(var c={inHover:!1,viewWidth:this._width,viewHeight:this._height},u=this.storage.getDisplayList(!0),d=0,f=u.length;d<f;d++){var v=u[d];brush$1(o,v,c,d===f-1)}return a.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function install$R(r){r.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.getInitialData=function(a){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(a){var o=new Group$3,s=createSymbol$1("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);o.add(s),s.setStyle(a.lineStyle);var l=this.getData().getVisual("symbol"),c=this.getData().getVisual("symbolRotate"),u=l==="none"?"circle":l,d=a.itemHeight*.8,f=createSymbol$1(u,(a.itemWidth-d)/2,(a.itemHeight-d)/2,d,d,a.itemStyle.fill);o.add(f),f.setStyle(a.itemStyle);var v=a.iconRotate==="inherit"?c:a.iconRotate||0;return f.rotation=v*Math.PI/180,f.setOrigin([a.itemWidth/2,a.itemHeight/2]),u.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),o},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel);function getDefaultLabel(r,n){var a=r.mapDimensionsAll("defaultedLabel"),o=a.length;if(o===1){var s=retrieveRawValue(r,n,a[0]);return s!=null?s+"":null}else if(o){for(var l=[],c=0;c<a.length;c++)l.push(retrieveRawValue(r,n,a[c]));return l.join(" ")}}function getDefaultInterpolatedLabel(r,n){var a=r.mapDimensionsAll("defaultedLabel");if(!isArray$1(n))return n+"";for(var o=[],s=0;s<a.length;s++){var l=r.getDimensionIndex(a[s]);l>=0&&o.push(n[l])}return o.join(" ")}var Symbol$1=function(r){__extends(n,r);function n(a,o,s,l){var c=r.call(this)||this;return c.updateData(a,o,s,l),c}return n.prototype._createSymbol=function(a,o,s,l,c){this.removeAll();var u=createSymbol$1(a,-1,-1,2,2,null,c);u.attr({z2:100,culling:!0,scaleX:l[0]/2,scaleY:l[1]/2}),u.drift=driftSymbol,this._symbolType=a,this.add(u)},n.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(a,o){var s=this.childAt(0);s.zlevel=a,s.z=o},n.prototype.setDraggable=function(a,o){var s=this.childAt(0);s.draggable=a,s.cursor=!o&&a?"move":s.cursor},n.prototype.updateData=function(a,o,s,l){this.silent=!1;var c=a.getItemVisual(o,"symbol")||"circle",u=a.hostModel,d=n.getSymbolSize(a,o),f=c!==this._symbolType,v=l&&l.disableAnimation;if(f){var g=a.getItemVisual(o,"symbolKeepAspect");this._createSymbol(c,a,o,d,g)}else{var y=this.childAt(0);y.silent=!1;var _={scaleX:d[0]/2,scaleY:d[1]/2};v?y.attr(_):updateProps$1(y,_,u,o),saveOldStyle(y)}if(this._updateCommon(a,o,d,s,l),f){var y=this.childAt(0);if(!v){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:y.style.opacity}};y.scaleX=y.scaleY=0,y.style.opacity=0,initProps(y,_,u,o)}}v&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(a,o,s,l,c){var u=this.childAt(0),d=a.hostModel,f,v,g,y,_,b,T,C,P;if(l&&(f=l.emphasisItemStyle,v=l.blurItemStyle,g=l.selectItemStyle,y=l.focus,_=l.blurScope,T=l.labelStatesModels,C=l.hoverScale,P=l.cursorStyle,b=l.emphasisDisabled),!l||a.hasItemOption){var E=l&&l.itemModel?l.itemModel:a.getItemModel(o),M=E.getModel("emphasis");f=M.getModel("itemStyle").getItemStyle(),g=E.getModel(["select","itemStyle"]).getItemStyle(),v=E.getModel(["blur","itemStyle"]).getItemStyle(),y=M.get("focus"),_=M.get("blurScope"),b=M.get("disabled"),T=getLabelStatesModels(E),C=M.getShallow("scale"),P=E.getShallow("cursor")}var I=a.getItemVisual(o,"symbolRotate");u.attr("rotation",(I||0)*Math.PI/180||0);var L=normalizeSymbolOffset(a.getItemVisual(o,"symbolOffset"),s);L&&(u.x=L[0],u.y=L[1]),P&&u.attr("cursor",P);var N=a.getItemVisual(o,"style"),V=N.fill;if(u instanceof ZRImage){var B=u.style;u.useStyle(extend({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},N))}else u.__isEmptyBrush?u.useStyle(extend({},N)):u.useStyle(N),u.style.decal=null,u.setColor(V,c&&c.symbolInnerColor),u.style.strokeNoScale=!0;var z=a.getItemVisual(o,"liftZ"),G=this._z2;z!=null?G==null&&(this._z2=u.z2,u.z2+=z):G!=null&&(u.z2=G,this._z2=null);var H=c&&c.useNameLabel;setLabelStyle(u,T,{labelFetcher:d,labelDataIndex:o,defaultText:W,inheritColor:V,defaultOpacity:N.opacity});function W(Z){return H?a.getName(Z):getDefaultLabel(a,Z)}this._sizeX=s[0]/2,this._sizeY=s[1]/2;var j=u.ensureState("emphasis");j.style=f,u.ensureState("select").style=g,u.ensureState("blur").style=v;var X=C==null||C===!0?Math.max(1.1,3/this._sizeY):isFinite(C)&&C>0?+C:1;j.scaleX=this._sizeX*X,j.scaleY=this._sizeY*X,this.setSymbolScale(1),toggleHoverEmphasis(this,y,_,b)},n.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},n.prototype.fadeOut=function(a,o,s){var l=this.childAt(0),c=getECData(this).dataIndex,u=s&&s.animation;if(this.silent=l.silent=!0,s&&s.fadeLabel){var d=l.getTextContent();d&&removeElement(d,{style:{opacity:0}},o,{dataIndex:c,removeOpt:u,cb:function(){l.removeTextContent()}})}else l.removeTextContent();removeElement(l,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:c,cb:a,removeOpt:u})},n.getSymbolSize=function(a,o){return normalizeSymbolSize(a.getItemVisual(o,"symbolSize"))},n}(Group$3);function driftSymbol(r,n){this.parent.drift(r,n)}function symbolNeedsDraw$1(r,n,a,o){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(o.isIgnore&&o.isIgnore(a))&&!(o.clipShape&&!o.clipShape.contain(n[0],n[1]))&&r.getItemVisual(a,"symbol")!=="none"}function normalizeUpdateOpt(r){return r!=null&&!isObject$3(r)&&(r={isIgnore:r}),r||{}}function makeSeriesScope$2(r){var n=r.hostModel,a=n.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function r(n){this.group=new Group$3,this._SymbolCtor=n||Symbol$1}return r.prototype.updateData=function(n,a){this._progressiveEls=null,a=normalizeUpdateOpt(a);var o=this.group,s=n.hostModel,l=this._data,c=this._SymbolCtor,u=a.disableAnimation,d=makeSeriesScope$2(n),f={disableAnimation:u},v=a.getSymbolPoint||function(g){return n.getItemLayout(g)};l||o.removeAll(),n.diff(l).add(function(g){var y=v(g);if(symbolNeedsDraw$1(n,y,g,a)){var _=new c(n,g,d,f);_.setPosition(y),n.setItemGraphicEl(g,_),o.add(_)}}).update(function(g,y){var _=l.getItemGraphicEl(y),b=v(g);if(!symbolNeedsDraw$1(n,b,g,a)){o.remove(_);return}var T=n.getItemVisual(g,"symbol")||"circle",C=_&&_.getSymbolType&&_.getSymbolType();if(!_||C&&C!==T)o.remove(_),_=new c(n,g,d,f),_.setPosition(b);else{_.updateData(n,g,d,f);var P={x:b[0],y:b[1]};u?_.attr(P):updateProps$1(_,P,s)}o.add(_),n.setItemGraphicEl(g,_)}).remove(function(g){var y=l.getItemGraphicEl(g);y&&y.fadeOut(function(){o.remove(y)},s)}).execute(),this._getSymbolPoint=v,this._data=n},r.prototype.updateLayout=function(){var n=this,a=this._data;a&&a.eachItemGraphicEl(function(o,s){var l=n._getSymbolPoint(s);o.setPosition(l),o.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$2(n),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(n,a,o){this._progressiveEls=[],o=normalizeUpdateOpt(o);function s(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var l=n.start;l<n.end;l++){var c=a.getItemLayout(l);if(symbolNeedsDraw$1(a,c,l,o)){var u=new this._SymbolCtor(a,l,this._seriesScope);u.traverse(s),u.setPosition(c),this.group.add(u),a.setItemGraphicEl(l,u),this._progressiveEls.push(u)}}},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype.remove=function(n){var a=this.group,o=this._data;o&&n?o.eachItemGraphicEl(function(s){s.fadeOut(function(){a.remove(s)},o.hostModel)}):a.removeAll()},r}();function prepareDataCoordInfo(r,n,a){var o=r.getBaseAxis(),s=r.getOtherAxis(o),l=getValueStart(s,a),c=o.dim,u=s.dim,d=n.mapDimension(u),f=n.mapDimension(c),v=u==="x"||u==="radius"?1:0,g=map$1(r.dimensions,function(b){return n.mapDimension(b)}),y=!1,_=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,g[0])&&(y=!0,g[0]=_),isDimensionStacked(n,g[1])&&(y=!0,g[1]=_),{dataDimsForPoint:g,valueStart:l,valueAxisDim:u,baseAxisDim:c,stacked:!!y,valueDim:d,baseDim:f,baseDataOffset:v,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(r,n){var a=0,o=r.scale.getExtent();return n==="start"?a=o[0]:n==="end"?a=o[1]:isNumber(n)&&!isNaN(n)?a=n:o[0]>0?a=o[0]:o[1]<0&&(a=o[1]),a}function getStackedOnPoint(r,n,a,o){var s=NaN;r.stacked&&(s=a.get(a.getCalculationInfo("stackedOverDimension"),o)),isNaN(s)&&(s=r.valueStart);var l=r.baseDataOffset,c=[];return c[l]=a.get(r.baseDim,o),c[1-l]=s,n.dataToPoint(c)}function diffData(r,n){var a=[];return n.diff(r).add(function(o){a.push({cmd:"+",idx:o})}).update(function(o,s){a.push({cmd:"=",idx:s,idx1:o})}).remove(function(o){a.push({cmd:"-",idx:o})}).execute(),a}function lineAnimationDiff(r,n,a,o,s,l,c,u){for(var d=diffData(r,n),f=[],v=[],g=[],y=[],_=[],b=[],T=[],C=prepareDataCoordInfo(s,n,c),P=r.getLayout("points")||[],E=n.getLayout("points")||[],M=0;M<d.length;M++){var I=d[M],L=!0,N=void 0,V=void 0;switch(I.cmd){case"=":N=I.idx*2,V=I.idx1*2;var B=P[N],z=P[N+1],G=E[V],H=E[V+1];(isNaN(B)||isNaN(z))&&(B=G,z=H),f.push(B,z),v.push(G,H),g.push(a[N],a[N+1]),y.push(o[V],o[V+1]),T.push(n.getRawIndex(I.idx1));break;case"+":var W=I.idx,j=C.dataDimsForPoint,X=s.dataToPoint([n.get(j[0],W),n.get(j[1],W)]);V=W*2,f.push(X[0],X[1]),v.push(E[V],E[V+1]);var Z=getStackedOnPoint(C,s,n,W);g.push(Z[0],Z[1]),y.push(o[V],o[V+1]),T.push(n.getRawIndex(W));break;case"-":L=!1}L&&(_.push(I),b.push(b.length))}b.sort(function(Se,De){return T[Se]-T[De]});for(var q=f.length,le=createFloat32Array(q),ae=createFloat32Array(q),he=createFloat32Array(q),ve=createFloat32Array(q),ce=[],M=0;M<b.length;M++){var fe=b[M],_e=M*2,Ce=fe*2;le[_e]=f[Ce],le[_e+1]=f[Ce+1],ae[_e]=v[Ce],ae[_e+1]=v[Ce+1],he[_e]=g[Ce],he[_e+1]=g[Ce+1],ve[_e]=y[Ce],ve[_e+1]=y[Ce+1],ce[M]=_[fe]}return{current:le,next:ae,stackedOnCurrent:he,stackedOnNext:ve,status:ce}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(r,n){return isNaN(r)||isNaN(n)}function drawSegment(r,n,a,o,s,l,c,u,d){for(var f,v,g,y,_,b,T=a,C=0;C<o;C++){var P=n[T*2],E=n[T*2+1];if(T>=s||T<0)break;if(isPointNull$1(P,E)){if(d){T+=l;continue}break}if(T===a)r[l>0?"moveTo":"lineTo"](P,E),g=P,y=E;else{var M=P-f,I=E-v;if(M*M+I*I<.5){T+=l;continue}if(c>0){for(var L=T+l,N=n[L*2],V=n[L*2+1];N===P&&V===E&&C<o;)C++,L+=l,T+=l,N=n[L*2],V=n[L*2+1],P=n[T*2],E=n[T*2+1],M=P-f,I=E-v;var B=C+1;if(d)for(;isPointNull$1(N,V)&&B<o;)B++,L+=l,N=n[L*2],V=n[L*2+1];var z=.5,G=0,H=0,W=void 0,j=void 0;if(B>=o||isPointNull$1(N,V))_=P,b=E;else{G=N-f,H=V-v;var X=P-f,Z=N-P,q=E-v,le=V-E,ae=void 0,he=void 0;if(u==="x"){ae=Math.abs(X),he=Math.abs(Z);var ve=G>0?1:-1;_=P-ve*ae*c,b=E,W=P+ve*he*c,j=E}else if(u==="y"){ae=Math.abs(q),he=Math.abs(le);var ce=H>0?1:-1;_=P,b=E-ce*ae*c,W=P,j=E+ce*he*c}else ae=Math.sqrt(X*X+q*q),he=Math.sqrt(Z*Z+le*le),z=he/(he+ae),_=P-G*c*(1-z),b=E-H*c*(1-z),W=P+G*c*z,j=E+H*c*z,W=mathMin$5(W,mathMax$5(N,P)),j=mathMin$5(j,mathMax$5(V,E)),W=mathMax$5(W,mathMin$5(N,P)),j=mathMax$5(j,mathMin$5(V,E)),G=W-P,H=j-E,_=P-G*ae/he,b=E-H*ae/he,_=mathMin$5(_,mathMax$5(f,P)),b=mathMin$5(b,mathMax$5(v,E)),_=mathMax$5(_,mathMin$5(f,P)),b=mathMax$5(b,mathMin$5(v,E)),G=P-_,H=E-b,W=P+G*he/ae,j=E+H*he/ae}r.bezierCurveTo(g,y,_,b,P,E),g=W,y=j}else r.lineTo(P,E)}f=P,v=E,T+=l}return C}var ECPolylineShape=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ECPolyline=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="ec-polyline",o}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(a,o){var s=o.points,l=0,c=s.length/2;if(o.connectNulls){for(;c>0&&isPointNull$1(s[c*2-2],s[c*2-1]);c--);for(;l<c&&isPointNull$1(s[l*2],s[l*2+1]);l++);}for(;l<c;)l+=drawSegment(a,s,l,c,c,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},n.prototype.getPointOn=function(a,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s=this.path,l=s.data,c=PathProxy.CMD,u,d,f=o==="x",v=[],g=0;g<l.length;){var y=l[g++],_=void 0,b=void 0,T=void 0,C=void 0,P=void 0,E=void 0,M=void 0;switch(y){case c.M:u=l[g++],d=l[g++];break;case c.L:if(_=l[g++],b=l[g++],M=f?(a-u)/(_-u):(a-d)/(b-d),M<=1&&M>=0){var I=f?(b-d)*M+d:(_-u)*M+u;return f?[a,I]:[I,a]}u=_,d=b;break;case c.C:_=l[g++],b=l[g++],T=l[g++],C=l[g++],P=l[g++],E=l[g++];var L=f?cubicRootAt(u,_,T,P,a,v):cubicRootAt(d,b,C,E,a,v);if(L>0)for(var N=0;N<L;N++){var V=v[N];if(V<=1&&V>=0){var I=f?cubicAt(d,b,C,E,V):cubicAt(u,_,T,P,V);return f?[a,I]:[I,a]}}u=P,d=E;break}}},n}(Path),ECPolygonShape=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="ec-polygon",o}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(a,o){var s=o.points,l=o.stackedOnPoints,c=0,u=s.length/2,d=o.smoothMonotone;if(o.connectNulls){for(;u>0&&isPointNull$1(s[u*2-2],s[u*2-1]);u--);for(;c<u&&isPointNull$1(s[c*2],s[c*2+1]);c++);}for(;c<u;){var f=drawSegment(a,s,c,u,u,1,o.smooth,d,o.connectNulls);drawSegment(a,l,c+f-1,f,u,-1,o.stackedOnSmooth,d,o.connectNulls),c+=f+1,a.closePath()}},n}(Path);function createGridClipPath(r,n,a,o,s){var l=r.getArea(),c=l.x,u=l.y,d=l.width,f=l.height,v=a.get(["lineStyle","width"])||0;c-=v/2,u-=v/2,d+=v,f+=v,d=Math.ceil(d),c!==Math.floor(c)&&(c=Math.floor(c),d++);var g=new Rect$2({shape:{x:c,y:u,width:d,height:f}});if(n){var y=r.getBaseAxis(),_=y.isHorizontal(),b=y.inverse;_?(b&&(g.shape.x+=d),g.shape.width=0):(b||(g.shape.y+=f),g.shape.height=0);var T=isFunction(s)?function(C){s(C,g)}:null;initProps(g,{shape:{width:d,height:f,x:c,y:u}},a,null,o,T)}return g}function createPolarClipPath(r,n,a){var o=r.getArea(),s=round$3(o.r0,1),l=round$3(o.r,1),c=new Sector({shape:{cx:round$3(r.cx,1),cy:round$3(r.cy,1),r0:s,r:l,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(n){var u=r.getBaseAxis().dim==="angle";u?c.shape.endAngle=o.startAngle:c.shape.r=s,initProps(c,{shape:{endAngle:o.endAngle,r:l}},a)}return c}function createClipPath(r,n,a,o,s){if(r){if(r.type==="polar")return createPolarClipPath(r,n,a);if(r.type==="cartesian2d")return createGridClipPath(r,n,a,o,s)}else return null;return null}function isCoordinateSystemType(r,n){return r.type===n}function isPointsSame(r,n){if(r.length===n.length){for(var a=0;a<r.length;a++)if(r[a]!==n[a])return;return!0}}function bboxFromPoints(r){for(var n=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<r.length;){var c=r[l++],u=r[l++];isNaN(c)||(n=Math.min(c,n),o=Math.max(c,o)),isNaN(u)||(a=Math.min(u,a),s=Math.max(u,s))}return[[n,a],[o,s]]}function getBoundingDiff(r,n){var a=bboxFromPoints(r),o=a[0],s=a[1],l=bboxFromPoints(n),c=l[0],u=l[1];return Math.max(Math.abs(o[0]-c[0]),Math.abs(o[1]-c[1]),Math.abs(s[0]-u[0]),Math.abs(s[1]-u[1]))}function getSmooth(r){return isNumber(r)?r:r?.5:0}function getStackedOnPoints(r,n,a){if(!a.valueDim)return[];for(var o=n.count(),s=createFloat32Array(o*2),l=0;l<o;l++){var c=getStackedOnPoint(a,r,n,l);s[l*2]=c[0],s[l*2+1]=c[1]}return s}function turnPointsIntoStep(r,n,a,o,s){var l=a.getBaseAxis(),c=l.dim==="x"||l.dim==="radius"?0:1,u=[],d=0,f=[],v=[],g=[],y=[];if(s){for(d=0;d<r.length;d+=2){var _=n||r;!isNaN(_[d])&&!isNaN(_[d+1])&&y.push(r[d],r[d+1])}r=y}for(d=0;d<r.length-2;d+=2)switch(g[0]=r[d+2],g[1]=r[d+3],v[0]=r[d],v[1]=r[d+1],u.push(v[0],v[1]),o){case"end":f[c]=g[c],f[1-c]=v[1-c],u.push(f[0],f[1]);break;case"middle":var b=(v[c]+g[c])/2,T=[];f[c]=T[c]=b,f[1-c]=v[1-c],T[1-c]=g[1-c],u.push(f[0],f[1]),u.push(T[0],T[1]);break;default:f[c]=v[c],f[1-c]=g[1-c],u.push(f[0],f[1])}return u.push(r[d++],r[d++]),u}function clipColorStops(r,n){var a=[],o=r.length,s,l;function c(v,g,y){var _=v.coord,b=(y-_)/(g.coord-_),T=lerp(b,[v.color,g.color]);return{coord:y,color:T}}for(var u=0;u<o;u++){var d=r[u],f=d.coord;if(f<0)s=d;else if(f>n){l?a.push(c(l,d,n)):s&&a.push(c(s,d,0),c(s,d,n));break}else s&&(a.push(c(s,d,0)),s=null),a.push(d),l=d}return a}function getVisualGradient(r,n,a){var o=r.getVisual("visualMeta");if(!(!o||!o.length||!r.count())&&n.type==="cartesian2d"){for(var s,l,c=o.length-1;c>=0;c--){var u=r.getDimensionInfo(o[c].dimension);if(s=u&&u.coordDim,s==="x"||s==="y"){l=o[c];break}}if(l){var d=n.getAxis(s),f=map$1(l.stops,function(M){return{coord:d.toGlobalCoord(d.dataToCoord(M.value)),color:M.color}}),v=f.length,g=l.outerColors.slice();v&&f[0].coord>f[v-1].coord&&(f.reverse(),g.reverse());var y=clipColorStops(f,s==="x"?a.getWidth():a.getHeight()),_=y.length;if(!_&&v)return f[0].coord<0?g[1]?g[1]:f[v-1].color:g[0]?g[0]:f[0].color;var b=10,T=y[0].coord-b,C=y[_-1].coord+b,P=C-T;if(P<.001)return"transparent";each$f(y,function(M){M.offset=(M.coord-T)/P}),y.push({offset:_?y[_-1].offset:.5,color:g[1]||"transparent"}),y.unshift({offset:_?y[0].offset:.5,color:g[0]||"transparent"});var E=new LinearGradient(0,0,0,0,y,!0);return E[s]=T,E[s+"2"]=C,E}}}function getIsIgnoreFunc(r,n,a){var o=r.get("showAllSymbol"),s=o==="auto";if(!(o&&!s)){var l=a.getAxesByScale("ordinal")[0];if(l&&!(s&&canShowAllSymbolForCategory(l,n))){var c=n.mapDimension(l.dim),u={};return each$f(l.getViewLabels(),function(d){var f=l.scale.getRawOrdinalNumber(d.tickValue);u[f]=1}),function(d){return!u.hasOwnProperty(n.get(c,d))}}}}function canShowAllSymbolForCategory(r,n){var a=r.getExtent(),o=Math.abs(a[1]-a[0])/r.scale.count();isNaN(o)&&(o=0);for(var s=n.count(),l=Math.max(1,Math.round(s/5)),c=0;c<s;c+=l)if(Symbol$1.getSymbolSize(n,c)[r.isHorizontal()?1:0]*1.5>o)return!1;return!0}function isPointNull(r,n){return isNaN(r)||isNaN(n)}function getLastIndexNotNull(r){for(var n=r.length/2;n>0&&isPointNull(r[n*2-2],r[n*2-1]);n--);return n-1}function getPointAtIndex(r,n){return[r[n*2],r[n*2+1]]}function getIndexRange(r,n,a){for(var o=r.length/2,s=a==="x"?0:1,l,c,u=0,d=-1,f=0;f<o;f++)if(c=r[f*2+s],!(isNaN(c)||isNaN(r[f*2+1-s]))){if(f===0){l=c;continue}if(l<=n&&c>=n||l>=n&&c<=n){d=f;break}u=f,l=c}return{range:[u,d],t:(n-l)/(c-l)}}function anyStateShowEndLabel(r){if(r.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(r.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(r,n,a,o){if(isCoordinateSystemType(n,"cartesian2d")){var s=o.getModel("endLabel"),l=s.get("valueAnimation"),c=o.getData(),u={lastFrameIndex:0},d=anyStateShowEndLabel(o)?function(_,b){r._endLabelOnDuring(_,b,c,u,l,s,n)}:null,f=n.getBaseAxis().isHorizontal(),v=createGridClipPath(n,a,o,function(){var _=r._endLabel;_&&a&&u.originalX!=null&&_.attr({x:u.originalX,y:u.originalY})},d);if(!o.get("clip",!0)){var g=v.shape,y=Math.max(g.width,g.height);f?(g.y-=y,g.height+=y*2):(g.x-=y,g.width+=y*2)}return d&&d(1,v),v}else return createPolarClipPath(n,a,o)}function getEndLabelStateSpecified(r,n){var a=n.getBaseAxis(),o=a.isHorizontal(),s=a.inverse,l=o?s?"right":"left":"center",c=o?"middle":s?"top":"bottom";return{normal:{align:r.get("align")||l,verticalAlign:r.get("verticalAlign")||c}}}var LineView=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(){var a=new Group$3,o=new SymbolDraw;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=a,this._changePolyState=bind$1(this._changePolyState,this)},n.prototype.render=function(a,o,s){var l=a.coordinateSystem,c=this.group,u=a.getData(),d=a.getModel("lineStyle"),f=a.getModel("areaStyle"),v=u.getLayout("points")||[],g=l.type==="polar",y=this._coordSys,_=this._symbolDraw,b=this._polyline,T=this._polygon,C=this._lineGroup,P=!o.ssr&&a.get("animation"),E=!f.isEmpty(),M=f.get("origin"),I=prepareDataCoordInfo(l,u,M),L=E&&getStackedOnPoints(l,u,I),N=a.get("showSymbol"),V=a.get("connectNulls"),B=N&&!g&&getIsIgnoreFunc(a,u,l),z=this._data;z&&z.eachItemGraphicEl(function(Se,De){Se.__temp&&(c.remove(Se),z.setItemGraphicEl(De,null))}),N||_.remove(),c.add(C);var G=g?!1:a.get("step"),H;l&&l.getArea&&a.get("clip",!0)&&(H=l.getArea(),H.width!=null?(H.x-=.1,H.y-=.1,H.width+=.2,H.height+=.2):H.r0&&(H.r0-=.5,H.r+=.5)),this._clipShapeForSymbol=H;var W=getVisualGradient(u,l,s)||u.getVisual("style")[u.getVisual("drawType")];if(!(b&&y.type===l.type&&G===this._step))N&&_.updateData(u,{isIgnore:B,clipShape:H,disableAnimation:!0,getSymbolPoint:function(Se){return[v[Se*2],v[Se*2+1]]}}),P&&this._initSymbolLabelAnimation(u,l,H),G&&(L&&(L=turnPointsIntoStep(L,v,l,G,V)),v=turnPointsIntoStep(v,null,l,G,V)),b=this._newPolyline(v),E?T=this._newPolygon(v,L):T&&(C.remove(T),T=this._polygon=null),g||this._initOrUpdateEndLabel(a,l,convertToColorString(W)),C.setClipPath(createLineClipPath(this,l,!0,a));else{E&&!T?T=this._newPolygon(v,L):T&&!E&&(C.remove(T),T=this._polygon=null),g||this._initOrUpdateEndLabel(a,l,convertToColorString(W));var j=C.getClipPath();if(j){var X=createLineClipPath(this,l,!1,a);initProps(j,{shape:X.shape},a)}else C.setClipPath(createLineClipPath(this,l,!0,a));N&&_.updateData(u,{isIgnore:B,clipShape:H,disableAnimation:!0,getSymbolPoint:function(Se){return[v[Se*2],v[Se*2+1]]}}),(!isPointsSame(this._stackedOnPoints,L)||!isPointsSame(this._points,v))&&(P?this._doUpdateAnimation(u,L,l,s,G,M,V):(G&&(L&&(L=turnPointsIntoStep(L,v,l,G,V)),v=turnPointsIntoStep(v,null,l,G,V)),b.setShape({points:v}),T&&T.setShape({points:v,stackedOnPoints:L})))}var Z=a.getModel("emphasis"),q=Z.get("focus"),le=Z.get("blurScope"),ae=Z.get("disabled");if(b.useStyle(defaults(d.getLineStyle(),{fill:"none",stroke:W,lineJoin:"bevel"})),setStatesStylesFromModel(b,a,"lineStyle"),b.style.lineWidth>0&&a.get(["emphasis","lineStyle","width"])==="bolder"){var he=b.getState("emphasis").style;he.lineWidth=+b.style.lineWidth+1}getECData(b).seriesIndex=a.seriesIndex,toggleHoverEmphasis(b,q,le,ae);var ve=getSmooth(a.get("smooth")),ce=a.get("smoothMonotone");if(b.setShape({smooth:ve,smoothMonotone:ce,connectNulls:V}),T){var fe=u.getCalculationInfo("stackedOnSeries"),_e=0;T.useStyle(defaults(f.getAreaStyle(),{fill:W,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),fe&&(_e=getSmooth(fe.get("smooth"))),T.setShape({smooth:ve,stackedOnSmooth:_e,smoothMonotone:ce,connectNulls:V}),setStatesStylesFromModel(T,a,"areaStyle"),getECData(T).seriesIndex=a.seriesIndex,toggleHoverEmphasis(T,q,le,ae)}var Ce=this._changePolyState;u.eachItemGraphicEl(function(Se){Se&&(Se.onHoverStateChange=Ce)}),this._polyline.onHoverStateChange=Ce,this._data=u,this._coordSys=l,this._stackedOnPoints=L,this._points=v,this._step=G,this._valueOrigin=M,a.get("triggerLineEvent")&&(this.packEventData(a,b),T&&this.packEventData(a,T))},n.prototype.packEventData=function(a,o){getECData(o).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},n.prototype.highlight=function(a,o,s,l){var c=a.getData(),u=queryDataIndex(c,l);if(this._changePolyState("emphasis"),!(u instanceof Array)&&u!=null&&u>=0){var d=c.getLayout("points"),f=c.getItemGraphicEl(u);if(!f){var v=d[u*2],g=d[u*2+1];if(isNaN(v)||isNaN(g)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,g))return;var y=a.get("zlevel")||0,_=a.get("z")||0;f=new Symbol$1(c,u),f.x=v,f.y=g,f.setZ(y,_);var b=f.getSymbolPath().getTextContent();b&&(b.zlevel=y,b.z=_,b.z2=this._polyline.z2+1),f.__temp=!0,c.setItemGraphicEl(u,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else ChartView.prototype.highlight.call(this,a,o,s,l)},n.prototype.downplay=function(a,o,s,l){var c=a.getData(),u=queryDataIndex(c,l);if(this._changePolyState("normal"),u!=null&&u>=0){var d=c.getItemGraphicEl(u);d&&(d.__temp?(c.setItemGraphicEl(u,null),this.group.remove(d)):d.downplay())}else ChartView.prototype.downplay.call(this,a,o,s,l)},n.prototype._changePolyState=function(a){var o=this._polygon;setStatesFlag(this._polyline,a),o&&setStatesFlag(o,a)},n.prototype._newPolyline=function(a){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new ECPolyline({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},n.prototype._newPolygon=function(a,o){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new ECPolygon({shape:{points:a,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},n.prototype._initSymbolLabelAnimation=function(a,o,s){var l,c,u=o.getBaseAxis(),d=u.inverse;o.type==="cartesian2d"?(l=u.isHorizontal(),c=!1):o.type==="polar"&&(l=u.dim==="angle",c=!0);var f=a.hostModel,v=f.get("animationDuration");isFunction(v)&&(v=v(null));var g=f.get("animationDelay")||0,y=isFunction(g)?g(null):g;a.eachItemGraphicEl(function(_,b){var T=_;if(T){var C=[_.x,_.y],P=void 0,E=void 0,M=void 0;if(s)if(c){var I=s,L=o.pointToCoord(C);l?(P=I.startAngle,E=I.endAngle,M=-L[1]/180*Math.PI):(P=I.r0,E=I.r,M=L[0])}else{var N=s;l?(P=N.x,E=N.x+N.width,M=_.x):(P=N.y+N.height,E=N.y,M=_.y)}var V=E===P?0:(M-P)/(E-P);d&&(V=1-V);var B=isFunction(g)?g(b):v*V+y,z=T.getSymbolPath(),G=z.getTextContent();T.attr({scaleX:0,scaleY:0}),T.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:B}),G&&G.animateFrom({style:{opacity:0}},{duration:300,delay:B}),z.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(a,o,s){var l=a.getModel("endLabel");if(anyStateShowEndLabel(a)){var c=a.getData(),u=this._polyline,d=c.getLayout("points");if(!d){u.removeTextContent(),this._endLabel=null;return}var f=this._endLabel;f||(f=this._endLabel=new ZRText({z2:200}),f.ignoreClip=!0,u.setTextContent(this._endLabel),u.disableLabelAnimation=!0);var v=getLastIndexNotNull(d);v>=0&&(setLabelStyle(u,getLabelStatesModels(a,"endLabel"),{inheritColor:s,labelFetcher:a,labelDataIndex:v,defaultText:function(g,y,_){return _!=null?getDefaultInterpolatedLabel(c,_):getDefaultLabel(c,g)},enableTextSetter:!0},getEndLabelStateSpecified(l,o)),u.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(a,o,s,l,c,u,d){var f=this._endLabel,v=this._polyline;if(f){a<1&&l.originalX==null&&(l.originalX=f.x,l.originalY=f.y);var g=s.getLayout("points"),y=s.hostModel,_=y.get("connectNulls"),b=u.get("precision"),T=u.get("distance")||0,C=d.getBaseAxis(),P=C.isHorizontal(),E=C.inverse,M=o.shape,I=E?P?M.x:M.y+M.height:P?M.x+M.width:M.y,L=(P?T:0)*(E?-1:1),N=(P?0:-T)*(E?-1:1),V=P?"x":"y",B=getIndexRange(g,I,V),z=B.range,G=z[1]-z[0],H=void 0;if(G>=1){if(G>1&&!_){var W=getPointAtIndex(g,z[0]);f.attr({x:W[0]+L,y:W[1]+N}),c&&(H=y.getRawValue(z[0]))}else{var W=v.getPointOn(I,V);W&&f.attr({x:W[0]+L,y:W[1]+N});var j=y.getRawValue(z[0]),X=y.getRawValue(z[1]);c&&(H=interpolateRawValues(s,b,j,X,B.t))}l.lastFrameIndex=z[0]}else{var Z=a===1||l.lastFrameIndex>0?z[0]:0,W=getPointAtIndex(g,Z);c&&(H=y.getRawValue(Z)),f.attr({x:W[0]+L,y:W[1]+N})}if(c){var q=labelInner(f);typeof q.setLabelText=="function"&&q.setLabelText(H)}}},n.prototype._doUpdateAnimation=function(a,o,s,l,c,u,d){var f=this._polyline,v=this._polygon,g=a.hostModel,y=lineAnimationDiff(this._data,a,this._stackedOnPoints,o,this._coordSys,s,this._valueOrigin),_=y.current,b=y.stackedOnCurrent,T=y.next,C=y.stackedOnNext;if(c&&(b=turnPointsIntoStep(y.stackedOnCurrent,y.current,s,c,d),_=turnPointsIntoStep(y.current,null,s,c,d),C=turnPointsIntoStep(y.stackedOnNext,y.next,s,c,d),T=turnPointsIntoStep(y.next,null,s,c,d)),getBoundingDiff(_,T)>3e3||v&&getBoundingDiff(b,C)>3e3){f.stopAnimation(),f.setShape({points:T}),v&&(v.stopAnimation(),v.setShape({points:T,stackedOnPoints:C}));return}f.shape.__points=y.current,f.shape.points=_;var P={shape:{points:T}};y.current!==_&&(P.shape.__points=y.next),f.stopAnimation(),updateProps$1(f,P,g),v&&(v.setShape({points:_,stackedOnPoints:b}),v.stopAnimation(),updateProps$1(v,{shape:{stackedOnPoints:C}},g),f.shape.points!==v.shape.points&&(v.shape.points=f.shape.points));for(var E=[],M=y.status,I=0;I<M.length;I++){var L=M[I].cmd;if(L==="="){var N=a.getItemGraphicEl(M[I].idx1);N&&E.push({el:N,ptIdx:I})}}f.animators&&f.animators.length&&f.animators[0].during(function(){v&&v.dirtyShape();for(var V=f.shape.__points,B=0;B<E.length;B++){var z=E[B].el,G=E[B].ptIdx*2;z.x=V[G],z.y=V[G+1],z.markRedraw()}})},n.prototype.remove=function(a){var o=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(l,c){l.__temp&&(o.remove(l),s.setItemGraphicEl(c,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView);function pointsLayout(r,n){return{seriesType:r,plan:createRenderPlanner(),reset:function(a){var o=a.getData(),s=a.coordinateSystem,l=a.pipelineContext,c=n||l.large;if(s){var u=map$1(s.dimensions,function(_){return o.mapDimension(_)}).slice(0,2),d=u.length,f=o.getCalculationInfo("stackResultDimension");isDimensionStacked(o,u[0])&&(u[0]=f),isDimensionStacked(o,u[1])&&(u[1]=f);var v=o.getStore(),g=o.getDimensionIndex(u[0]),y=o.getDimensionIndex(u[1]);return d&&{progress:function(_,b){for(var T=_.end-_.start,C=c&&createFloat32Array(T*d),P=[],E=[],M=_.start,I=0;M<_.end;M++){var L=void 0;if(d===1){var N=v.get(g,M);L=s.dataToPoint(N,null,E)}else P[0]=v.get(g,M),P[1]=v.get(y,M),L=s.dataToPoint(P,null,E);c?(C[I++]=L[0],C[I++]=L[1]):b.setItemLayout(M,L.slice())}c&&b.setLayout("points",C)}}}}}}var samplers={average:function(r){for(var n=0,a=0,o=0;o<r.length;o++)isNaN(r[o])||(n+=r[o],a++);return a===0?NaN:n/a},sum:function(r){for(var n=0,a=0;a<r.length;a++)n+=r[a]||0;return n},max:function(r){for(var n=-1/0,a=0;a<r.length;a++)r[a]>n&&(n=r[a]);return isFinite(n)?n:NaN},min:function(r){for(var n=1/0,a=0;a<r.length;a++)r[a]<n&&(n=r[a]);return isFinite(n)?n:NaN},nearest:function(r){return r[0]}},indexSampler=function(r){return Math.round(r.length/2)};function dataSample(r){return{seriesType:r,reset:function(n,a,o){var s=n.getData(),l=n.get("sampling"),c=n.coordinateSystem,u=s.count();if(u>10&&c.type==="cartesian2d"&&l){var d=c.getBaseAxis(),f=c.getOtherAxis(d),v=d.getExtent(),g=o.getDevicePixelRatio(),y=Math.abs(v[1]-v[0])*(g||1),_=Math.round(u/y);if(isFinite(_)&&_>1){l==="lttb"?n.setData(s.lttbDownSample(s.mapDimension(f.dim),1/_)):l==="minmax"&&n.setData(s.minmaxDownSample(s.mapDimension(f.dim),1/_));var b=void 0;isString(l)?b=samplers[l]:isFunction(l)&&(b=l),b&&n.setData(s.downSample(s.mapDimension(f.dim),1/_,b,indexSampler))}}}}}function install$Q(r){r.registerChartView(LineView),r.registerSeriesModel(LineSeriesModel),r.registerLayout(pointsLayout("line",!0)),r.registerVisual({seriesType:"line",reset:function(n){var a=n.getData(),o=n.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=a.getVisual("style").fill),a.setVisual("legendLineStyle",o)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(a,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(a,o,s){var l=this.coordinateSystem;if(l&&l.clampData){var c=l.clampData(a),u=l.dataToPoint(c);if(s)each$f(l.getAxes(),function(y,_){if(y.type==="category"&&o!=null){var b=y.getTicksCoords(),T=y.getTickModel().get("alignWithLabel"),C=c[_],P=o[_]==="x1"||o[_]==="y1";if(P&&!T&&(C+=1),b.length<2)return;if(b.length===2){u[_]=y.toGlobalCoord(y.getExtent()[P?1:0]);return}for(var E=void 0,M=void 0,I=1,L=0;L<b.length;L++){var N=b[L].coord,V=L===b.length-1?b[L-1].tickValue+I:b[L].tickValue;if(V===C){M=N;break}else if(V<C)E=N;else if(E!=null&&V>C){M=(N+E)/2;break}L===1&&(I=V-b[0].tickValue)}M==null&&(E?E&&(M=b[b.length-1].coord):M=b[0].coord),u[_]=y.toGlobalCoord(M)}});else{var d=this.getData(),f=d.getLayout("offset"),v=d.getLayout("size"),g=l.getBaseAxis().isHorizontal()?0:1;u[g]+=f+v/2}return u}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>a&&(a=o),a},n.prototype.brushSelector=function(a,o,s){return s.rect(o.getItemLayout(a))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel),SausageShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),SausagePath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="sausage",o}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,c=Math.max(o.r0||0,0),u=Math.max(o.r,0),d=(u-c)*.5,f=c+d,v=o.startAngle,g=o.endAngle,y=o.clockwise,_=Math.PI*2,b=y?g-v<_:v-g<_;b||(v=g-(y?_:-_));var T=Math.cos(v),C=Math.sin(v),P=Math.cos(g),E=Math.sin(g);b?(a.moveTo(T*c+s,C*c+l),a.arc(T*f+s,C*f+l,d,-Math.PI+v,v,!y)):a.moveTo(T*u+s,C*u+l),a.arc(s,l,u,v,g,!y),a.arc(P*f+s,E*f+l,d,g-Math.PI*2,g-Math.PI,!y),c!==0&&a.arc(s,l,c,g,v,y)},n}(Path);function createSectorCalculateTextPosition(r,n){n=n||{};var a=n.isRoundCap;return function(o,s,l){var c=s.position;if(!c||c instanceof Array)return calculateTextPosition(o,s,l);var u=r(c),d=s.distance!=null?s.distance:5,f=this.shape,v=f.cx,g=f.cy,y=f.r,_=f.r0,b=(y+_)/2,T=f.startAngle,C=f.endAngle,P=(T+C)/2,E=a?Math.abs(y-_)/2:0,M=Math.cos,I=Math.sin,L=v+y*M(T),N=g+y*I(T),V="left",B="top";switch(u){case"startArc":L=v+(_-d)*M(P),N=g+(_-d)*I(P),V="center",B="top";break;case"insideStartArc":L=v+(_+d)*M(P),N=g+(_+d)*I(P),V="center",B="bottom";break;case"startAngle":L=v+b*M(T)+adjustAngleDistanceX(T,d+E,!1),N=g+b*I(T)+adjustAngleDistanceY(T,d+E,!1),V="right",B="middle";break;case"insideStartAngle":L=v+b*M(T)+adjustAngleDistanceX(T,-d+E,!1),N=g+b*I(T)+adjustAngleDistanceY(T,-d+E,!1),V="left",B="middle";break;case"middle":L=v+b*M(P),N=g+b*I(P),V="center",B="middle";break;case"endArc":L=v+(y+d)*M(P),N=g+(y+d)*I(P),V="center",B="bottom";break;case"insideEndArc":L=v+(y-d)*M(P),N=g+(y-d)*I(P),V="center",B="top";break;case"endAngle":L=v+b*M(C)+adjustAngleDistanceX(C,d+E,!0),N=g+b*I(C)+adjustAngleDistanceY(C,d+E,!0),V="left",B="middle";break;case"insideEndAngle":L=v+b*M(C)+adjustAngleDistanceX(C,-d+E,!0),N=g+b*I(C)+adjustAngleDistanceY(C,-d+E,!0),V="right",B="middle";break;default:return calculateTextPosition(o,s,l)}return o=o||{},o.x=L,o.y=N,o.align=V,o.verticalAlign=B,o}}function setSectorTextRotation(r,n,a,o){if(isNumber(o)){r.setTextConfig({rotation:o});return}else if(isArray$1(n)){r.setTextConfig({rotation:0});return}var s=r.shape,l=s.clockwise?s.startAngle:s.endAngle,c=s.clockwise?s.endAngle:s.startAngle,u=(l+c)/2,d,f=a(n);switch(f){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=u;break;case"startAngle":case"insideStartAngle":d=l;break;case"endAngle":case"insideEndAngle":d=c;break;default:r.setTextConfig({rotation:0});return}var v=Math.PI*1.5-d;f==="middle"&&v>Math.PI/2&&v<Math.PI*1.5&&(v-=Math.PI),r.setTextConfig({rotation:v})}function adjustAngleDistanceX(r,n,a){return n*Math.sin(r)*(a?-1:1)}function adjustAngleDistanceY(r,n,a){return n*Math.cos(r)*(a?1:-1)}function getSectorCornerRadius(r,n,a){var o=r.get("borderRadius");if(o==null)return a?{cornerRadius:0}:null;isArray$1(o)||(o=[o,o,o,o]);var s=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(o,function(l){return parsePercent$1(l,s)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(r,n){var a=r.getArea&&r.getArea();if(isCoordinateSystemType(r,"cartesian2d")){var o=r.getBaseAxis();if(o.type!=="category"||!o.onBand){var s=n.getLayout("bandWidth");o.isHorizontal()?(a.x-=s,a.width+=s*2):(a.y-=s,a.height+=s*2)}}return a}var BarView=function(r){__extends(n,r);function n(){var a=r.call(this)||this;return a.type=n.type,a._isFirstFrame=!0,a}return n.prototype.render=function(a,o,s,l){this._model=a,this._removeOnRenderedListener(s),this._updateDrawMode(a);var c=a.get("coordinateSystem");(c==="cartesian2d"||c==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,o,s):this._renderNormal(a,o,s,l))},n.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},n.prototype.incrementalRender=function(a,o){this._progressiveEls=[],this._incrementalRenderLarge(a,o)},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype._updateDrawMode=function(a){var o=a.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},n.prototype._renderNormal=function(a,o,s,l){var c=this.group,u=a.getData(),d=this._data,f=a.coordinateSystem,v=f.getBaseAxis(),g;f.type==="cartesian2d"?g=v.isHorizontal():f.type==="polar"&&(g=v.dim==="angle");var y=a.isAnimationEnabled()?a:null,_=shouldRealtimeSort(a,f);_&&this._enableRealtimeSort(_,u,s);var b=a.get("clip",!0)||_,T=getClipArea(f,u);c.removeClipPath();var C=a.get("roundCap",!0),P=a.get("showBackground",!0),E=a.getModel("backgroundStyle"),M=E.get("borderRadius")||0,I=[],L=this._backgroundEls,N=l&&l.isInitSort,V=l&&l.type==="changeAxisOrder";function B(H){var W=getLayout[f.type](u,H),j=createBackgroundEl(f,g,W);return j.useStyle(E.getItemStyle()),f.type==="cartesian2d"?j.setShape("r",M):j.setShape("cornerRadius",M),I[H]=j,j}u.diff(d).add(function(H){var W=u.getItemModel(H),j=getLayout[f.type](u,H,W);if(P&&B(H),!(!u.hasValue(H)||!isValidLayout[f.type](j))){var X=!1;b&&(X=clip[f.type](T,j));var Z=elementCreator[f.type](a,u,H,j,g,y,v.model,!1,C);_&&(Z.forceLabelAnimation=!0),updateStyle(Z,u,H,W,j,a,g,f.type==="polar"),N?Z.attr({shape:j}):_?updateRealtimeAnimation(_,y,Z,j,H,g,!1,!1):initProps(Z,{shape:j},a,H),u.setItemGraphicEl(H,Z),c.add(Z),Z.ignore=X}}).update(function(H,W){var j=u.getItemModel(H),X=getLayout[f.type](u,H,j);if(P){var Z=void 0;L.length===0?Z=B(W):(Z=L[W],Z.useStyle(E.getItemStyle()),f.type==="cartesian2d"?Z.setShape("r",M):Z.setShape("cornerRadius",M),I[H]=Z);var q=getLayout[f.type](u,H),le=createBackgroundShape(g,q,f);updateProps$1(Z,{shape:le},y,H)}var ae=d.getItemGraphicEl(W);if(!u.hasValue(H)||!isValidLayout[f.type](X)){c.remove(ae);return}var he=!1;if(b&&(he=clip[f.type](T,X),he&&c.remove(ae)),ae?saveOldStyle(ae):ae=elementCreator[f.type](a,u,H,X,g,y,v.model,!!ae,C),_&&(ae.forceLabelAnimation=!0),V){var ve=ae.getTextContent();if(ve){var ce=labelInner(ve);ce.prevValue!=null&&(ce.prevValue=ce.value)}}else updateStyle(ae,u,H,j,X,a,g,f.type==="polar");N?ae.attr({shape:X}):_?updateRealtimeAnimation(_,y,ae,X,H,g,!0,V):updateProps$1(ae,{shape:X},a,H,null),u.setItemGraphicEl(H,ae),ae.ignore=he,c.add(ae)}).remove(function(H){var W=d.getItemGraphicEl(H);W&&removeElementWithFadeOut(W,a,H)}).execute();var z=this._backgroundGroup||(this._backgroundGroup=new Group$3);z.removeAll();for(var G=0;G<I.length;++G)z.add(I[G]);c.add(z),this._backgroundEls=I,this._data=u},n.prototype._renderLarge=function(a,o,s){this._clear(),createLarge$1(a,this.group),this._updateLargeClip(a)},n.prototype._incrementalRenderLarge=function(a,o){this._removeBackground(),createLarge$1(o,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(a){var o=a.get("clip",!0)&&createClipPath(a.coordinateSystem,!1,a),s=this.group;o?s.setClipPath(o):s.removeClipPath()},n.prototype._enableRealtimeSort=function(a,o,s){var l=this;if(o.count()){var c=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,a,s),this._isFirstFrame=!1;else{var u=function(d){var f=o.getItemGraphicEl(d),v=f&&f.shape;return v&&Math.abs(c.isHorizontal()?v.height:v.width)||0};this._onRendered=function(){l._updateSortWithinSameData(o,u,c,s)},s.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(a,o,s){var l=[];return a.each(a.mapDimension(o.dim),function(c,u){var d=s(u);d=d??NaN,l.push({dataIndex:u,mappedValue:d,ordinalNumber:c})}),l.sort(function(c,u){return u.mappedValue-c.mappedValue}),{ordinalNumbers:map$1(l,function(c){return c.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(a,o,s){for(var l=s.scale,c=a.mapDimension(s.dim),u=Number.MAX_VALUE,d=0,f=l.getOrdinalMeta().categories.length;d<f;++d){var v=a.rawIndexOf(c,l.getRawOrdinalNumber(d)),g=v<0?Number.MIN_VALUE:o(a.indexOfRawIndex(v));if(g>u)return!0;u=g}return!1},n.prototype._isOrderDifferentInView=function(a,o){for(var s=o.scale,l=s.getExtent(),c=Math.max(0,l[0]),u=Math.min(l[1],s.getOrdinalMeta().categories.length-1);c<=u;++c)if(a.ordinalNumbers[c]!==s.getRawOrdinalNumber(c))return!0},n.prototype._updateSortWithinSameData=function(a,o,s,l){if(this._isOrderChangedWithinSameData(a,o,s)){var c=this._dataSort(a,s,o);this._isOrderDifferentInView(c,s)&&(this._removeOnRenderedListener(l),l.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:c}))}},n.prototype._dispatchInitSort=function(a,o,s){var l=o.baseAxis,c=this._dataSort(a,l,function(u){return a.get(a.mapDimension(o.otherAxis.dim),u)});s.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",isInitSort:!0,axisId:l.index,sortInfo:c})},n.prototype.remove=function(a,o){this._clear(this._model),this._removeOnRenderedListener(o)},n.prototype.dispose=function(a,o){this._removeOnRenderedListener(o)},n.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(a){var o=this.group,s=this._data;a&&a.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(l){removeElementWithFadeOut(l,a,getECData(l).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView),clip={cartesian2d:function(r,n){var a=n.width<0?-1:1,o=n.height<0?-1:1;a<0&&(n.x+=n.width,n.width=-n.width),o<0&&(n.y+=n.height,n.height=-n.height);var s=r.x+r.width,l=r.y+r.height,c=mathMax$4(n.x,r.x),u=mathMin$4(n.x+n.width,s),d=mathMax$4(n.y,r.y),f=mathMin$4(n.y+n.height,l),v=u<c,g=f<d;return n.x=v&&c>s?u:c,n.y=g&&d>l?f:d,n.width=v?0:u-c,n.height=g?0:f-d,a<0&&(n.x+=n.width,n.width=-n.width),o<0&&(n.y+=n.height,n.height=-n.height),v||g},polar:function(r,n){var a=n.r0<=n.r?1:-1;if(a<0){var o=n.r;n.r=n.r0,n.r0=o}var s=mathMin$4(n.r,r.r),l=mathMax$4(n.r0,r.r0);n.r=s,n.r0=l;var c=s-l<0;if(a<0){var o=n.r;n.r=n.r0,n.r0=o}return c}},elementCreator={cartesian2d:function(r,n,a,o,s,l,c,u,d){var f=new Rect$2({shape:extend({},o),z2:1});if(f.__dataIndex=a,f.name="item",l){var v=f.shape,g=s?"height":"width";v[g]=0}return f},polar:function(r,n,a,o,s,l,c,u,d){var f=!s&&d?SausagePath:Sector,v=new f({shape:o,z2:1});v.name="item";var g=createPolarPositionMapping(s);if(v.calculateTextPosition=createSectorCalculateTextPosition(g,{isRoundCap:f===SausagePath}),l){var y=v.shape,_=s?"r":"endAngle",b={};y[_]=s?o.r0:o.startAngle,b[_]=o[_],(u?updateProps$1:initProps)(v,{shape:b},l)}return v}};function shouldRealtimeSort(r,n){var a=r.get("realtimeSort",!0),o=n.getBaseAxis();if(a&&o.type==="category"&&n.type==="cartesian2d")return{baseAxis:o,otherAxis:n.getOtherAxis(o)}}function updateRealtimeAnimation(r,n,a,o,s,l,c,u){var d,f;l?(f={x:o.x,width:o.width},d={y:o.y,height:o.height}):(f={y:o.y,height:o.height},d={x:o.x,width:o.width}),u||(c?updateProps$1:initProps)(a,{shape:d},n,s,null);var v=n?r.baseAxis.model:null;(c?updateProps$1:initProps)(a,{shape:f},v,s)}function checkPropertiesNotValid(r,n){for(var a=0;a<n.length;a++)if(!isFinite(r[n[a]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(r){return!checkPropertiesNotValid(r,rectPropties)},polar:function(r){return!checkPropertiesNotValid(r,polarPropties)}},getLayout={cartesian2d:function(r,n,a){var o=r.getItemLayout(n),s=a?getLineWidth(a,o):0,l=o.width>0?1:-1,c=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+c*s/2,width:o.width-l*s,height:o.height-c*s}},polar:function(r,n,a){var o=r.getItemLayout(n);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function isZeroOnPolar(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function createPolarPositionMapping(r){return function(n){var a=n?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+a;default:return o}}}(r)}function updateStyle(r,n,a,o,s,l,c,u){var d=n.getItemVisual(a,"style");if(u){if(!l.get("roundCap")){var v=r.shape,g=getSectorCornerRadius(o.getModel("itemStyle"),v,!0);extend(v,g),r.setShape(v)}}else{var f=o.get(["itemStyle","borderRadius"])||0;r.setShape("r",f)}r.useStyle(d);var y=o.getShallow("cursor");y&&r.attr("cursor",y);var _=u?c?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":c?s.height>=0?"bottom":"top":s.width>=0?"right":"left",b=getLabelStatesModels(o);setLabelStyle(r,b,{labelFetcher:l,labelDataIndex:a,defaultText:getDefaultLabel(l.getData(),a),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:_});var T=r.getTextContent();if(u&&T){var C=o.get(["label","position"]);r.textConfig.inside=C==="middle"?!0:null,setSectorTextRotation(r,C==="outside"?_:C,createPolarPositionMapping(c),o.get(["label","rotate"]))}setLabelValueAnimation(T,b,l.getRawValue(a),function(E){return getDefaultInterpolatedLabel(n,E)});var P=o.getModel(["emphasis"]);toggleHoverEmphasis(r,P.get("focus"),P.get("blurScope"),P.get("disabled")),setStatesStylesFromModel(r,o),isZeroOnPolar(s)&&(r.style.fill="none",r.style.stroke="none",each$f(r.states,function(E){E.style&&(E.style.fill=E.style.stroke="none")}))}function getLineWidth(r,n){var a=r.get(["itemStyle","borderColor"]);if(!a||a==="none")return 0;var o=r.get(["itemStyle","borderWidth"])||0,s=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),l=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(o,s,l)}var LagePathShape=function(){function r(){}return r}(),LargePath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="largeBar",o}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(a,o){for(var s=o.points,l=this.baseDimIdx,c=1-this.baseDimIdx,u=[],d=[],f=this.barWidth,v=0;v<s.length;v+=3)d[l]=f,d[c]=s[v+2],u[l]=s[v+l],u[c]=s[v+c],a.rect(u[0],u[1],d[0],d[1])},n}(Path);function createLarge$1(r,n,a,o){var s=r.getData(),l=s.getLayout("valueAxisHorizontal")?1:0,c=s.getLayout("largeDataIndices"),u=s.getLayout("size"),d=r.getModel("backgroundStyle"),f=s.getLayout("largeBackgroundPoints");if(f){var v=new LargePath({shape:{points:f},incremental:!!o,silent:!0,z2:0});v.baseDimIdx=l,v.largeDataIndices=c,v.barWidth=u,v.useStyle(d.getItemStyle()),n.add(v),a&&a.push(v)}var g=new LargePath({shape:{points:s.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});g.baseDimIdx=l,g.largeDataIndices=c,g.barWidth=u,n.add(g),g.useStyle(s.getVisual("style")),g.style.stroke=null,getECData(g).seriesIndex=r.seriesIndex,r.get("silent")||(g.on("mousedown",largePathUpdateDataIndex),g.on("mousemove",largePathUpdateDataIndex)),a&&a.push(g)}var largePathUpdateDataIndex=throttle(function(r){var n=this,a=largePathFindDataIndex(n,r.offsetX,r.offsetY);getECData(n).dataIndex=a>=0?a:null},30,!1);function largePathFindDataIndex(r,n,a){for(var o=r.baseDimIdx,s=1-o,l=r.shape.points,c=r.largeDataIndices,u=[],d=[],f=r.barWidth,v=0,g=l.length/3;v<g;v++){var y=v*3;if(d[o]=f,d[s]=l[y+2],u[o]=l[y+o],u[s]=l[y+s],d[s]<0&&(u[s]+=d[s],d[s]=-d[s]),n>=u[0]&&n<=u[0]+d[0]&&a>=u[1]&&a<=u[1]+d[1])return c[v]}return-1}function createBackgroundShape(r,n,a){if(isCoordinateSystemType(a,"cartesian2d")){var o=n,s=a.getArea();return{x:r?o.x:s.x,y:r?s.y:o.y,width:r?o.width:s.width,height:r?s.height:o.height}}else{var s=a.getArea(),l=n;return{cx:s.cx,cy:s.cy,r0:r?s.r0:l.r0,r:r?s.r:l.r,startAngle:r?l.startAngle:0,endAngle:r?l.endAngle:Math.PI*2}}}function createBackgroundEl(r,n,a){var o=r.type==="polar"?Sector:Rect$2;return new o({shape:createBackgroundShape(n,a,r),silent:!0,z2:0})}function install$P(r){r.registerChartView(BarView),r.registerSeriesModel(BarSeriesModel),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,a){var o=n.componentType||"series";a.eachComponent({mainType:o,query:n},function(s){n.sortInfo&&s.axis.setCategorySortInfo(n.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(r,n){var a=getViewRect$5(r,n),o=r.get("center"),s=r.get("radius");isArray$1(s)||(s=[0,s]);var l=parsePercent(a.width,n.getWidth()),c=parsePercent(a.height,n.getHeight()),u=Math.min(l,c),d=parsePercent(s[0],u/2),f=parsePercent(s[1],u/2),v,g,y=r.coordinateSystem;if(y){var _=y.dataToPoint(o);v=_[0]||0,g=_[1]||0}else isArray$1(o)||(o=[o,o]),v=parsePercent(o[0],l)+a.x,g=parsePercent(o[1],c)+a.y;return{cx:v,cy:g,r0:d,r:f}}function pieLayout(r,n,a){n.eachSeriesByType(r,function(o){var s=o.getData(),l=s.mapDimension("value"),c=getViewRect$5(o,a),u=getBasicPieLayout(o,a),d=u.cx,f=u.cy,v=u.r,g=u.r0,y=-o.get("startAngle")*RADIAN$2,_=o.get("endAngle"),b=o.get("padAngle")*RADIAN$2;_=_==="auto"?y-PI2:-_*RADIAN$2;var T=o.get("minAngle")*RADIAN$2,C=T+b,P=0;s.each(l,function(le){!isNaN(le)&&P++});var E=s.getSum(l),M=Math.PI/(E||P)*2,I=o.get("clockwise"),L=o.get("roseType"),N=o.get("stillShowZeroSum"),V=s.getDataExtent(l);V[0]=0;var B=I?1:-1,z=[y,_],G=B*b/2;normalizeArcAngles(z,!I),y=z[0],_=z[1];var H=getSeriesLayoutData(o);H.startAngle=y,H.endAngle=_,H.clockwise=I;var W=Math.abs(_-y),j=W,X=0,Z=y;if(s.setLayout({viewRect:c,r:v}),s.each(l,function(le,ae){var he;if(isNaN(le)){s.setItemLayout(ae,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:d,cy:f,r0:g,r:L?NaN:v});return}L!=="area"?he=E===0&&N?M:le*M:he=W/P,he<C?(he=C,j-=C):X+=le;var ve=Z+B*he,ce=0,fe=0;b>he?(ce=Z+B*he/2,fe=ce):(ce=Z+G,fe=ve-G),s.setItemLayout(ae,{angle:he,startAngle:ce,endAngle:fe,clockwise:I,cx:d,cy:f,r0:g,r:L?linearMap$2(le,V,[g,v]):v}),Z=ve}),j<PI2&&P)if(j<=.001){var q=W/P;s.each(l,function(le,ae){if(!isNaN(le)){var he=s.getItemLayout(ae);he.angle=q;var ve=0,ce=0;q<b?(ve=y+B*(ae+1/2)*q,ce=ve):(ve=y+B*ae*q+G,ce=y+B*(ae+1)*q-G),he.startAngle=ve,he.endAngle=ce}})}else M=j/X,Z=y,s.each(l,function(le,ae){if(!isNaN(le)){var he=s.getItemLayout(ae),ve=he.angle===C?C:le*M,ce=0,fe=0;ve<b?(ce=Z+B*ve/2,fe=ce):(ce=Z+G,fe=Z+B*ve-G),he.startAngle=ce,he.endAngle=fe,Z+=B*ve}})})}var getSeriesLayoutData=makeInner();function dataFilter$1(r){return{seriesType:r,reset:function(n,a){var o=a.findComponents({mainType:"legend"});if(!(!o||!o.length)){var s=n.getData();s.filterSelf(function(l){for(var c=s.getName(l),u=0;u<o.length;u++)if(!o[u].isSelected(c))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(r,n,a,o,s,l,c,u,d,f){if(r.length<2)return;function v(T){for(var C=T.rB,P=C*C,E=0;E<T.list.length;E++){var M=T.list[E],I=Math.abs(M.label.y-a),L=o+M.len,N=L*L,V=Math.sqrt(Math.abs((1-I*I/P)*N)),B=n+(V+M.len2)*s,z=B-M.label.x,G=M.targetTextWidth-z*s;constrainTextWidth(M,G,!0),M.label.x=B}}function g(T){for(var C={list:[],maxY:0},P={list:[],maxY:0},E=0;E<T.length;E++)if(T[E].labelAlignTo==="none"){var M=T[E],I=M.label.y>a?P:C,L=Math.abs(M.label.y-a);if(L>=I.maxY){var N=M.label.x-n-M.len2*s,V=o+M.len,B=Math.abs(N)<V?Math.sqrt(L*L/(1-N*N/V/V)):V;I.rB=B,I.maxY=L}I.list.push(M)}v(C),v(P)}for(var y=r.length,_=0;_<y;_++)if(r[_].position==="outer"&&r[_].labelAlignTo==="labelLine"){var b=r[_].label.x-f;r[_].linePoints[1][0]+=b,r[_].label.x=f}shiftLayoutOnY(r,d,d+c)&&g(r)}function avoidOverlap(r,n,a,o,s,l,c,u){for(var d=[],f=[],v=Number.MAX_VALUE,g=-Number.MAX_VALUE,y=0;y<r.length;y++){var _=r[y].label;isPositionCenter(r[y])||(_.x<n?(v=Math.min(v,_.x),d.push(r[y])):(g=Math.max(g,_.x),f.push(r[y])))}for(var y=0;y<r.length;y++){var b=r[y];if(!isPositionCenter(b)&&b.linePoints){if(b.labelStyleWidth!=null)continue;var _=b.label,T=b.linePoints,C=void 0;b.labelAlignTo==="edge"?_.x<n?C=T[2][0]-b.labelDistance-c-b.edgeDistance:C=c+s-b.edgeDistance-T[2][0]-b.labelDistance:b.labelAlignTo==="labelLine"?_.x<n?C=v-c-b.bleedMargin:C=c+s-g-b.bleedMargin:_.x<n?C=_.x-c-b.bleedMargin:C=c+s-_.x-b.bleedMargin,b.targetTextWidth=C,constrainTextWidth(b,C)}}adjustSingleSide(f,n,a,o,1,s,l,c,u,g),adjustSingleSide(d,n,a,o,-1,s,l,c,u,v);for(var y=0;y<r.length;y++){var b=r[y];if(!isPositionCenter(b)&&b.linePoints){var _=b.label,T=b.linePoints,P=b.labelAlignTo==="edge",E=_.style.padding,M=E?E[1]+E[3]:0,I=_.style.backgroundColor?0:M,L=b.rect.width+I,N=T[1][0]-T[2][0];P?_.x<n?T[2][0]=c+b.edgeDistance+L+b.labelDistance:T[2][0]=c+s-b.edgeDistance-L-b.labelDistance:(_.x<n?T[2][0]=_.x+b.labelDistance:T[2][0]=_.x-b.labelDistance,T[1][0]=T[2][0]+N),T[1][1]=T[2][1]=_.y}}}function constrainTextWidth(r,n,a){if(a===void 0&&(a=!1),r.labelStyleWidth==null){var o=r.label,s=o.style,l=r.rect,c=s.backgroundColor,u=s.padding,d=u?u[1]+u[3]:0,f=s.overflow,v=l.width+(c?0:d);if(n<v||a){var g=l.height;if(f&&f.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",n-d);var y=o.getBoundingRect();o.setStyle("width",Math.ceil(y.width)),o.setStyle("backgroundColor",c)}else{var _=n-d,b=n<v?_:a?_>r.unconstrainedWidth?null:_:null;o.setStyle("width",b)}var T=o.getBoundingRect();l.width=T.width;var C=(o.style.margin||0)+2.1;l.height=T.height+C,l.y-=(l.height-g)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var n=r.getData(),a=[],o,s,l=!1,c=(r.get("minShowLabelAngle")||0)*RADIAN$1,u=n.getLayout("viewRect"),d=n.getLayout("r"),f=u.width,v=u.x,g=u.y,y=u.height;function _(N){N.ignore=!0}function b(N){if(!N.ignore)return!0;for(var V in N.states)if(N.states[V].ignore===!1)return!0;return!1}n.each(function(N){var V=n.getItemGraphicEl(N),B=V.shape,z=V.getTextContent(),G=V.getTextGuideLine(),H=n.getItemModel(N),W=H.getModel("label"),j=W.get("position")||H.get(["emphasis","label","position"]),X=W.get("distanceToLabelLine"),Z=W.get("alignTo"),q=parsePercent(W.get("edgeDistance"),f),le=W.get("bleedMargin"),ae=H.getModel("labelLine"),he=ae.get("length");he=parsePercent(he,f);var ve=ae.get("length2");if(ve=parsePercent(ve,f),Math.abs(B.endAngle-B.startAngle)<c){each$f(z.states,_),z.ignore=!0,G&&(each$f(G.states,_),G.ignore=!0);return}if(b(z)){var ce=(B.startAngle+B.endAngle)/2,fe=Math.cos(ce),_e=Math.sin(ce),Ce,Se,De,ne;o=B.cx,s=B.cy;var pe=j==="inside"||j==="inner";if(j==="center")Ce=B.cx,Se=B.cy,ne="center";else{var de=(pe?(B.r+B.r0)/2*fe:B.r*fe)+o,Te=(pe?(B.r+B.r0)/2*_e:B.r*_e)+s;if(Ce=de+fe*3,Se=Te+_e*3,!pe){var we=de+fe*(he+d-B.r),Ie=Te+_e*(he+d-B.r),te=we+(fe<0?-1:1)*ve,oe=Ie;Z==="edge"?Ce=fe<0?v+q:v+f-q:Ce=te+(fe<0?-X:X),Se=oe,De=[[de,Te],[we,Ie],[te,oe]]}ne=pe?"center":Z==="edge"?fe>0?"right":"left":fe>0?"left":"right"}var ge=Math.PI,Ae=0,be=W.get("rotate");if(isNumber(be))Ae=be*(ge/180);else if(j==="center")Ae=0;else if(be==="radial"||be===!0){var $e=fe<0?-ce+ge:-ce;Ae=$e}else if(be==="tangential"&&j!=="outside"&&j!=="outer"){var Me=Math.atan2(fe,_e);Me<0&&(Me=ge*2+Me);var Ve=_e>0;Ve&&(Me=ge+Me),Ae=Me-ge}if(l=!!Ae,z.x=Ce,z.y=Se,z.rotation=Ae,z.setStyle({verticalAlign:"middle"}),pe){z.setStyle({align:ne});var Ge=z.states.select;Ge&&(Ge.x+=z.x,Ge.y+=z.y)}else{var Le=z.getBoundingRect().clone();Le.applyTransform(z.getComputedTransform());var ke=(z.style.margin||0)+2.1;Le.y-=ke/2,Le.height+=ke,a.push({label:z,labelLine:G,position:j,len:he,len2:ve,minTurnAngle:ae.get("minTurnAngle"),maxSurfaceAngle:ae.get("maxSurfaceAngle"),surfaceNormal:new Point(fe,_e),linePoints:De,textAlign:ne,labelDistance:X,labelAlignTo:Z,edgeDistance:q,bleedMargin:le,rect:Le,unconstrainedWidth:Le.width,labelStyleWidth:z.style.width})}V.setTextConfig({inside:pe})}}),!l&&r.get("avoidLabelOverlap")&&avoidOverlap(a,o,s,d,f,y,v,g);for(var T=0;T<a.length;T++){var C=a[T],P=C.label,E=C.labelLine,M=isNaN(P.x)||isNaN(P.y);if(P){P.setStyle({align:C.textAlign}),M&&(each$f(P.states,_),P.ignore=!0);var I=P.states.select;I&&(I.x+=P.x,I.y+=P.y)}if(E){var L=C.linePoints;M||!L?(each$f(E.states,_),E.ignore=!0):(limitTurnAngle(L,C.minTurnAngle),limitSurfaceAngle(L,C.surfaceNormal,C.maxSurfaceAngle),E.setShape({points:L}),P.__hostTarget.textGuideLineConfig={anchor:new Point(L[0][0],L[0][1])})}}}var PiePiece=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;l.z2=2;var c=new ZRText;return l.setTextContent(c),l.updateData(a,o,s,!0),l}return n.prototype.updateData=function(a,o,s,l){var c=this,u=a.hostModel,d=a.getItemModel(o),f=d.getModel("emphasis"),v=a.getItemLayout(o),g=extend(getSectorCornerRadius(d.getModel("itemStyle"),v,!0),v);if(isNaN(g.startAngle)){c.setShape(g);return}if(l){c.setShape(g);var y=u.getShallow("animationType");u.ecModel.ssr?(initProps(c,{scaleX:0,scaleY:0},u,{dataIndex:o,isFrom:!0}),c.originX=g.cx,c.originY=g.cy):y==="scale"?(c.shape.r=v.r0,initProps(c,{shape:{r:v.r}},u,o)):s!=null?(c.setShape({startAngle:s,endAngle:s}),initProps(c,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},u,o)):(c.shape.endAngle=v.startAngle,updateProps$1(c,{shape:{endAngle:v.endAngle}},u,o))}else saveOldStyle(c),updateProps$1(c,{shape:g},u,o);c.useStyle(a.getItemVisual(o,"style")),setStatesStylesFromModel(c,d);var _=(v.startAngle+v.endAngle)/2,b=u.get("selectedOffset"),T=Math.cos(_)*b,C=Math.sin(_)*b,P=d.getShallow("cursor");P&&c.attr("cursor",P),this._updateLabel(u,a,o),c.ensureState("emphasis").shape=extend({r:v.r+(f.get("scale")&&f.get("scaleSize")||0)},getSectorCornerRadius(f.getModel("itemStyle"),v)),extend(c.ensureState("select"),{x:T,y:C,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),v)}),extend(c.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),v)});var E=c.getTextGuideLine(),M=c.getTextContent();E&&extend(E.ensureState("select"),{x:T,y:C}),extend(M.ensureState("select"),{x:T,y:C}),toggleHoverEmphasis(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},n.prototype._updateLabel=function(a,o,s){var l=this,c=o.getItemModel(s),u=c.getModel("labelLine"),d=o.getItemVisual(s,"style"),f=d&&d.fill,v=d&&d.opacity;setLabelStyle(l,getLabelStatesModels(c),{labelFetcher:o.hostModel,labelDataIndex:s,inheritColor:f,defaultOpacity:v,defaultText:a.getFormattedLabel(s,"normal")||o.getName(s)});var g=l.getTextContent();l.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var y=a.get(["label","position"]);if(y!=="outside"&&y!=="outer")l.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new Polyline$1,this.setTextGuideLine(_)),setLabelLineStyle(this,getLabelLineStatesModels(c),{stroke:f,opacity:retrieve3(u.get(["lineStyle","opacity"]),v,1)})}},n}(Sector),PieView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.ignoreLabelLineUpdate=!0,a}return n.prototype.render=function(a,o,s,l){var c=a.getData(),u=this._data,d=this.group,f;if(!u&&c.count()>0){for(var v=c.getItemLayout(0),g=1;isNaN(v&&v.startAngle)&&g<c.count();++g)v=c.getItemLayout(g);v&&(f=v.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),c.count()===0&&a.get("showEmptyCircle")){var y=getSeriesLayoutData(a),_=new Sector({shape:extend(getBasicPieLayout(a,s),y)});_.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,d.add(_)}c.diff(u).add(function(b){var T=new PiePiece(c,b,f);c.setItemGraphicEl(b,T),d.add(T)}).update(function(b,T){var C=u.getItemGraphicEl(T);C.updateData(c,b,f),C.off("click"),d.add(C),c.setItemGraphicEl(b,C)}).remove(function(b){var T=u.getItemGraphicEl(b);removeElementWithFadeOut(T,a,b)}).execute(),pieLabelLayout(a),a.get("animationTypeUpdate")!=="expansion"&&(this._data=c)},n.prototype.dispose=function(){},n.prototype.containPoint=function(a,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var c=a[0]-l.cx,u=a[1]-l.cy,d=Math.sqrt(c*c+u*u);return d<=l.r&&d>=l.r0}},n.type="pie",n}(ChartView);function createSeriesDataSimply(r,n,a){n=isArray$1(n)&&{coordDimensions:n}||extend({encodeDefine:r.getEncode()},n);var o=r.getSource(),s=prepareSeriesDataSchema(o,n).dimensions,l=new SeriesData(s,r);return l.initData(o,a),l}var LegendVisualProvider=function(){function r(n,a){this._getDataWithEncodedVisual=n,this._getRawData=a}return r.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},r.prototype.containName=function(n){var a=this._getRawData();return a.indexOfName(n)>=0},r.prototype.indexOfName=function(n){var a=this._getDataWithEncodedVisual();return a.indexOfName(n)},r.prototype.getItemVisual=function(n,a){var o=this._getDataWithEncodedVisual();return o.getItemVisual(n,a)},r}(),innerData=makeInner(),PieSeriesModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(a)},n.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(a){var o=this.getData(),s=innerData(o),l=s.seats;if(!l){var c=[];o.each(o.mapDimension("value"),function(d){c.push(d)}),l=s.seats=getPercentSeats(c,o.hostModel.get("percentPrecision"))}var u=r.prototype.getDataParams.call(this,a);return u.percent=l[a]||0,u.$vars.push("percent"),u},n.prototype._defaultLabelLine=function(a){defaultEmphasis(a,"labelLine",["show"]);var o=a.labelLine,s=a.emphasis.labelLine;o.show=o.show&&a.label.show,s.show=s.show&&a.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel);function negativeDataFilter(r){return{seriesType:r,reset:function(n,a){var o=n.getData();o.filterSelf(function(s){var l=o.mapDimension("value"),c=o.get(l,s);return!(isNumber(c)&&!isNaN(c)&&c<0)})}}}function install$O(r){r.registerChartView(PieView),r.registerSeriesModel(PieSeriesModel),createLegacyDataSelectAction("pie",r.registerAction),r.registerLayout(curry$1(pieLayout,"pie")),r.registerProcessor(dataFilter$1("pie")),r.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.getInitialData=function(a,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},n.prototype.brushSelector=function(a,o,s){return s.point(o.getItemLayout(a))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function r(){}return r}(),LargeSymbolPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o._off=0,o.hoverDataIdx=-1,o}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(a,o){var s=o.points,l=o.size,c=this.symbolProxy,u=c.shape,d=a.getContext?a.getContext():a,f=d&&l[0]<BOOST_SIZE_THRESHOLD,v=this.softClipShape,g;if(f){this._ctx=d;return}for(this._ctx=null,g=this._off;g<s.length;){var y=s[g++],_=s[g++];isNaN(y)||isNaN(_)||v&&!v.contain(y,_)||(u.x=y-l[0]/2,u.y=_-l[1]/2,u.width=l[0],u.height=l[1],c.buildPath(a,u,!0))}this.incremental&&(this._off=g,this.notClear=!0)},n.prototype.afterBrush=function(){var a=this.shape,o=a.points,s=a.size,l=this._ctx,c=this.softClipShape,u;if(l){for(u=this._off;u<o.length;){var d=o[u++],f=o[u++];isNaN(d)||isNaN(f)||c&&!c.contain(d,f)||l.fillRect(d-s[0]/2,f-s[1]/2,s[0],s[1])}this.incremental&&(this._off=u,this.notClear=!0)}},n.prototype.findDataIndex=function(a,o){for(var s=this.shape,l=s.points,c=s.size,u=Math.max(c[0],4),d=Math.max(c[1],4),f=l.length/2-1;f>=0;f--){var v=f*2,g=l[v]-u/2,y=l[v+1]-d/2;if(a>=g&&o>=y&&a<=g+u&&o<=y+d)return f}return-1},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(a=s[0],o=s[1],l.contain(a,o)){var c=this.hoverDataIdx=this.findDataIndex(a,o);return c>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var o=this.shape,s=o.points,l=o.size,c=l[0],u=l[1],d=1/0,f=1/0,v=-1/0,g=-1/0,y=0;y<s.length;){var _=s[y++],b=s[y++];d=Math.min(_,d),v=Math.max(_,v),f=Math.min(b,f),g=Math.max(b,g)}a=this._rect=new BoundingRect(d-c/2,f-u/2,v-d+c,g-f+u)}return a},n}(Path),LargeSymbolDraw=function(){function r(){this.group=new Group$3}return r.prototype.updateData=function(n,a){this._clear();var o=this._create();o.setShape({points:n.getLayout("points")}),this._setCommon(o,n,a)},r.prototype.updateLayout=function(n){var a=n.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var s=(o.endIndex-o.startIndex)*2,l=o.startIndex*4*2;a=new Float32Array(a.buffer,l,s)}o.setShape("points",a),o.reset()})},r.prototype.incrementalPrepareUpdate=function(n){this._clear()},r.prototype.incrementalUpdate=function(n,a,o){var s=this._newAdded[0],l=a.getLayout("points"),c=s&&s.shape.points;if(c&&c.length<2e4){var u=c.length,d=new Float32Array(u+l.length);d.set(c),d.set(l,u),s.endIndex=n.end,s.setShape({points:d})}else{this._newAdded=[];var f=this._create();f.startIndex=n.start,f.endIndex=n.end,f.incremental=!0,f.setShape({points:l}),this._setCommon(f,a,o)}},r.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},r.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},r.prototype._setCommon=function(n,a,o){var s=a.hostModel;o=o||{};var l=a.getVisual("symbolSize");n.setShape("size",l instanceof Array?l:[l,l]),n.softClipShape=o.clipShape||null,n.symbolProxy=createSymbol$1(a.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var c=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle(s.getModel("itemStyle").getItemStyle(c?["color","shadowBlur","shadowColor"]:["color"]));var u=a.getVisual("style"),d=u&&u.fill;d&&n.setColor(d);var f=getECData(n);f.seriesIndex=s.seriesIndex,n.on("mousemove",function(v){f.dataIndex=null;var g=n.hoverDataIdx;g>=0&&(f.dataIndex=g+(n.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),ScatterView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.getData(),c=this._updateSymbolDraw(l,a);c.updateData(l,{clipShape:this._getClipShape(a)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(a,o,s){var l=a.getData(),c=this._updateSymbolDraw(l,a);c.incrementalPrepareUpdate(l),this._finished=!1},n.prototype.incrementalRender=function(a,o,s){this._symbolDraw.incrementalUpdate(a,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=a.end===o.getData().count()},n.prototype.updateTransform=function(a,o,s){var l=a.getData();if(this.group.dirty(),!this._finished||l.count()>1e4)return{update:!0};var c=pointsLayout("").reset(a,o,s);c.progress&&c.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout(l)},n.prototype.eachRendered=function(a){this._symbolDraw&&this._symbolDraw.eachRendered(a)},n.prototype._getClipShape=function(a){if(a.get("clip",!0)){var o=a.coordinateSystem;return o&&o.getArea&&o.getArea(.1)}},n.prototype._updateSymbolDraw=function(a,o){var s=this._symbolDraw,l=o.pipelineContext,c=l.large;return(!s||c!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=c?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=c,this.group.removeAll()),this.group.add(s.group),s},n.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView),GridModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel),CartesianAxisModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(r,n,a,o){each$f(AXIS_TYPES,function(s,l){var c=merge(merge({},axisDefault[l],!0),o,!0),u=function(d){__extends(f,d);function f(){var v=d!==null&&d.apply(this,arguments)||this;return v.type=n+"Axis."+l,v}return f.prototype.mergeDefaultAndTheme=function(v,g){var y=fetchLayoutMode(this),_=y?getLayoutParams(v):{},b=g.getTheme();merge(v,b.get(l+"Axis")),merge(v,this.getDefaultOption()),v.type=getAxisType(v),y&&mergeLayoutParam(v,_,y)},f.prototype.optionUpdated=function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},f.prototype.getCategories=function(v){var g=this.option;if(g.type==="category")return v?g.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=n+"Axis."+l,f.defaultOption=c,f}(a);r.registerComponentModel(u)}),r.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(r){return r.type||(r.data?"category":"value")}var Cartesian=function(){function r(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return r.prototype.getAxis=function(n){return this._axes[n]},r.prototype.getAxes=function(){return map$1(this._dimList,function(n){return this._axes[n]},this)},r.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(a){return a.scale.type===n})},r.prototype.addAxis=function(n){var a=n.dim;this._axes[a]=n,this._dimList.push(a)},r}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(r){return r.type==="interval"||r.type==="time"}var Cartesian2D=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=cartesian2DDimensions,a}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(a)||!canCalculateAffineTransform(o))){var s=a.getExtent(),l=o.getExtent(),c=this.dataToPoint([s[0],l[0]]),u=this.dataToPoint([s[1],l[1]]),d=s[1]-s[0],f=l[1]-l[0];if(!(!d||!f)){var v=(u[0]-c[0])/d,g=(u[1]-c[1])/f,y=c[0]-s[0]*v,_=c[1]-l[0]*g,b=this._transform=[v,0,0,g,y,_];this._invTransform=invert([],b)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(a){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(a[0]))&&s.contain(s.toLocalCoord(a[1]))},n.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},n.prototype.containZone=function(a,o){var s=this.dataToPoint(a),l=this.dataToPoint(o),c=this.getArea(),u=new BoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1]);return c.intersect(u)},n.prototype.dataToPoint=function(a,o,s){s=s||[];var l=a[0],c=a[1];if(this._transform&&l!=null&&isFinite(l)&&c!=null&&isFinite(c))return applyTransform$1(s,a,this._transform);var u=this.getAxis("x"),d=this.getAxis("y");return s[0]=u.toGlobalCoord(u.dataToCoord(l,o)),s[1]=d.toGlobalCoord(d.dataToCoord(c,o)),s},n.prototype.clampData=function(a,o){var s=this.getAxis("x").scale,l=this.getAxis("y").scale,c=s.getExtent(),u=l.getExtent(),d=s.parse(a[0]),f=l.parse(a[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(c[0],c[1]),d),Math.max(c[0],c[1])),o[1]=Math.min(Math.max(Math.min(u[0],u[1]),f),Math.max(u[0],u[1])),o},n.prototype.pointToData=function(a,o){var s=[];if(this._invTransform)return applyTransform$1(s,a,this._invTransform);var l=this.getAxis("x"),c=this.getAxis("y");return s[0]=l.coordToData(l.toLocalCoord(a[0]),o),s[1]=c.coordToData(c.toLocalCoord(a[1]),o),s},n.prototype.getOtherAxis=function(a){return this.getAxis(a.dim==="x"?"y":"x")},n.prototype.getArea=function(a){a=a||0;var o=this.getAxis("x").getGlobalExtent(),s=this.getAxis("y").getGlobalExtent(),l=Math.min(o[0],o[1])-a,c=Math.min(s[0],s[1])-a,u=Math.max(o[0],o[1])-l+a,d=Math.max(s[0],s[1])-c+a;return new BoundingRect(l,c,u,d)},n}(Cartesian),Axis2D=function(r){__extends(n,r);function n(a,o,s,l,c){var u=r.call(this,a,o,s)||this;return u.index=0,u.type=l||"value",u.position=c||"bottom",u}return n.prototype.isHorizontal=function(){var a=this.position;return a==="top"||a==="bottom"},n.prototype.getGlobalExtent=function(a){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),a&&o[0]>o[1]&&o.reverse(),o},n.prototype.pointToData=function(a,o){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),o)},n.prototype.setCategorySortInfo=function(a){if(this.type!=="category")return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},n}(Axis);function layout$2(r,n,a){a=a||{};var o=r.coordinateSystem,s=n.axis,l={},c=s.getAxesOnZeroOf()[0],u=s.position,d=c?"onZero":u,f=s.dim,v=o.getRect(),g=[v.x,v.x+v.width,v.y,v.y+v.height],y={left:0,right:1,top:0,bottom:1,onZero:2},_=n.get("offset")||0,b=f==="x"?[g[2]-_,g[3]+_]:[g[0]-_,g[1]+_];if(c){var T=c.toGlobalCoord(c.dataToCoord(0));b[y.onZero]=Math.max(Math.min(T,b[1]),b[0])}l.position=[f==="y"?b[y[d]]:g[0],f==="x"?b[y[d]]:g[3]],l.rotation=Math.PI/2*(f==="x"?0:1);var C={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=C[u],l.labelOffset=c?b[y[u]]-b[y.onZero]:0,n.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),retrieve(a.labelInside,n.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var P=n.get(["axisLabel","rotate"]);return l.labelRotate=d==="top"?-P:P,l.z2=1,l}function isCartesian2DSeries(r){return r.get("coordinateSystem")==="cartesian2d"}function findAxisModels(r){var n={xAxisModel:null,yAxisModel:null};return each$f(n,function(a,o){var s=o.replace(/Model$/,""),l=r.getReferringComponents(s,SINGLE_REFERRING).models[0];n[o]=l}),n}var mathLog=Math.log;function alignScaleTicks(r,n,a){var o=IntervalScale.prototype,s=o.getTicks.call(a),l=o.getTicks.call(a,!0),c=s.length-1,u=o.getInterval.call(a),d=getScaleExtent(r,n),f=d.extent,v=d.fixMin,g=d.fixMax;if(r.type==="log"){var y=mathLog(r.base);f=[mathLog(f[0])/y,mathLog(f[1])/y]}r.setExtent(f[0],f[1]),r.calcNiceExtent({splitNumber:c,fixMin:v,fixMax:g});var _=o.getExtent.call(r);v&&(f[0]=_[0]),g&&(f[1]=_[1]);var b=o.getInterval.call(r),T=f[0],C=f[1];if(v&&g)b=(C-T)/c;else if(v)for(C=f[0]+b*c;C<f[1]&&isFinite(C)&&isFinite(f[1]);)b=increaseInterval(b),C=f[0]+b*c;else if(g)for(T=f[1]-b*c;T>f[0]&&isFinite(T)&&isFinite(f[0]);)b=increaseInterval(b),T=f[1]-b*c;else{var P=r.getTicks().length-1;P>c&&(b=increaseInterval(b));var E=b*c;C=Math.ceil(f[1]/b)*b,T=round$3(C-E),T<0&&f[0]>=0?(T=0,C=round$3(E)):C>0&&f[1]<=0&&(C=0,T=-round$3(E))}var M=(s[0].value-l[0].value)/u,I=(s[c].value-l[c].value)/u;o.setExtent.call(r,T+b*M,C+b*I),o.setInterval.call(r,b),(M||I)&&o.setNiceExtent.call(r,T+b,C-b)}var Grid=function(){function r(n,a,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,a,o),this.model=n}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(n,a){var o=this._axesMap;this._updateScale(n,this.model);function s(c){var u,d=keys(c),f=d.length;if(f){for(var v=[],g=f-1;g>=0;g--){var y=+d[g],_=c[y],b=_.model,T=_.scale;isIntervalOrLogScale(T)&&b.get("alignTicks")&&b.get("interval")==null?v.push(_):(niceScaleExtent(T,b),isIntervalOrLogScale(T)&&(u=_))}v.length&&(u||(u=v.pop(),niceScaleExtent(u.scale,u.model)),each$f(v,function(C){alignScaleTicks(C.scale,C.model,u.scale)}))}}s(o.x),s(o.y);var l={};each$f(o.x,function(c){fixAxisOnZero(o,"y",c,l)}),each$f(o.y,function(c){fixAxisOnZero(o,"x",c,l)}),this.resize(this.model,a)},r.prototype.resize=function(n,a,o){var s=n.getBoxLayoutParams(),l=!o&&n.get("containLabel"),c=getLayoutRect(s,{width:a.getWidth(),height:a.getHeight()});this._rect=c;var u=this._axesList;d(),l&&(each$f(u,function(f){if(!f.model.get(["axisLabel","inside"])){var v=estimateLabelUnionRect(f);if(v){var g=f.isHorizontal()?"height":"width",y=f.model.get(["axisLabel","margin"]);c[g]-=v[g]+y,f.position==="top"?c.y+=v.height+y:f.position==="left"&&(c.x+=v.width+y)}}}),d()),each$f(this._coordsList,function(f){f.calcAffineTransform()});function d(){each$f(u,function(f){var v=f.isHorizontal(),g=v?[0,c.width]:[0,c.height],y=f.inverse?1:0;f.setExtent(g[y],g[1-y]),updateAxisTransform(f,v?c.x:c.y)})}},r.prototype.getAxis=function(n,a){var o=this._axesMap[n];if(o!=null)return o[a||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(n,a){if(n!=null&&a!=null){var o="x"+n+"y"+a;return this._coordsMap[o]}isObject$3(n)&&(a=n.yAxisIndex,n=n.xAxisIndex);for(var s=0,l=this._coordsList;s<l.length;s++)if(l[s].getAxis("x").index===n||l[s].getAxis("y").index===a)return l[s]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(n,a,o){var s=this._findConvertTarget(a);return s.cartesian?s.cartesian.dataToPoint(o):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(o)):null},r.prototype.convertFromPixel=function(n,a,o){var s=this._findConvertTarget(a);return s.cartesian?s.cartesian.pointToData(o):s.axis?s.axis.coordToData(s.axis.toLocalCoord(o)):null},r.prototype._findConvertTarget=function(n){var a=n.seriesModel,o=n.xAxisModel||a&&a.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],s=n.yAxisModel||a&&a.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],l=n.gridModel,c=this._coordsList,u,d;if(a)u=a.coordinateSystem,indexOf(c,u)<0&&(u=null);else if(o&&s)u=this.getCartesian(o.componentIndex,s.componentIndex);else if(o)d=this.getAxis("x",o.componentIndex);else if(s)d=this.getAxis("y",s.componentIndex);else if(l){var f=l.coordinateSystem;f===this&&(u=this._coordsList[0])}return{cartesian:u,axis:d}},r.prototype.containPoint=function(n){var a=this._coordsList[0];if(a)return a.containPoint(n)},r.prototype._initCartesian=function(n,a,o){var s=this,l=this,c={left:!1,right:!1,top:!1,bottom:!1},u={x:{},y:{}},d={x:0,y:0};if(a.eachComponent("xAxis",f("x"),this),a.eachComponent("yAxis",f("y"),this),!d.x||!d.y){this._axesMap={},this._axesList=[];return}this._axesMap=u,each$f(u.x,function(v,g){each$f(u.y,function(y,_){var b="x"+g+"y"+_,T=new Cartesian2D(b);T.master=s,T.model=n,s._coordsMap[b]=T,s._coordsList.push(T),T.addAxis(v),T.addAxis(y)})});function f(v){return function(g,y){if(isAxisUsedInTheGrid(g,n)){var _=g.get("position");v==="x"?_!=="top"&&_!=="bottom"&&(_=c.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=c.left?"right":"left"),c[_]=!0;var b=new Axis2D(v,createScaleByModel$1(g),[0,0],g.get("type"),_),T=b.type==="category";b.onBand=T&&g.get("boundaryGap"),b.inverse=g.get("inverse"),g.axis=b,b.model=g,b.grid=l,b.index=y,l._axesList.push(b),u[v][y]=b,d[v]++}}}},r.prototype._updateScale=function(n,a){each$f(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),s.type==="category"){var l=s.model.get("categorySortInfo");s.scale.setSortInfo(l)}}),n.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),c=l.xAxisModel,u=l.yAxisModel;if(!isAxisUsedInTheGrid(c,a)||!isAxisUsedInTheGrid(u,a))return;var d=this.getCartesian(c.componentIndex,u.componentIndex),f=s.getData(),v=d.getAxis("x"),g=d.getAxis("y");o(f,v),o(f,g)}},this);function o(s,l){each$f(getDataDimensionsOnAxis(s,l.dim),function(c){l.scale.unionExtentFromData(s,c)})}},r.prototype.getTooltipAxes=function(n){var a=[],o=[];return each$f(this.getCartesians(),function(s){var l=n!=null&&n!=="auto"?s.getAxis(n):s.getBaseAxis(),c=s.getOtherAxis(l);indexOf(a,l)<0&&a.push(l),indexOf(o,c)<0&&o.push(c)}),{baseAxes:a,otherAxes:o}},r.create=function(n,a){var o=[];return n.eachComponent("grid",function(s,l){var c=new r(s,n,a);c.name="grid_"+l,c.resize(s,a,!0),s.coordinateSystem=c,o.push(c)}),n.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),c=l.xAxisModel,u=l.yAxisModel,d=c.getCoordSysModel(),f=d.coordinateSystem;s.coordinateSystem=f.getCartesian(c.componentIndex,u.componentIndex)}}),o},r.dimensions=cartesian2DDimensions,r}();function isAxisUsedInTheGrid(r,n){return r.getCoordSysModel()===n}function fixAxisOnZero(r,n,a,o){a.getAxesOnZeroOf=function(){return l?[l]:[]};var s=r[n],l,c=a.model,u=c.get(["axisLine","onZero"]),d=c.get(["axisLine","onZeroAxisIndex"]);if(!u)return;if(d!=null)canOnZeroToAxis(s[d])&&(l=s[d]);else for(var f in s)if(s.hasOwnProperty(f)&&canOnZeroToAxis(s[f])&&!o[v(s[f])]){l=s[f];break}l&&(o[v(l)]=!0);function v(g){return g.dim+"_"+g.index}}function canOnZeroToAxis(r){return r&&r.type!=="category"&&r.type!=="time"&&ifAxisCrossZero(r)}function updateAxisTransform(r,n){var a=r.getExtent(),o=a[0]+a[1];r.toGlobalCoord=r.dim==="x"?function(s){return s+n}:function(s){return o-s+n},r.toLocalCoord=r.dim==="x"?function(s){return s-n}:function(s){return o-s+n}}var PI$3=Math.PI,AxisBuilder=function(){function r(n,a){this.group=new Group$3,this.opt=a,this.axisModel=n,defaults(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$3({x:a.position[0],y:a.position[1],rotation:a.rotation});o.updateTransform(),this._transformGroup=o}return r.prototype.hasBuilder=function(n){return!!builders[n]},r.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(n,a,o){var s=remRadian(a-n),l,c;return isRadianAroundZero(s)?(c=o>0?"top":"bottom",l="center"):isRadianAroundZero(s-PI$3)?(c=o>0?"bottom":"top",l="center"):(c="middle",s>0&&s<PI$3?l=o>0?"right":"left":l=o>0?"left":"right"),{rotation:s,textAlign:l,textVerticalAlign:c}},r.makeAxisEventDataBase=function(n){var a={componentType:n.mainType,componentIndex:n.componentIndex};return a[n.mainType+"Index"]=n.componentIndex,a},r.isLabelSilent=function(n){var a=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||a&&a.show)},r}(),builders={axisLine:function(r,n,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisLine")),!!s){var l=n.axis.getExtent(),c=o.transform,u=[l[0],0],d=[l[1],0],f=u[0]>d[0];c&&(applyTransform$1(u,u,c),applyTransform$1(d,d,c));var v=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line$1({shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:v,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid="line",a.add(g);var y=n.get(["axisLine","symbol"]);if(y!=null){var _=n.get(["axisLine","symbolSize"]);isString(y)&&(y=[y,y]),(isString(_)||isNumber(_))&&(_=[_,_]);var b=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,_),T=_[0],C=_[1];each$f([{rotate:r.rotation+Math.PI/2,offset:b[0],r:0},{rotate:r.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((u[0]-d[0])*(u[0]-d[0])+(u[1]-d[1])*(u[1]-d[1]))}],function(P,E){if(y[E]!=="none"&&y[E]!=null){var M=createSymbol$1(y[E],-T/2,-C/2,T,C,v.stroke,!0),I=P.r+P.offset,L=f?d:u;M.attr({rotation:P.rotate,x:L[0]+I*Math.cos(r.rotation),y:L[1]-I*Math.sin(r.rotation),silent:!0,z2:11}),a.add(M)}})}}},axisTickLabel:function(r,n,a,o){var s=buildAxisMajorTicks(a,o,n,r),l=buildAxisLabel(a,o,n,r);if(fixMinMaxLabelShow(n,l,s),buildAxisMinorTicks(a,o,n,r.tickDirection),n.get(["axisLabel","hideOverlap"])){var c=prepareLayoutList(map$1(l,function(u){return{label:u,priority:u.z2,defaultAttr:{ignore:u.ignore}}}));hideOverlap(c)}},axisName:function(r,n,a,o){var s=retrieve(r.axisName,n.get("name"));if(s){var l=n.get("nameLocation"),c=r.nameDirection,u=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,f=n.axis.getExtent(),v=f[0]>f[1]?-1:1,g=[l==="start"?f[0]-v*d:l==="end"?f[1]+v*d:(f[0]+f[1])/2,isNameLocationCenter(l)?r.labelOffset+c*d:0],y,_=n.get("nameRotate");_!=null&&(_=_*PI$3/180);var b;isNameLocationCenter(l)?y=AxisBuilder.innerTextLayout(r.rotation,_??r.rotation,c):(y=endTextLayout(r.rotation,l,_||0,f),b=r.axisNameAvailableWidth,b!=null&&(b=Math.abs(b/Math.sin(y.rotation)),!isFinite(b)&&(b=null)));var T=u.getFont(),C=n.get("nameTruncate",!0)||{},P=C.ellipsis,E=retrieve(r.nameTruncateMaxWidth,C.maxWidth,b),M=new ZRText({x:g[0],y:g[1],rotation:y.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(u,{text:s,font:T,overflow:"truncate",width:E,ellipsis:P,fill:u.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:u.get("align")||y.textAlign,verticalAlign:u.get("verticalAlign")||y.textVerticalAlign}),z2:1});if(setTooltipConfig({el:M,componentModel:n,itemName:s}),M.__fullText=s,M.anid="name",n.get("triggerEvent")){var I=AxisBuilder.makeAxisEventDataBase(n);I.targetType="axisName",I.name=s,getECData(M).eventData=I}o.add(M),M.updateTransform(),a.add(M),M.decomposeTransform()}}};function endTextLayout(r,n,a,o){var s=remRadian(a-r),l,c,u=o[0]>o[1],d=n==="start"&&!u||n!=="start"&&u;return isRadianAroundZero(s-PI$3/2)?(c=d?"bottom":"top",l="center"):isRadianAroundZero(s-PI$3*1.5)?(c=d?"top":"bottom",l="center"):(c="middle",s<PI$3*1.5&&s>PI$3/2?l=d?"left":"right":l=d?"right":"left"),{rotation:s,textAlign:l,textVerticalAlign:c}}function fixMinMaxLabelShow(r,n,a){if(!shouldShowAllLabels(r.axis)){var o=r.get(["axisLabel","showMinLabel"]),s=r.get(["axisLabel","showMaxLabel"]);n=n||[],a=a||[];var l=n[0],c=n[1],u=n[n.length-1],d=n[n.length-2],f=a[0],v=a[1],g=a[a.length-1],y=a[a.length-2];o===!1?(ignoreEl(l),ignoreEl(f)):isTwoLabelOverlapped(l,c)&&(o?(ignoreEl(c),ignoreEl(v)):(ignoreEl(l),ignoreEl(f))),s===!1?(ignoreEl(u),ignoreEl(g)):isTwoLabelOverlapped(d,u)&&(s?(ignoreEl(d),ignoreEl(y)):(ignoreEl(u),ignoreEl(g)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,n){var a=r&&r.getBoundingRect().clone(),o=n&&n.getBoundingRect().clone();if(!(!a||!o)){var s=identity([]);return rotate(s,s,-r.rotation),a.applyTransform(mul([],s,r.getLocalTransform())),o.applyTransform(mul([],s,n.getLocalTransform())),a.intersect(o)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,n,a,o,s){for(var l=[],c=[],u=[],d=0;d<r.length;d++){var f=r[d].coord;c[0]=f,c[1]=0,u[0]=f,u[1]=a,n&&(applyTransform$1(c,c,n),applyTransform$1(u,u,n));var v=new Line$1({shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(v.shape,v.style.lineWidth),v.anid=s+"_"+r[d].tickValue,l.push(v)}return l}function buildAxisMajorTicks(r,n,a,o){var s=a.axis,l=a.getModel("axisTick"),c=l.get("show");if(c==="auto"&&o.handleAutoShown&&(c=o.handleAutoShown("axisTick")),!(!c||s.scale.isBlank())){for(var u=l.getModel("lineStyle"),d=o.tickDirection*l.get("length"),f=s.getTicksCoords(),v=createTicks(f,n.transform,d,defaults(u.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<v.length;g++)r.add(v[g]);return v}}function buildAxisMinorTicks(r,n,a,o){var s=a.axis,l=a.getModel("minorTick");if(!(!l.get("show")||s.scale.isBlank())){var c=s.getMinorTicksCoords();if(c.length)for(var u=l.getModel("lineStyle"),d=o*l.get("length"),f=defaults(u.getLineStyle(),defaults(a.getModel("axisTick").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})),v=0;v<c.length;v++)for(var g=createTicks(c[v],n.transform,d,f,"minorticks_"+v),y=0;y<g.length;y++)r.add(g[y])}}function buildAxisLabel(r,n,a,o){var s=a.axis,l=retrieve(o.axisLabelShow,a.get(["axisLabel","show"]));if(!(!l||s.scale.isBlank())){var c=a.getModel("axisLabel"),u=c.get("margin"),d=s.getViewLabels(),f=(retrieve(o.labelRotate,c.get("rotate"))||0)*PI$3/180,v=AxisBuilder.innerTextLayout(o.rotation,f,o.labelDirection),g=a.getCategories&&a.getCategories(!0),y=[],_=AxisBuilder.isLabelSilent(a),b=a.get("triggerEvent");return each$f(d,function(T,C){var P=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(T.tickValue):T.tickValue,E=T.formattedLabel,M=T.rawLabel,I=c;if(g&&g[P]){var L=g[P];isObject$3(L)&&L.textStyle&&(I=new Model(L.textStyle,c,a.ecModel))}var N=I.getTextColor()||a.get(["axisLine","lineStyle","color"]),V=s.dataToCoord(P),B=I.getShallow("align",!0)||v.textAlign,z=retrieve2(I.getShallow("alignMinLabel",!0),B),G=retrieve2(I.getShallow("alignMaxLabel",!0),B),H=I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||v.textVerticalAlign,W=retrieve2(I.getShallow("verticalAlignMinLabel",!0),H),j=retrieve2(I.getShallow("verticalAlignMaxLabel",!0),H),X=new ZRText({x:V,y:o.labelOffset+o.labelDirection*u,rotation:v.rotation,silent:_,z2:10+(T.level||0),style:createTextStyle(I,{text:E,align:C===0?z:C===d.length-1?G:B,verticalAlign:C===0?W:C===d.length-1?j:H,fill:isFunction(N)?N(s.type==="category"?M:s.type==="value"?P+"":P,C):N})});if(X.anid="label_"+P,setTooltipConfig({el:X,componentModel:a,itemName:E,formatterParamsExtra:{isTruncated:function(){return X.isTruncated},value:M,tickIndex:C}}),b){var Z=AxisBuilder.makeAxisEventDataBase(a);Z.targetType="axisLabel",Z.value=M,Z.tickIndex=C,s.type==="category"&&(Z.dataIndex=P),getECData(X).eventData=Z}n.add(X),X.updateTransform(),y.push(X),r.add(X),X.decomposeTransform()}),y}}function collect(r,n){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(a,r,n),a.seriesInvolved&&collectSeriesInfo(a,r),a}function collectAxesInfo(r,n,a){var o=n.getComponent("tooltip"),s=n.getComponent("axisPointer"),l=s.get("link",!0)||[],c=[];each$f(a.getCoordinateSystems(),function(u){if(!u.axisPointerEnabled)return;var d=makeKey(u.model),f=r.coordSysAxesInfo[d]={};r.coordSysMap[d]=u;var v=u.model,g=v.getModel("tooltip",o);if(each$f(u.getAxes(),curry$1(T,!1,null)),u.getTooltipAxes&&o&&g.get("show")){var y=g.get("trigger")==="axis",_=g.get(["axisPointer","type"])==="cross",b=u.getTooltipAxes(g.get(["axisPointer","axis"]));(y||_)&&each$f(b.baseAxes,curry$1(T,_?"cross":!0,y)),_&&each$f(b.otherAxes,curry$1(T,"cross",!1))}function T(C,P,E){var M=E.model.getModel("axisPointer",s),I=M.get("show");if(!(!I||I==="auto"&&!C&&!isHandleTrigger(M))){P==null&&(P=M.get("triggerTooltip")),M=C?makeAxisPointerModel(E,g,s,n,C,P):M;var L=M.get("snap"),N=M.get("triggerEmphasis"),V=makeKey(E.model),B=P||L||E.type==="category",z=r.axesInfo[V]={key:V,axis:E,coordSys:u,axisPointerModel:M,triggerTooltip:P,triggerEmphasis:N,involveSeries:B,snap:L,useHandle:isHandleTrigger(M),seriesModels:[],linkGroup:null};f[V]=z,r.seriesInvolved=r.seriesInvolved||B;var G=getLinkGroupIndex(l,E);if(G!=null){var H=c[G]||(c[G]={axesInfo:{}});H.axesInfo[V]=z,H.mapper=l[G].mapper,z.linkGroup=H}}}})}function makeAxisPointerModel(r,n,a,o,s,l){var c=n.getModel("axisPointer"),u=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each$f(u,function(y){d[y]=clone$4(c.get(y))}),d.snap=r.type!=="category"&&!!l,c.get("type")==="cross"&&(d.type="line");var f=d.label||(d.label={});if(f.show==null&&(f.show=!1),s==="cross"){var v=c.get(["label","show"]);if(f.show=v??!0,!l){var g=d.lineStyle=c.get("crossStyle");g&&defaults(f,g.textStyle)}}return r.model.getModel("axisPointer",new Model(d,a,o))}function collectSeriesInfo(r,n){n.eachSeries(function(a){var o=a.coordinateSystem,s=a.get(["tooltip","trigger"],!0),l=a.get(["tooltip","show"],!0);!o||s==="none"||s===!1||s==="item"||l===!1||a.get(["axisPointer","show"],!0)===!1||each$f(r.coordSysAxesInfo[makeKey(o.model)],function(c){var u=c.axis;o.getAxis(u.dim)===u&&(c.seriesModels.push(a),c.seriesDataCount==null&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})})}function getLinkGroupIndex(r,n){for(var a=n.model,o=n.dim,s=0;s<r.length;s++){var l=r[s]||{};if(checkPropInLink(l[o+"AxisId"],a.id)||checkPropInLink(l[o+"AxisIndex"],a.componentIndex)||checkPropInLink(l[o+"AxisName"],a.name))return s}}function checkPropInLink(r,n){return r==="all"||isArray$1(r)&&indexOf(r,n)>=0||r===n}function fixValue(r){var n=getAxisInfo$1(r);if(n){var a=n.axisPointerModel,o=n.axis.scale,s=a.option,l=a.get("status"),c=a.get("value");c!=null&&(c=o.parse(c));var u=isHandleTrigger(a);l==null&&(s.status=u?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(c==null||c>d[1])&&(c=d[1]),c<d[0]&&(c=d[0]),s.value=c,u&&(s.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(r){var n=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var n=getAxisInfo$1(r);return n&&n.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){this.axisPointerClass&&fixValue(a),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(a,s,!0)},n.prototype.updateAxisPointer=function(a,o,s,l){this._doUpdateAxisPointerClass(a,s,!1)},n.prototype.remove=function(a,o){var s=this._axisPointer;s&&s.remove(o)},n.prototype.dispose=function(a,o){this._disposeAxisPointer(o),r.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(a,o,s){var l=n.getAxisPointerClass(this.axisPointerClass);if(l){var c=getAxisPointerModel(a);c?(this._axisPointer||(this._axisPointer=new l)).render(a,c,o,s):this._disposeAxisPointer(o)}},n.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},n.registerAxisPointerClass=function(a,o){axisPointerClazz[a]=o},n.getAxisPointerClass=function(a){return a&&axisPointerClazz[a]},n.type="axis",n}(ComponentView),inner$f=makeInner();function rectCoordAxisBuildSplitArea(r,n,a,o){var s=a.axis;if(!s.scale.isBlank()){var l=a.getModel("splitArea"),c=l.getModel("areaStyle"),u=c.get("color"),d=o.coordinateSystem.getRect(),f=s.getTicksCoords({tickModel:l,clamp:!0});if(f.length){var v=u.length,g=inner$f(r).splitAreaColors,y=createHashMap(),_=0;if(g)for(var b=0;b<f.length;b++){var T=g.get(f[b].tickValue);if(T!=null){_=(T+(v-1)*b)%v;break}}var C=s.toGlobalCoord(f[0].coord),P=c.getAreaStyle();u=isArray$1(u)?u:[u];for(var b=1;b<f.length;b++){var E=s.toGlobalCoord(f[b].coord),M=void 0,I=void 0,L=void 0,N=void 0;s.isHorizontal()?(M=C,I=d.y,L=E-M,N=d.height,C=M+L):(M=d.x,I=C,L=d.width,N=E-I,C=I+N);var V=f[b-1].tickValue;V!=null&&y.set(V,_),n.add(new Rect$2({anid:V!=null?"area_"+V:null,shape:{x:M,y:I,width:L,height:N},style:defaults({fill:u[_]},P),autoBatch:!0,silent:!0})),_=(_+1)%v}inner$f(r).splitAreaColors=y}}}function rectCoordAxisHandleRemove(r){inner$f(r).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="CartesianAxisPointer",a}return n.prototype.render=function(a,o,s,l){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!a.get("show")){var u=a.getCoordSysModel(),d=layout$2(u,a),f=new AxisBuilder(a,extend({handleAutoShown:function(g){for(var y=u.coordinateSystem.getCartesians(),_=0;_<y.length;_++)if(isIntervalOrLogScale(y[_].getOtherAxis(a.axis).scale))return!0;return!1}},d));each$f(axisBuilderAttrs$3,f.add,f),this._axisGroup.add(f.getGroup()),each$f(selfBuilderAttrs$2,function(g){a.get([g,"show"])&&axisElementBuilders$2[g](this,this._axisGroup,a,u)},this);var v=l&&l.type==="changeAxisOrder"&&l.isInitSort;v||groupTransition(c,this._axisGroup,a),r.prototype.render.call(this,a,o,s,l)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView),axisElementBuilders$2={splitLine:function(r,n,a,o){var s=a.axis;if(!s.scale.isBlank()){var l=a.getModel("splitLine"),c=l.getModel("lineStyle"),u=c.get("color"),d=l.get("showMinLine")!==!1,f=l.get("showMaxLine")!==!1;u=isArray$1(u)?u:[u];for(var v=o.coordinateSystem.getRect(),g=s.isHorizontal(),y=0,_=s.getTicksCoords({tickModel:l}),b=[],T=[],C=c.getLineStyle(),P=0;P<_.length;P++){var E=s.toGlobalCoord(_[P].coord);if(!(P===0&&!d||P===_.length-1&&!f)){var M=_[P].tickValue;g?(b[0]=E,b[1]=v.y,T[0]=E,T[1]=v.y+v.height):(b[0]=v.x,b[1]=E,T[0]=v.x+v.width,T[1]=E);var I=y++%u.length,L=new Line$1({anid:M!=null?"line_"+M:null,autoBatch:!0,shape:{x1:b[0],y1:b[1],x2:T[0],y2:T[1]},style:defaults({stroke:u[I]},C),silent:!0});subPixelOptimizeLine(L.shape,C.lineWidth),n.add(L)}}}},minorSplitLine:function(r,n,a,o){var s=a.axis,l=a.getModel("minorSplitLine"),c=l.getModel("lineStyle"),u=o.coordinateSystem.getRect(),d=s.isHorizontal(),f=s.getMinorTicksCoords();if(f.length)for(var v=[],g=[],y=c.getLineStyle(),_=0;_<f.length;_++)for(var b=0;b<f[_].length;b++){var T=s.toGlobalCoord(f[_][b].coord);d?(v[0]=T,v[1]=u.y,g[0]=T,g[1]=u.y+u.height):(v[0]=u.x,v[1]=T,g[0]=u.x+u.width,g[1]=T);var C=new Line$1({anid:"minor_line_"+f[_][b].tickValue,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},style:y,silent:!0});subPixelOptimizeLine(C.shape,y.lineWidth),n.add(C)}},splitArea:function(r,n,a,o){rectCoordAxisBuildSplitArea(r,n,a,o)}},CartesianXAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=CartesianXAxisView.type,a}return n.type="yAxis",n}(CartesianAxisView),GridView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="grid",a}return n.prototype.render=function(a,o){this.group.removeAll(),a.get("show")&&this.group.add(new Rect$2({shape:a.coordinateSystem.getRect(),style:defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView),extraOption={offset:0};function install$N(r){r.registerComponentView(GridView),r.registerComponentModel(GridModel),r.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(r,"x",CartesianAxisModel,extraOption),axisModelCreator(r,"y",CartesianAxisModel,extraOption),r.registerComponentView(CartesianXAxisView),r.registerComponentView(CartesianYAxisView),r.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$M(r){use(install$N),r.registerSeriesModel(ScatterSeriesModel),r.registerChartView(ScatterView),r.registerLayout(pointsLayout("scatter"))}function radarLayout(r){r.eachSeriesByType("radar",function(n){var a=n.getData(),o=[],s=n.coordinateSystem;if(s){var l=s.getIndicatorAxes();each$f(l,function(c,u){a.each(a.mapDimension(l[u].dim),function(d,f){o[f]=o[f]||[];var v=s.dataToPoint(d,u);o[f][u]=isValidPoint(v)?v:getValueMissingPoint(s)})}),a.each(function(c){var u=find(o[c],function(d){return isValidPoint(d)})||getValueMissingPoint(s);o[c].push(u.slice()),a.setItemLayout(c,o[c])})}})}function isValidPoint(r){return!isNaN(r[0])&&!isNaN(r[1])}function getValueMissingPoint(r){return[r.cx,r.cy]}function radarBackwardCompat(r){var n=r.polar;if(n){isArray$1(n)||(n=[n]);var a=[];each$f(n,function(o,s){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),r.radar=r.radar||[],isArray$1(r.radar)||(r.radar=[r.radar]),r.radar.push(o)):a.push(o)}),r.polar=a}each$f(r.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var RadarView$1=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.coordinateSystem,c=this.group,u=a.getData(),d=this._data;function f(y,_){var b=y.getItemVisual(_,"symbol")||"circle";if(b!=="none"){var T=normalizeSymbolSize(y.getItemVisual(_,"symbolSize")),C=createSymbol$1(b,-1,-1,2,2),P=y.getItemVisual(_,"symbolRotate")||0;return C.attr({style:{strokeNoScale:!0},z2:100,scaleX:T[0]/2,scaleY:T[1]/2,rotation:P*Math.PI/180||0}),C}}function v(y,_,b,T,C,P){b.removeAll();for(var E=0;E<_.length-1;E++){var M=f(T,C);M&&(M.__dimIdx=E,y[E]?(M.setPosition(y[E]),graphic[P?"initProps":"updateProps"](M,{x:_[E][0],y:_[E][1]},a,C)):M.setPosition(_[E]),b.add(M))}}function g(y){return map$1(y,function(_){return[l.cx,l.cy]})}u.diff(d).add(function(y){var _=u.getItemLayout(y);if(_){var b=new Polygon,T=new Polyline$1,C={shape:{points:_}};b.shape.points=g(_),T.shape.points=g(_),initProps(b,C,a,y),initProps(T,C,a,y);var P=new Group$3,E=new Group$3;P.add(T),P.add(b),P.add(E),v(T.shape.points,_,E,u,y,!0),u.setItemGraphicEl(y,P)}}).update(function(y,_){var b=d.getItemGraphicEl(_),T=b.childAt(0),C=b.childAt(1),P=b.childAt(2),E={shape:{points:u.getItemLayout(y)}};E.shape.points&&(v(T.shape.points,E.shape.points,P,u,y,!1),saveOldStyle(C),saveOldStyle(T),updateProps$1(T,E,a),updateProps$1(C,E,a),u.setItemGraphicEl(y,b))}).remove(function(y){c.remove(d.getItemGraphicEl(y))}).execute(),u.eachItemGraphicEl(function(y,_){var b=u.getItemModel(_),T=y.childAt(0),C=y.childAt(1),P=y.childAt(2),E=u.getItemVisual(_,"style"),M=E.fill;c.add(y),T.useStyle(defaults(b.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),setStatesStylesFromModel(T,b,"lineStyle"),setStatesStylesFromModel(C,b,"areaStyle");var I=b.getModel("areaStyle"),L=I.isEmpty()&&I.parentModel.isEmpty();C.ignore=L,each$f(["emphasis","select","blur"],function(B){var z=b.getModel([B,"areaStyle"]),G=z.isEmpty()&&z.parentModel.isEmpty();C.ensureState(B).ignore=G&&L}),C.useStyle(defaults(I.getAreaStyle(),{fill:M,opacity:.7,decal:E.decal}));var N=b.getModel("emphasis"),V=N.getModel("itemStyle").getItemStyle();P.eachChild(function(B){if(B instanceof ZRImage){var z=B.style;B.useStyle(extend({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},E))}else B.useStyle(E),B.setColor(M),B.style.strokeNoScale=!0;var G=B.ensureState("emphasis");G.style=clone$4(V);var H=u.getStore().get(u.getDimensionIndex(B.__dimIdx),_);(H==null||isNaN(H))&&(H=""),setLabelStyle(B,getLabelStatesModels(b),{labelFetcher:u.hostModel,labelDataIndex:_,labelDimIndex:B.__dimIdx,defaultText:H,inheritColor:M,defaultOpacity:E.opacity})}),toggleHoverEmphasis(y,N.get("focus"),N.get("blurScope"),N.get("disabled"))}),this._data=u},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView),RadarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),c=this.coordinateSystem,u=c.getIndicatorAxes(),d=this.getData().getName(a),f=d===""?this.name:d,v=retrieveVisualColorForTooltipMarker(this,a);return createTooltipMarkup("section",{header:f,sortBlocks:!0,blocks:map$1(u,function(g){var y=l.get(l.mapDimension(g.dim),a);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:v,name:g.name,value:y,sortParam:y})})})},n.prototype.getTooltipPosition=function(a){if(a!=null){for(var o=this.getData(),s=this.coordinateSystem,l=o.getValues(map$1(s.dimensions,function(f){return o.mapDimension(f)}),a),c=0,u=l.length;c<u;c++)if(!isNaN(l[c])){var d=s.getIndicatorAxes();return s.coordToPoint(d[c].dataToCoord(l[c]),c)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel),valueAxisDefault=axisDefault.value;function defaultsShow(r,n){return defaults({show:n},r)}var RadarModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(){var a=this.get("boundaryGap"),o=this.get("splitNumber"),s=this.get("scale"),l=this.get("axisLine"),c=this.get("axisTick"),u=this.get("axisLabel"),d=this.get("axisName"),f=this.get(["axisName","show"]),v=this.get(["axisName","formatter"]),g=this.get("axisNameGap"),y=this.get("triggerEvent"),_=map$1(this.get("indicator")||[],function(b){b.max!=null&&b.max>0&&!b.min?b.min=0:b.min!=null&&b.min<0&&!b.max&&(b.max=0);var T=d;b.color!=null&&(T=defaults({color:b.color},d));var C=merge(clone$4(b),{boundaryGap:a,splitNumber:o,scale:s,axisLine:l,axisTick:c,axisLabel:u,name:b.text,showName:f,nameLocation:"end",nameGap:g,nameTextStyle:T,triggerEvent:y},!1);if(isString(v)){var P=C.name;C.name=v.replace("{value}",P??"")}else isFunction(v)&&(C.name=v(C.name,C));var E=new Model(C,null,this.ecModel);return mixin(E,AxisModelCommonMixin.prototype),E.mainType="radar",E.componentIndex=this.componentIndex,E},this);this._indicatorModels=_},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(ComponentModel),axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=this.group;l.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},n.prototype._buildAxes=function(a){var o=a.coordinateSystem,s=o.getIndicatorAxes(),l=map$1(s,function(c){var u=c.model.get("showName")?c.name:"",d=new AxisBuilder(c.model,{axisName:u,position:[o.cx,o.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return d});each$f(l,function(c){each$f(axisBuilderAttrs$2,c.add,c),this.group.add(c.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(a){var o=a.coordinateSystem,s=o.getIndicatorAxes();if(!s.length)return;var l=a.get("shape"),c=a.getModel("splitLine"),u=a.getModel("splitArea"),d=c.getModel("lineStyle"),f=u.getModel("areaStyle"),v=c.get("show"),g=u.get("show"),y=d.get("color"),_=f.get("color"),b=isArray$1(y)?y:[y],T=isArray$1(_)?_:[_],C=[],P=[];function E(Z,q,le){var ae=le%q.length;return Z[ae]=Z[ae]||[],ae}if(l==="circle")for(var M=s[0].getTicksCoords(),I=o.cx,L=o.cy,N=0;N<M.length;N++){if(v){var V=E(C,b,N);C[V].push(new Circle({shape:{cx:I,cy:L,r:M[N].coord}}))}if(g&&N<M.length-1){var V=E(P,T,N);P[V].push(new Ring({shape:{cx:I,cy:L,r0:M[N].coord,r:M[N+1].coord}}))}}else for(var B,z=map$1(s,function(Z,q){var le=Z.getTicksCoords();return B=B==null?le.length-1:Math.min(le.length-1,B),map$1(le,function(ae){return o.coordToPoint(ae.coord,q)})}),G=[],N=0;N<=B;N++){for(var H=[],W=0;W<s.length;W++)H.push(z[W][N]);if(H[0]&&H.push(H[0].slice()),v){var V=E(C,b,N);C[V].push(new Polyline$1({shape:{points:H}}))}if(g&&G){var V=E(P,T,N-1);P[V].push(new Polygon({shape:{points:H.concat(G)}}))}G=H.slice().reverse()}var j=d.getLineStyle(),X=f.getAreaStyle();each$f(P,function(Z,q){this.group.add(mergePath(Z,{style:defaults({stroke:"none",fill:T[q%T.length]},X),silent:!0}))},this),each$f(C,function(Z,q){this.group.add(mergePath(Z,{style:defaults({fill:"none",stroke:b[q%b.length]},j),silent:!0}))},this)},n.type="radar",n}(ComponentView),IndicatorAxis=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,a,o,s)||this;return l.type="value",l.angle=0,l.name="",l}return n}(Axis),Radar=function(){function r(n,a,o){this.dimensions=[],this._model=n,this._indicatorAxes=map$1(n.getIndicatorModels(),function(s,l){var c="indicator_"+l,u=new IndicatorAxis(c,new IntervalScale);return u.name=s.get("name"),u.model=s,s.axis=u,this.dimensions.push(c),u},this),this.resize(n,o)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(n,a){var o=this._indicatorAxes[a];return this.coordToPoint(o.dataToCoord(n),a)},r.prototype.coordToPoint=function(n,a){var o=this._indicatorAxes[a],s=o.angle,l=this.cx+n*Math.cos(s),c=this.cy-n*Math.sin(s);return[l,c]},r.prototype.pointToData=function(n){var a=n[0]-this.cx,o=n[1]-this.cy,s=Math.sqrt(a*a+o*o);a/=s,o/=s;for(var l=Math.atan2(-o,a),c=1/0,u,d=-1,f=0;f<this._indicatorAxes.length;f++){var v=this._indicatorAxes[f],g=Math.abs(l-v.angle);g<c&&(u=v,d=f,c=g)}return[d,+(u&&u.coordToData(s))]},r.prototype.resize=function(n,a){var o=n.get("center"),s=a.getWidth(),l=a.getHeight(),c=Math.min(s,l)/2;this.cx=parsePercent(o[0],s),this.cy=parsePercent(o[1],l),this.startAngle=n.get("startAngle")*Math.PI/180;var u=n.get("radius");(isString(u)||isNumber(u))&&(u=[0,u]),this.r0=parsePercent(u[0],c),this.r=parsePercent(u[1],c),each$f(this._indicatorAxes,function(d,f){d.setExtent(this.r0,this.r);var v=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;v=Math.atan2(Math.sin(v),Math.cos(v)),d.angle=v},this)},r.prototype.update=function(n,a){var o=this._indicatorAxes,s=this._model;each$f(o,function(u){u.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(u,d){if(!(u.get("coordinateSystem")!=="radar"||n.getComponent("radar",u.get("radarIndex"))!==s)){var f=u.getData();each$f(o,function(v){v.scale.unionExtentFromData(f,f.mapDimension(v.dim))})}},this);var l=s.get("splitNumber"),c=new IntervalScale;c.setExtent(0,l),c.setInterval(1),each$f(o,function(u,d){alignScaleTicks(u.scale,u.model,c)})},r.prototype.convertToPixel=function(n,a,o){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(n,a,o){return console.warn("Not implemented."),null},r.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},r.create=function(n,a){var o=[];return n.eachComponent("radar",function(s){var l=new r(s,n,a);o.push(l),s.coordinateSystem=l}),n.eachSeriesByType("radar",function(s){s.get("coordinateSystem")==="radar"&&(s.coordinateSystem=o[s.get("radarIndex")||0])}),o},r.dimensions=[],r}();function install$L(r){r.registerCoordinateSystem("radar",Radar),r.registerComponentModel(RadarModel),r.registerComponentView(RadarView),r.registerVisual({seriesType:"radar",reset:function(n){var a=n.getData();a.each(function(o){a.setItemVisual(o,"legendIcon","roundRect")}),a.setVisual("legendIcon","roundRect")}})}function install$K(r){use(install$L),r.registerChartView(RadarView$1),r.registerSeriesModel(RadarSeriesModel),r.registerLayout(radarLayout),r.registerProcessor(dataFilter$1("radar")),r.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(r,n,a){var o=getStore(r);o[n]=a}function release(r,n,a){var o=getStore(r),s=o[n];s===a&&(o[n]=null)}function isTaken(r,n){return!!getStore(r)[n]}function getStore(r){return r[ATTR]||(r[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;o._zr=a;var s=bind$1(o._mousedownHandler,o),l=bind$1(o._mousemoveHandler,o),c=bind$1(o._mouseupHandler,o),u=bind$1(o._mousewheelHandler,o),d=bind$1(o._pinchHandler,o);return o.enable=function(f,v){this.disable(),this._opt=defaults(clone$4(v)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),f==null&&(f=!0),(f===!0||f==="move"||f==="pan")&&(a.on("mousedown",s),a.on("mousemove",l),a.on("mouseup",c)),(f===!0||f==="scale"||f==="zoom")&&(a.on("mousewheel",u),a.on("pinch",d))},o.disable=function(){a.off("mousedown",s),a.off("mousemove",l),a.off("mouseup",c),a.off("mousewheel",u),a.off("pinch",d)},o}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(a){this.pointerChecker=a},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(a){if(!isMiddleOrRightButtonOnMouseUpDown(a)){for(var o=a.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var s=a.offsetX,l=a.offsetY;this.pointerChecker&&this.pointerChecker(a,s,l)&&(this._x=s,this._y=l,this._dragging=!0)}},n.prototype._mousemoveHandler=function(a){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",a,this._opt)||a.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var o=a.offsetX,s=a.offsetY,l=this._x,c=this._y,u=o-l,d=s-c;this._x=o,this._y=s,this._opt.preventDefaultMouseMove&&stop(a.event),trigger$1(this,"pan","moveOnMouseMove",a,{dx:u,dy:d,oldX:l,oldY:c,newX:o,newY:s,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(a){isMiddleOrRightButtonOnMouseUpDown(a)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(a){var o=isAvailableBehavior("zoomOnMouseWheel",a,this._opt),s=isAvailableBehavior("moveOnMouseWheel",a,this._opt),l=a.wheelDelta,c=Math.abs(l),u=a.offsetX,d=a.offsetY;if(!(l===0||!o&&!s)){if(o){var f=c>3?1.4:c>1?1.2:1.1,v=l>0?f:1/f;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",a,{scale:v,originX:u,originY:d,isAvailableBehavior:null})}if(s){var g=Math.abs(l),y=(l>0?1:-1)*(g>3?.4:g>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:y,originX:u,originY:d,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(a){if(!isTaken(this._zr,"globalPan")){var o=a.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,a,{scale:o,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})}},n}(Eventful);function checkPointerAndTrigger(r,n,a,o,s){r.pointerChecker&&r.pointerChecker(o,s.originX,s.originY)&&(stop(o.event),trigger$1(r,n,a,o,s))}function trigger$1(r,n,a,o,s){s.isAvailableBehavior=bind$1(isAvailableBehavior,null,a,o),r.trigger(n,s)}function isAvailableBehavior(r,n,a){var o=a[r];return!r||o&&(!isString(o)||n.event[o+"Key"])}function updateViewOnPan(r,n,a){var o=r.target;o.x+=n,o.y+=a,o.dirty()}function updateViewOnZoom(r,n,a,o){var s=r.target,l=r.zoomLimit,c=r.zoom=r.zoom||1;if(c*=n,l){var u=l.min||0,d=l.max||1/0;c=Math.max(Math.min(d,c),u)}var f=c/r.zoom;r.zoom=c,s.x-=(a-s.x)*(f-1),s.y-=(o-s.y)*(f-1),s.scaleX*=f,s.scaleY*=f,s.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(r,n,a){var o=n.getComponentByElement(r.topTarget),s=o&&o.coordinateSystem;return o&&o!==a&&!IRRELEVANT_EXCLUDES.hasOwnProperty(o.mainType)&&s&&s.model!==a}function parseXML(r){if(isString(r)){var n=new DOMParser;r=n.parseFromString(r,"text/xml")}var a=r;for(a.nodeType===9&&(a=a.firstChild);a.nodeName.toLowerCase()!=="svg"||a.nodeType!==1;)a=a.nextSibling;return a}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(n,a){a=a||{};var o=parseXML(n);this._defsUsePending=[];var s=new Group$3;this._root=s;var l=[],c=o.getAttribute("viewBox")||"",u=parseFloat(o.getAttribute("width")||a.width),d=parseFloat(o.getAttribute("height")||a.height);isNaN(u)&&(u=null),isNaN(d)&&(d=null),parseAttributes(o,s,null,!0,!1);for(var f=o.firstChild;f;)this._parseNode(f,s,l,null,!1,!1),f=f.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var v,g;if(c){var y=splitNumberSequence(c);y.length>=4&&(v={x:parseFloat(y[0]||0),y:parseFloat(y[1]||0),width:parseFloat(y[2]),height:parseFloat(y[3])})}if(v&&u!=null&&d!=null&&(g=makeViewBoxTransform(v,{x:0,y:0,width:u,height:d}),!a.ignoreViewBox)){var _=s;s=new Group$3,s.add(_),_.scaleX=_.scaleY=g.scale,_.x=g.x,_.y=g.y}return!a.ignoreRootClip&&u!=null&&d!=null&&s.setClipPath(new Rect$2({shape:{x:0,y:0,width:u,height:d}})),{root:s,width:u,height:d,viewBoxRect:v,viewBoxTransform:g,named:l}},r.prototype._parseNode=function(n,a,o,s,l,c){var u=n.nodeName.toLowerCase(),d,f=s;if(u==="defs"&&(l=!0),u==="text"&&(c=!0),u==="defs"||u==="switch")d=a;else{if(!l){var v=nodeParsers[u];if(v&&hasOwn(nodeParsers,u)){d=v.call(this,n,a);var g=n.getAttribute("name");if(g){var y={name:g,namedFrom:null,svgNodeTagLower:u,el:d};o.push(y),u==="g"&&(f=y)}else s&&o.push({name:s.name,namedFrom:s,svgNodeTagLower:u,el:d});a.add(d)}}var _=paintServerParsers[u];if(_&&hasOwn(paintServerParsers,u)){var b=_.call(this,n),T=n.getAttribute("id");T&&(this._defs[T]=b)}}if(d&&d.isGroup)for(var C=n.firstChild;C;)C.nodeType===1?this._parseNode(C,d,o,f,l,c):C.nodeType===3&&c&&this._parseText(C,d),C=C.nextSibling},r.prototype._parseText=function(n,a){var o=new TSpan({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),applyTextAlignment(o,a);var s=o.style,l=s.fontSize;l&&l<9&&(s.fontSize=9,o.scaleX*=l/9,o.scaleY*=l/9);var c=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=c;var u=o.getBoundingRect();return this._textX+=u.width,a.add(o),o},r.internalField=function(){nodeParsers={g:function(n,a){var o=new Group$3;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o},rect:function(n,a){var o=new Rect$2;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(n,a){var o=new Circle;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),o.silent=!0,o},line:function(n,a){var o=new Line$1;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(n,a){var o=new Ellipse;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(n,a){var o=n.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polygon({shape:{points:s||[]},silent:!0});return inheritStyle(a,l),parseAttributes(n,l,this._defsUsePending,!1,!1),l},polyline:function(n,a){var o=n.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polyline$1({shape:{points:s||[]},silent:!0});return inheritStyle(a,l),parseAttributes(n,l,this._defsUsePending,!1,!1),l},image:function(n,a){var o=new ZRImage;return inheritStyle(a,o),parseAttributes(n,o,this._defsUsePending,!1,!1),o.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),o.silent=!0,o},text:function(n,a){var o=n.getAttribute("x")||"0",s=n.getAttribute("y")||"0",l=n.getAttribute("dx")||"0",c=n.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(l),this._textY=parseFloat(s)+parseFloat(c);var u=new Group$3;return inheritStyle(a,u),parseAttributes(n,u,this._defsUsePending,!1,!0),u},tspan:function(n,a){var o=n.getAttribute("x"),s=n.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),s!=null&&(this._textY=parseFloat(s));var l=n.getAttribute("dx")||"0",c=n.getAttribute("dy")||"0",u=new Group$3;return inheritStyle(a,u),parseAttributes(n,u,this._defsUsePending,!1,!0),this._textX+=parseFloat(l),this._textY+=parseFloat(c),u},path:function(n,a){var o=n.getAttribute("d")||"",s=createFromString(o);return inheritStyle(a,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.silent=!0,s}}}(),r}(),paintServerParsers={lineargradient:function(r){var n=parseInt(r.getAttribute("x1")||"0",10),a=parseInt(r.getAttribute("y1")||"0",10),o=parseInt(r.getAttribute("x2")||"10",10),s=parseInt(r.getAttribute("y2")||"0",10),l=new LinearGradient(n,a,o,s);return parsePaintServerUnit(r,l),parseGradientColorStops(r,l),l},radialgradient:function(r){var n=parseInt(r.getAttribute("cx")||"0",10),a=parseInt(r.getAttribute("cy")||"0",10),o=parseInt(r.getAttribute("r")||"0",10),s=new RadialGradient(n,a,o);return parsePaintServerUnit(r,s),parseGradientColorStops(r,s),s}};function parsePaintServerUnit(r,n){var a=r.getAttribute("gradientUnits");a==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(r,n){for(var a=r.firstChild;a;){if(a.nodeType===1&&a.nodeName.toLocaleLowerCase()==="stop"){var o=a.getAttribute("offset"),s=void 0;o&&o.indexOf("%")>0?s=parseInt(o,10)/100:o?s=parseFloat(o):s=0;var l={};parseInlineStyle(a,l,l);var c=l.stopColor||a.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:s,color:c})}a=a.nextSibling}}function inheritStyle(r,n){r&&r.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults(n.__inheritedStyle,r.__inheritedStyle))}function parsePoints(r){for(var n=splitNumberSequence(r),a=[],o=0;o<n.length;o+=2){var s=parseFloat(n[o]),l=parseFloat(n[o+1]);a.push([s,l])}return a}function parseAttributes(r,n,a,o,s){var l=n,c=l.__inheritedStyle=l.__inheritedStyle||{},u={};r.nodeType===1&&(parseTransformAttribute(r,n),parseInlineStyle(r,c,u),o||parseAttributeStyle(r,c,u)),l.style=l.style||{},c.fill!=null&&(l.style.fill=getFillStrokeStyle(l,"fill",c.fill,a)),c.stroke!=null&&(l.style.stroke=getFillStrokeStyle(l,"stroke",c.stroke,a)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){c[d]!=null&&(l.style[d]=parseFloat(c[d]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){c[d]!=null&&(l.style[d]=c[d])}),s&&(l.__selfStyle=u),c.lineDash&&(l.style.lineDash=map$1(splitNumberSequence(c.lineDash),function(d){return parseFloat(d)})),(c.visibility==="hidden"||c.visibility==="collapse")&&(l.invisible=!0),c.display==="none"&&(l.ignore=!0)}function applyTextAlignment(r,n){var a=n.__selfStyle;if(a){var o=a.textBaseline,s=o;!o||o==="auto"||o==="baseline"?s="alphabetic":o==="before-edge"||o==="text-before-edge"?s="top":o==="after-edge"||o==="text-after-edge"?s="bottom":(o==="central"||o==="mathematical")&&(s="middle"),r.style.textBaseline=s}var l=n.__inheritedStyle;if(l){var c=l.textAlign,u=c;c&&(c==="middle"&&(u="center"),r.style.textAlign=u)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(r,n,a,o){var s=a&&a.match(urlRegex);if(s){var l=trim$1(s[1]);o.push([r,n,l]);return}return a==="none"&&(a=null),a}function applyDefs(r,n){for(var a=0;a<n.length;a++){var o=n[a];o[0].style[o[1]]=r[o[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(r){return r.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(r,n){var a=r.getAttribute("transform");if(a){a=a.replace(/,/g," ");var o=[],s=null;a.replace(transformRegex,function(g,y,_){return o.push(y,_),""});for(var l=o.length-1;l>0;l-=2){var c=o[l],u=o[l-1],d=splitNumberSequence(c);switch(s=s||create$1(),u){case"translate":translate(s,s,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":scale$1(s,s,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":rotate(s,s,-parseFloat(d[0])*DEGREE_TO_ANGLE,[parseFloat(d[1]||"0"),parseFloat(d[2]||"0")]);break;case"skewX":var f=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,0,f,1,0,0],s);break;case"skewY":var v=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,v,0,1,0,0],s);break;case"matrix":s[0]=parseFloat(d[0]),s[1]=parseFloat(d[1]),s[2]=parseFloat(d[2]),s[3]=parseFloat(d[3]),s[4]=parseFloat(d[4]),s[5]=parseFloat(d[5]);break}}n.setLocalTransform(s)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(r,n,a){var o=r.getAttribute("style");if(o){styleRegex.lastIndex=0;for(var s;(s=styleRegex.exec(o))!=null;){var l=s[1],c=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,l)?INHERITABLE_STYLE_ATTRIBUTES_MAP[l]:null;c&&(n[c]=s[2]);var u=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,l)?SELF_STYLE_ATTRIBUTES_MAP[l]:null;u&&(a[u]=s[2])}}}function parseAttributeStyle(r,n,a){for(var o=0;o<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[o],l=r.getAttribute(s);l!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[s]]=l)}for(var o=0;o<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=SELF_STYLE_ATTRIBUTES_MAP_KEYS[o],l=r.getAttribute(s);l!=null&&(a[SELF_STYLE_ATTRIBUTES_MAP[s]]=l)}}function makeViewBoxTransform(r,n){var a=n.width/r.width,o=n.height/r.height,s=Math.min(a,o);return{scale:s,x:-(r.x+r.width/2)*s+(n.x+n.width/2),y:-(r.y+r.height/2)*s+(n.y+n.height/2)}}function parseSVG(r,n){var a=new SVGParser;return a.parse(r,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function r(n,a){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(a)}return r.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var a=createRegions(n.named),o=a.regions,s=a.regionsMap;this._regions=o,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(n){var a,o;try{a=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=a.root,assert(o!=null)}catch(C){throw new Error(`Invalid svg format
`+C.message)}var s=new Group$3;s.add(o),s.isGeoSVGGraphicRoot=!0;var l=a.width,c=a.height,u=a.viewBoxRect,d=this._boundingRect;if(!d){var f=void 0,v=void 0,g=void 0,y=void 0;if(l!=null?(f=0,g=l):u&&(f=u.x,g=u.width),c!=null?(v=0,y=c):u&&(v=u.y,y=u.height),f==null||v==null){var _=o.getBoundingRect();f==null&&(f=_.x,g=_.width),v==null&&(v=_.y,y=_.height)}d=this._boundingRect=new BoundingRect(f,v,g,y)}if(u){var b=makeViewBoxTransform(u,d);o.scaleX=o.scaleY=b.scale,o.x=b.x,o.y=b.y}s.setClipPath(new Rect$2({shape:d.plain()}));var T=[];return each$f(a.named,function(C){REGION_AVAILABLE_SVG_TAG_MAP.get(C.svgNodeTagLower)!=null&&(T.push(C),setSilent(C.el))}),{root:s,boundingRect:d,named:T}},r.prototype.useGraphic=function(n){var a=this._usedGraphicMap,o=a.get(n);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),a.set(n,o),o)},r.prototype.freeGraphic=function(n){var a=this._usedGraphicMap,o=a.get(n);o&&(a.removeKey(n),this._freedGraphics.push(o))},r}();function setSilent(r){r.silent=!1,r.isGroup&&r.traverse(function(n){n.silent=!1})}function createRegions(r){var n=[],a=createHashMap();return each$f(r,function(o){if(o.namedFrom==null){var s=new GeoSVGRegion(o.name,o.el);n.push(s),a.set(o.name,s)}}),{regions:n,regionsMap:a}}var geoCoord=[126,25],nanhaiName="南海诸岛",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(r,n){if(r==="china"){for(var a=0;a<n.length;a++)if(n[a].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(o){return{type:"polygon",exterior:o}}),geoCoord))}}var coordsOffsetMap={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function fixTextCoords(r,n){if(r==="china"){var a=coordsOffsetMap[n.name];if(a){var o=n.getCenter();o[0]+=a[0]/10.5,o[1]+=-a[1]/(10.5/.75),n.setCenter(o)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(r,n){r==="china"&&n.name==="台湾"&&n.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function r(n,a,o){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=o,this._geoJSON=parseInput(a)}return r.prototype.load=function(n,a){a=a||DEFAULT_NAME_PROPERTY;var o=this._parsedMap.get(a);if(!o){var s=this._parseToRegions(a);o=this._parsedMap.set(a,{regions:s,boundingRect:calculateBoundingRect(s)})}var l=createHashMap(),c=[];return each$f(o.regions,function(u){var d=u.name;n&&hasOwn(n,d)&&(u=u.cloneShallow(d=n[d])),c.push(u),l.set(d,u)}),{regions:c,boundingRect:o.boundingRect||new BoundingRect(0,0,0,0),regionsMap:l}},r.prototype._parseToRegions=function(n){var a=this._mapName,o=this._geoJSON,s;try{s=o?parseGeoJSON(o,n):[]}catch(l){throw new Error(`Invalid geoJson format
`+l.message)}return fixNanhai(a,s),each$f(s,function(l){var c=l.name;fixTextCoords(a,l),fixDiaoyuIsland(a,l);var u=this._specialAreas&&this._specialAreas[c];u&&l.transformTo(u.left,u.top,u.width,u.height)},this),s},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function calculateBoundingRect(r){for(var n,a=0;a<r.length;a++){var o=r[a].getBoundingRect();n=n||o.clone(),n.union(o)}return n}function parseInput(r){return isString(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var storage=createHashMap();const geoSourceManager={registerMap:function(r,n,a){if(n.svg){var o=new GeoSVGResource(r,n.svg);storage.set(r,o)}else{var s=n.geoJson||n.geoJSON;s&&!n.features?a=n.specialAreas:s=n;var o=new GeoJSONResource(r,s,a);storage.set(r,o)}},getGeoResource:function(r){return storage.get(r)},getMapForUser:function(r){var n=storage.get(r);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(r,n,a){var o=storage.get(r);if(o)return o.load(n,a)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(r){var n=r.getItemStyle(),a=r.get("areaColor");return a!=null&&(n.fill=a),n}function fixLineStyle(r){var n=r.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function r(n){var a=new Group$3;this.uid=getUID("ec_map_draw"),this._controller=new RoamController(n.getZr()),this._controllerHost={target:a},this.group=a,a.add(this._regionsGroup=new Group$3),a.add(this._svgGroup=new Group$3)}return r.prototype.draw=function(n,a,o,s,l){var c=n.mainType==="geo",u=n.getData&&n.getData();c&&a.eachComponent({mainType:"series",subType:"map"},function(P){!u&&P.getHostGeoModel()===n&&(u=P.getData())});var d=n.coordinateSystem,f=this._regionsGroup,v=this.group,g=d.getTransformInfo(),y=g.raw,_=g.roam,b=!f.childAt(0)||l;b?(v.x=_.x,v.y=_.y,v.scaleX=_.scaleX,v.scaleY=_.scaleY,v.dirty()):updateProps$1(v,_,n);var T=u&&u.getVisual("visualMeta")&&u.getVisual("visualMeta").length>0,C={api:o,geo:d,mapOrGeoModel:n,data:u,isVisualEncodedByVisualMap:T,isGeo:c,transformInfoRaw:y};d.resourceType==="geoJSON"?this._buildGeoJSON(C):d.resourceType==="geoSVG"&&this._buildSVG(C),this._updateController(n,a,o),this._updateMapSelectHandler(n,f,o,s)},r.prototype._buildGeoJSON=function(n){var a=this._regionsGroupByName=createHashMap(),o=createHashMap(),s=this._regionsGroup,l=n.transformInfoRaw,c=n.mapOrGeoModel,u=n.data,d=n.geo.projection,f=d&&d.stream;function v(_,b){return b&&(_=b(_)),_&&[_[0]*l.scaleX+l.x,_[1]*l.scaleY+l.y]}function g(_){for(var b=[],T=!f&&d&&d.project,C=0;C<_.length;++C){var P=v(_[C],T);P&&b.push(P)}return b}function y(_){return{shape:{points:g(_)}}}s.removeAll(),each$f(n.geo.regions,function(_){var b=_.name,T=a.get(b),C=o.get(b)||{},P=C.dataIdx,E=C.regionModel;if(!T){T=a.set(b,new Group$3),s.add(T),P=u?u.indexOfName(b):null,E=n.isGeo?c.getRegionModel(b):u?u.getItemModel(P):null;var M=E.get("silent",!0);M!=null&&(T.silent=M),o.set(b,{dataIdx:P,regionModel:E})}var I=[],L=[];each$f(_.geometries,function(B){if(B.type==="polygon"){var z=[B.exterior].concat(B.interiors||[]);f&&(z=projectPolys(z,f)),each$f(z,function(H){I.push(new Polygon(y(H)))})}else{var G=B.points;f&&(G=projectPolys(G,f,!0)),each$f(G,function(H){L.push(new Polyline$1(y(H)))})}});var N=v(_.getCenter(),d&&d.project);function V(B,z){if(B.length){var G=new CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:B}});T.add(G),applyOptionStyleForRegion(n,G,P,E),resetLabelForRegion(n,G,b,E,c,P,N),z&&(fixLineStyle(G),each$f(G.states,fixLineStyle))}}V(I),V(L,!0)}),a.each(function(_,b){var T=o.get(b),C=T.dataIdx,P=T.regionModel;resetEventTriggerForRegion(n,_,b,P,c,C),resetTooltipForRegion(n,_,b,P,c),resetStateTriggerForRegion(n,_,b,P,c)},this)},r.prototype._buildSVG=function(n){var a=n.geo.map,o=n.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(a)&&(this._freeSVG(),this._useSVG(a));var s=this._svgDispatcherMap=createHashMap(),l=!1;each$f(this._svgGraphicRecord.named,function(c){var u=c.name,d=n.mapOrGeoModel,f=n.data,v=c.svgNodeTagLower,g=c.el,y=f?f.indexOfName(u):null,_=d.getRegionModel(u);OPTION_STYLE_ENABLED_TAG_MAP.get(v)!=null&&g instanceof Displayable&&applyOptionStyleForRegion(n,g,y,_),g instanceof Displayable&&(g.culling=!0);var b=_.get("silent",!0);if(b!=null&&(g.silent=b),g.z2EmphasisLift=0,!c.namedFrom&&(LABEL_HOST_MAP.get(v)!=null&&resetLabelForRegion(n,g,u,_,d,y,null),resetEventTriggerForRegion(n,g,u,_,d,y),resetTooltipForRegion(n,g,u,_,d),STATE_TRIGGER_TAG_MAP.get(v)!=null)){var T=resetStateTriggerForRegion(n,g,u,_,d);T==="self"&&(l=!0);var C=s.get(u)||s.set(u,[]);C.push(g)}},this),this._enableBlurEntireSVG(l,n)},r.prototype._enableBlurEntireSVG=function(n,a){if(n&&a.isGeo){var o=a.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),s=o.opacity;this._svgGraphicRecord.root.traverse(function(l){if(!l.isGroup){setDefaultStateProxy(l);var c=l.ensureState("blur").style||{};c.opacity==null&&s!=null&&(c.opacity=s),l.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(n,a){if(n==null)return[];var o=a.coordinateSystem;if(o.resourceType==="geoJSON"){var s=this._regionsGroupByName;if(s){var l=s.get(n);return l?[l]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},r.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},r.prototype._useSVG=function(n){var a=geoSourceManager.getGeoResource(n);if(a&&a.type==="geoSVG"){var o=a.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=n}},r.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var a=geoSourceManager.getGeoResource(n);a&&a.type==="geoSVG"&&a.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(n,a,o){var s=n.coordinateSystem,l=this._controller,c=this._controllerHost;c.zoomLimit=n.get("scaleLimit"),c.zoom=s.getZoom(),l.enable(n.get("roam")||!1);var u=n.mainType;function d(){var f={type:"geoRoam",componentType:u};return f[u+"Id"]=n.id,f}l.off("pan").on("pan",function(f){this._mouseDownFlag=!1,updateViewOnPan(c,f.dx,f.dy),o.dispatchAction(extend(d(),{dx:f.dx,dy:f.dy,animation:{duration:0}}))},this),l.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,updateViewOnZoom(c,f.scale,f.originX,f.originY),o.dispatchAction(extend(d(),{totalZoom:c.zoom,zoom:f.scale,originX:f.originX,originY:f.originY,animation:{duration:0}}))},this),l.setPointerChecker(function(f,v,g){return s.containPoint([v,g])&&!onIrrelevantElement(f,o,n)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var a=n.getTextContent();a&&(a.ignore=mapLabelRaw(a).ignore)})},r.prototype._updateMapSelectHandler=function(n,a,o,s){var l=this;a.off("mousedown"),a.off("click"),n.get("selectedMode")&&(a.on("mousedown",function(){l._mouseDownFlag=!0}),a.on("click",function(c){l._mouseDownFlag&&(l._mouseDownFlag=!1)}))},r}();function applyOptionStyleForRegion(r,n,a,o){var s=o.getModel("itemStyle"),l=o.getModel(["emphasis","itemStyle"]),c=o.getModel(["blur","itemStyle"]),u=o.getModel(["select","itemStyle"]),d=getFixedItemStyle(s),f=getFixedItemStyle(l),v=getFixedItemStyle(u),g=getFixedItemStyle(c),y=r.data;if(y){var _=y.getItemVisual(a,"style"),b=y.getItemVisual(a,"decal");r.isVisualEncodedByVisualMap&&_.fill&&(d.fill=_.fill),b&&(d.decal=createOrUpdatePatternFromDecal(b,r.api))}n.setStyle(d),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=f,n.ensureState("select").style=v,n.ensureState("blur").style=g,setDefaultStateProxy(n)}function resetLabelForRegion(r,n,a,o,s,l,c){var u=r.data,d=r.isGeo,f=u&&isNaN(u.get(u.mapDimension("value"),l)),v=u&&u.getItemLayout(l);if(d||f||v&&v.showLabel){var g=d?a:l,y=void 0;(!u||l>=0)&&(y=s);var _=c?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels(o),{labelFetcher:y,labelDataIndex:g,defaultText:a},_);var b=n.getTextContent();if(b&&(mapLabelRaw(b).ignore=b.ignore,n.textConfig&&c)){var T=n.getBoundingRect().clone();n.textConfig.layoutRect=T,n.textConfig.position=[(c[0]-T.x)/T.width*100+"%",(c[1]-T.y)/T.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(r,n,a,o,s,l){r.data?r.data.setItemGraphicEl(l,n):getECData(n).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:a,region:o&&o.option||{}}}function resetTooltipForRegion(r,n,a,o,s){r.data||setTooltipConfig({el:n,componentModel:s,itemName:a,itemTooltipOption:o.get("tooltip")})}function resetStateTriggerForRegion(r,n,a,o,s){n.highDownSilentOnTouch=!!s.get("selectedMode");var l=o.getModel("emphasis"),c=l.get("focus");return toggleHoverEmphasis(n,c,l.get("blurScope"),l.get("disabled")),r.isGeo&&enableComponentHighDownFeatures(n,s,a),c}function projectPolys(r,n,a){var o=[],s;function l(){s=[]}function c(){s.length&&(o.push(s),s=[])}var u=n({polygonStart:l,polygonEnd:c,lineStart:l,lineEnd:c,point:function(d,f){isFinite(d)&&isFinite(f)&&s.push([d,f])},sphere:function(){}});return!a&&u.polygonStart(),each$f(r,function(d){u.lineStart();for(var f=0;f<d.length;f++)u.point(d[f][0],d[f][1]);u.lineEnd()}),!a&&u.polygonEnd(),o}var MapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var c=this.group;if(c.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&l&&l.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===a.id){var u=this._mapDraw;u&&c.add(u.group)}else if(a.needsDrawMap){var u=this._mapDraw||new MapDraw(s);c.add(u.group),u.draw(a,o,s,this,l),this._mapDraw=u}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(a,o,s)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(a,o,s){var l=a.originalData,c=this.group;l.each(l.mapDimension("value"),function(u,d){if(!isNaN(u)){var f=l.getItemLayout(d);if(!(!f||!f.point)){var v=f.point,g=f.offset,y=new Circle({style:{fill:a.getData().getVisual("style").fill},shape:{cx:v[0]+g*9,cy:v[1],r:3},silent:!0,z2:8+(g?0:Z2_EMPHASIS_LIFT+1)});if(!g){var _=a.mainSeries.getData(),b=l.getName(d),T=_.indexOfName(b),C=l.getItemModel(d),P=C.getModel("label"),E=_.getItemGraphicEl(T);setLabelStyle(y,getLabelStatesModels(C),{labelFetcher:{getFormattedLabel:function(M,I){return a.getFormattedLabel(T,I)}},defaultText:b}),y.disableLabelAnimation=!0,P.get("position")||y.setTextConfig({position:"bottom"}),E.onHoverStateChange=function(M){setStatesFlag(y,M)}}c.add(y)}}})},n.type="map",n}(ChartView),MapSeries=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(o){if(o!=null){var s=this.getData().getName(o),l=this.coordinateSystem,c=l.getRegion(s);return c&&l.dataToPoint(c.getCenter())}},a}return n.prototype.getInitialData=function(a){for(var o=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),s=createHashMap(),l=[],c=0,u=o.count();c<u;c++){var d=o.getName(c);s.set(d,c)}var f=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(f.regions,function(v){var g=v.name,y=s.get(g),_=v.properties&&v.properties.echartsStyle,b;y==null?(b={name:g},l.push(b)):b=o.getRawDataItem(y),_&&merge(b,_)}),o.appendData(l),o},n.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return a!=null?this.ecModel.getComponent("geo",a):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(a){var o=this.getData();return o.get(o.mapDimension("value"),a)},n.prototype.getRegionModel=function(a){var o=this.getData();return o.getItemModel(o.indexOfName(a))},n.prototype.formatTooltip=function(a,o,s){for(var l=this.getData(),c=this.getRawValue(a),u=l.getName(a),d=this.seriesGroup,f=[],v=0;v<d.length;v++){var g=d[v].originalData.indexOfName(u),y=l.mapDimension("value");isNaN(d[v].originalData.get(y,g))||f.push(d[v].name)}return createTooltipMarkup("section",{header:f.join(", "),noHeader:!f.length,blocks:[createTooltipMarkup("nameValue",{name:u,value:c})]})},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.getLegendIcon=function(a){var o=a.icon||"roundRect",s=createSymbol$1(o,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return s.setStyle(a.itemStyle),s.style.stroke="none",o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel);function dataStatistics(r,n){var a={};return each$f(r,function(o){o.each(o.mapDimension("value"),function(s,l){var c="ec-"+o.getName(l);a[c]=a[c]||[],isNaN(s)||a[c].push(s)})}),r[0].map(r[0].mapDimension("value"),function(o,s){for(var l="ec-"+r[0].getName(s),c=0,u=1/0,d=-1/0,f=a[l].length,v=0;v<f;v++)u=Math.min(u,a[l][v]),d=Math.max(d,a[l][v]),c+=a[l][v];var g;return n==="min"?g=u:n==="max"?g=d:n==="average"?g=c/f:g=c,f===0?NaN:g})}function mapDataStatistic(r){var n={};r.eachSeriesByType("map",function(a){var o=a.getHostGeoModel(),s=o?"o"+o.id:"i"+a.getMapType();(n[s]=n[s]||[]).push(a)}),each$f(n,function(a,o){for(var s=dataStatistics(map$1(a,function(c){return c.getData()}),a[0].get("mapValueCalculation")),l=0;l<a.length;l++)a[l].originalData=a[l].getData();for(var l=0;l<a.length;l++)a[l].seriesGroup=a,a[l].needsDrawMap=l===0&&!a[l].getHostGeoModel(),a[l].setData(s.cloneShallow()),a[l].mainSeries=a[0]})}function mapSymbolLayout(r){var n={};r.eachSeriesByType("map",function(a){var o=a.getMapType();if(!(a.getHostGeoModel()||n[o])){var s={};each$f(a.seriesGroup,function(c){var u=c.coordinateSystem,d=c.originalData;c.get("showLegendSymbol")&&r.getComponent("legend")&&d.each(d.mapDimension("value"),function(f,v){var g=d.getName(v),y=u.getRegion(g);if(!(!y||isNaN(f))){var _=s[g]||0,b=u.dataToPoint(y.getCenter());s[g]=_+1,d.setItemLayout(v,{point:b,offset:_})}})});var l=a.getData();l.each(function(c){var u=l.getName(c),d=l.getItemLayout(c)||{};d.showLabel=!s[u],l.setItemLayout(c,d)}),n[o]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Transformable,o._rawTransformable=new Transformable,o.name=a,o}return n.prototype.setBoundingRect=function(a,o,s,l){return this._rect=new BoundingRect(a,o,s,l),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(a,o,s,l){this._transformTo(a,o,s,l),this._viewRect=new BoundingRect(a,o,s,l)},n.prototype._transformTo=function(a,o,s,l){var c=this.getBoundingRect(),u=this._rawTransformable;u.transform=c.calculateTransform(new BoundingRect(a,o,s,l));var d=u.parent;u.parent=null,u.decomposeTransform(),u.parent=d,this._updateTransform()},n.prototype.setCenter=function(a,o){a&&(this._center=[parsePercent(a[0],o.getWidth()),parsePercent(a[1],o.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(a){a=a||1;var o=this.zoomLimit;o&&(o.max!=null&&(a=Math.min(o.max,a)),o.min!=null&&(a=Math.max(o.min,a))),this._zoom=a,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var a=this.getBoundingRect(),o=a.x+a.width/2,s=a.y+a.height/2;return[o,s]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var a=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,s=this.getDefaultCenter(),l=this.getCenter(),c=this.getZoom();l=applyTransform$1([],l,a),s=applyTransform$1([],s,a),o.originX=l[0],o.originY=l[1],o.x=s[0]-l[0],o.y=s[1]-l[1],o.scaleX=o.scaleY=c,this._updateTransform()},n.prototype._updateTransform=function(){var a=this._roamTransformable,o=this._rawTransformable;o.parent=a,a.updateTransform(),o.updateTransform(),copy(this.transform||(this.transform=[]),o.transform||create$1()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var a=this._rawTransformable,o=this._roamTransformable,s=new Transformable;return s.transform=o.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},n.prototype.dataToPoint=function(a,o,s){var l=o?this._rawTransform:this.transform;return s=s||[],l?v2ApplyTransform(s,a,l):copy$1(s,a)},n.prototype.pointToData=function(a){var o=this.invTransform;return o?v2ApplyTransform([],a,o):[a[0],a[1]]},n.prototype.convertToPixel=function(a,o,s){var l=getCoordSys$4(o);return l===this?l.dataToPoint(s):null},n.prototype.convertFromPixel=function(a,o,s){var l=getCoordSys$4(o);return l===this?l.pointToData(s):null},n.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},n.dimensions=["x","y"],n}(Transformable);function getCoordSys$4(r){var n=r.seriesModel;return n?n.coordinateSystem:null}var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this,a)||this;l.dimensions=geo2DDimensions,l.type="geo",l._nameCoordMap=createHashMap(),l.map=o;var c=s.projection,u=geoSourceManager.load(o,s.nameMap,s.nameProperty),d=geoSourceManager.getGeoResource(o);l.resourceType=d?d.type:null;var f=l.regions=u.regions,v=GEO_DEFAULT_PARAMS[d.type];l._regionsMap=u.regionsMap,l.regions=u.regions,l.projection=c;var g;if(c)for(var y=0;y<f.length;y++){var _=f[y].getBoundingRect(c);g=g||_.clone(),g.union(_)}else g=u.boundingRect;return l.setBoundingRect(g.x,g.y,g.width,g.height),l.aspectScale=c?1:retrieve2(s.aspectScale,v.aspectScale),l._invertLongitute=c?!1:v.invertLongitute,l}return n.prototype._transformTo=function(a,o,s,l){var c=this.getBoundingRect(),u=this._invertLongitute;c=c.clone(),u&&(c.y=-c.y-c.height);var d=this._rawTransformable;d.transform=c.calculateTransform(new BoundingRect(a,o,s,l));var f=d.parent;d.parent=null,d.decomposeTransform(),d.parent=f,u&&(d.scaleY=-d.scaleY),this._updateTransform()},n.prototype.getRegion=function(a){return this._regionsMap.get(a)},n.prototype.getRegionByCoord=function(a){for(var o=this.regions,s=0;s<o.length;s++){var l=o[s];if(l.type==="geoJSON"&&l.contain(a))return o[s]}},n.prototype.addGeoCoord=function(a,o){this._nameCoordMap.set(a,o)},n.prototype.getGeoCoord=function(a){var o=this._regionsMap.get(a);return this._nameCoordMap.get(a)||o&&o.getCenter()},n.prototype.dataToPoint=function(a,o,s){if(isString(a)&&(a=this.getGeoCoord(a)),a){var l=this.projection;return l&&(a=l.project(a)),a&&this.projectedToPoint(a,o,s)}},n.prototype.pointToData=function(a){var o=this.projection;return o&&(a=o.unproject(a)),a&&this.pointToProjected(a)},n.prototype.pointToProjected=function(a){return r.prototype.pointToData.call(this,a)},n.prototype.projectedToPoint=function(a,o,s){return r.prototype.dataToPoint.call(this,a,o,s)},n.prototype.convertToPixel=function(a,o,s){var l=getCoordSys$3(o);return l===this?l.dataToPoint(s):null},n.prototype.convertFromPixel=function(a,o,s){var l=getCoordSys$3(o);return l===this?l.pointToData(s):null},n}(View);mixin(Geo,View);function getCoordSys$3(r){var n=r.geoModel,a=r.seriesModel;return n?n.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}function resizeGeo(r,n){var a=r.get("boundingCoords");if(a!=null){var o=a[0],s=a[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])){var l=this.projection;if(l){var c=o[0],u=o[1],d=s[0],f=s[1];o=[1/0,1/0],s=[-1/0,-1/0];var v=function(N,V,B,z){for(var G=B-N,H=z-V,W=0;W<=100;W++){var j=W/100,X=l.project([N+G*j,V+H*j]);min$1(o,o,X),max$1(s,s,X)}};v(c,u,d,u),v(d,u,d,f),v(d,f,c,f),v(c,f,d,u)}this.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1])}}var g=this.getBoundingRect(),y=r.get("layoutCenter"),_=r.get("layoutSize"),b=n.getWidth(),T=n.getHeight(),C=g.width/g.height*this.aspectScale,P=!1,E,M;y&&_&&(E=[parsePercent(y[0],b),parsePercent(y[1],T)],M=parsePercent(_,Math.min(b,T)),!isNaN(E[0])&&!isNaN(E[1])&&!isNaN(M)&&(P=!0));var I;if(P)I={},C>1?(I.width=M,I.height=M/C):(I.height=M,I.width=M*C),I.y=E[1]-I.height/2,I.x=E[0]-I.width/2;else{var L=r.getBoxLayoutParams();L.aspect=C,I=getLayoutRect(L,{width:b,height:T})}this.setViewRect(I.x,I.y,I.width,I.height),this.setCenter(r.get("center"),n),this.setZoom(r.get("zoom"))}function setGeoCoords(r,n){each$f(n.get("geoCoord"),function(a,o){r.addGeoCoord(o,a)})}var GeoCreator=function(){function r(){this.dimensions=geo2DDimensions}return r.prototype.create=function(n,a){var o=[];function s(c){return{nameProperty:c.get("nameProperty"),aspectScale:c.get("aspectScale"),projection:c.get("projection")}}n.eachComponent("geo",function(c,u){var d=c.get("map"),f=new Geo(d+u,d,extend({nameMap:c.get("nameMap")},s(c)));f.zoomLimit=c.get("scaleLimit"),o.push(f),c.coordinateSystem=f,f.model=c,f.resize=resizeGeo,f.resize(c,a)}),n.eachSeries(function(c){var u=c.get("coordinateSystem");if(u==="geo"){var d=c.get("geoIndex")||0;c.coordinateSystem=o[d]}});var l={};return n.eachSeriesByType("map",function(c){if(!c.getHostGeoModel()){var u=c.getMapType();l[u]=l[u]||[],l[u].push(c)}}),each$f(l,function(c,u){var d=map$1(c,function(v){return v.get("nameMap")}),f=new Geo(u,u,extend({nameMap:mergeAll(d)},s(c[0])));f.zoomLimit=retrieve.apply(null,map$1(c,function(v){return v.get("scaleLimit")})),o.push(f),f.resize=resizeGeo,f.resize(c[0],a),each$f(c,function(v){v.coordinateSystem=f,setGeoCoords(f,v)})}),o},r.prototype.getFilledRegions=function(n,a,o,s){for(var l=(n||[]).slice(),c=createHashMap(),u=0;u<l.length;u++)c.set(l[u].name,l[u]);var d=geoSourceManager.load(a,o,s);return each$f(d.regions,function(f){var v=f.name,g=c.get(v),y=f.properties&&f.properties.echartsStyle;g||(g={name:v},l.push(g)),y&&merge(g,y)}),l},r}(),geoCreator=new GeoCreator,GeoModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o,s){var l=geoSourceManager.getGeoResource(a.map);if(l&&l.type==="geoJSON"){var c=a.itemStyle=a.itemStyle||{};"color"in c||(c.color="#eee")}this.mergeDefaultAndTheme(a,s),defaultEmphasis(a,"label",["show"])},n.prototype.optionUpdated=function(){var a=this,o=this.option;o.regions=geoCreator.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var s={};this._optionModelMap=reduce(o.regions||[],function(l,c){var u=c.name;return u&&(l.set(u,new Model(c,a,a.ecModel)),c.selected&&(s[u]=!0)),l},createHashMap()),o.selectedMap||(o.selectedMap=s)},n.prototype.getRegionModel=function(a){return this._optionModelMap.get(a)||new Model(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(a,o){var s=this.getRegionModel(a),l=o==="normal"?s.get(["label","formatter"]):s.get(["emphasis","label","formatter"]),c={name:a};if(isFunction(l))return c.status=o,l(c);if(isString(l))return l.replace("{a}",a??"")},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.select=function(a){var o=this.option,s=o.selectedMode;if(s){s!=="multiple"&&(o.selectedMap=null);var l=o.selectedMap||(o.selectedMap={});l[a]=!0}},n.prototype.unSelect=function(a){var o=this.option.selectedMap;o&&(o[a]=!1)},n.prototype.toggleSelected=function(a){this[this.isSelected(a)?"unSelect":"select"](a)},n.prototype.isSelected=function(a){var o=this.option.selectedMap;return!!(o&&o[a])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel);function getCenterCoord(r,n){return r.pointToProjected?r.pointToProjected(n):r.pointToData(n)}function updateCenterAndZoom(r,n,a,o){var s=r.getZoom(),l=r.getCenter(),c=n.zoom,u=r.projectedToPoint?r.projectedToPoint(l):r.dataToPoint(l);if(n.dx!=null&&n.dy!=null&&(u[0]-=n.dx,u[1]-=n.dy,r.setCenter(getCenterCoord(r,u),o)),c!=null){if(a){var d=a.min||0,f=a.max||1/0;c=Math.max(Math.min(s*c,f),d)/s}r.scaleX*=c,r.scaleY*=c;var v=(n.originX-r.x)*(c-1),g=(n.originY-r.y)*(c-1);r.x-=v,r.y-=g,r.updateTransform(),r.setCenter(getCenterCoord(r,u),o),r.setZoom(c*s)}return{center:r.getCenter(),zoom:r.getZoom()}}var GeoView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.focusBlurEnabled=!0,a}return n.prototype.init=function(a,o){this._api=o},n.prototype.render=function(a,o,s,l){if(this._model=a,!a.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw(s));var c=this._mapDraw;c.draw(a,o,s,this,l),c.group.on("click",this._handleRegionClick,this),c.group.silent=a.get("silent"),this.group.add(c.group),this.updateSelectStatus(a,o,s)},n.prototype._handleRegionClick=function(a){var o;findEventDispatcher(a.target,function(s){return(o=getECData(s).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},n.prototype.updateSelectStatus=function(a,o,s){var l=this;this._mapDraw.group.traverse(function(c){var u=getECData(c).eventData;if(u)return l._model.isSelected(u.name)?s.enterSelect(c):s.leaveSelect(c),!0})},n.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView);function registerMap(r,n,a){geoSourceManager.registerMap(r,n,a)}function install$J(r){r.registerCoordinateSystem("geo",geoCreator),r.registerComponentModel(GeoModel),r.registerComponentView(GeoView),r.registerImpl("registerMap",registerMap),r.registerImpl("getMap",function(a){return geoSourceManager.getMapForUser(a)});function n(a,o){o.update="geo:updateSelectStatus",r.registerAction(o,function(s,l){var c={},u=[];return l.eachComponent({mainType:"geo",query:s},function(d){d[a](s.name);var f=d.coordinateSystem;each$f(f.regions,function(g){c[g.name]=d.isSelected(g.name)||!1});var v=[];each$f(c,function(g,y){c[y]&&v.push(y)}),u.push({geoIndex:d.componentIndex,name:v})}),{selected:c,allSelected:u,name:s.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,o,s){var l=a.componentType||"series";o.eachComponent({mainType:l,query:a},function(c){var u=c.coordinateSystem;if(u.type==="geo"){var d=updateCenterAndZoom(u,a,c.get("scaleLimit"),s);c.setCenter&&c.setCenter(d.center),c.setZoom&&c.setZoom(d.zoom),l==="series"&&each$f(c.seriesGroup,function(f){f.setCenter(d.center),f.setZoom(d.zoom)})}})})}function install$I(r){use(install$J),r.registerChartView(MapView),r.registerSeriesModel(MapSeries),r.registerLayout(mapSymbolLayout),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",r.registerAction)}function init(r){var n=r;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var a=[n],o,s;o=a.pop();)if(s=o.children,o.isExpand&&s.length)for(var l=s.length,c=l-1;c>=0;c--){var u=s[c];u.hierNode={defaultAncestor:null,ancestor:u,prelim:0,modifier:0,change:0,shift:0,i:c,thread:null},a.push(u)}}function firstWalk(r,n){var a=r.isExpand?r.children:[],o=r.parentNode.children,s=r.hierNode.i?o[r.hierNode.i-1]:null;if(a.length){executeShifts(r);var l=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;s?(r.hierNode.prelim=s.hierNode.prelim+n(r,s),r.hierNode.modifier=r.hierNode.prelim-l):r.hierNode.prelim=l}else s&&(r.hierNode.prelim=s.hierNode.prelim+n(r,s));r.parentNode.hierNode.defaultAncestor=apportion(r,s,r.parentNode.hierNode.defaultAncestor||o[0],n)}function secondWalk(r){var n=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:n},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function separation(r){return arguments.length?r:defaultSeparation}function radialCoordinate(r,n){return r-=Math.PI/2,{x:n*Math.cos(r),y:n*Math.sin(r)}}function getViewRect$4(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(r){for(var n=r.children,a=n.length,o=0,s=0;--a>=0;){var l=n[a];l.hierNode.prelim+=o,l.hierNode.modifier+=o,s+=l.hierNode.change,o+=l.hierNode.shift+s}}function apportion(r,n,a,o){if(n){for(var s=r,l=r,c=l.parentNode.children[0],u=n,d=s.hierNode.modifier,f=l.hierNode.modifier,v=c.hierNode.modifier,g=u.hierNode.modifier;u=nextRight(u),l=nextLeft(l),u&&l;){s=nextRight(s),c=nextLeft(c),s.hierNode.ancestor=r;var y=u.hierNode.prelim+g-l.hierNode.prelim-f+o(u,l);y>0&&(moveSubtree(nextAncestor(u,r,a),r,y),f+=y,d+=y),g+=u.hierNode.modifier,f+=l.hierNode.modifier,d+=s.hierNode.modifier,v+=c.hierNode.modifier}u&&!nextRight(s)&&(s.hierNode.thread=u,s.hierNode.modifier+=g-d),l&&!nextLeft(c)&&(c.hierNode.thread=l,c.hierNode.modifier+=f-v,a=r)}return a}function nextRight(r){var n=r.children;return n.length&&r.isExpand?n[n.length-1]:r.hierNode.thread}function nextLeft(r){var n=r.children;return n.length&&r.isExpand?n[0]:r.hierNode.thread}function nextAncestor(r,n,a){return r.hierNode.ancestor.parentNode===n.parentNode?r.hierNode.ancestor:a}function moveSubtree(r,n,a){var o=a/(n.hierNode.i-r.hierNode.i);n.hierNode.change-=o,n.hierNode.shift+=a,n.hierNode.modifier+=a,n.hierNode.prelim+=a,r.hierNode.change+=o}function defaultSeparation(r,n){return r.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),TreePath=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(a,o){var s=o.childPoints,l=s.length,c=o.parentPoint,u=s[0],d=s[l-1];if(l===1){a.moveTo(c[0],c[1]),a.lineTo(u[0],u[1]);return}var f=o.orient,v=f==="TB"||f==="BT"?0:1,g=1-v,y=parsePercent(o.forkPosition,1),_=[];_[v]=c[v],_[g]=c[g]+(d[g]-c[g])*y,a.moveTo(c[0],c[1]),a.lineTo(_[0],_[1]),a.moveTo(u[0],u[1]),_[v]=u[v],a.lineTo(_[0],_[1]),_[v]=d[v],a.lineTo(_[0],_[1]),a.lineTo(d[0],d[1]);for(var b=1;b<l-1;b++){var T=s[b];a.moveTo(T[0],T[1]),_[v]=T[v],a.lineTo(_[0],_[1])}},n}(Path),TreeView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._mainGroup=new Group$3,a}return n.prototype.init=function(a,o){this._controller=new RoamController(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(a,o,s){var l=a.getData(),c=a.layoutInfo,u=this._mainGroup,d=a.get("layout");d==="radial"?(u.x=c.x+c.width/2,u.y=c.y+c.height/2):(u.x=c.x,u.y=c.y),this._updateViewCoordSys(a,s),this._updateController(a,o,s);var f=this._data;l.diff(f).add(function(v){symbolNeedsDraw(l,v)&&updateNode(l,v,null,u,a)}).update(function(v,g){var y=f.getItemGraphicEl(g);if(!symbolNeedsDraw(l,v)){y&&removeNode(f,g,y,u,a);return}updateNode(l,v,y,u,a)}).remove(function(v){var g=f.getItemGraphicEl(v);g&&removeNode(f,v,g,u,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),a.get("expandAndCollapse")===!0&&l.eachItemGraphicEl(function(v,g){v.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:g})})}),this._data=l},n.prototype._updateViewCoordSys=function(a,o){var s=a.getData(),l=[];s.each(function(g){var y=s.getItemLayout(g);y&&!isNaN(y.x)&&!isNaN(y.y)&&l.push([+y.x,+y.y])});var c=[],u=[];fromPoints(l,c,u);var d=this._min,f=this._max;u[0]-c[0]===0&&(c[0]=d?d[0]:c[0]-1,u[0]=f?f[0]:u[0]+1),u[1]-c[1]===0&&(c[1]=d?d[1]:c[1]-1,u[1]=f?f[1]:u[1]+1);var v=a.coordinateSystem=new View;v.zoomLimit=a.get("scaleLimit"),v.setBoundingRect(c[0],c[1],u[0]-c[0],u[1]-c[1]),v.setCenter(a.get("center"),o),v.setZoom(a.get("zoom")),this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY}),this._min=c,this._max=u},n.prototype._updateController=function(a,o,s){var l=this,c=this._controller,u=this._controllerHost,d=this.group;c.setPointerChecker(function(f,v,g){var y=d.getBoundingRect();return y.applyTransform(d.transform),y.contain(v,g)&&!onIrrelevantElement(f,s,a)}),c.enable(a.get("roam")),u.zoomLimit=a.get("scaleLimit"),u.zoom=a.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(f){updateViewOnPan(u,f.dx,f.dy),s.dispatchAction({seriesId:a.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){updateViewOnZoom(u,f.scale,f.originX,f.originY),s.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),l._updateNodeAndLinkScale(a),s.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(a){var o=a.getData(),s=this._getNodeGlobalScale(a);o.eachItemGraphicEl(function(l,c){l.setSymbolScale(s)})},n.prototype._getNodeGlobalScale=function(a){var o=a.coordinateSystem;if(o.type!=="view")return 1;var s=this._nodeScaleRatio,l=o.scaleX||1,c=o.getZoom(),u=(c-1)*s+1;return u/l},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView);function symbolNeedsDraw(r,n){var a=r.getItemLayout(n);return a&&!isNaN(a.x)&&!isNaN(a.y)}function updateNode(r,n,a,o,s){var l=!a,c=r.tree.getNodeByDataIndex(n),u=c.getModel(),d=c.getVisual("style").fill,f=c.isExpand===!1&&c.children.length!==0?d:"#fff",v=r.tree.root,g=c.parentNode===v?c:c.parentNode||c,y=r.getItemGraphicEl(g.dataIndex),_=g.getLayout(),b=y?{x:y.__oldX,y:y.__oldY,rawX:y.__radialOldRawX,rawY:y.__radialOldRawY}:_,T=c.getLayout();l?(a=new Symbol$1(r,n,null,{symbolInnerColor:f,useNameLabel:!0}),a.x=b.x,a.y=b.y):a.updateData(r,n,null,{symbolInnerColor:f,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=T.rawX,a.__radialRawY=T.rawY,o.add(a),r.setItemGraphicEl(n,a),a.__oldX=a.x,a.__oldY=a.y,updateProps$1(a,{x:T.x,y:T.y},s);var C=a.getSymbolPath();if(s.get("layout")==="radial"){var P=v.children[0],E=P.getLayout(),M=P.children.length,I=void 0,L=void 0;if(T.x===E.x&&c.isExpand===!0&&P.children.length){var N={x:(P.children[0].getLayout().x+P.children[M-1].getLayout().x)/2,y:(P.children[0].getLayout().y+P.children[M-1].getLayout().y)/2};I=Math.atan2(N.y-E.y,N.x-E.x),I<0&&(I=Math.PI*2+I),L=N.x<E.x,L&&(I=I-Math.PI)}else I=Math.atan2(T.y-E.y,T.x-E.x),I<0&&(I=Math.PI*2+I),c.children.length===0||c.children.length!==0&&c.isExpand===!1?(L=T.x<E.x,L&&(I=I-Math.PI)):(L=T.x>E.x,L||(I=I-Math.PI));var V=L?"left":"right",B=u.getModel("label"),z=B.get("rotate"),G=z*(Math.PI/180),H=C.getTextContent();H&&(C.setTextConfig({position:B.get("position")||V,rotation:z==null?-I:G,origin:"center"}),H.setStyle("verticalAlign","middle"))}var W=u.get(["emphasis","focus"]),j=W==="relative"?concatArray(c.getAncestorsIndices(),c.getDescendantIndices()):W==="ancestor"?c.getAncestorsIndices():W==="descendant"?c.getDescendantIndices():null;j&&(getECData(a).focus=j),drawEdge(s,c,v,a,b,_,T,o),a.__edge&&(a.onHoverStateChange=function(X){if(X!=="blur"){var Z=c.parentNode&&r.getItemGraphicEl(c.parentNode.dataIndex);Z&&Z.hoverState===HOVER_STATE_BLUR||setStatesFlag(a.__edge,X)}})}function drawEdge(r,n,a,o,s,l,c,u){var d=n.getModel(),f=r.get("edgeShape"),v=r.get("layout"),g=r.getOrient(),y=r.get(["lineStyle","curveness"]),_=r.get("edgeForkPosition"),b=d.getModel("lineStyle").getLineStyle(),T=o.__edge;if(f==="curve")n.parentNode&&n.parentNode!==a&&(T||(T=o.__edge=new BezierCurve({shape:getEdgeShape(v,g,y,s,s)})),updateProps$1(T,{shape:getEdgeShape(v,g,y,l,c)},r));else if(f==="polyline"&&v==="orthogonal"&&n!==a&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var C=n.children,P=[],E=0;E<C.length;E++){var M=C[E].getLayout();P.push([M.x,M.y])}T||(T=o.__edge=new TreePath({shape:{parentPoint:[c.x,c.y],childPoints:[[c.x,c.y]],orient:g,forkPosition:_}})),updateProps$1(T,{shape:{parentPoint:[c.x,c.y],childPoints:P}},r)}T&&!(f==="polyline"&&!n.isExpand)&&(T.useStyle(defaults({strokeNoScale:!0,fill:null},b)),setStatesStylesFromModel(T,d,"lineStyle"),setDefaultStateProxy(T),u.add(T))}function removeNodeEdge(r,n,a,o,s){var l=n.tree.root,c=getSourceNode(l,r),u=c.source,d=c.sourceLayout,f=n.getItemGraphicEl(r.dataIndex);if(f){var v=n.getItemGraphicEl(u.dataIndex),g=v.__edge,y=f.__edge||(u.isExpand===!1||u.children.length===1?g:void 0),_=o.get("edgeShape"),b=o.get("layout"),T=o.get("orient"),C=o.get(["lineStyle","curveness"]);y&&(_==="curve"?removeElement(y,{shape:getEdgeShape(b,T,C,d,d),style:{opacity:0}},o,{cb:function(){a.remove(y)},removeOpt:s}):_==="polyline"&&o.get("layout")==="orthogonal"&&removeElement(y,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},o,{cb:function(){a.remove(y)},removeOpt:s}))}}function getSourceNode(r,n){for(var a=n.parentNode===r?n:n.parentNode||n,o;o=a.getLayout(),o==null;)a=a.parentNode===r?a:a.parentNode||a;return{source:a,sourceLayout:o}}function removeNode(r,n,a,o,s){var l=r.tree.getNodeByDataIndex(n),c=r.tree.root,u=getSourceNode(c,l).sourceLayout,d={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};removeElement(a,{x:u.x+1,y:u.y+1},s,{cb:function(){o.remove(a),r.setItemGraphicEl(n,null)},removeOpt:d}),a.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:d}),l.children.forEach(function(f){removeNodeEdge(f,r,o,s,d)}),removeNodeEdge(l,r,o,s,d)}function getEdgeShape(r,n,a,o,s){var l,c,u,d,f,v,g,y;if(r==="radial"){f=o.rawX,g=o.rawY,v=s.rawX,y=s.rawY;var _=radialCoordinate(f,g),b=radialCoordinate(f,g+(y-g)*a),T=radialCoordinate(v,y+(g-y)*a),C=radialCoordinate(v,y);return{x1:_.x||0,y1:_.y||0,x2:C.x||0,y2:C.y||0,cpx1:b.x||0,cpy1:b.y||0,cpx2:T.x||0,cpy2:T.y||0}}else f=o.x,g=o.y,v=s.x,y=s.y,(n==="LR"||n==="RL")&&(l=f+(v-f)*a,c=g,u=v+(f-v)*a,d=y),(n==="TB"||n==="BT")&&(l=f,c=g+(y-g)*a,u=v,d=y+(g-y)*a);return{x1:f,y1:g,x2:v,y2:y,cpx1:l,cpy1:c,cpx2:u,cpy2:d}}var inner$e=makeInner();function linkSeriesData(r){var n=r.mainData,a=r.datas;a||(a={main:n},r.datasAttr={main:"data"}),r.datas=r.mainData=null,linkAll(n,a,r),each$f(a,function(o){each$f(n.TRANSFERABLE_METHODS,function(s){o.wrapMethod(s,curry$1(transferInjection,r))})}),n.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,r)),each$f(n.CHANGABLE_METHODS,function(o){n.wrapMethod(o,curry$1(changeInjection,r))}),assert(a[n.dataType]===n)}function transferInjection(r,n){if(isMainData(this)){var a=extend({},inner$e(this).datas);a[this.dataType]=n,linkAll(n,a,r)}else linkSingle(n,this.dataType,inner$e(this).mainData,r);return n}function changeInjection(r,n){return r.struct&&r.struct.update(),n}function cloneShallowInjection(r,n){return each$f(inner$e(n).datas,function(a,o){a!==n&&linkSingle(a.cloneShallow(),o,n,r)}),n}function getLinkedData(r){var n=inner$e(this).mainData;return r==null||n==null?n:inner$e(n).datas[r]}function getLinkedDataAll(){var r=inner$e(this).mainData;return r==null?[{data:r}]:map$1(keys(inner$e(r).datas),function(n){return{type:n,data:inner$e(r).datas[n]}})}function isMainData(r){return inner$e(r).mainData===r}function linkAll(r,n,a){inner$e(r).datas={},each$f(n,function(o,s){linkSingle(o,s,r,a)})}function linkSingle(r,n,a,o){inner$e(a).datas[n]=r,inner$e(r).mainData=a,r.dataType=n,o.struct&&(r[o.structAttr]=o.struct,o.struct[o.datasAttr[n]]=r),r.getLinkedData=getLinkedData,r.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function r(n,a){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=a}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(n,a,o){isFunction(n)&&(o=a,a=n,n=null),n=n||{},isString(n)&&(n={order:n});var s=n.order||"preorder",l=this[n.attr||"children"],c;s==="preorder"&&(c=a.call(o,this));for(var u=0;!c&&u<l.length;u++)l[u].eachNode(n,a,o);s==="postorder"&&a.call(o,this)},r.prototype.updateDepthAndHeight=function(n){var a=0;this.depth=n;for(var o=0;o<this.children.length;o++){var s=this.children[o];s.updateDepthAndHeight(n+1),s.height>a&&(a=s.height)}this.height=a+1},r.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var a=0,o=this.children,s=o.length;a<s;a++){var l=o[a].getNodeById(n);if(l)return l}},r.prototype.contains=function(n){if(n===this)return!0;for(var a=0,o=this.children,s=o.length;a<s;a++){var l=o[a].contains(n);if(l)return l}},r.prototype.getAncestors=function(n){for(var a=[],o=n?this:this.parentNode;o;)a.push(o),o=o.parentNode;return a.reverse(),a},r.prototype.getAncestorsIndices=function(){for(var n=[],a=this;a;)n.push(a.dataIndex),a=a.parentNode;return n.reverse(),n},r.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(a){n.push(a.dataIndex)}),n},r.prototype.getValue=function(n){var a=this.hostTree.data;return a.getStore().get(a.getDimensionIndex(n||"value"),this.dataIndex)},r.prototype.setLayout=function(n,a){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,a)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var a=this.hostTree,o=a.data.getItemModel(this.dataIndex);return o.getModel(n)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(n,a){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,a)},r.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,a=0;a<n.length;++a)if(n[a]===this)return a;return-1}return-1},r.prototype.isAncestorOf=function(n){for(var a=n.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},r.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},r}(),Tree=function(){function r(n){this.type="tree",this._nodes=[],this.hostModel=n}return r.prototype.eachNode=function(n,a,o){this.root.eachNode(n,a,o)},r.prototype.getNodeByDataIndex=function(n){var a=this.data.getRawIndex(n);return this._nodes[a]},r.prototype.getNodeById=function(n){return this.root.getNodeById(n)},r.prototype.update=function(){for(var n=this.data,a=this._nodes,o=0,s=a.length;o<s;o++)a[o].dataIndex=-1;for(var o=0,s=n.count();o<s;o++)a[n.getRawIndex(o)].dataIndex=o},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(n,a,o){var s=new r(a),l=[],c=1;u(n);function u(v,g){var y=v.value;c=Math.max(c,isArray$1(y)?y.length:1),l.push(v);var _=new TreeNode(convertOptionIdName(v.name,""),s);g?addChild(_,g):s.root=_,s._nodes.push(_);var b=v.children;if(b)for(var T=0;T<b.length;T++)u(b[T],_)}s.root.updateDepthAndHeight(0);var d=prepareSeriesDataSchema(l,{coordDimensions:["value"],dimensionsCount:c}).dimensions,f=new SeriesData(d,a);return f.initData(l),o&&o(f),linkSeriesData({mainData:f,struct:s,structAttr:"tree"}),s.update(),s},r}();function addChild(r,n){var a=n.children;r.parentNode!==n&&(a.push(r),r.parentNode=n)}function retrieveTargetInfo(r,n,a){if(r&&indexOf(n,r.type)>=0){var o=a.getData().tree.root,s=r.targetNode;if(isString(s)&&(s=o.getNodeById(s)),s&&o.contains(s))return{node:s};var l=r.targetNodeId;if(l!=null&&(s=o.getNodeById(l)))return{node:s}}}function getPathToRoot(r){for(var n=[];r;)r=r.parentNode,r&&n.push(r);return n.reverse()}function aboveViewRoot(r,n){var a=getPathToRoot(r);return indexOf(a,n)>=0}function wrapTreePathInfo(r,n){for(var a=[];r;){var o=r.dataIndex;a.push({name:r.name,dataIndex:o,value:n.getRawValue(o)}),r=r.parentNode}return a.reverse(),a}var TreeSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.hasSymbolVisual=!0,a.ignoreStyleOnData=!0,a}return n.prototype.getInitialData=function(a){var o={name:a.name,children:a.data},s=a.leaves||{},l=new Model(s,this,this.ecModel),c=Tree.createTree(o,this,u);function u(g){g.wrapMethod("getItemModel",function(y,_){var b=c.getNodeByDataIndex(_);return b&&b.children.length&&b.isExpand||(y.parentModel=l),y})}var d=0;c.eachNode("preorder",function(g){g.depth>d&&(d=g.depth)});var f=a.expandAndCollapse,v=f&&a.initialTreeDepth>=0?a.initialTreeDepth:d;return c.root.eachNode("preorder",function(g){var y=g.hostTree.data.getRawDataItem(g.dataIndex);g.isExpand=y&&y.collapsed!=null?!y.collapsed:g.depth<=v}),c.data},n.prototype.getOrient=function(){var a=this.get("orient");return a==="horizontal"?a="LR":a==="vertical"&&(a="TB"),a},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.formatTooltip=function(a,o,s){for(var l=this.getData().tree,c=l.root.children[0],u=l.getNodeByDataIndex(a),d=u.getValue(),f=u.name;u&&u!==c;)f=u.parentNode.name+"."+f,u=u.parentNode;return createTooltipMarkup("nameValue",{name:f,value:d,noValue:isNaN(d)||d==null})},n.prototype.getDataParams=function(a){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treeAncestors=wrapTreePathInfo(s,this),o.collapsed=!s.isExpand,o},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel);function eachAfter(r,n,a){for(var o=[r],s=[],l;l=o.pop();)if(s.push(l),l.isExpand){var c=l.children;if(c.length)for(var u=0;u<c.length;u++)o.push(c[u])}for(;l=s.pop();)n(l,a)}function eachBefore(r,n){for(var a=[r],o;o=a.pop();)if(n(o),o.isExpand){var s=o.children;if(s.length)for(var l=s.length-1;l>=0;l--)a.push(s[l])}}function treeLayout(r,n){r.eachSeriesByType("tree",function(a){commonLayout(a,n)})}function commonLayout(r,n){var a=getViewRect$4(r,n);r.layoutInfo=a;var o=r.get("layout"),s=0,l=0,c=null;o==="radial"?(s=2*Math.PI,l=Math.min(a.height,a.width)/2,c=separation(function(M,I){return(M.parentNode===I.parentNode?1:2)/M.depth})):(s=a.width,l=a.height,c=separation());var u=r.getData().tree.root,d=u.children[0];if(d){init(u),eachAfter(d,firstWalk,c),u.hierNode.modifier=-d.hierNode.prelim,eachBefore(d,secondWalk);var f=d,v=d,g=d;eachBefore(d,function(M){var I=M.getLayout().x;I<f.getLayout().x&&(f=M),I>v.getLayout().x&&(v=M),M.depth>g.depth&&(g=M)});var y=f===v?1:c(f,v)/2,_=y-f.getLayout().x,b=0,T=0,C=0,P=0;if(o==="radial")b=s/(v.getLayout().x+y+_),T=l/(g.depth-1||1),eachBefore(d,function(M){C=(M.getLayout().x+_)*b,P=(M.depth-1)*T;var I=radialCoordinate(C,P);M.setLayout({x:I.x,y:I.y,rawX:C,rawY:P},!0)});else{var E=r.getOrient();E==="RL"||E==="LR"?(T=l/(v.getLayout().x+y+_),b=s/(g.depth-1||1),eachBefore(d,function(M){P=(M.getLayout().x+_)*T,C=E==="LR"?(M.depth-1)*b:s-(M.depth-1)*b,M.setLayout({x:C,y:P},!0)})):(E==="TB"||E==="BT")&&(b=s/(v.getLayout().x+y+_),T=l/(g.depth-1||1),eachBefore(d,function(M){C=(M.getLayout().x+_)*b,P=E==="TB"?(M.depth-1)*T:l-(M.depth-1)*T,M.setLayout({x:C,y:P},!0)}))}}}function treeVisual(r){r.eachSeriesByType("tree",function(n){var a=n.getData(),o=a.tree;o.eachNode(function(s){var l=s.getModel(),c=l.getModel("itemStyle").getItemStyle(),u=a.ensureUniqueItemVisual(s.dataIndex,"style");extend(u,c)})})}function installTreeAction(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,a){a.eachComponent({mainType:"series",subType:"tree",query:n},function(o){var s=n.dataIndex,l=o.getData().tree,c=l.getNodeByDataIndex(s);c.isExpand=!c.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,a,o){a.eachComponent({mainType:"series",subType:"tree",query:n},function(s){var l=s.coordinateSystem,c=updateCenterAndZoom(l,n,void 0,o);s.setCenter&&s.setCenter(c.center),s.setZoom&&s.setZoom(c.zoom)})})}function install$H(r){r.registerChartView(TreeView),r.registerSeriesModel(TreeSeriesModel),r.registerLayout(treeLayout),r.registerVisual(treeVisual),installTreeAction(r)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(r){for(var n=0;n<actionTypes.length;n++)r.registerAction({type:actionTypes[n],update:"updateView"},noop);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,o){o.eachComponent({mainType:"series",subType:"treemap",query:a},s);function s(l,c){var u=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(a,u,l);if(d){var f=l.getViewRoot();f&&(a.direction=aboveViewRoot(f,d.node)?"rollUp":"drillDown"),l.resetViewRoot(d.node)}}})}function enableAriaDecalForTree(r){var n=r.getData(),a=n.tree,o={};a.eachNode(function(s){for(var l=s;l&&l.depth>1;)l=l.parentNode;var c=getDecalFromPalette(r.ecModel,l.name||l.dataIndex+"",o);s.setVisual("decal",c)})}var TreemapSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.preventUsingHoverLayer=!0,a}return n.prototype.getInitialData=function(a,o){var s={name:a.name,children:a.data};completeTreeValue$1(s);var l=a.levels||[],c=this.designatedVisualItemStyle={},u=new Model({itemStyle:c},this,o);l=a.levels=setDefault(l,o);var d=map$1(l||[],function(g){return new Model(g,u,o)},this),f=Tree.createTree(s,this,v);function v(g){g.wrapMethod("getItemModel",function(y,_){var b=f.getNodeByDataIndex(_),T=b?d[b.depth]:null;return y.parentModel=T||u,y})}return f.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),c=this.getRawValue(a),u=l.getName(a);return createTooltipMarkup("nameValue",{name:u,value:c})},n.prototype.getDataParams=function(a){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treeAncestors=wrapTreePathInfo(s,this),o.treePathInfo=o.treeAncestors,o},n.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,a)},n.prototype.mapIdToIndex=function(a){var o=this._idIndexMap;o||(o=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var s=o.get(a);return s==null&&o.set(a,s=this._idIndexMapCount++),s},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var o=this.getRawData().tree.root;(!a||a!==o&&!o.contains(a))&&(this._viewRoot=o)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel);function completeTreeValue$1(r){var n=0;each$f(r.children,function(o){completeTreeValue$1(o);var s=o.value;isArray$1(s)&&(s=s[0]),n+=s});var a=r.value;isArray$1(a)&&(a=a[0]),(a==null||isNaN(a))&&(a=n),a<0&&(a=0),isArray$1(r.value)?r.value[0]=a:r.value=a}function setDefault(r,n){var a=normalizeToArray(n.get("color")),o=normalizeToArray(n.get(["aria","decal","decals"]));if(a){r=r||[];var s,l;each$f(r,function(u){var d=new Model(u),f=d.get("color"),v=d.get("decal");(d.get(["itemStyle","color"])||f&&f!=="none")&&(s=!0),(d.get(["itemStyle","decal"])||v&&v!=="none")&&(l=!0)});var c=r[0]||(r[0]={});return s||(c.color=a.slice()),!l&&o&&(c.decal=o.slice()),r}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function r(n){this.group=new Group$3,n.add(this.group)}return r.prototype.render=function(n,a,o,s){var l=n.getModel("breadcrumb"),c=this.group;if(c.removeAll(),!(!l.get("show")||!o)){var u=l.getModel("itemStyle"),d=l.getModel("emphasis"),f=u.getModel("textStyle"),v=d.getModel(["itemStyle","textStyle"]),g={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:a.getWidth(),height:a.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,g,f),this._renderContent(n,g,u,d,f,v,s),positionElement(c,g.pos,g.box)}},r.prototype._prepare=function(n,a,o){for(var s=n;s;s=s.parentNode){var l=convertOptionIdName(s.getModel().get("name"),""),c=o.getTextRect(l),u=Math.max(c.width+TEXT_PADDING*2,a.emptyItemWidth);a.totalWidth+=u+ITEM_GAP,a.renderList.push({node:s,text:l,width:u})}},r.prototype._renderContent=function(n,a,o,s,l,c,u){for(var d=0,f=a.emptyItemWidth,v=n.get(["breadcrumb","height"]),g=getAvailableSize(a.pos,a.box),y=a.totalWidth,_=a.renderList,b=s.getModel("itemStyle").getItemStyle(),T=_.length-1;T>=0;T--){var C=_[T],P=C.node,E=C.width,M=C.text;y>g.width&&(y-=E-f,E=f,M=null);var I=new Polygon({shape:{points:makeItemPoints(d,0,E,v,T===_.length-1,T===0)},style:defaults(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText({style:createTextStyle(l,{text:M})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(u,P)});I.disableLabelAnimation=!0,I.getTextContent().ensureState("emphasis").style=createTextStyle(c,{text:M}),I.ensureState("emphasis").style=b,toggleHoverEmphasis(I,s.get("focus"),s.get("blurScope"),s.get("disabled")),this.group.add(I),packEventData(I,n,P),d+=E+ITEM_GAP}},r.prototype.remove=function(){this.group.removeAll()},r}();function makeItemPoints(r,n,a,o,s,l){var c=[[s?r:r-ARRAY_LENGTH,n],[r+a,n],[r+a,n+o],[s?r:r-ARRAY_LENGTH,n+o]];return!l&&c.splice(2,0,[r+a+ARRAY_LENGTH,n+o/2]),!s&&c.push([r,n+o/2]),c}function packEventData(r,n,a){getECData(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&wrapTreePathInfo(a,n)}}var AnimationWrap=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(n,a,o,s,l){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:a,duration:o,delay:s,easing:l}),!0)},r.prototype.finished=function(n){return this._finishedCallback=n,this},r.prototype.start=function(){for(var n=this,a=this._storage.length,o=function(){a--,a<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},s=0,l=this._storage.length;s<l;s++){var c=this._storage[s];c.el.animateTo(c.target,{duration:c.duration,delay:c.delay,easing:c.easing,setToFinal:!0,done:o,aborted:o})}return this},r}();function createWrap(){return new AnimationWrap}var Group$2=Group$3,Rect$1=Rect$2,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(r){var n=getStateItemStyle(r);return n.stroke=n.fill=n.lineWidth=null,n},inner$d=makeInner(),TreemapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._state="ready",a._storage=createStorage(),a}return n.prototype.render=function(a,o,s,l){var c=o.findComponents({mainType:"series",subType:"treemap",query:l});if(!(indexOf(c,a)<0)){this.seriesModel=a,this.api=s,this.ecModel=o;var u=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(l,u,a),f=l&&l.type,v=a.layoutInfo,g=!this._oldTree,y=this._storage,_=f==="treemapRootToNode"&&d&&y?{rootNodeGroup:y.nodeGroup[d.node.getRawIndex()],direction:l.direction}:null,b=this._giveContainerGroup(v),T=a.get("animation"),C=this._doRender(b,a,_);T&&!g&&(!f||f==="treemapZoomToNode"||f==="treemapRootToNode")?this._doAnimation(b,C,a,_):C.renderFinally(),this._resetController(s),this._renderBreadcrumb(a,s,d)}},n.prototype._giveContainerGroup=function(a){var o=this._containerGroup;return o||(o=this._containerGroup=new Group$2,this._initEvents(o),this.group.add(o)),o.x=a.x,o.y=a.y,o},n.prototype._doRender=function(a,o,s){var l=o.getData().tree,c=this._oldTree,u=createStorage(),d=createStorage(),f=this._storage,v=[];function g(E,M,I,L){return renderNode(o,d,f,s,u,v,E,M,I,L)}T(l.root?[l.root]:[],c&&c.root?[c.root]:[],a,l===c||!c,0);var y=C(f);if(this._oldTree=l,this._storage=d,this._controllerHost){var _=this.seriesModel.layoutInfo,b=l.root.getLayout();b.width===_.width&&b.height===_.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:u,willDeleteEls:y,renderFinally:P};function T(E,M,I,L,N){L?(M=E,each$f(E,function(z,G){!z.isRemoved()&&B(G,G)})):new DataDiffer(M,E,V,V).add(B).update(B).remove(curry$1(B,null)).execute();function V(z){return z.getId()}function B(z,G){var H=z!=null?E[z]:null,W=G!=null?M[G]:null,j=g(H,W,I,N);j&&T(H&&H.viewChildren||[],W&&W.viewChildren||[],j,L,N+1)}}function C(E){var M=createStorage();return E&&each$f(E,function(I,L){var N=M[L];each$f(I,function(V){V&&(N.push(V),inner$d(V).willDelete=!0)})}),M}function P(){each$f(y,function(E){each$f(E,function(M){M.parent&&M.parent.remove(M)})}),each$f(v,function(E){E.invisible=!0,E.dirty()})}},n.prototype._doAnimation=function(a,o,s,l){var c=s.get("animationDurationUpdate"),u=s.get("animationEasing"),d=(isFunction(c)?0:c)||0,f=(isFunction(u)?null:u)||"cubicOut",v=createWrap();each$f(o.willDeleteEls,function(g,y){each$f(g,function(_,b){if(!_.invisible){var T=_.parent,C,P=inner$d(T);if(l&&l.direction==="drillDown")C=T===l.rootNodeGroup?{shape:{x:0,y:0,width:P.nodeWidth,height:P.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var E=0,M=0;P.willDelete||(E=P.nodeWidth/2,M=P.nodeHeight/2),C=y==="nodeGroup"?{x:E,y:M,style:{opacity:0}}:{shape:{x:E,y:M,width:0,height:0},style:{opacity:0}}}C&&v.add(_,C,d,0,f)}})}),each$f(this._storage,function(g,y){each$f(g,function(_,b){var T=o.lastsForAnimation[y][b],C={};T&&(_ instanceof Group$3?T.oldX!=null&&(C.x=_.x,C.y=_.y,_.x=T.oldX,_.y=T.oldY):(T.oldShape&&(C.shape=extend({},_.shape),_.setShape(T.oldShape)),T.fadein?(_.setStyle("opacity",0),C.style={opacity:1}):_.style.opacity!==1&&(C.style={opacity:1})),v.add(_,C,d,0,f))})},this),this._state="animating",v.finished(bind$1(function(){this._state="ready",o.renderFinally()},this)).start()},n.prototype._resetController=function(a){var o=this._controller,s=this._controllerHost;s||(this._controllerHost={target:this.group},s=this._controllerHost),o||(o=this._controller=new RoamController(a.getZr()),o.enable(this.seriesModel.get("roam")),s.zoomLimit=this.seriesModel.get("scaleLimit"),s.zoom=this.seriesModel.get("zoom"),o.on("pan",bind$1(this._onPan,this)),o.on("zoom",bind$1(this._onZoom,this)));var l=new BoundingRect(0,0,a.getWidth(),a.getHeight());o.setPointerChecker(function(c,u,d){return l.contain(u,d)})},n.prototype._clearController=function(){var a=this._controller;this._controllerHost=null,a&&(a.dispose(),a=null)},n.prototype._onPan=function(a){if(this._state!=="animating"&&(Math.abs(a.dx)>DRAG_THRESHOLD||Math.abs(a.dy)>DRAG_THRESHOLD)){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+a.dx,y:s.y+a.dy,width:s.width,height:s.height}})}},n.prototype._onZoom=function(a){var o=a.originX,s=a.originY,l=a.scale;if(this._state!=="animating"){var c=this.seriesModel.getData().tree.root;if(!c)return;var u=c.getLayout();if(!u)return;var d=new BoundingRect(u.x,u.y,u.width,u.height),f=null,v=this._controllerHost;f=v.zoomLimit;var g=v.zoom=v.zoom||1;if(g*=l,f){var y=f.min||0,_=f.max||1/0;g=Math.max(Math.min(_,g),y)}var b=g/v.zoom;v.zoom=g;var T=this.seriesModel.layoutInfo;o-=T.x,s-=T.y;var C=create$1();translate(C,C,[-o,-s]),scale$1(C,C,[b,b]),translate(C,C,[o,s]),d.applyTransform(C),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x,y:d.y,width:d.width,height:d.height}})}},n.prototype._initEvents=function(a){var o=this;a.on("click",function(s){if(o._state==="ready"){var l=o.seriesModel.get("nodeClick",!0);if(l){var c=o.findTarget(s.offsetX,s.offsetY);if(c){var u=c.node;if(u.getLayout().isLeafRoot)o._rootToNode(c);else if(l==="zoomToNode")o._zoomToNode(c);else if(l==="link"){var d=u.hostTree.data.getItemModel(u.dataIndex),f=d.get("link",!0),v=d.get("target",!0)||"blank";f&&windowOpen(f,v)}}}}},this)},n.prototype._renderBreadcrumb=function(a,o,s){var l=this;s||(s=a.get("leafDepth",!0)!=null?{node:a.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),s||(s={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(a,o,s.node,function(c){l._state!=="animating"&&(aboveViewRoot(a.getViewRoot(),c)?l._rootToNode({node:c}):l._zoomToNode({node:c}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},n.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},n.prototype.findTarget=function(a,o){var s,l=this.seriesModel.getViewRoot();return l.eachNode({attr:"viewChildren",order:"preorder"},function(c){var u=this._storage.background[c.getRawIndex()];if(u){var d=u.transformCoordToLocal(a,o),f=u.shape;if(f.x<=d[0]&&d[0]<=f.x+f.width&&f.y<=d[1]&&d[1]<=f.y+f.height)s={node:c,offsetX:d[0],offsetY:d[1]};else return!1}},this),s},n.type="treemap",n}(ChartView);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(r,n,a,o,s,l,c,u,d,f){if(!c)return;var v=c.getLayout(),g=r.getData(),y=c.getModel();if(g.setItemGraphicEl(c.dataIndex,null),!v||!v.isInView)return;var _=v.width,b=v.height,T=v.borderWidth,C=v.invisible,P=c.getRawIndex(),E=u&&u.getRawIndex(),M=c.viewChildren,I=v.upperHeight,L=M&&M.length,N=y.getModel("itemStyle"),V=y.getModel(["emphasis","itemStyle"]),B=y.getModel(["blur","itemStyle"]),z=y.getModel(["select","itemStyle"]),G=N.get("borderRadius")||0,H=Se("nodeGroup",Group$2);if(!H)return;if(d.add(H),H.x=v.x||0,H.y=v.y||0,H.markRedraw(),inner$d(H).nodeWidth=_,inner$d(H).nodeHeight=b,v.isAboveViewRoot)return H;var W=Se("background",Rect$1,f,Z2_BG);W&&ve(H,W,L&&v.upperLabelHeight);var j=y.getModel("emphasis"),X=j.get("focus"),Z=j.get("blurScope"),q=j.get("disabled"),le=X==="ancestor"?c.getAncestorsIndices():X==="descendant"?c.getDescendantIndices():X;if(L)isHighDownDispatcher(H)&&setAsHighDownDispatcher(H,!1),W&&(setAsHighDownDispatcher(W,!q),g.setItemGraphicEl(c.dataIndex,W),enableHoverFocus(W,le,Z));else{var ae=Se("content",Rect$1,f,Z2_CONTENT);ae&&ce(H,ae),W.disableMorphing=!0,W&&isHighDownDispatcher(W)&&setAsHighDownDispatcher(W,!1),setAsHighDownDispatcher(H,!q),g.setItemGraphicEl(c.dataIndex,H);var he=y.getShallow("cursor");he&&ae.attr("cursor",he),enableHoverFocus(H,le,Z)}return H;function ve(pe,de,Te){var we=getECData(de);if(we.dataIndex=c.dataIndex,we.seriesIndex=r.seriesIndex,de.setShape({x:0,y:0,width:_,height:b,r:G}),C)fe(de);else{de.invisible=!1;var Ie=c.getVisual("style"),te=Ie.stroke,oe=getItemStyleNormal(N);oe.fill=te;var ge=getStateItemStyle(V);ge.fill=V.get("borderColor");var Ae=getStateItemStyle(B);Ae.fill=B.get("borderColor");var be=getStateItemStyle(z);if(be.fill=z.get("borderColor"),Te){var $e=_-2*T;_e(de,te,Ie.opacity,{x:T,y:0,width:$e,height:I})}else de.removeTextContent();de.setStyle(oe),de.ensureState("emphasis").style=ge,de.ensureState("blur").style=Ae,de.ensureState("select").style=be,setDefaultStateProxy(de)}pe.add(de)}function ce(pe,de){var Te=getECData(de);Te.dataIndex=c.dataIndex,Te.seriesIndex=r.seriesIndex;var we=Math.max(_-2*T,0),Ie=Math.max(b-2*T,0);if(de.culling=!0,de.setShape({x:T,y:T,width:we,height:Ie,r:G}),C)fe(de);else{de.invisible=!1;var te=c.getVisual("style"),oe=te.fill,ge=getItemStyleNormal(N);ge.fill=oe,ge.decal=te.decal;var Ae=getStateItemStyle(V),be=getStateItemStyle(B),$e=getStateItemStyle(z);_e(de,oe,te.opacity,null),de.setStyle(ge),de.ensureState("emphasis").style=Ae,de.ensureState("blur").style=be,de.ensureState("select").style=$e,setDefaultStateProxy(de)}pe.add(de)}function fe(pe){!pe.invisible&&l.push(pe)}function _e(pe,de,Te,we){var Ie=y.getModel(we?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),te=convertOptionIdName(y.get("name"),null),oe=Ie.getShallow("show");setLabelStyle(pe,getLabelStatesModels(y,we?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:oe?te:null,inheritColor:de,defaultOpacity:Te,labelFetcher:r,labelDataIndex:c.dataIndex});var ge=pe.getTextContent();if(ge){var Ae=ge.style,be=normalizeCssArray$1(Ae.padding||0);we&&(pe.setTextConfig({layoutRect:we}),ge.disableLabelLayout=!0),ge.beforeUpdate=function(){var Me=Math.max((we?we.width:pe.shape.width)-be[1]-be[3],0),Ve=Math.max((we?we.height:pe.shape.height)-be[0]-be[2],0);(Ae.width!==Me||Ae.height!==Ve)&&ge.setStyle({width:Me,height:Ve})},Ae.truncateMinChar=2,Ae.lineOverflow="truncate",Ce(Ae,we,v);var $e=ge.getState("emphasis");Ce($e?$e.style:null,we,v)}}function Ce(pe,de,Te){var we=pe?pe.text:null;if(!de&&Te.isLeafRoot&&we!=null){var Ie=r.get("drillDownIcon",!0);pe.text=Ie?Ie+" "+we:we}}function Se(pe,de,Te,we){var Ie=E!=null&&a[pe][E],te=s[pe];return Ie?(a[pe][E]=null,De(te,Ie)):C||(Ie=new de,Ie instanceof Displayable&&(Ie.z2=calculateZ2(Te,we)),ne(te,Ie)),n[pe][P]=Ie}function De(pe,de){var Te=pe[P]={};de instanceof Group$2?(Te.oldX=de.x,Te.oldY=de.y):Te.oldShape=extend({},de.shape)}function ne(pe,de){var Te=pe[P]={},we=c.parentNode,Ie=de instanceof Group$3;if(we&&(!o||o.direction==="drillDown")){var te=0,oe=0,ge=s.background[we.getRawIndex()];!o&&ge&&ge.oldShape&&(te=ge.oldShape.width,oe=ge.oldShape.height),Ie?(Te.oldX=0,Te.oldY=oe):Te.oldShape={x:te,y:oe,width:0,height:0}}Te.fadein=!Ie}}function calculateZ2(r,n){return r*Z2_BASE+n}var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function r(n){var a=n.mappingMethod,o=n.type,s=this.option=clone$4(n);this.type=o,this.mappingMethod=a,this._normalizeData=normalizers[a];var l=r.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[a],a==="piecewise"?(normalizeVisualRange(s),preprocessForPiecewise(s)):a==="category"?s.categories?preprocessForSpecifiedCategory(s):normalizeVisualRange(s,!0):(assert(a!=="linear"||s.dataExtent),normalizeVisualRange(s))}return r.prototype.mapValueToVisual=function(n){var a=this._normalizeData(n);return this._normalizedToVisual(a,n)},r.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},r.listVisualTypes=function(){return keys(r.visualHandlers)},r.isValidType=function(n){return r.visualHandlers.hasOwnProperty(n)},r.eachVisual=function(n,a,o){isObject$3(n)?each$f(n,a,o):a.call(o,n)},r.mapVisual=function(n,a,o){var s,l=isArray$1(n)?[]:isObject$3(n)?{}:(s=!0,null);return r.eachVisual(n,function(c,u){var d=a.call(o,c,u);s?l=d:l[u]=d}),l},r.retrieveVisuals=function(n){var a={},o;return n&&each$c(r.visualHandlers,function(s,l){n.hasOwnProperty(l)&&(a[l]=n[l],o=!0)}),o?a:null},r.prepareVisualTypes=function(n){if(isArray$1(n))n=n.slice();else if(isObject(n)){var a=[];each$c(n,function(o,s){a.push(s)}),n=a}else return[];return n.sort(function(o,s){return s==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),n},r.dependsOn=function(n,a){return a==="color"?!!(n&&n.indexOf(a)===0):n===a},r.findPieceIndex=function(n,a,o){for(var s,l=1/0,c=0,u=a.length;c<u;c++){var d=a[c].value;if(d!=null){if(d===n||isString(d)&&d===n+"")return c;o&&y(d,c)}}for(var c=0,u=a.length;c<u;c++){var f=a[c],v=f.interval,g=f.close;if(v){if(v[0]===-1/0){if(littleThan(g[1],n,v[1]))return c}else if(v[1]===1/0){if(littleThan(g[0],v[0],n))return c}else if(littleThan(g[0],v[0],n)&&littleThan(g[1],n,v[1]))return c;o&&y(v[0],c),o&&y(v[1],c)}}if(o)return n===1/0?a.length-1:n===-1/0?0:s;function y(_,b){var T=Math.abs(_-n);T<l&&(l=T,s=b)}},r.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind$1(n.mappingMethod==="category"?function(a,o){return!o&&(a=this._normalizeData(a)),doMapCategory.call(this,a)}:function(a,o,s){var l=!!s;return!o&&(a=this._normalizeData(a)),s=fastLerp(a,n.parsedVisual,s),l?s:stringify(s,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=stringify(fastLerp(n,this.option.parsedVisual),"rgba")),o},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,a){return modifyHSL(n,a)}),colorSaturation:makePartialColorVisualHandler(function(n,a){return modifyHSL(n,null,a)}),colorLightness:makePartialColorVisualHandler(function(n,a){return modifyHSL(n,null,null,a)}),colorAlpha:makePartialColorVisualHandler(function(n,a){return modifyAlpha(n,a)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,a,o){var s=this.mapValueToVisual(n);o("symbol",s)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=doMapToArray.call(this,n)),o},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},r}();function preprocessForPiecewise(r){var n=r.pieceList;r.hasSpecialVisual=!1,each$f(n,function(a,o){a.originIndex=o,a.visual!=null&&(r.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(r){var n=r.categories,a=r.categoryMap={},o=r.visual;if(each$c(n,function(c,u){a[c]=u}),!isArray$1(o)){var s=[];isObject$3(o)?each$c(o,function(c,u){var d=a[u];s[d??CATEGORY_DEFAULT_VISUAL_INDEX]=c}):s[CATEGORY_DEFAULT_VISUAL_INDEX]=o,o=setVisualToOption(r,s)}for(var l=n.length-1;l>=0;l--)o[l]==null&&(delete a[n[l]],n.pop())}function normalizeVisualRange(r,n){var a=r.visual,o=[];isObject$3(a)?each$c(a,function(l){o.push(l)}):a!=null&&o.push(a);var s={color:1,symbol:1};!n&&o.length===1&&!s.hasOwnProperty(r.type)&&(o[1]=o[0]),setVisualToOption(r,o)}function makePartialColorVisualHandler(r){return{applyVisual:function(n,a,o){var s=this.mapValueToVisual(n);o("color",r(a("color"),s))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(r){var n=this.option.visual;return n[Math.round(linearMap$2(r,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(r){return function(n,a,o){o(r,this.mapValueToVisual(n))}}function doMapCategory(r){var n=this.option.visual;return n[this.option.loop&&r!==CATEGORY_DEFAULT_VISUAL_INDEX?r%n.length:r]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(r){return{linear:function(n){return linearMap$2(n,r,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=linearMap$2(n,r,this.option.visual,!0)),o},fixed:doMapFixed}}function getSpecifiedVisual(r){var n=this.option,a=n.pieceList;if(n.hasSpecialVisual){var o=VisualMapping.findPieceIndex(r,a),s=a[o];if(s&&s.visual)return s.visual[this.type]}}function setVisualToOption(r,n){return r.visual=n,r.type==="color"&&(r.parsedVisual=map$1(n,function(a){var o=parse(a);return o||[0,0,0,1]})),n}var normalizers={linear:function(r){return linearMap$2(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var n=this.option.pieceList,a=VisualMapping.findPieceIndex(r,n,!0);if(a!=null)return linearMap$2(a,[0,n.length-1],[0,1],!0)},category:function(r){var n=this.option.categories?this.option.categoryMap[r]:r;return n??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(r,n,a){return r?n<=a:n<a}var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(r){var n=r.getData().tree,a=n.root;a.isRemoved()||travelTree(a,{},r.getViewRoot().getAncestors(),r)}};function travelTree(r,n,a,o){var s=r.getModel(),l=r.getLayout(),c=r.hostTree.data;if(!(!l||l.invisible||!l.isInView)){var u=s.getModel(ITEM_STYLE_NORMAL),d=buildVisuals(u,n,o),f=c.ensureUniqueItemVisual(r.dataIndex,"style"),v=u.get("borderColor"),g=u.get("borderColorSaturation"),y;g!=null&&(y=calculateColor(d),v=calculateBorderColor(g,y)),f.stroke=v;var _=r.viewChildren;if(!_||!_.length)y=calculateColor(d),f.fill=y;else{var b=buildVisualMapping(r,s,l,u,d,_);each$f(_,function(T,C){if(T.depth>=a.length||T===a[T.depth]){var P=mapVisual$1(s,d,T,C,b,o);travelTree(T,P,a,o)}})}}}function buildVisuals(r,n,a){var o=extend({},n),s=a.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(l){s[l]=n[l];var c=r.get(l);s[l]=null,c!=null&&(o[l]=c)}),o}function calculateColor(r){var n=getValueVisualDefine(r,"color");if(n){var a=getValueVisualDefine(r,"colorAlpha"),o=getValueVisualDefine(r,"colorSaturation");return o&&(n=modifyHSL(n,null,null,o)),a&&(n=modifyAlpha(n,a)),n}}function calculateBorderColor(r,n){return n!=null?modifyHSL(n,null,null,r):null}function getValueVisualDefine(r,n){var a=r[n];if(a!=null&&a!=="none")return a}function buildVisualMapping(r,n,a,o,s,l){if(!(!l||!l.length)){var c=getRangeVisual(n,"color")||s.color!=null&&s.color!=="none"&&(getRangeVisual(n,"colorAlpha")||getRangeVisual(n,"colorSaturation"));if(c){var u=n.get("visualMin"),d=n.get("visualMax"),f=a.dataExtent.slice();u!=null&&u<f[0]&&(f[0]=u),d!=null&&d>f[1]&&(f[1]=d);var v=n.get("colorMappingBy"),g={type:c.name,dataExtent:f,visual:c.range};g.type==="color"&&(v==="index"||v==="id")?(g.mappingMethod="category",g.loop=!0):g.mappingMethod="linear";var y=new VisualMapping(g);return inner$c(y).drColorMappingBy=v,y}}}function getRangeVisual(r,n){var a=r.get(n);return isArray$1(a)&&a.length?{name:n,range:a}:null}function mapVisual$1(r,n,a,o,s,l){var c=extend({},n);if(s){var u=s.type,d=u==="color"&&inner$c(s).drColorMappingBy,f=d==="index"?o:d==="id"?l.mapIdToIndex(a.getId()):a.getValue(r.get("visualDimension"));c[u]=s.mapValueToVisual(f)}return c}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(r,n,a,o){var s=a.getWidth(),l=a.getHeight(),c=r.option,u=getLayoutRect(r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),d=c.size||[],f=parsePercent(retrieveValue(u.width,d[0]),s),v=parsePercent(retrieveValue(u.height,d[1]),l),g=o&&o.type,y=["treemapZoomToNode","treemapRootToNode"],_=retrieveTargetInfo(o,y,r),b=g==="treemapRender"||g==="treemapMove"?o.rootRect:null,T=r.getViewRoot(),C=getPathToRoot(T);if(g!=="treemapMove"){var P=g==="treemapZoomToNode"?estimateRootSize(r,_,T,f,v):b?[b.width,b.height]:[f,v],E=c.sort;E&&E!=="asc"&&E!=="desc"&&(E="desc");var M={squareRatio:c.squareRatio,sort:E,leafDepth:c.leafDepth};T.hostTree.clearLayouts();var I={x:0,y:0,width:P[0],height:P[1],area:P[0]*P[1]};T.setLayout(I),squarify(T,M,!1,0),I=T.getLayout(),each$b(C,function(N,V){var B=(C[V+1]||T).getValue();N.setLayout(extend({dataExtent:[B,B],borderWidth:0,upperHeight:0},I))})}var L=r.getData().tree.root;L.setLayout(calculateRootPosition(u,b,_),!0),r.setLayoutInfo(u),prunning(L,new BoundingRect(-u.x,-u.y,s,l),C,T,0)}};function squarify(r,n,a,o){var s,l;if(!r.isRemoved()){var c=r.getLayout();s=c.width,l=c.height;var u=r.getModel(),d=u.get(PATH_BORDER_WIDTH),f=u.get(PATH_GAP_WIDTH)/2,v=getUpperLabelHeight(u),g=Math.max(d,v),y=d-f,_=g-f;r.setLayout({borderWidth:d,upperHeight:g,upperLabelHeight:v},!0),s=mathMax$3(s-2*y,0),l=mathMax$3(l-y-_,0);var b=s*l,T=initChildren$1(r,u,b,n,a,o);if(T.length){var C={x:y,y:_,width:s,height:l},P=mathMin$3(s,l),E=1/0,M=[];M.area=0;for(var I=0,L=T.length;I<L;){var N=T[I];M.push(N),M.area+=N.getLayout().area;var V=worst(M,P,n.squareRatio);V<=E?(I++,E=V):(M.area-=M.pop().getLayout().area,position(M,P,C,f,!1),P=mathMin$3(C.width,C.height),M.length=M.area=0,E=1/0)}if(M.length&&position(M,P,C,f,!0),!a){var B=u.get("childrenVisibleMin");B!=null&&b<B&&(a=!0)}for(var I=0,L=T.length;I<L;I++)squarify(T[I],n,a,o+1)}}}function initChildren$1(r,n,a,o,s,l){var c=r.children||[],u=o.sort;u!=="asc"&&u!=="desc"&&(u=null);var d=o.leafDepth!=null&&o.leafDepth<=l;if(s&&!d)return r.viewChildren=[];c=filter(c,function(_){return!_.isRemoved()}),sort$1(c,u);var f=statistic(n,c,u);if(f.sum===0)return r.viewChildren=[];if(f.sum=filterByThreshold(n,a,f.sum,u,c),f.sum===0)return r.viewChildren=[];for(var v=0,g=c.length;v<g;v++){var y=c[v].getValue()/f.sum*a;c[v].setLayout({area:y})}return d&&(c.length&&r.setLayout({isLeafRoot:!0},!0),c.length=0),r.viewChildren=c,r.setLayout({dataExtent:f.dataExtent},!0),c}function filterByThreshold(r,n,a,o,s){if(!o)return a;for(var l=r.get("visibleMin"),c=s.length,u=c,d=c-1;d>=0;d--){var f=s[o==="asc"?c-d-1:d].getValue();f/a*n<l&&(u=d,a-=f)}return o==="asc"?s.splice(0,c-u):s.splice(u,c-u),a}function sort$1(r,n){return n&&r.sort(function(a,o){var s=n==="asc"?a.getValue()-o.getValue():o.getValue()-a.getValue();return s===0?n==="asc"?a.dataIndex-o.dataIndex:o.dataIndex-a.dataIndex:s}),r}function statistic(r,n,a){for(var o=0,s=0,l=n.length;s<l;s++)o+=n[s].getValue();var c=r.get("visualDimension"),u;return!n||!n.length?u=[NaN,NaN]:c==="value"&&a?(u=[n[n.length-1].getValue(),n[0].getValue()],a==="asc"&&u.reverse()):(u=[1/0,-1/0],each$b(n,function(d){var f=d.getValue(c);f<u[0]&&(u[0]=f),f>u[1]&&(u[1]=f)})),{sum:o,dataExtent:u}}function worst(r,n,a){for(var o=0,s=1/0,l=0,c=void 0,u=r.length;l<u;l++)c=r[l].getLayout().area,c&&(c<s&&(s=c),c>o&&(o=c));var d=r.area*r.area,f=n*n*a;return d?mathMax$3(f*o/d,d/(f*s)):1/0}function position(r,n,a,o,s){var l=n===a.width?0:1,c=1-l,u=["x","y"],d=["width","height"],f=a[u[l]],v=n?r.area/n:0;(s||v>a[d[c]])&&(v=a[d[c]]);for(var g=0,y=r.length;g<y;g++){var _=r[g],b={},T=v?_.getLayout().area/v:0,C=b[d[c]]=mathMax$3(v-2*o,0),P=a[u[l]]+a[d[l]]-f,E=g===y-1||P<T?P:T,M=b[d[l]]=mathMax$3(E-2*o,0);b[u[c]]=a[u[c]]+mathMin$3(o,C/2),b[u[l]]=f+mathMin$3(o,M/2),f+=E,_.setLayout(b,!0)}a[u[c]]+=v,a[d[c]]-=v}function estimateRootSize(r,n,a,o,s){var l=(n||{}).node,c=[o,s];if(!l||l===a)return c;for(var u,d=o*s,f=d*r.option.zoomToNodeRatio;u=l.parentNode;){for(var v=0,g=u.children,y=0,_=g.length;y<_;y++)v+=g[y].getValue();var b=l.getValue();if(b===0)return c;f*=v/b;var T=u.getModel(),C=T.get(PATH_BORDER_WIDTH),P=Math.max(C,getUpperLabelHeight(T));f+=4*C*C+(3*C+P)*Math.pow(f,.5),f>MAX_SAFE_INTEGER&&(f=MAX_SAFE_INTEGER),l=u}f<d&&(f=d);var E=Math.pow(f/d,.5);return[o*E,s*E]}function calculateRootPosition(r,n,a){if(n)return{x:n.x,y:n.y};var o={x:0,y:0};if(!a)return o;var s=a.node,l=s.getLayout();if(!l)return o;for(var c=[l.width/2,l.height/2],u=s;u;){var d=u.getLayout();c[0]+=d.x,c[1]+=d.y,u=u.parentNode}return{x:r.width/2-c[0],y:r.height/2-c[1]}}function prunning(r,n,a,o,s){var l=r.getLayout(),c=a[s],u=c&&c===r;if(!(c&&!u||s===a.length&&r!==o)){r.setLayout({isInView:!0,invisible:!u&&!n.intersect(l),isAboveViewRoot:u},!0);var d=new BoundingRect(n.x-l.x,n.y-l.y,n.width,n.height);each$b(r.viewChildren||[],function(f){prunning(f,d,a,o,s+1)})}}function getUpperLabelHeight(r){return r.get(PATH_UPPER_LABEL_SHOW)?r.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(r){r.registerSeriesModel(TreemapSeriesModel),r.registerChartView(TreemapView),r.registerVisual(treemapVisual),r.registerLayout(treemapLayout),installTreemapAction(r)}function categoryFilter(r){var n=r.findComponents({mainType:"legend"});!n||!n.length||r.eachSeriesByType("graph",function(a){var o=a.getCategoriesData(),s=a.getGraph(),l=s.data,c=o.mapArray(o.getName);l.filterSelf(function(u){var d=l.getItemModel(u),f=d.getShallow("category");if(f!=null){isNumber(f)&&(f=c[f]);for(var v=0;v<n.length;v++)if(!n[v].isSelected(f))return!1}return!0})})}function categoryVisual(r){var n={};r.eachSeriesByType("graph",function(a){var o=a.getCategoriesData(),s=a.getData(),l={};o.each(function(c){var u=o.getName(c);l["ec-"+u]=c;var d=o.getItemModel(c),f=d.getModel("itemStyle").getItemStyle();f.fill||(f.fill=a.getColorFromPalette(u,n)),o.setItemVisual(c,"style",f);for(var v=["symbol","symbolSize","symbolKeepAspect"],g=0;g<v.length;g++){var y=d.getShallow(v[g],!0);y!=null&&o.setItemVisual(c,v[g],y)}}),o.count()&&s.each(function(c){var u=s.getItemModel(c),d=u.getShallow("category");if(d!=null){isString(d)&&(d=l["ec-"+d]);var f=o.getItemVisual(d,"style"),v=s.ensureUniqueItemVisual(c,"style");extend(v,f);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++)s.setItemVisual(c,g[y],o.getItemVisual(d,g[y]))}})})}function normalize$1(r){return r instanceof Array||(r=[r,r]),r}function graphEdgeVisual(r){r.eachSeriesByType("graph",function(n){var a=n.getGraph(),o=n.getEdgeData(),s=normalize$1(n.get("edgeSymbol")),l=normalize$1(n.get("edgeSymbolSize"));o.setVisual("fromSymbol",s&&s[0]),o.setVisual("toSymbol",s&&s[1]),o.setVisual("fromSymbolSize",l&&l[0]),o.setVisual("toSymbolSize",l&&l[1]),o.setVisual("style",n.getModel("lineStyle").getLineStyle()),o.each(function(c){var u=o.getItemModel(c),d=a.getEdgeByIndex(c),f=normalize$1(u.getShallow("symbol",!0)),v=normalize$1(u.getShallow("symbolSize",!0)),g=u.getModel("lineStyle").getLineStyle(),y=o.ensureUniqueItemVisual(c,"style");switch(extend(y,g),y.stroke){case"source":{var _=d.node1.getVisual("style");y.stroke=_&&_.fill;break}case"target":{var _=d.node2.getVisual("style");y.stroke=_&&_.fill;break}}f[0]&&d.setVisual("fromSymbol",f[0]),f[1]&&d.setVisual("toSymbol",f[1]),v[0]&&d.setVisual("fromSymbolSize",v[0]),v[1]&&d.setVisual("toSymbolSize",v[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(r){return r.get("autoCurveness")||null},createCurveness=function(r,n){var a=getAutoCurvenessParams(r),o=20,s=[];if(isNumber(a))o=a;else if(isArray$1(a)){r.__curvenessList=a;return}n>o&&(o=n);var l=o%2?o+2:o+3;s=[];for(var c=0;c<l;c++)s.push((c%2?c+1:c)/10*(c%2?-1:1));r.__curvenessList=s},getKeyOfEdges=function(r,n,a){var o=[r.id,r.dataIndex].join("."),s=[n.id,n.dataIndex].join(".");return[a.uid,o,s].join(KEY_DELIMITER)},getOppositeKey=function(r){var n=r.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(r,n){var a=getKeyOfEdges(r.node1,r.node2,n);return n.__edgeMap[a]},getTotalLengthBetweenNodes=function(r,n){var a=getEdgeMapLengthWithKey(getKeyOfEdges(r.node1,r.node2,n),n),o=getEdgeMapLengthWithKey(getKeyOfEdges(r.node2,r.node1,n),n);return a+o},getEdgeMapLengthWithKey=function(r,n){var a=n.__edgeMap;return a[r]?a[r].length:0};function initCurvenessList(r){getAutoCurvenessParams(r)&&(r.__curvenessList=[],r.__edgeMap={},createCurveness(r))}function createEdgeMapForCurveness(r,n,a,o){if(getAutoCurvenessParams(a)){var s=getKeyOfEdges(r,n,a),l=a.__edgeMap,c=l[getOppositeKey(s)];l[s]&&!c?l[s].isForward=!0:c&&l[s]&&(c.isForward=!0,l[s].isForward=!1),l[s]=l[s]||[],l[s].push(o)}}function getCurvenessForEdge(r,n,a,o){var s=getAutoCurvenessParams(n),l=isArray$1(s);if(!s)return null;var c=getEdgeFromMap(r,n);if(!c)return null;for(var u=-1,d=0;d<c.length;d++)if(c[d]===a){u=d;break}var f=getTotalLengthBetweenNodes(r,n);createCurveness(n,f),r.lineStyle=r.lineStyle||{};var v=getKeyOfEdges(r.node1,r.node2,n),g=n.__curvenessList,y=l||f%2?0:1;if(c.isForward)return g[y+u];var _=getOppositeKey(v),b=getEdgeMapLengthWithKey(_,n),T=g[u+b+y];return o?l?s&&s[0]===0?(b+y)%2?T:-T:((b%2?0:1)+y)%2?T:-T:(b+y)%2?T:-T:g[u+b+y]}function simpleLayout(r){var n=r.coordinateSystem;if(!(n&&n.type!=="view")){var a=r.getGraph();a.eachNode(function(o){var s=o.getModel();o.setLayout([+s.get("x"),+s.get("y")])}),simpleLayoutEdge(a,r)}}function simpleLayoutEdge(r,n){r.eachEdge(function(a,o){var s=retrieve3(a.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(a,n,o,!0),0),l=clone$3(a.node1.getLayout()),c=clone$3(a.node2.getLayout()),u=[l,c];+s&&u.push([(l[0]+c[0])/2-(l[1]-c[1])*s,(l[1]+c[1])/2-(c[0]-l[0])*s]),a.setLayout(u)})}function graphSimpleLayout(r,n){r.eachSeriesByType("graph",function(a){var o=a.get("layout"),s=a.coordinateSystem;if(s&&s.type!=="view"){var l=a.getData(),c=[];each$f(s.dimensions,function(y){c=c.concat(l.mapDimensionsAll(y))});for(var u=0;u<l.count();u++){for(var d=[],f=!1,v=0;v<c.length;v++){var g=l.get(c[v],u);isNaN(g)||(f=!0),d.push(g)}f?l.setItemLayout(u,s.dataToPoint(d)):l.setItemLayout(u,[NaN,NaN])}simpleLayoutEdge(l.graph,a)}else(!o||o==="none")&&simpleLayout(a)})}function getNodeGlobalScale(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var a=r.option.nodeScaleRatio,o=n.scaleX,s=n.getZoom(),l=(s-1)*a+1;return l/o}function getSymbolSize(r){var n=r.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(r,n,a,o){var s=r.coordinateSystem;if(!(s&&s.type!=="view")){var l=s.getBoundingRect(),c=r.getData(),u=c.graph,d=l.width/2+l.x,f=l.height/2+l.y,v=Math.min(l.width,l.height)/2,g=c.count();if(c.setLayout({cx:d,cy:f}),!!g){if(a){var y=s.pointToData(o),_=y[0],b=y[1],T=[_-d,b-f];normalize$3(T,T),scale$2(T,T,v),a.setLayout([d+T[0],f+T[1]],!0);var C=r.get(["circular","rotateLabel"]);rotateNodeLabel(a,C,d,f)}_layoutNodesBasedOn[n](r,u,c,v,d,f,g),u.eachEdge(function(P,E){var M=retrieve3(P.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(P,r,E),0),I=clone$3(P.node1.getLayout()),L=clone$3(P.node2.getLayout()),N,V=(I[0]+L[0])/2,B=(I[1]+L[1])/2;+M&&(M*=3,N=[d*M+V*(1-M),f*M+B*(1-M)]),P.setLayout([I,L,N])})}}}var _layoutNodesBasedOn={value:function(r,n,a,o,s,l,c){var u=0,d=a.getSum("value"),f=Math.PI*2/(d||c);n.eachNode(function(v){var g=v.getValue("value"),y=f*(d?g:1)/2;u+=y,v.setLayout([o*Math.cos(u)+s,o*Math.sin(u)+l]),u+=y})},symbolSize:function(r,n,a,o,s,l,c){var u=0;_symbolRadiansHalf.length=c;var d=getNodeGlobalScale(r);n.eachNode(function(g){var y=getSymbolSize(g);isNaN(y)&&(y=2),y<0&&(y=0),y*=d;var _=Math.asin(y/2/o);isNaN(_)&&(_=PI$2/2),_symbolRadiansHalf[g.dataIndex]=_,u+=_*2});var f=(2*PI$2-u)/c/2,v=0;n.eachNode(function(g){var y=f+_symbolRadiansHalf[g.dataIndex];v+=y,(!g.getLayout()||!g.getLayout().fixed)&&g.setLayout([o*Math.cos(v)+s,o*Math.sin(v)+l]),v+=y})}};function rotateNodeLabel(r,n,a,o){var s=r.getGraphicEl();if(s){var l=r.getModel(),c=l.get(["label","rotate"])||0,u=s.getSymbolPath();if(n){var d=r.getLayout(),f=Math.atan2(d[1]-o,d[0]-a);f<0&&(f=Math.PI*2+f);var v=d[0]<a;v&&(f=f-Math.PI);var g=v?"left":"right";u.setTextConfig({rotation:-f,position:g,origin:"center"});var y=u.ensureState("emphasis");extend(y.textConfig||(y.textConfig={}),{position:g})}else u.setTextConfig({rotation:c*=Math.PI/180})}}function graphCircularLayout(r){r.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout(n,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(r,n,a){for(var o=r,s=n,l=a.rect,c=l.width,u=l.height,d=[l.x+c/2,l.y+u/2],f=a.gravity==null?.1:a.gravity,v=0;v<o.length;v++){var g=o[v];g.p||(g.p=create$2(c*(Math.random()-.5)+d[0],u*(Math.random()-.5)+d[1])),g.pp=clone$3(g.p),g.edges=null}var y=a.friction==null?.6:a.friction,_=y,b,T;return{warmUp:function(){_=y*.8},setFixed:function(C){o[C].fixed=!0},setUnfixed:function(C){o[C].fixed=!1},beforeStep:function(C){b=C},afterStep:function(C){T=C},step:function(C){b&&b(o,s);for(var P=[],E=o.length,M=0;M<s.length;M++){var I=s[M];if(!I.ignoreForceLayout){var L=I.n1,N=I.n2;sub(P,N.p,L.p);var V=len(P)-I.d,B=N.w/(L.w+N.w);isNaN(B)&&(B=0),normalize$3(P,P),!L.fixed&&scaleAndAdd(L.p,L.p,P,B*V*_),!N.fixed&&scaleAndAdd(N.p,N.p,P,-(1-B)*V*_)}}for(var M=0;M<E;M++){var z=o[M];z.fixed||(sub(P,d,z.p),scaleAndAdd(z.p,z.p,P,f*_))}for(var M=0;M<E;M++)for(var L=o[M],G=M+1;G<E;G++){var N=o[G];sub(P,N.p,L.p);var V=len(P);V===0&&(set$1(P,Math.random()-.5,Math.random()-.5),V=1);var H=(L.rep+N.rep)/V/V;!L.fixed&&scaleAndAdd(L.pp,L.pp,P,H),!N.fixed&&scaleAndAdd(N.pp,N.pp,P,-H)}for(var W=[],M=0;M<E;M++){var z=o[M];z.fixed||(sub(W,z.p,z.pp),scaleAndAdd(z.p,z.p,W,_),copy$1(z.pp,z.p))}_=_*.992;var j=_<.01;T&&T(o,s,j),C&&C(j)}}}function graphForceLayout(r){r.eachSeriesByType("graph",function(n){var a=n.coordinateSystem;if(!(a&&a.type!=="view"))if(n.get("layout")==="force"){var o=n.preservedPoints||{},s=n.getGraph(),l=s.data,c=s.edgeData,u=n.getModel("force"),d=u.get("initLayout");n.preservedPoints?l.each(function(M){var I=l.getId(M);l.setItemLayout(M,o[I]||[NaN,NaN])}):!d||d==="none"?simpleLayout(n):d==="circular"&&circularLayout(n,"value");var f=l.getDataExtent("value"),v=c.getDataExtent("value"),g=u.get("repulsion"),y=u.get("edgeLength"),_=isArray$1(g)?g:[g,g],b=isArray$1(y)?y:[y,y];b=[b[1],b[0]];var T=l.mapArray("value",function(M,I){var L=l.getItemLayout(I),N=linearMap$2(M,f,_);return isNaN(N)&&(N=(_[0]+_[1])/2),{w:N,rep:N,fixed:l.getItemModel(I).get("fixed"),p:!L||isNaN(L[0])||isNaN(L[1])?null:L}}),C=c.mapArray("value",function(M,I){var L=s.getEdgeByIndex(I),N=linearMap$2(M,v,b);isNaN(N)&&(N=(b[0]+b[1])/2);var V=L.getModel(),B=retrieve3(L.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(L,n,I,!0),0);return{n1:T[L.node1.dataIndex],n2:T[L.node2.dataIndex],d:N,curveness:B,ignoreForceLayout:V.get("ignoreForceLayout")}}),P=a.getBoundingRect(),E=forceLayout(T,C,{rect:P,gravity:u.get("gravity"),friction:u.get("friction")});E.beforeStep(function(M,I){for(var L=0,N=M.length;L<N;L++)M[L].fixed&&copy$1(M[L].p,s.getNodeByIndex(L).getLayout())}),E.afterStep(function(M,I,L){for(var N=0,V=M.length;N<V;N++)M[N].fixed||s.getNodeByIndex(N).setLayout(M[N].p),o[l.getId(N)]=M[N].p;for(var N=0,V=I.length;N<V;N++){var B=I[N],z=s.getEdgeByIndex(N),G=B.n1.p,H=B.n2.p,W=z.getLayout();W=W?W.slice():[],W[0]=W[0]||[],W[1]=W[1]||[],copy$1(W[0],G),copy$1(W[1],H),+B.curveness&&(W[2]=[(G[0]+H[0])/2-(G[1]-H[1])*B.curveness,(G[1]+H[1])/2-(H[0]-G[0])*B.curveness]),z.setLayout(W)}}),n.forceLayout=E,n.preservedPoints=o,E.step()}else n.forceLayout=null})}function getViewRect$3(r,n,a){var o=extend(r.getBoxLayoutParams(),{aspect:a});return getLayoutRect(o,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(r,n){var a=[];return r.eachSeriesByType("graph",function(o){var s=o.get("coordinateSystem");if(!s||s==="view"){var l=o.getData(),c=l.mapArray(function(C){var P=l.getItemModel(C);return[+P.get("x"),+P.get("y")]}),u=[],d=[];fromPoints(c,u,d),d[0]-u[0]===0&&(d[0]+=1,u[0]-=1),d[1]-u[1]===0&&(d[1]+=1,u[1]-=1);var f=(d[0]-u[0])/(d[1]-u[1]),v=getViewRect$3(o,n,f);isNaN(f)&&(u=[v.x,v.y],d=[v.x+v.width,v.y+v.height]);var g=d[0]-u[0],y=d[1]-u[1],_=v.width,b=v.height,T=o.coordinateSystem=new View;T.zoomLimit=o.get("scaleLimit"),T.setBoundingRect(u[0],u[1],g,y),T.setViewRect(v.x,v.y,_,b),T.setCenter(o.get("center"),n),T.setZoom(o.get("zoom")),a.push(T)}}),a}var straightLineProto=Line$1.prototype,bezierCurveProto=BezierCurve.prototype,StraightLineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var ECLinePath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="ec-line",o}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(a,o){isStraightLine(o)?straightLineProto.buildPath.call(this,a,o):bezierCurveProto.buildPath.call(this,a,o)},n.prototype.pointAt=function(a){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,a):bezierCurveProto.pointAt.call(this,a)},n.prototype.tangentAt=function(a){var o=this.shape,s=isStraightLine(o)?[o.x2-o.x1,o.y2-o.y1]:bezierCurveProto.tangentAt.call(this,a);return normalize$3(s,s)},n}(Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(r){return"_"+r+"Type"}function makeSymbolTypeValue(r,n,a){var o=n.getItemVisual(a,r);if(!o||o==="none")return o;var s=n.getItemVisual(a,r+"Size"),l=n.getItemVisual(a,r+"Rotate"),c=n.getItemVisual(a,r+"Offset"),u=n.getItemVisual(a,r+"KeepAspect"),d=normalizeSymbolSize(s),f=normalizeSymbolOffset(c||0,d);return o+d+f+(l||"")+(u||"")}function createSymbol(r,n,a){var o=n.getItemVisual(a,r);if(!(!o||o==="none")){var s=n.getItemVisual(a,r+"Size"),l=n.getItemVisual(a,r+"Rotate"),c=n.getItemVisual(a,r+"Offset"),u=n.getItemVisual(a,r+"KeepAspect"),d=normalizeSymbolSize(s),f=normalizeSymbolOffset(c||0,d),v=createSymbol$1(o,-d[0]/2+f[0],-d[1]/2+f[1],d[0],d[1],null,u);return v.__specifiedRotation=l==null||isNaN(l)?void 0:+l*Math.PI/180||0,v.name=r,v}}function createLine(r){var n=new ECLinePath({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,r),n}function setLinePoints(r,n){r.x1=n[0][0],r.y1=n[0][1],r.x2=n[1][0],r.y2=n[1][1],r.percent=1;var a=n[2];a?(r.cpx1=a[0],r.cpy1=a[1]):(r.cpx1=NaN,r.cpy1=NaN)}var Line=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;return l._createLine(a,o,s),l}return n.prototype._createLine=function(a,o,s){var l=a.hostModel,c=a.getItemLayout(o),u=createLine(c);u.shape.percent=0,initProps(u,{shape:{percent:1}},l,o),this.add(u),each$f(SYMBOL_CATEGORIES,function(d){var f=createSymbol(d,a,o);this.add(f),this[makeSymbolTypeKey(d)]=makeSymbolTypeValue(d,a,o)},this),this._updateCommonStl(a,o,s)},n.prototype.updateData=function(a,o,s){var l=a.hostModel,c=this.childOfName("line"),u=a.getItemLayout(o),d={shape:{}};setLinePoints(d.shape,u),updateProps$1(c,d,l,o),each$f(SYMBOL_CATEGORIES,function(f){var v=makeSymbolTypeValue(f,a,o),g=makeSymbolTypeKey(f);if(this[g]!==v){this.remove(this.childOfName(f));var y=createSymbol(f,a,o);this.add(y)}this[g]=v},this),this._updateCommonStl(a,o,s)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(a,o,s){var l=a.hostModel,c=this.childOfName("line"),u=s&&s.emphasisLineStyle,d=s&&s.blurLineStyle,f=s&&s.selectLineStyle,v=s&&s.labelStatesModels,g=s&&s.emphasisDisabled,y=s&&s.focus,_=s&&s.blurScope;if(!s||a.hasItemOption){var b=a.getItemModel(o),T=b.getModel("emphasis");u=T.getModel("lineStyle").getLineStyle(),d=b.getModel(["blur","lineStyle"]).getLineStyle(),f=b.getModel(["select","lineStyle"]).getLineStyle(),g=T.get("disabled"),y=T.get("focus"),_=T.get("blurScope"),v=getLabelStatesModels(b)}var C=a.getItemVisual(o,"style"),P=C.stroke;c.useStyle(C),c.style.fill=null,c.style.strokeNoScale=!0,c.ensureState("emphasis").style=u,c.ensureState("blur").style=d,c.ensureState("select").style=f,each$f(SYMBOL_CATEGORIES,function(N){var V=this.childOfName(N);if(V){V.setColor(P),V.style.opacity=C.opacity;for(var B=0;B<SPECIAL_STATES.length;B++){var z=SPECIAL_STATES[B],G=c.getState(z);if(G){var H=G.style||{},W=V.ensureState(z),j=W.style||(W.style={});H.stroke!=null&&(j[V.__isEmptyBrush?"stroke":"fill"]=H.stroke),H.opacity!=null&&(j.opacity=H.opacity)}}V.markRedraw()}},this);var E=l.getRawValue(o);setLabelStyle(this,v,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(N,V){return l.getFormattedLabel(N,V,a.dataType)}},inheritColor:P||"#000",defaultOpacity:C.opacity,defaultText:(E==null?a.getName(o):isFinite(E)?round$3(E):E)+""});var M=this.getTextContent();if(M){var I=v.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=I.get("position")||"middle";var L=I.get("distance");isArray$1(L)||(L=[L,L]),M.__labelDistance=L}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,y,_,g)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(a,o){this.setLinePoints(a.getItemLayout(o))},n.prototype.setLinePoints=function(a){var o=this.childOfName("line");setLinePoints(o.shape,a),o.dirty()},n.prototype.beforeUpdate=function(){var a=this,o=a.childOfName("fromSymbol"),s=a.childOfName("toSymbol"),l=a.getTextContent();if(!o&&!s&&(!l||l.ignore))return;for(var c=1,u=this.parent;u;)u.scaleX&&(c/=u.scaleX),u=u.parent;var d=a.childOfName("line");if(!this.__dirty&&!d.__dirty)return;var f=d.shape.percent,v=d.pointAt(0),g=d.pointAt(f),y=sub([],g,v);normalize$3(y,y);function _(G,H){var W=G.__specifiedRotation;if(W==null){var j=d.tangentAt(H);G.attr("rotation",(H===1?-1:1)*Math.PI/2-Math.atan2(j[1],j[0]))}else G.attr("rotation",W)}if(o&&(o.setPosition(v),_(o,0),o.scaleX=o.scaleY=c*f,o.markRedraw()),s&&(s.setPosition(g),_(s,1),s.scaleX=s.scaleY=c*f,s.markRedraw()),l&&!l.ignore){l.x=l.y=0,l.originX=l.originY=0;var b=void 0,T=void 0,C=l.__labelDistance,P=C[0]*c,E=C[1]*c,M=f/2,I=d.tangentAt(M),L=[I[1],-I[0]],N=d.pointAt(M);L[1]>0&&(L[0]=-L[0],L[1]=-L[1]);var V=I[0]<0?-1:1;if(l.__position!=="start"&&l.__position!=="end"){var B=-Math.atan2(I[1],I[0]);g[0]<v[0]&&(B=Math.PI+B),l.rotation=B}var z=void 0;switch(l.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":z=-E,T="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":z=E,T="top";break;default:z=0,T="middle"}switch(l.__position){case"end":l.x=y[0]*P+g[0],l.y=y[1]*E+g[1],b=y[0]>.8?"left":y[0]<-.8?"right":"center",T=y[1]>.8?"top":y[1]<-.8?"bottom":"middle";break;case"start":l.x=-y[0]*P+v[0],l.y=-y[1]*E+v[1],b=y[0]>.8?"right":y[0]<-.8?"left":"center",T=y[1]>.8?"bottom":y[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":l.x=P*V+v[0],l.y=v[1]+z,b=I[0]<0?"right":"left",l.originX=-P*V,l.originY=-z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":l.x=N[0],l.y=N[1]+z,b="center",l.originY=-z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":l.x=-P*V+g[0],l.y=g[1]+z,b=I[0]>=0?"right":"left",l.originX=P*V,l.originY=-z;break}l.scaleX=l.scaleY=c,l.setStyle({verticalAlign:l.__verticalAlign||T,align:l.__align||b})}},n}(Group$3),LineDraw=function(){function r(n){this.group=new Group$3,this._LineCtor=n||Line}return r.prototype.updateData=function(n){var a=this;this._progressiveEls=null;var o=this,s=o.group,l=o._lineData;o._lineData=n,l||s.removeAll();var c=makeSeriesScope$1(n);n.diff(l).add(function(u){a._doAdd(n,u,c)}).update(function(u,d){a._doUpdate(l,n,d,u,c)}).remove(function(u){s.remove(l.getItemGraphicEl(u))}).execute()},r.prototype.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(a,o){a.updateLayout(n,o)},this)},r.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$1(n),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(n,a){this._progressiveEls=[];function o(u){!u.isGroup&&!isEffectObject(u)&&(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var s=n.start;s<n.end;s++){var l=a.getItemLayout(s);if(lineNeedsDraw(l)){var c=new this._LineCtor(a,s,this._seriesScope);c.traverse(o),this.group.add(c),a.setItemGraphicEl(s,c),this._progressiveEls.push(c)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype._doAdd=function(n,a,o){var s=n.getItemLayout(a);if(lineNeedsDraw(s)){var l=new this._LineCtor(n,a,o);n.setItemGraphicEl(a,l),this.group.add(l)}},r.prototype._doUpdate=function(n,a,o,s,l){var c=n.getItemGraphicEl(o);if(!lineNeedsDraw(a.getItemLayout(s))){this.group.remove(c);return}c?c.updateData(a,s,l):c=new this._LineCtor(a,s,l),a.setItemGraphicEl(s,c),this.group.add(c)},r}();function isEffectObject(r){return r.animators&&r.animators.length>0}function makeSeriesScope$1(r){var n=r.hostModel,a=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:a.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:a.get("disabled"),blurScope:a.get("blurScope"),focus:a.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(r){return isNaN(r[0])||isNaN(r[1])}function lineNeedsDraw(r){return r&&!isPointNaN(r[0])&&!isPointNaN(r[1])}var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(r,n,a){for(var o=r[0],s=r[1],l=r[2],c=1/0,u,d=a*a,f=.1,v=.1;v<=.9;v+=.1){v1[0]=quadraticAt(o[0],s[0],l[0],v),v1[1]=quadraticAt(o[1],s[1],l[1],v);var g=mathAbs(v2DistSquare(v1,n)-d);g<c&&(c=g,u=v)}for(var y=0;y<32;y++){var _=u+f;v2[0]=quadraticAt(o[0],s[0],l[0],u),v2[1]=quadraticAt(o[1],s[1],l[1],u),v3[0]=quadraticAt(o[0],s[0],l[0],_),v3[1]=quadraticAt(o[1],s[1],l[1],_);var g=v2DistSquare(v2,n)-d;if(mathAbs(g)<.01)break;var b=v2DistSquare(v3,n)-d;f/=2,g<0?b>=0?u=u+f:u=u-f:b>=0?u=u-f:u=u+f}return u}function adjustEdge(r,n){var a=[],o=quadraticSubdivide,s=[[],[],[]],l=[[],[]],c=[];n/=2,r.eachEdge(function(u,d){var f=u.getLayout(),v=u.getVisual("fromSymbol"),g=u.getVisual("toSymbol");f.__original||(f.__original=[clone$3(f[0]),clone$3(f[1])],f[2]&&f.__original.push(clone$3(f[2])));var y=f.__original;if(f[2]!=null){if(copy$1(s[0],y[0]),copy$1(s[1],y[2]),copy$1(s[2],y[1]),v&&v!=="none"){var _=getSymbolSize(u.node1),b=intersectCurveCircle(s,y[0],_*n);o(s[0][0],s[1][0],s[2][0],b,a),s[0][0]=a[3],s[1][0]=a[4],o(s[0][1],s[1][1],s[2][1],b,a),s[0][1]=a[3],s[1][1]=a[4]}if(g&&g!=="none"){var _=getSymbolSize(u.node2),b=intersectCurveCircle(s,y[1],_*n);o(s[0][0],s[1][0],s[2][0],b,a),s[1][0]=a[1],s[2][0]=a[2],o(s[0][1],s[1][1],s[2][1],b,a),s[1][1]=a[1],s[2][1]=a[2]}copy$1(f[0],s[0]),copy$1(f[1],s[2]),copy$1(f[2],s[1])}else{if(copy$1(l[0],y[0]),copy$1(l[1],y[1]),sub(c,l[1],l[0]),normalize$3(c,c),v&&v!=="none"){var _=getSymbolSize(u.node1);scaleAndAdd$1(l[0],l[0],c,_*n)}if(g&&g!=="none"){var _=getSymbolSize(u.node2);scaleAndAdd$1(l[1],l[1],c,-_*n)}copy$1(f[0],l[0]),copy$1(f[1],l[1])}})}function isViewCoordSys(r){return r.type==="view"}var GraphView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){var s=new SymbolDraw,l=new LineDraw,c=this.group;this._controller=new RoamController(o.getZr()),this._controllerHost={target:c},c.add(s.group),c.add(l.group),this._symbolDraw=s,this._lineDraw=l,this._firstRender=!0},n.prototype.render=function(a,o,s){var l=this,c=a.coordinateSystem;this._model=a;var u=this._symbolDraw,d=this._lineDraw,f=this.group;if(isViewCoordSys(c)){var v={x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY};this._firstRender?f.attr(v):updateProps$1(f,v,a)}adjustEdge(a.getGraph(),getNodeGlobalScale(a));var g=a.getData();u.updateData(g);var y=a.getEdgeData();d.updateData(y),this._updateNodeAndLinkScale(),this._updateController(a,o,s),clearTimeout(this._layoutTimeout);var _=a.forceLayout,b=a.get(["force","layoutAnimation"]);_&&this._startForceLayoutIteration(_,b);var T=a.get("layout");g.graph.eachNode(function(M){var I=M.dataIndex,L=M.getGraphicEl(),N=M.getModel();if(L){L.off("drag").off("dragend");var V=N.get("draggable");V&&L.on("drag",function(z){switch(T){case"force":_.warmUp(),!l._layouting&&l._startForceLayoutIteration(_,b),_.setFixed(I),g.setItemLayout(I,[L.x,L.y]);break;case"circular":g.setItemLayout(I,[L.x,L.y]),M.setLayout({fixed:!0},!0),circularLayout(a,"symbolSize",M,[z.offsetX,z.offsetY]),l.updateLayout(a);break;case"none":default:g.setItemLayout(I,[L.x,L.y]),simpleLayoutEdge(a.getGraph(),a),l.updateLayout(a);break}}).on("dragend",function(){_&&_.setUnfixed(I)}),L.setDraggable(V,!!N.get("cursor"));var B=N.get(["emphasis","focus"]);B==="adjacency"&&(getECData(L).focus=M.getAdjacentDataIndices())}}),g.graph.eachEdge(function(M){var I=M.getGraphicEl(),L=M.getModel().get(["emphasis","focus"]);I&&L==="adjacency"&&(getECData(I).focus={edge:[M.dataIndex],node:[M.node1.dataIndex,M.node2.dataIndex]})});var C=a.get("layout")==="circular"&&a.get(["circular","rotateLabel"]),P=g.getLayout("cx"),E=g.getLayout("cy");g.graph.eachNode(function(M){rotateNodeLabel(M,C,P,E)}),this._firstRender=!1},n.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(a,o){var s=this;(function l(){a.step(function(c){s.updateLayout(s._model),(s._layouting=!c)&&(o?s._layoutTimeout=setTimeout(l,16):l())})})()},n.prototype._updateController=function(a,o,s){var l=this,c=this._controller,u=this._controllerHost,d=this.group;if(c.setPointerChecker(function(f,v,g){var y=d.getBoundingRect();return y.applyTransform(d.transform),y.contain(v,g)&&!onIrrelevantElement(f,s,a)}),!isViewCoordSys(a.coordinateSystem)){c.disable();return}c.enable(a.get("roam")),u.zoomLimit=a.get("scaleLimit"),u.zoom=a.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(f){updateViewOnPan(u,f.dx,f.dy),s.dispatchAction({seriesId:a.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){updateViewOnZoom(u,f.scale,f.originX,f.originY),s.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),l._updateNodeAndLinkScale(),adjustEdge(a.getGraph(),getNodeGlobalScale(a)),l._lineDraw.updateLayout(),s.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var a=this._model,o=a.getData(),s=getNodeGlobalScale(a);o.eachItemGraphicEl(function(l,c){l&&l.setSymbolScale(s)})},n.prototype.updateLayout=function(a){adjustEdge(a.getGraph(),getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView);function generateNodeKey(r){return"_EC_"+r}var Graph=function(){function r(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(n,a){n=n==null?""+a:""+n;var o=this._nodesMap;if(!o[generateNodeKey(n)]){var s=new GraphNode(n,a);return s.hostGraph=this,this.nodes.push(s),o[generateNodeKey(n)]=s,s}},r.prototype.getNodeByIndex=function(n){var a=this.data.getRawIndex(n);return this.nodes[a]},r.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},r.prototype.addEdge=function(n,a,o){var s=this._nodesMap,l=this._edgesMap;if(isNumber(n)&&(n=this.nodes[n]),isNumber(a)&&(a=this.nodes[a]),n instanceof GraphNode||(n=s[generateNodeKey(n)]),a instanceof GraphNode||(a=s[generateNodeKey(a)]),!(!n||!a)){var c=n.id+"-"+a.id,u=new GraphEdge(n,a,o);return u.hostGraph=this,this._directed&&(n.outEdges.push(u),a.inEdges.push(u)),n.edges.push(u),n!==a&&a.edges.push(u),this.edges.push(u),l[c]=u,u}},r.prototype.getEdgeByIndex=function(n){var a=this.edgeData.getRawIndex(n);return this.edges[a]},r.prototype.getEdge=function(n,a){n instanceof GraphNode&&(n=n.id),a instanceof GraphNode&&(a=a.id);var o=this._edgesMap;return this._directed?o[n+"-"+a]:o[n+"-"+a]||o[a+"-"+n]},r.prototype.eachNode=function(n,a){for(var o=this.nodes,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&n.call(a,o[l],l)},r.prototype.eachEdge=function(n,a){for(var o=this.edges,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&o[l].node1.dataIndex>=0&&o[l].node2.dataIndex>=0&&n.call(a,o[l],l)},r.prototype.breadthFirstTraverse=function(n,a,o,s){if(a instanceof GraphNode||(a=this._nodesMap[generateNodeKey(a)]),!!a){for(var l=o==="out"?"outEdges":o==="in"?"inEdges":"edges",c=0;c<this.nodes.length;c++)this.nodes[c].__visited=!1;if(!n.call(s,a,null))for(var u=[a];u.length;)for(var d=u.shift(),f=d[l],c=0;c<f.length;c++){var v=f[c],g=v.node1===d?v.node2:v.node1;if(!g.__visited){if(n.call(s,g,d))return;u.push(g),g.__visited=!0}}}},r.prototype.update=function(){for(var n=this.data,a=this.edgeData,o=this.nodes,s=this.edges,l=0,c=o.length;l<c;l++)o[l].dataIndex=-1;for(var l=0,c=n.count();l<c;l++)o[n.getRawIndex(l)].dataIndex=l;a.filterSelf(function(u){var d=s[a.getRawIndex(u)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0});for(var l=0,c=s.length;l<c;l++)s[l].dataIndex=-1;for(var l=0,c=a.count();l<c;l++)s[a.getRawIndex(l)].dataIndex=l},r.prototype.clone=function(){for(var n=new r(this._directed),a=this.nodes,o=this.edges,s=0;s<a.length;s++)n.addNode(a[s].id,a[s].dataIndex);for(var s=0;s<o.length;s++){var l=o[s];n.addEdge(l.node1.id,l.node2.id,l.dataIndex)}return n},r}(),GraphNode=function(){function r(n,a){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n??"",this.dataIndex=a??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var a=this.hostGraph,o=a.data.getItemModel(this.dataIndex);return o.getModel(n)}},r.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},a=0;a<this.edges.length;a++){var o=this.edges[a];o.dataIndex<0||(n.edge.push(o.dataIndex),n.node.push(o.node1.dataIndex,o.node2.dataIndex))}return n},r.prototype.getTrajectoryDataIndices=function(){for(var n=createHashMap(),a=createHashMap(),o=0;o<this.edges.length;o++){var s=this.edges[o];if(!(s.dataIndex<0)){n.set(s.dataIndex,!0);for(var l=[s.node1],c=[s.node2],u=0;u<l.length;){var d=l[u];u++,a.set(d.dataIndex,!0);for(var f=0;f<d.inEdges.length;f++)n.set(d.inEdges[f].dataIndex,!0),l.push(d.inEdges[f].node1)}for(u=0;u<c.length;){var v=c[u];u++,a.set(v.dataIndex,!0);for(var f=0;f<v.outEdges.length;f++)n.set(v.outEdges[f].dataIndex,!0),c.push(v.outEdges[f].node2)}}}return{edge:n.keys(),node:a.keys()}},r}(),GraphEdge=function(){function r(n,a,o){this.dataIndex=-1,this.node1=n,this.node2=a,this.dataIndex=o??-1}return r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var a=this.hostGraph,o=a.edgeData.getItemModel(this.dataIndex);return o.getModel(n)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var n=createHashMap(),a=createHashMap();n.set(this.dataIndex,!0);for(var o=[this.node1],s=[this.node2],l=0;l<o.length;){var c=o[l];l++,a.set(c.dataIndex,!0);for(var u=0;u<c.inEdges.length;u++)n.set(c.inEdges[u].dataIndex,!0),o.push(c.inEdges[u].node1)}for(l=0;l<s.length;){var d=s[l];l++,a.set(d.dataIndex,!0);for(var u=0;u<d.outEdges.length;u++)n.set(d.outEdges[u].dataIndex,!0),s.push(d.outEdges[u].node2)}return{edge:n.keys(),node:a.keys()}},r}();function createGraphDataProxyMixin(r,n){return{getValue:function(a){var o=this[r][n];return o.getStore().get(o.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,o){this.dataIndex>=0&&this[r][n].setItemVisual(this.dataIndex,a,o)},getVisual:function(a){return this[r][n].getItemVisual(this.dataIndex,a)},setLayout:function(a,o){this.dataIndex>=0&&this[r][n].setItemLayout(this.dataIndex,a,o)},getLayout:function(){return this[r][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));function createGraphFromNodeEdge(r,n,a,o,s){for(var l=new Graph(o),c=0;c<r.length;c++)l.addNode(retrieve(r[c].id,r[c].name,c),c);for(var u=[],d=[],f=0,c=0;c<n.length;c++){var v=n[c],g=v.source,y=v.target;l.addEdge(g,y,f)&&(d.push(v),u.push(retrieve(convertOptionIdName(v.id,null),g+" > "+y)),f++)}var _=a.get("coordinateSystem"),b;if(_==="cartesian2d"||_==="polar")b=createSeriesData(r,a);else{var T=CoordinateSystemManager.get(_),C=T?T.dimensions||[]:[];indexOf(C,"value")<0&&C.concat(["value"]);var P=prepareSeriesDataSchema(r,{coordDimensions:C,encodeDefine:a.getEncode()}).dimensions;b=new SeriesData(P,a),b.initData(r)}var E=new SeriesData(["value"],a);return E.initData(d,u),s&&s(b,E),linkSeriesData({mainData:b,struct:l,structAttr:"graph",datas:{node:b,edge:E},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l}var GraphSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments);var o=this;function s(){return o._categoriesData}this.legendVisualProvider=new LegendVisualProvider(s,s),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},n.prototype.mergeOption=function(a){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(a){r.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(a,"edgeLabel",["show"])},n.prototype.getInitialData=function(a,o){var s=a.edges||a.links||[],l=a.data||a.nodes||[],c=this;if(l&&s){initCurvenessList(this);var u=createGraphFromNodeEdge(l,s,this,!0,d);return each$f(u.edges,function(f){createEdgeMapForCurveness(f.node1,f.node2,this,f.dataIndex)},this),u.data}function d(f,v){f.wrapMethod("getItemModel",function(b){var T=c._categoriesModels,C=b.getShallow("category"),P=T[C];return P&&(P.parentModel=b.parentModel,b.parentModel=P),b});var g=Model.prototype.getModel;function y(b,T){var C=g.call(this,b,T);return C.resolveParentPath=_,C}v.wrapMethod("getItemModel",function(b){return b.resolveParentPath=_,b.getModel=y,b});function _(b){if(b&&(b[0]==="label"||b[1]==="label")){var T=b.slice();return b[0]==="label"?T[0]="edgeLabel":b[1]==="label"&&(T[1]="edgeLabel"),T}return b}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(a,o,s){if(s==="edge"){var l=this.getData(),c=this.getDataParams(a,s),u=l.graph.getEdgeByIndex(a),d=l.getName(u.node1.dataIndex),f=l.getName(u.node2.dataIndex),v=[];return d!=null&&v.push(d),f!=null&&v.push(f),createTooltipMarkup("nameValue",{name:v.join(" > "),value:c.value,noValue:c.value==null})}var g=defaultSeriesFormatTooltip({series:this,dataIndex:a,multipleSeries:o});return g},n.prototype._updateCategoriesData=function(){var a=map$1(this.option.categories||[],function(s){return s.value!=null?s:extend({value:0},s)}),o=new SeriesData(["value"],this);o.initData(a),this._categoriesData=o,this._categoriesModels=o.mapArray(function(s){return o.getItemModel(s)})},n.prototype.setZoom=function(a){this.option.zoom=a},n.prototype.setCenter=function(a){this.option.center=a},n.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel),actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(r){r.registerChartView(GraphView),r.registerSeriesModel(GraphSeriesModel),r.registerProcessor(categoryFilter),r.registerVisual(categoryVisual),r.registerVisual(graphEdgeVisual),r.registerLayout(graphSimpleLayout),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),r.registerLayout(graphForceLayout),r.registerCoordinateSystem("graphView",{dimensions:View.dimensions,create:createViewCoordSys}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),r.registerAction(actionInfo$1,function(n,a,o){a.eachComponent({mainType:"series",query:n},function(s){var l=s.coordinateSystem,c=updateCenterAndZoom(l,n,void 0,o);s.setCenter&&s.setCenter(c.center),s.setZoom&&s.setZoom(c.zoom)})})}var PointerShape=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),PointerPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="pointer",o}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(a,o){var s=Math.cos,l=Math.sin,c=o.r,u=o.width,d=o.angle,f=o.x-s(d)*u*(u>=c/3?1:2),v=o.y-l(d)*u*(u>=c/3?1:2);d=o.angle-Math.PI/2,a.moveTo(f,v),a.lineTo(o.x+s(d)*u,o.y+l(d)*u),a.lineTo(o.x+s(o.angle)*c,o.y+l(o.angle)*c),a.lineTo(o.x-s(d)*u,o.y-l(d)*u),a.lineTo(f,v)},n}(Path);function parsePosition(r,n){var a=r.get("center"),o=n.getWidth(),s=n.getHeight(),l=Math.min(o,s),c=parsePercent(a[0],n.getWidth()),u=parsePercent(a[1],n.getHeight()),d=parsePercent(r.get("radius"),l/2);return{cx:c,cy:u,r:d}}function formatLabel(r,n){var a=r==null?"":r+"";return n&&(isString(n)?a=n.replace("{value}",a):isFunction(n)&&(a=n(r))),a}var GaugeView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){this.group.removeAll();var l=a.get(["axisLine","lineStyle","color"]),c=parsePosition(a,s);this._renderMain(a,o,s,l,c),this._data=a.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(a,o,s,l,c){var u=this.group,d=a.get("clockwise"),f=-a.get("startAngle")/180*Math.PI,v=-a.get("endAngle")/180*Math.PI,g=a.getModel("axisLine"),y=g.get("roundCap"),_=y?SausagePath:Sector,b=g.get("show"),T=g.getModel("lineStyle"),C=T.get("width"),P=[f,v];normalizeArcAngles(P,!d),f=P[0],v=P[1];for(var E=v-f,M=f,I=[],L=0;b&&L<l.length;L++){var N=Math.min(Math.max(l[L][0],0),1);v=f+E*N;var V=new _({shape:{startAngle:M,endAngle:v,cx:c.cx,cy:c.cy,clockwise:d,r0:c.r-C,r:c.r},silent:!0});V.setStyle({fill:l[L][1]}),V.setStyle(T.getLineStyle(["color","width"])),I.push(V),M=v}I.reverse(),each$f(I,function(z){return u.add(z)});var B=function(z){if(z<=0)return l[0][1];var G;for(G=0;G<l.length;G++)if(l[G][0]>=z&&(G===0?0:l[G-1][0])<z)return l[G][1];return l[G-1][1]};this._renderTicks(a,o,s,B,c,f,v,d,C),this._renderTitleAndDetail(a,o,s,B,c),this._renderAnchor(a,c),this._renderPointer(a,o,s,B,c,f,v,d,C)},n.prototype._renderTicks=function(a,o,s,l,c,u,d,f,v){for(var g=this.group,y=c.cx,_=c.cy,b=c.r,T=+a.get("min"),C=+a.get("max"),P=a.getModel("splitLine"),E=a.getModel("axisTick"),M=a.getModel("axisLabel"),I=a.get("splitNumber"),L=E.get("splitNumber"),N=parsePercent(P.get("length"),b),V=parsePercent(E.get("length"),b),B=u,z=(d-u)/I,G=z/L,H=P.getModel("lineStyle").getLineStyle(),W=E.getModel("lineStyle").getLineStyle(),j=P.get("distance"),X,Z,q=0;q<=I;q++){if(X=Math.cos(B),Z=Math.sin(B),P.get("show")){var le=j?j+v:v,ae=new Line$1({shape:{x1:X*(b-le)+y,y1:Z*(b-le)+_,x2:X*(b-N-le)+y,y2:Z*(b-N-le)+_},style:H,silent:!0});H.stroke==="auto"&&ae.setStyle({stroke:l(q/I)}),g.add(ae)}if(M.get("show")){var le=M.get("distance")+j,he=formatLabel(round$3(q/I*(C-T)+T),M.get("formatter")),ve=l(q/I),ce=X*(b-N-le)+y,fe=Z*(b-N-le)+_,_e=M.get("rotate"),Ce=0;_e==="radial"?(Ce=-B+2*Math.PI,Ce>Math.PI/2&&(Ce+=Math.PI)):_e==="tangential"?Ce=-B-Math.PI/2:isNumber(_e)&&(Ce=_e*Math.PI/180),Ce===0?g.add(new ZRText({style:createTextStyle(M,{text:he,x:ce,y:fe,verticalAlign:Z<-.8?"top":Z>.8?"bottom":"middle",align:X<-.4?"left":X>.4?"right":"center"},{inheritColor:ve}),silent:!0})):g.add(new ZRText({style:createTextStyle(M,{text:he,x:ce,y:fe,verticalAlign:"middle",align:"center"},{inheritColor:ve}),silent:!0,originX:ce,originY:fe,rotation:Ce}))}if(E.get("show")&&q!==I){var le=E.get("distance");le=le?le+v:v;for(var Se=0;Se<=L;Se++){X=Math.cos(B),Z=Math.sin(B);var De=new Line$1({shape:{x1:X*(b-le)+y,y1:Z*(b-le)+_,x2:X*(b-V-le)+y,y2:Z*(b-V-le)+_},silent:!0,style:W});W.stroke==="auto"&&De.setStyle({stroke:l((q+Se/L)/I)}),g.add(De),B+=G}B-=G}else B+=z}},n.prototype._renderPointer=function(a,o,s,l,c,u,d,f,v){var g=this.group,y=this._data,_=this._progressEls,b=[],T=a.get(["pointer","show"]),C=a.getModel("progress"),P=C.get("show"),E=a.getData(),M=E.mapDimension("value"),I=+a.get("min"),L=+a.get("max"),N=[I,L],V=[u,d];function B(G,H){var W=E.getItemModel(G),j=W.getModel("pointer"),X=parsePercent(j.get("width"),c.r),Z=parsePercent(j.get("length"),c.r),q=a.get(["pointer","icon"]),le=j.get("offsetCenter"),ae=parsePercent(le[0],c.r),he=parsePercent(le[1],c.r),ve=j.get("keepAspect"),ce;return q?ce=createSymbol$1(q,ae-X/2,he-Z,X,Z,null,ve):ce=new PointerPath({shape:{angle:-Math.PI/2,width:X,r:Z,x:ae,y:he}}),ce.rotation=-(H+Math.PI/2),ce.x=c.cx,ce.y=c.cy,ce}function z(G,H){var W=C.get("roundCap"),j=W?SausagePath:Sector,X=C.get("overlap"),Z=X?C.get("width"):v/E.count(),q=X?c.r-Z:c.r-(G+1)*Z,le=X?c.r:c.r-G*Z,ae=new j({shape:{startAngle:u,endAngle:H,cx:c.cx,cy:c.cy,clockwise:f,r0:q,r:le}});return X&&(ae.z2=linearMap$2(E.get(M,G),[I,L],[100,0],!0)),ae}(P||T)&&(E.diff(y).add(function(G){var H=E.get(M,G);if(T){var W=B(G,u);initProps(W,{rotation:-((isNaN(+H)?V[0]:linearMap$2(H,N,V,!0))+Math.PI/2)},a),g.add(W),E.setItemGraphicEl(G,W)}if(P){var j=z(G,u),X=C.get("clip");initProps(j,{shape:{endAngle:linearMap$2(H,N,V,X)}},a),g.add(j),setCommonECData(a.seriesIndex,E.dataType,G,j),b[G]=j}}).update(function(G,H){var W=E.get(M,G);if(T){var j=y.getItemGraphicEl(H),X=j?j.rotation:u,Z=B(G,X);Z.rotation=X,updateProps$1(Z,{rotation:-((isNaN(+W)?V[0]:linearMap$2(W,N,V,!0))+Math.PI/2)},a),g.add(Z),E.setItemGraphicEl(G,Z)}if(P){var q=_[H],le=q?q.shape.endAngle:u,ae=z(G,le),he=C.get("clip");updateProps$1(ae,{shape:{endAngle:linearMap$2(W,N,V,he)}},a),g.add(ae),setCommonECData(a.seriesIndex,E.dataType,G,ae),b[G]=ae}}).execute(),E.each(function(G){var H=E.getItemModel(G),W=H.getModel("emphasis"),j=W.get("focus"),X=W.get("blurScope"),Z=W.get("disabled");if(T){var q=E.getItemGraphicEl(G),le=E.getItemVisual(G,"style"),ae=le.fill;if(q instanceof ZRImage){var he=q.style;q.useStyle(extend({image:he.image,x:he.x,y:he.y,width:he.width,height:he.height},le))}else q.useStyle(le),q.type!=="pointer"&&q.setColor(ae);q.setStyle(H.getModel(["pointer","itemStyle"]).getItemStyle()),q.style.fill==="auto"&&q.setStyle("fill",l(linearMap$2(E.get(M,G),N,[0,1],!0))),q.z2EmphasisLift=0,setStatesStylesFromModel(q,H),toggleHoverEmphasis(q,j,X,Z)}if(P){var ve=b[G];ve.useStyle(E.getItemVisual(G,"style")),ve.setStyle(H.getModel(["progress","itemStyle"]).getItemStyle()),ve.z2EmphasisLift=0,setStatesStylesFromModel(ve,H),toggleHoverEmphasis(ve,j,X,Z)}}),this._progressEls=b)},n.prototype._renderAnchor=function(a,o){var s=a.getModel("anchor"),l=s.get("show");if(l){var c=s.get("size"),u=s.get("icon"),d=s.get("offsetCenter"),f=s.get("keepAspect"),v=createSymbol$1(u,o.cx-c/2+parsePercent(d[0],o.r),o.cy-c/2+parsePercent(d[1],o.r),c,c,null,f);v.z2=s.get("showAbove")?1:0,v.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(v)}},n.prototype._renderTitleAndDetail=function(a,o,s,l,c){var u=this,d=a.getData(),f=d.mapDimension("value"),v=+a.get("min"),g=+a.get("max"),y=new Group$3,_=[],b=[],T=a.isAnimationEnabled(),C=a.get(["pointer","showAbove"]);d.diff(this._data).add(function(P){_[P]=new ZRText({silent:!0}),b[P]=new ZRText({silent:!0})}).update(function(P,E){_[P]=u._titleEls[E],b[P]=u._detailEls[E]}).execute(),d.each(function(P){var E=d.getItemModel(P),M=d.get(f,P),I=new Group$3,L=l(linearMap$2(M,[v,g],[0,1],!0)),N=E.getModel("title");if(N.get("show")){var V=N.get("offsetCenter"),B=c.cx+parsePercent(V[0],c.r),z=c.cy+parsePercent(V[1],c.r),G=_[P];G.attr({z2:C?0:2,style:createTextStyle(N,{x:B,y:z,text:d.getName(P),align:"center",verticalAlign:"middle"},{inheritColor:L})}),I.add(G)}var H=E.getModel("detail");if(H.get("show")){var W=H.get("offsetCenter"),j=c.cx+parsePercent(W[0],c.r),X=c.cy+parsePercent(W[1],c.r),Z=parsePercent(H.get("width"),c.r),q=parsePercent(H.get("height"),c.r),le=a.get(["progress","show"])?d.getItemVisual(P,"style").fill:L,G=b[P],ae=H.get("formatter");G.attr({z2:C?0:2,style:createTextStyle(H,{x:j,y:X,text:formatLabel(M,ae),width:isNaN(Z)?null:Z,height:isNaN(q)?null:q,align:"center",verticalAlign:"middle"},{inheritColor:le})}),setLabelValueAnimation(G,{normal:H},M,function(ve){return formatLabel(ve,ae)}),T&&animateLabelValue(G,P,d,a,{getFormattedLabel:function(ve,ce,fe,_e,Ce,Se){return formatLabel(Se?Se.interpolatedValue:M,ae)}}),I.add(G)}y.add(I)}),this.group.add(y),this._titleEls=_,this._detailEls=b},n.type="gauge",n}(ChartView),GaugeSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.visualStyleAccessPath="itemStyle",a}return n.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel);function install$E(r){r.registerChartView(GaugeView),r.registerSeriesModel(GaugeSeriesModel)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(r){__extends(n,r);function n(a,o){var s=r.call(this)||this,l=s,c=new Polyline$1,u=new ZRText;return l.setTextContent(u),s.setTextGuideLine(c),s.updateData(a,o,!0),s}return n.prototype.updateData=function(a,o,s){var l=this,c=a.hostModel,u=a.getItemModel(o),d=a.getItemLayout(o),f=u.getModel("emphasis"),v=u.get(opacityAccessPath$1);v=v??1,s||saveOldStyle(l),l.useStyle(a.getItemVisual(o,"style")),l.style.lineJoin="round",s?(l.setShape({points:d.points}),l.style.opacity=0,initProps(l,{style:{opacity:v}},c,o)):updateProps$1(l,{style:{opacity:v},shape:{points:d.points}},c,o),setStatesStylesFromModel(l,u),this._updateLabel(a,o),toggleHoverEmphasis(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},n.prototype._updateLabel=function(a,o){var s=this,l=this.getTextGuideLine(),c=s.getTextContent(),u=a.hostModel,d=a.getItemModel(o),f=a.getItemLayout(o),v=f.label,g=a.getItemVisual(o,"style"),y=g.fill;setLabelStyle(c,getLabelStatesModels(d),{labelFetcher:a.hostModel,labelDataIndex:o,defaultOpacity:g.opacity,defaultText:a.getName(o)},{normal:{align:v.textAlign,verticalAlign:v.verticalAlign}}),s.setTextConfig({local:!0,inside:!!v.inside,insideStroke:y,outsideFill:y});var _=v.linePoints;l.setShape({points:_}),s.textGuideLineConfig={anchor:_?new Point(_[0][0],_[0][1]):null},updateProps$1(c,{style:{x:v.x,y:v.y}},u,o),c.attr({rotation:v.rotation,originX:v.x,originY:v.y,z2:10}),setLabelLineStyle(s,getLabelLineStatesModels(d),{stroke:y})},n}(Polygon),FunnelView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.ignoreLabelLineUpdate=!0,a}return n.prototype.render=function(a,o,s){var l=a.getData(),c=this._data,u=this.group;l.diff(c).add(function(d){var f=new FunnelPiece(l,d);l.setItemGraphicEl(d,f),u.add(f)}).update(function(d,f){var v=c.getItemGraphicEl(f);v.updateData(l,d),u.add(v),l.setItemGraphicEl(d,v)}).remove(function(d){var f=c.getItemGraphicEl(d);removeElementWithFadeOut(f,a,d)}).execute(),this._data=l},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView),FunnelSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(a)},n.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(a){defaultEmphasis(a,"labelLine",["show"]);var o=a.labelLine,s=a.emphasis.labelLine;o.show=o.show&&a.label.show,s.show=s.show&&a.emphasis.label.show},n.prototype.getDataParams=function(a){var o=this.getData(),s=r.prototype.getDataParams.call(this,a),l=o.mapDimension("value"),c=o.getSum(l);return s.percent=c?+(o.get(l,a)/c*100).toFixed(2):0,s.$vars.push("percent"),s},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel);function getViewRect$2(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(r,n){for(var a=r.mapDimension("value"),o=r.mapArray(a,function(d){return d}),s=[],l=n==="ascending",c=0,u=r.count();c<u;c++)s[c]=c;return isFunction(n)?s.sort(n):n!=="none"&&s.sort(function(d,f){return l?o[d]-o[f]:o[f]-o[d]}),s}function labelLayout(r){var n=r.hostModel,a=n.get("orient");r.each(function(o){var s=r.getItemModel(o),l=s.getModel("label"),c=l.get("position"),u=s.getModel("labelLine"),d=r.getItemLayout(o),f=d.points,v=c==="inner"||c==="inside"||c==="center"||c==="insideLeft"||c==="insideRight",g,y,_,b;if(v)c==="insideLeft"?(y=(f[0][0]+f[3][0])/2+5,_=(f[0][1]+f[3][1])/2,g="left"):c==="insideRight"?(y=(f[1][0]+f[2][0])/2-5,_=(f[1][1]+f[2][1])/2,g="right"):(y=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,_=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,g="center"),b=[[y,_],[y,_]];else{var T=void 0,C=void 0,P=void 0,E=void 0,M=u.get("length");c==="left"?(T=(f[3][0]+f[0][0])/2,C=(f[3][1]+f[0][1])/2,P=T-M,y=P-5,g="right"):c==="right"?(T=(f[1][0]+f[2][0])/2,C=(f[1][1]+f[2][1])/2,P=T+M,y=P+5,g="left"):c==="top"?(T=(f[3][0]+f[0][0])/2,C=(f[3][1]+f[0][1])/2,E=C-M,_=E-5,g="center"):c==="bottom"?(T=(f[1][0]+f[2][0])/2,C=(f[1][1]+f[2][1])/2,E=C+M,_=E+5,g="center"):c==="rightTop"?(T=a==="horizontal"?f[3][0]:f[1][0],C=a==="horizontal"?f[3][1]:f[1][1],a==="horizontal"?(E=C-M,_=E-5,g="center"):(P=T+M,y=P+5,g="top")):c==="rightBottom"?(T=f[2][0],C=f[2][1],a==="horizontal"?(E=C+M,_=E+5,g="center"):(P=T+M,y=P+5,g="bottom")):c==="leftTop"?(T=f[0][0],C=a==="horizontal"?f[0][1]:f[1][1],a==="horizontal"?(E=C-M,_=E-5,g="center"):(P=T-M,y=P-5,g="right")):c==="leftBottom"?(T=a==="horizontal"?f[1][0]:f[3][0],C=a==="horizontal"?f[1][1]:f[2][1],a==="horizontal"?(E=C+M,_=E+5,g="center"):(P=T-M,y=P-5,g="right")):(T=(f[1][0]+f[2][0])/2,C=(f[1][1]+f[2][1])/2,a==="horizontal"?(E=C+M,_=E+5,g="center"):(P=T+M,y=P+5,g="left")),a==="horizontal"?(P=T,y=P):(E=C,_=E),b=[[T,C],[P,E]]}d.label={linePoints:b,x:y,y:_,verticalAlign:"middle",textAlign:g,inside:v}})}function funnelLayout(r,n){r.eachSeriesByType("funnel",function(a){var o=a.getData(),s=o.mapDimension("value"),l=a.get("sort"),c=getViewRect$2(a,n),u=a.get("orient"),d=c.width,f=c.height,v=getSortedIndices(o,l),g=c.x,y=c.y,_=u==="horizontal"?[parsePercent(a.get("minSize"),f),parsePercent(a.get("maxSize"),f)]:[parsePercent(a.get("minSize"),d),parsePercent(a.get("maxSize"),d)],b=o.getDataExtent(s),T=a.get("min"),C=a.get("max");T==null&&(T=Math.min(b[0],0)),C==null&&(C=b[1]);var P=a.get("funnelAlign"),E=a.get("gap"),M=u==="horizontal"?d:f,I=(M-E*(o.count()-1))/o.count(),L=function(X,Z){if(u==="horizontal"){var q=o.get(s,X)||0,le=linearMap$2(q,[T,C],_,!0),ae=void 0;switch(P){case"top":ae=y;break;case"center":ae=y+(f-le)/2;break;case"bottom":ae=y+(f-le);break}return[[Z,ae],[Z,ae+le]]}var he=o.get(s,X)||0,ve=linearMap$2(he,[T,C],_,!0),ce;switch(P){case"left":ce=g;break;case"center":ce=g+(d-ve)/2;break;case"right":ce=g+d-ve;break}return[[ce,Z],[ce+ve,Z]]};l==="ascending"&&(I=-I,E=-E,u==="horizontal"?g+=d:y+=f,v=v.reverse());for(var N=0;N<v.length;N++){var V=v[N],B=v[N+1],z=o.getItemModel(V);if(u==="horizontal"){var G=z.get(["itemStyle","width"]);G==null?G=I:(G=parsePercent(G,d),l==="ascending"&&(G=-G));var H=L(V,g),W=L(B,g+G);g+=G+E,o.setItemLayout(V,{points:H.concat(W.slice().reverse())})}else{var j=z.get(["itemStyle","height"]);j==null?j=I:(j=parsePercent(j,f),l==="ascending"&&(j=-j));var H=L(V,y),W=L(B,y+j);y+=j+E,o.setItemLayout(V,{points:H.concat(W.slice().reverse())})}}labelLayout(o)})}function install$D(r){r.registerChartView(FunnelView),r.registerSeriesModel(FunnelSeriesModel),r.registerLayout(funnelLayout),r.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$1=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._dataGroup=new Group$3,a._initialized=!1,a}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(a,o,s,l){this._progressiveEls=null;var c=this._dataGroup,u=a.getData(),d=this._data,f=a.coordinateSystem,v=f.dimensions,g=makeSeriesScope(a);u.diff(d).add(y).update(_).remove(b).execute();function y(C){var P=addEl(u,c,C,v,f);updateElCommon(P,u,C,g)}function _(C,P){var E=d.getItemGraphicEl(P),M=createLinePoints(u,C,v,f);u.setItemGraphicEl(C,E),updateProps$1(E,{shape:{points:M}},a,C),saveOldStyle(E),updateElCommon(E,u,C,g)}function b(C){var P=d.getItemGraphicEl(C);c.remove(P)}if(!this._initialized){this._initialized=!0;var T=createGridClipShape$2(f,a,function(){setTimeout(function(){c.removeClipPath()})});c.setClipPath(T)}this._data=u},n.prototype.incrementalPrepareRender=function(a,o,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(a,o,s){for(var l=o.getData(),c=o.coordinateSystem,u=c.dimensions,d=makeSeriesScope(o),f=this._progressiveEls=[],v=a.start;v<a.end;v++){var g=addEl(l,this._dataGroup,v,u,c);g.incremental=!0,updateElCommon(g,l,v,d),f.push(g)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView);function createGridClipShape$2(r,n,a){var o=r.model,s=r.getRect(),l=new Rect$2({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),c=o.get("layout")==="horizontal"?"width":"height";return l.setShape(c,0),initProps(l,{shape:{width:s.width,height:s.height}},n,a),l}function createLinePoints(r,n,a,o){for(var s=[],l=0;l<a.length;l++){var c=a[l],u=r.get(r.mapDimension(c),n);isEmptyValue(u,o.getAxis(c).type)||s.push(o.dataToPoint(u,c))}return s}function addEl(r,n,a,o,s){var l=createLinePoints(r,a,o,s),c=new Polyline$1({shape:{points:l},z2:10});return n.add(c),r.setItemGraphicEl(a,c),c}function makeSeriesScope(r){var n=r.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(r,n,a,o){r.useStyle(n.getItemVisual(a,"style")),r.style.fill=null,r.setShape("smooth",o.smooth);var s=n.getItemModel(a),l=s.getModel("emphasis");setStatesStylesFromModel(r,s,"lineStyle"),toggleHoverEmphasis(r,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function isEmptyValue(r,n){return n==="category"?r==null:r==null||isNaN(r)}var ParallelSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return n.prototype.getInitialData=function(a,o){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(a){var o=this.coordinateSystem,s=this.getData(),l=[];return o.eachActiveState(s,function(c,u){a===c&&l.push(s.getRawIndex(u))}),l},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel);function makeDefaultEncode(r){var n=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(n){var a={};return each$f(n.dimensions,function(o){var s=convertDimNameToNumber(o);a[o]=s}),a}}function convertDimNameToNumber(r){return+r.replace("dim","")}var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(r,n){var a=r.coordinateSystem,o={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(s,l){a.eachActiveState(l,function(c,u){var d=o[c];if(c==="normal"&&l.hasItemOption){var f=l.getItemModel(u).get(opacityAccessPath,!0);f!=null&&(d=f)}var v=l.ensureUniqueItemVisual(u,"style");v.opacity=d},s.start,s.end)}}}};function parallelPreprocessor(r){createParallelIfNeeded(r),mergeAxisOptionFromParallel(r)}function createParallelIfNeeded(r){if(!r.parallel){var n=!1;each$f(r.series,function(a){a&&a.type==="parallel"&&(n=!0)}),n&&(r.parallel=[{}])}}function mergeAxisOptionFromParallel(r){var n=normalizeToArray(r.parallelAxis);each$f(n,function(a){if(isObject$3(a)){var o=a.parallelIndex||0,s=normalizeToArray(r.parallel)[o];s&&s.parallelAxisDefault&&merge(a,s.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){this._model=a,this._api=s,this._handlers||(this._handlers={},each$f(handlers$1,function(l,c){s.getZr().on(c,this._handlers[c]=bind$1(l,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(a,o){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(s,l){o.getZr().off(l,s)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},n.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},a))},n.type="parallel",n}(ComponentView),handlers$1={mousedown:function(r){checkTrigger(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var a=[r.offsetX,r.offsetY],o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2);if(o>CLICK_THRESHOLD)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);s.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,a=n.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),o=a.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:a.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function checkTrigger(r,n){var a=r._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===n}var ParallelModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(a){var o=this.option;a&&merge(o,a,!0),this._initDimensions()},n.prototype.contains=function(a,o){var s=a.get("parallelIndex");return s!=null&&o.getComponent("parallel",s)===this},n.prototype.setAxisExpand=function(a){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){a.hasOwnProperty(o)&&(this.option[o]=a[o])},this)},n.prototype._initDimensions=function(){var a=this.dimensions=[],o=this.parallelAxisIndex=[],s=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(l){return(l.get("parallelIndex")||0)===this.componentIndex},this);each$f(s,function(l){a.push("dim"+l.get("dim")),o.push(l.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel),ParallelAxis=function(r){__extends(n,r);function n(a,o,s,l,c){var u=r.call(this,a,o,s)||this;return u.type=l||"value",u.axisIndex=c,u}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis);function sliderMove(r,n,a,o,s,l){r=r||0;var c=a[1]-a[0];if(s!=null&&(s=restrict$1(s,[0,c])),l!=null&&(l=Math.max(l,s??0)),o==="all"){var u=Math.abs(n[1]-n[0]);u=restrict$1(u,[0,c]),s=l=restrict$1(u,[s,l]),o=0}n[0]=restrict$1(n[0],a),n[1]=restrict$1(n[1],a);var d=getSpanSign(n,o);n[o]+=r;var f=s||0,v=a.slice();d.sign<0?v[0]+=f:v[1]-=f,n[o]=restrict$1(n[o],v);var g;return g=getSpanSign(n,o),s!=null&&(g.sign!==d.sign||g.span<s)&&(n[1-o]=n[o]+d.sign*s),g=getSpanSign(n,o),l!=null&&g.span>l&&(n[1-o]=n[o]+g.sign*l),n}function getSpanSign(r,n){var a=r[n]-r[1-n];return{span:Math.abs(a),sign:a>0?-1:a<0?1:n?-1:1}}function restrict$1(r,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,r))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function r(n,a,o){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,a,o)}return r.prototype._init=function(n,a,o){var s=n.dimensions,l=n.parallelAxisIndex;each$a(s,function(c,u){var d=l[u],f=a.getComponent("parallelAxis",d),v=this._axesMap.set(c,new ParallelAxis(c,createScaleByModel$1(f),[0,0],f.get("type"),d)),g=v.type==="category";v.onBand=g&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.coordinateSystem=f.coordinateSystem=this},this)},r.prototype.update=function(n,a){this._updateAxesFromSeries(this._model,n)},r.prototype.containPoint=function(n){var a=this._makeLayoutInfo(),o=a.axisBase,s=a.layoutBase,l=a.pixelDimIndex,c=n[1-l],u=n[l];return c>=o&&c<=o+a.axisLength&&u>=s&&u<=s+a.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(n,a){a.eachSeries(function(o){if(n.contains(o,a)){var s=o.getData();each$a(this.dimensions,function(l){var c=this._axesMap.get(l);c.scale.unionExtentFromData(s,s.mapDimension(l)),niceScaleExtent(c.scale,c.model)},this)}},this)},r.prototype.resize=function(n,a){this._rect=getLayoutRect(n.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var n=this._model,a=this._rect,o=["x","y"],s=["width","height"],l=n.get("layout"),c=l==="horizontal"?0:1,u=a[s[c]],d=[0,u],f=this.dimensions.length,v=restrict(n.get("axisExpandWidth"),d),g=restrict(n.get("axisExpandCount")||0,[0,f]),y=n.get("axisExpandable")&&f>3&&f>g&&g>1&&v>0&&u>0,_=n.get("axisExpandWindow"),b;if(_)b=restrict(_[1]-_[0],d),_[1]=_[0]+b;else{b=restrict(v*(g-1),d);var T=n.get("axisExpandCenter")||mathFloor(f/2);_=[v*T-b/2],_[1]=_[0]+b}var C=(u-b)/(f-g);C<3&&(C=0);var P=[mathFloor(round(_[0]/v,1))+1,mathCeil(round(_[1]/v,1))-1],E=C/v*_[0];return{layout:l,pixelDimIndex:c,layoutBase:a[o[c]],layoutLength:u,axisBase:a[o[1-c]],axisLength:a[s[1-c]],axisExpandable:y,axisExpandWidth:v,axisCollapseWidth:C,axisExpandWindow:_,axisCount:f,winInnerIndices:P,axisExpandWindow0Pos:E}},r.prototype._layoutAxes=function(){var n=this._rect,a=this._axesMap,o=this.dimensions,s=this._makeLayoutInfo(),l=s.layout;a.each(function(c){var u=[0,s.axisLength],d=c.inverse?1:0;c.setExtent(u[d],u[1-d])}),each$a(o,function(c,u){var d=(s.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(u,s),f={horizontal:{x:d.position,y:s.axisLength},vertical:{x:0,y:d.position}},v={horizontal:PI$1/2,vertical:0},g=[f[l].x+n.x,f[l].y+n.y],y=v[l],_=create$1();rotate(_,_,y),translate(_,_,g),this._axesLayout[c]={position:g,rotation:y,transform:_,axisNameAvailableWidth:d.axisNameAvailableWidth,axisLabelShow:d.axisLabelShow,nameTruncateMaxWidth:d.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(n){return this._axesMap.get(n)},r.prototype.dataToPoint=function(n,a){return this.axisCoordToPoint(this._axesMap.get(a).dataToCoord(n),a)},r.prototype.eachActiveState=function(n,a,o,s){o==null&&(o=0),s==null&&(s=n.count());var l=this._axesMap,c=this.dimensions,u=[],d=[];each$f(c,function(C){u.push(n.mapDimension(C)),d.push(l.get(C).model)});for(var f=this.hasAxisBrushed(),v=o;v<s;v++){var g=void 0;if(!f)g="normal";else{g="active";for(var y=n.getValues(u,v),_=0,b=c.length;_<b;_++){var T=d[_].getActiveState(y[_]);if(T==="inactive"){g="inactive";break}}}a(g,v)}},r.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,a=this._axesMap,o=!1,s=0,l=n.length;s<l;s++)a.get(n[s]).model.getActiveState()!=="normal"&&(o=!0);return o},r.prototype.axisCoordToPoint=function(n,a){var o=this._axesLayout[a];return applyTransform([n,0],o.transform)},r.prototype.getAxisLayout=function(n){return clone$4(this._axesLayout[n])},r.prototype.getSlidedAxisExpandWindow=function(n){var a=this._makeLayoutInfo(),o=a.pixelDimIndex,s=a.axisExpandWindow.slice(),l=s[1]-s[0],c=[0,a.axisExpandWidth*(a.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:s};var u=n[o]-a.layoutBase-a.axisExpandWindow0Pos,d,f="slide",v=a.axisCollapseWidth,g=this._model.get("axisExpandSlideTriggerArea"),y=g[0]!=null;if(v)y&&v&&u<l*g[0]?(f="jump",d=u-l*g[2]):y&&v&&u>l*(1-g[0])?(f="jump",d=u-l*(1-g[2])):(d=u-l*g[1])>=0&&(d=u-l*(1-g[1]))<=0&&(d=0),d*=a.axisExpandWidth/v,d?sliderMove(d,s,c,"all"):f="none";else{var _=s[1]-s[0],b=c[1]*u/_;s=[mathMax$2(0,b-_/2)],s[1]=mathMin$2(c[1],s[0]+_),s[0]=s[1]-_}return{axisExpandWindow:s,behavior:f}},r}();function restrict(r,n){return mathMin$2(mathMax$2(r,n[0]),n[1])}function layoutAxisWithoutExpand(r,n){var a=n.layoutLength/(n.axisCount-1);return{position:a*r,axisNameAvailableWidth:a,axisLabelShow:!0}}function layoutAxisWithExpand(r,n){var a=n.layoutLength,o=n.axisExpandWidth,s=n.axisCount,l=n.axisCollapseWidth,c=n.winInnerIndices,u,d=l,f=!1,v;return r<c[0]?(u=r*l,v=l):r<=c[1]?(u=n.axisExpandWindow0Pos+r*o-n.axisExpandWindow[0],d=o,f=!0):(u=a-(s-1-r)*l,v=l),{position:u,axisNameAvailableWidth:d,axisLabelShow:f,nameTruncateMaxWidth:v}}function createParallelCoordSys(r,n){var a=[];return r.eachComponent("parallel",function(o,s){var l=new Parallel(o,r,n);l.name="parallel_"+s,l.resize(o,n),o.coordinateSystem=l,l.model=o,a.push(l)}),r.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var s=o.getReferringComponents("parallel",SINGLE_REFERRING).models[0];o.coordinateSystem=s.coordinateSystem}}),a}var parallelCoordSysCreator={create:createParallelCoordSys},ParallelAxisModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.activeIntervals=[],a}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(a){var o=this.activeIntervals=clone$4(a);if(o)for(var s=o.length-1;s>=0;s--)asc$2(o[s])},n.prototype.getActiveState=function(a){var o=this.activeIntervals;if(!o.length)return"normal";if(a==null||isNaN(+a))return"inactive";if(o.length===1){var s=o[0];if(s[0]<=a&&a<=s[1])return"active"}else for(var l=0,c=o.length;l<c;l++)if(o[l][0]<=a&&a<=o[l][1])return"active";return"inactive"},n}(ComponentModel);mixin(ParallelAxisModel,AxisModelCommonMixin);var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(r){__extends(n,r);function n(a){var o=r.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=a,o.group=new Group$3,o._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(s,l){this._handlers[l]=bind$1(s,this)},o),o}return n.prototype.enableBrush=function(a){return this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},n.prototype._doEnableBrush=function(a){var o=this._zr;this._enableGlobalPan||take(o,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(s,l){o.on(l,s)}),this._brushType=a.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),a,!0)},n.prototype._doDisableBrush=function(){var a=this._zr;release(a,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(o,s){a.off(s,o)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(a){if(a&&a.length){var o=this._panels={};each$f(a,function(s){o[s.panelId]=clone$4(s)})}else this._panels=null;return this},n.prototype.mount=function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=o.getLocalTransform(),this},n.prototype.updateCovers=function(a){a=map$1(a,function(y){return merge(clone$4(DEFAULT_BRUSH_OPT),y,!0)});var o="\0-brush-index-",s=this._covers,l=this._covers=[],c=this,u=this._creatingCover;return new DataDiffer(s,a,f,d).add(v).update(v).remove(g).execute(),this;function d(y,_){return(y.id!=null?y.id:o+_)+"-"+y.brushType}function f(y,_){return d(y.__brushOption,_)}function v(y,_){var b=a[y];if(_!=null&&s[_]===u)l[y]=s[_];else{var T=l[y]=_!=null?(s[_].__brushOption=b,s[_]):endCreating(c,createCover(c,b));updateCoverAfterCreation(c,T)}}function g(y){s[y]!==u&&c.group.remove(s[y])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful);function createCover(r,n){var a=coverRenderers[n.brushType].createCover(r,n);return a.__brushOption=n,updateZ$1(a,n),r.group.add(a),a}function endCreating(r,n){var a=getCoverRenderer(n);return a.endCreating&&(a.endCreating(r,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(r,n){var a=n.__brushOption;getCoverRenderer(n).updateCoverShape(r,n,a.range,a)}function updateZ$1(r,n){var a=n.z;a==null&&(a=COVER_Z),r.traverse(function(o){o.z=a,o.z2=a})}function updateCoverAfterCreation(r,n){getCoverRenderer(n).updateCommon(r,n),updateCoverShape(r,n)}function getCoverRenderer(r){return coverRenderers[r.__brushOption.brushType]}function getPanelByPoint(r,n,a){var o=r._panels;if(!o)return BRUSH_PANEL_GLOBAL;var s,l=r._transform;return each$f(o,function(c){c.isTargetByCursor(n,a,l)&&(s=c)}),s}function getPanelByCover(r,n){var a=r._panels;if(!a)return BRUSH_PANEL_GLOBAL;var o=n.__brushOption.panelId;return o!=null?a[o]:BRUSH_PANEL_GLOBAL}function clearCovers(r){var n=r._covers,a=n.length;return each$f(n,function(o){r.group.remove(o)},r),n.length=0,!!a}function trigger(r,n){var a=map$1(r._covers,function(o){var s=o.__brushOption,l=clone$4(s.range);return{brushType:s.brushType,panelId:s.panelId,range:l}});r.trigger("brush",{areas:a,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(r){var n=r._track;if(!n.length)return!1;var a=n[n.length-1],o=n[0],s=a[0]-o[0],l=a[1]-o[1],c=mathPow(s*s+l*l,.5);return c>UNSELECT_THRESHOLD}function getTrackEnds(r){var n=r.length-1;return n<0&&(n=0),[r[0],r[n]]}function createBaseRectCover(r,n,a,o){var s=new Group$3;return s.add(new Rect$2({name:"main",style:makeStyle(a),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,r,n,s,["n","s","w","e"]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$f(o,function(l){s.add(new Rect$2({name:l.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,r,n,s,l),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),s}function updateBaseRect(r,n,a,o){var s=o.brushStyle.lineWidth||0,l=mathMax$1(s,MIN_RESIZE_LINE_WIDTH),c=a[0][0],u=a[1][0],d=c-s/2,f=u-s/2,v=a[0][1],g=a[1][1],y=v-l+s/2,_=g-l+s/2,b=v-c,T=g-u,C=b+s,P=T+s;updateRectShape(r,n,"main",c,u,b,T),o.transformable&&(updateRectShape(r,n,"w",d,f,l,P),updateRectShape(r,n,"e",y,f,l,P),updateRectShape(r,n,"n",d,f,C,l),updateRectShape(r,n,"s",d,_,C,l),updateRectShape(r,n,"nw",d,f,l,l),updateRectShape(r,n,"ne",y,f,l,l),updateRectShape(r,n,"sw",d,_,l,l),updateRectShape(r,n,"se",y,_,l,l))}function updateCommon$1(r,n){var a=n.__brushOption,o=a.transformable,s=n.childAt(0);s.useStyle(makeStyle(a)),s.attr({silent:!o,cursor:o?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(l){var c=n.childOfName(l.join("")),u=l.length===1?getGlobalDirection1(r,l[0]):getGlobalDirection2(r,l);c&&c.attr({silent:!o,invisible:!o,cursor:o?CURSOR_MAP[u]+"-resize":null})})}function updateRectShape(r,n,a,o,s,l,c){var u=n.childOfName(a);u&&u.setShape(pointsToRect(clipByPanel(r,n,[[o,s],[o+l,s+c]])))}function makeStyle(r){return defaults({strokeNoScale:!0},r.brushStyle)}function formatRectRange(r,n,a,o){var s=[mathMin$1(r,a),mathMin$1(n,o)],l=[mathMax$1(r,a),mathMax$1(n,o)];return[[s[0],l[0]],[s[1],l[1]]]}function getTransform(r){return getTransform$1(r.group)}function getGlobalDirection1(r,n){var a={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},s=transformDirection(a[n],getTransform(r));return o[s]}function getGlobalDirection2(r,n){var a=[getGlobalDirection1(r,n[0]),getGlobalDirection1(r,n[1])];return(a[0]==="e"||a[0]==="w")&&a.reverse(),a.join("")}function driftRect(r,n,a,o,s,l){var c=a.__brushOption,u=r.toRectRange(c.range),d=toLocalDelta(n,s,l);each$f(o,function(f){var v=DIRECTION_MAP[f];u[v[0]][v[1]]+=d[v[0]]}),c.range=r.fromRectRange(formatRectRange(u[0][0],u[1][0],u[0][1],u[1][1])),updateCoverAfterCreation(n,a),trigger(n,{isEnd:!1})}function driftPolygon(r,n,a,o){var s=n.__brushOption.range,l=toLocalDelta(r,a,o);each$f(s,function(c){c[0]+=l[0],c[1]+=l[1]}),updateCoverAfterCreation(r,n),trigger(r,{isEnd:!1})}function toLocalDelta(r,n,a){var o=r.group,s=o.transformCoordToLocal(n,a),l=o.transformCoordToLocal(0,0);return[s[0]-l[0],s[1]-l[1]]}function clipByPanel(r,n,a){var o=getPanelByCover(r,n);return o&&o!==BRUSH_PANEL_GLOBAL?o.clipPath(a,r._transform):clone$4(a)}function pointsToRect(r){var n=mathMin$1(r[0][0],r[1][0]),a=mathMin$1(r[0][1],r[1][1]),o=mathMax$1(r[0][0],r[1][0]),s=mathMax$1(r[0][1],r[1][1]);return{x:n,y:a,width:o-n,height:s-a}}function resetCursor(r,n,a){if(!(!r._brushType||isOutsideZrArea(r,n.offsetX,n.offsetY))){var o=r._zr,s=r._covers,l=getPanelByPoint(r,n,a);if(!r._dragging)for(var c=0;c<s.length;c++){var u=s[c].__brushOption;if(l&&(l===BRUSH_PANEL_GLOBAL||u.panelId===l.panelId)&&coverRenderers[u.brushType].contain(s[c],a[0],a[1]))return}l&&o.setCursorStyle("crosshair")}}function preventDefault(r){var n=r.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(r,n,a){return r.childOfName("main").contain(n,a)}function updateCoverByMouse(r,n,a,o){var s=r._creatingCover,l=r._creatingPanel,c=r._brushOption,u;if(r._track.push(a.slice()),shouldShowCover(r)||s){if(l&&!s){c.brushMode==="single"&&clearCovers(r);var d=clone$4(c);d.brushType=determineBrushType(d.brushType,l),d.panelId=l===BRUSH_PANEL_GLOBAL?null:l.panelId,s=r._creatingCover=createCover(r,d),r._covers.push(s)}if(s){var f=coverRenderers[determineBrushType(r._brushType,l)],v=s.__brushOption;v.range=f.getCreatingRange(clipByPanel(r,s,r._track)),o&&(endCreating(r,s),f.updateCommon(r,s)),updateCoverShape(r,s),u={isEnd:o}}}else o&&c.brushMode==="single"&&c.removeOnClick&&getPanelByPoint(r,n,a)&&clearCovers(r)&&(u={isEnd:o,removeOnClick:!0});return u}function determineBrushType(r,n){return r==="auto"?n.defaultBrushType:r}var pointerHandlers={mousedown:function(r){if(this._dragging)handleDragEnd(this,r);else if(!r.target||!r.target.draggable){preventDefault(r);var n=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var a=this._creatingPanel=getPanelByPoint(this,r,n);a&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(r){var n=r.offsetX,a=r.offsetY,o=this.group.transformCoordToLocal(n,a);if(resetCursor(this,r,o),this._dragging){preventDefault(r);var s=updateCoverByMouse(this,r,o,!1);s&&trigger(this,s)}},mouseup:function(r){handleDragEnd(this,r)}};function handleDragEnd(r,n){if(r._dragging){preventDefault(n);var a=n.offsetX,o=n.offsetY,s=r.group.transformCoordToLocal(a,o),l=updateCoverByMouse(r,n,s,!0);r._dragging=!1,r._track=[],r._creatingCover=null,l&&trigger(r,l)}}function isOutsideZrArea(r,n,a){var o=r._zr;return n<0||n>o.getWidth()||a<0||a>o.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(r,n){function a(o){return o}return createBaseRectCover({toRectRange:a,fromRectRange:a},r,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var n=getTrackEnds(r);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(r,n,a,o){updateBaseRect(r,n,a,o)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(r,n){var a=new Group$3;return a.add(new Polyline$1({name:"main",style:makeStyle(n),silent:!0})),a},getCreatingRange:function(r){return r},endCreating:function(r,n){n.remove(n.childAt(0)),n.add(new Polygon({name:"main",draggable:!0,drift:curry$1(driftPolygon,r,n),ondragend:curry$1(trigger,r,{isEnd:!0})}))},updateCoverShape:function(r,n,a,o){n.childAt(0).setShape({points:clipByPanel(r,n,a)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(r){return{createCover:function(n,a){return createBaseRectCover({toRectRange:function(o){var s=[o,[0,100]];return r&&s.reverse(),s},fromRectRange:function(o){return o[r]}},n,a,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(n){var a=getTrackEnds(n),o=mathMin$1(a[0][r],a[1][r]),s=mathMax$1(a[0][r],a[1][r]);return[o,s]},updateCoverShape:function(n,a,o,s){var l,c=getPanelByCover(n,a);if(c!==BRUSH_PANEL_GLOBAL&&c.getLinearBrushOtherExtent)l=c.getLinearBrushOtherExtent(r);else{var u=n._zr;l=[0,[u.getWidth(),u.getHeight()][1-r]]}var d=[o,l];r&&d.reverse(),updateBaseRect(n,a,d,s)},updateCommon:updateCommon$1,contain:mainShapeContain}}function makeRectPanelClipPath(r){return r=normalizeRect(r),function(n){return clipPointsByRect(n,r)}}function makeLinearBrushOtherExtent(r,n){return r=normalizeRect(r),function(a){var o=n??a,s=o?r.width:r.height,l=o?r.x:r.y;return[l,l+(s||0)]}}function makeRectIsTargetByCursor(r,n,a){var o=normalizeRect(r);return function(s,l){return o.contain(l[0],l[1])&&!onIrrelevantElement(s,n,a)}}function normalizeRect(r){return BoundingRect.create(r)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){r.prototype.init.apply(this,arguments),(this._brushController=new BrushController(o.getZr())).on("brush",bind$1(this._onBrush,this))},n.prototype.render=function(a,o,s,l){if(!fromAxisAreaSelect(a,o,l)){this.axisModel=a,this.api=s,this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!a.get("show")){var u=getCoordSysModel(a,o),d=u.coordinateSystem,f=a.getAreaSelectStyle(),v=f.width,g=a.axis.dim,y=d.getAxisLayout(g),_=extend({strokeContainThreshold:v},y),b=new AxisBuilder(a,_);each$f(elementList$1,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(_,f,a,u,v,s),groupTransition(c,this._axisGroup,a)}}},n.prototype._refreshBrushController=function(a,o,s,l,c,u){var d=s.axis.getExtent(),f=d[1]-d[0],v=Math.min(30,Math.abs(f)*.1),g=BoundingRect.create({x:d[0],y:-c/2,width:f,height:c});g.x-=v,g.width+=2*v,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,x:a.position[0],y:a.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(g),isTargetByCursor:makeRectIsTargetByCursor(g,u,l),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(g,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(getCoverInfoList(s))},n.prototype._onBrush=function(a){var o=a.areas,s=this.axisModel,l=s.axis,c=map$1(o,function(u){return[l.coordToData(u.range[0],!0),l.coordToData(u.range[1],!0)]});(!s.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:c})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView);function fromAxisAreaSelect(r,n,a){return a&&a.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:a})[0]===r}function getCoverInfoList(r){var n=r.axis;return map$1(r.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(a[0],!0),n.dataToCoord(a[1],!0)]}})}function getCoordSysModel(r,n){return n.getComponent("parallel",r.get("parallelIndex"))}var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(r){r.registerAction(actionInfo,function(n,a){a.eachComponent({mainType:"parallelAxis",query:n},function(o){o.axis.model.setActiveIntervals(n.intervals)})}),r.registerAction("parallelAxisExpand",function(n,a){a.eachComponent({mainType:"parallel",query:n},function(o){o.setAxisExpand(n)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(r){r.registerComponentView(ParallelView),r.registerComponentModel(ParallelModel),r.registerCoordinateSystem("parallel",parallelCoordSysCreator),r.registerPreprocessor(parallelPreprocessor),r.registerComponentModel(ParallelAxisModel),r.registerComponentView(ParallelAxisView),axisModelCreator(r,"parallel",ParallelAxisModel,defaultAxisOption),installParallelActions(r)}function install$B(r){use(install$C),r.registerChartView(ParallelView$1),r.registerSeriesModel(ParallelSeriesModel),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,parallelVisual)}var SankeyPathShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),SankeyPath=function(r){__extends(n,r);function n(a){return r.call(this,a)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(a,o){var s=o.extent;a.moveTo(o.x1,o.y1),a.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(a.lineTo(o.x2+s,o.y2),a.bezierCurveTo(o.cpx2+s,o.cpy2,o.cpx1+s,o.cpy1,o.x1+s,o.y1)):(a.lineTo(o.x2,o.y2+s),a.bezierCurveTo(o.cpx2,o.cpy2+s,o.cpx1,o.cpy1+s,o.x1,o.y1+s)),a.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path),SankeyView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._focusAdjacencyDisabled=!1,a}return n.prototype.render=function(a,o,s){var l=this,c=a.getGraph(),u=this.group,d=a.layoutInfo,f=d.width,v=d.height,g=a.getData(),y=a.getData("edge"),_=a.get("orient");this._model=a,u.removeAll(),u.x=d.x,u.y=d.y,c.eachEdge(function(b){var T=new SankeyPath,C=getECData(T);C.dataIndex=b.dataIndex,C.seriesIndex=a.seriesIndex,C.dataType="edge";var P=b.getModel(),E=P.getModel("lineStyle"),M=E.get("curveness"),I=b.node1.getLayout(),L=b.node1.getModel(),N=L.get("localX"),V=L.get("localY"),B=b.node2.getLayout(),z=b.node2.getModel(),G=z.get("localX"),H=z.get("localY"),W=b.getLayout(),j,X,Z,q,le,ae,he,ve;T.shape.extent=Math.max(1,W.dy),T.shape.orient=_,_==="vertical"?(j=(N!=null?N*f:I.x)+W.sy,X=(V!=null?V*v:I.y)+I.dy,Z=(G!=null?G*f:B.x)+W.ty,q=H!=null?H*v:B.y,le=j,ae=X*(1-M)+q*M,he=Z,ve=X*M+q*(1-M)):(j=(N!=null?N*f:I.x)+I.dx,X=(V!=null?V*v:I.y)+W.sy,Z=G!=null?G*f:B.x,q=(H!=null?H*v:B.y)+W.ty,le=j*(1-M)+Z*M,ae=X,he=j*M+Z*(1-M),ve=q),T.setShape({x1:j,y1:X,x2:Z,y2:q,cpx1:le,cpy1:ae,cpx2:he,cpy2:ve}),T.useStyle(E.getItemStyle()),applyCurveStyle(T.style,_,b);var ce=""+P.get("value"),fe=getLabelStatesModels(P,"edgeLabel");setLabelStyle(T,fe,{labelFetcher:{getFormattedLabel:function(Se,De,ne,pe,de,Te){return a.getFormattedLabel(Se,De,"edge",pe,retrieve3(de,fe.normal&&fe.normal.get("formatter"),ce),Te)}},labelDataIndex:b.dataIndex,defaultText:ce}),T.setTextConfig({position:"inside"});var _e=P.getModel("emphasis");setStatesStylesFromModel(T,P,"lineStyle",function(Se){var De=Se.getItemStyle();return applyCurveStyle(De,_,b),De}),u.add(T),y.setItemGraphicEl(b.dataIndex,T);var Ce=_e.get("focus");toggleHoverEmphasis(T,Ce==="adjacency"?b.getAdjacentDataIndices():Ce==="trajectory"?b.getTrajectoryDataIndices():Ce,_e.get("blurScope"),_e.get("disabled"))}),c.eachNode(function(b){var T=b.getLayout(),C=b.getModel(),P=C.get("localX"),E=C.get("localY"),M=C.getModel("emphasis"),I=C.get(["itemStyle","borderRadius"])||0,L=new Rect$2({shape:{x:P!=null?P*f:T.x,y:E!=null?E*v:T.y,width:T.dx,height:T.dy,r:I},style:C.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(L,getLabelStatesModels(C),{labelFetcher:{getFormattedLabel:function(V,B){return a.getFormattedLabel(V,B,"node")}},labelDataIndex:b.dataIndex,defaultText:b.id}),L.disableLabelAnimation=!0,L.setStyle("fill",b.getVisual("color")),L.setStyle("decal",b.getVisual("style").decal),setStatesStylesFromModel(L,C),u.add(L),g.setItemGraphicEl(b.dataIndex,L),getECData(L).dataType="node";var N=M.get("focus");toggleHoverEmphasis(L,N==="adjacency"?b.getAdjacentDataIndices():N==="trajectory"?b.getTrajectoryDataIndices():N,M.get("blurScope"),M.get("disabled"))}),g.eachItemGraphicEl(function(b,T){var C=g.getItemModel(T);C.get("draggable")&&(b.drift=function(P,E){l._focusAdjacencyDisabled=!0,this.shape.x+=P,this.shape.y+=E,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:g.getRawIndex(T),localX:this.shape.x/f,localY:this.shape.y/v})},b.ondragend=function(){l._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor="move")}),!this._data&&a.isAnimationEnabled()&&u.setClipPath(createGridClipShape$1(u.getBoundingRect(),a,function(){u.removeClipPath()})),this._data=a.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView);function applyCurveStyle(r,n,a){switch(r.fill){case"source":r.fill=a.node1.getVisual("color"),r.decal=a.node1.getVisual("style").decal;break;case"target":r.fill=a.node2.getVisual("color"),r.decal=a.node2.getVisual("style").decal;break;case"gradient":var o=a.node1.getVisual("color"),s=a.node2.getVisual("color");isString(o)&&isString(s)&&(r.fill=new LinearGradient(0,0,+(n==="horizontal"),+(n==="vertical"),[{color:o,offset:0},{color:s,offset:1}]))}}function createGridClipShape$1(r,n,a){var o=new Rect$2({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps(o,{shape:{width:r.width+20}},n,a),o}var SankeySeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(a,o){var s=a.edges||a.links||[],l=a.data||a.nodes||[],c=a.levels||[];this.levelModels=[];for(var u=this.levelModels,d=0;d<c.length;d++)c[d].depth!=null&&c[d].depth>=0&&(u[c[d].depth]=new Model(c[d],this,o));var f=createGraphFromNodeEdge(l,s,this,!0,v);return f.data;function v(g,y){g.wrapMethod("getItemModel",function(_,b){var T=_.parentModel,C=T.getData().getItemLayout(b);if(C){var P=C.depth,E=T.levelModels[P];E&&(_.parentModel=E)}return _}),y.wrapMethod("getItemModel",function(_,b){var T=_.parentModel,C=T.getGraph().getEdgeByIndex(b),P=C.node1.getLayout();if(P){var E=P.depth,M=T.levelModels[E];M&&(_.parentModel=M)}return _})}},n.prototype.setNodePosition=function(a,o){var s=this.option.data||this.option.nodes,l=s[a];l.localX=o[0],l.localY=o[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(a,o,s){function l(_){return isNaN(_)||_==null}if(s==="edge"){var c=this.getDataParams(a,s),u=c.data,d=c.value,f=u.source+" -- "+u.target;return createTooltipMarkup("nameValue",{name:f,value:d,noValue:l(d)})}else{var v=this.getGraph().getNodeByIndex(a),g=v.getLayout().value,y=this.getDataParams(a,s).data.name;return createTooltipMarkup("nameValue",{name:y!=null?y+"":null,value:g,noValue:l(g)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(a,o){var s=r.prototype.getDataParams.call(this,a,o);if(s.value==null&&o==="node"){var l=this.getGraph().getNodeByIndex(a),c=l.getLayout().value;s.value=c}return s},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel);function sankeyLayout(r,n){r.eachSeriesByType("sankey",function(a){var o=a.get("nodeWidth"),s=a.get("nodeGap"),l=getViewRect$1(a,n);a.layoutInfo=l;var c=l.width,u=l.height,d=a.getGraph(),f=d.nodes,v=d.edges;computeNodeValues(f);var g=filter(f,function(T){return T.getLayout().value===0}),y=g.length!==0?0:a.get("layoutIterations"),_=a.get("orient"),b=a.get("nodeAlign");layoutSankey(f,v,o,s,c,u,y,_,b)})}function getViewRect$1(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(r,n,a,o,s,l,c,u,d){computeNodeBreadths(r,n,a,s,l,u,d),computeNodeDepths(r,n,l,s,o,c,u),computeEdgeDepths(r,u)}function computeNodeValues(r){each$f(r,function(n){var a=sum(n.outEdges,getEdgeValue),o=sum(n.inEdges,getEdgeValue),s=n.getValue()||0,l=Math.max(a,o,s);n.setLayout({value:l},!0)})}function computeNodeBreadths(r,n,a,o,s,l,c){for(var u=[],d=[],f=[],v=[],g=0,y=0;y<n.length;y++)u[y]=1;for(var y=0;y<r.length;y++)d[y]=r[y].inEdges.length,d[y]===0&&f.push(r[y]);for(var _=-1;f.length;){for(var b=0;b<f.length;b++){var T=f[b],C=T.hostGraph.data.getRawDataItem(T.dataIndex),P=C.depth!=null&&C.depth>=0;P&&C.depth>_&&(_=C.depth),T.setLayout({depth:P?C.depth:g},!0),l==="vertical"?T.setLayout({dy:a},!0):T.setLayout({dx:a},!0);for(var E=0;E<T.outEdges.length;E++){var M=T.outEdges[E],I=n.indexOf(M);u[I]=0;var L=M.node2,N=r.indexOf(L);--d[N]===0&&v.indexOf(L)<0&&v.push(L)}}++g,f=v,v=[]}for(var y=0;y<u.length;y++)if(u[y]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var V=_>g-1?_:g-1;c&&c!=="left"&&adjustNodeWithNodeAlign(r,c,l,V);var B=l==="vertical"?(s-a)/V:(o-a)/V;scaleNodeBreadths(r,B,l)}function isNodeDepth(r){var n=r.hostGraph.data.getRawDataItem(r.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(r,n,a,o){if(n==="right"){for(var s=[],l=r,c=0;l.length;){for(var u=0;u<l.length;u++){var d=l[u];d.setLayout({skNodeHeight:c},!0);for(var f=0;f<d.inEdges.length;f++){var v=d.inEdges[f];s.indexOf(v.node1)<0&&s.push(v.node1)}}l=s,s=[],++c}each$f(r,function(g){isNodeDepth(g)||g.setLayout({depth:Math.max(0,o-g.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight(r,o)}function moveSinksRight(r,n){each$f(r,function(a){!isNodeDepth(a)&&!a.outEdges.length&&a.setLayout({depth:n},!0)})}function scaleNodeBreadths(r,n,a){each$f(r,function(o){var s=o.getLayout().depth*n;a==="vertical"?o.setLayout({y:s},!0):o.setLayout({x:s},!0)})}function computeNodeDepths(r,n,a,o,s,l,c){var u=prepareNodesByBreadth(r,c);initializeNodeDepth(u,n,a,o,s,c),resolveCollisions(u,s,a,o,c);for(var d=1;l>0;l--)d*=.99,relaxRightToLeft(u,d,c),resolveCollisions(u,s,a,o,c),relaxLeftToRight(u,d,c),resolveCollisions(u,s,a,o,c)}function prepareNodesByBreadth(r,n){var a=[],o=n==="vertical"?"y":"x",s=groupData(r,function(l){return l.getLayout()[o]});return s.keys.sort(function(l,c){return l-c}),each$f(s.keys,function(l){a.push(s.buckets.get(l))}),a}function initializeNodeDepth(r,n,a,o,s,l){var c=1/0;each$f(r,function(u){var d=u.length,f=0;each$f(u,function(g){f+=g.getLayout().value});var v=l==="vertical"?(o-(d-1)*s)/f:(a-(d-1)*s)/f;v<c&&(c=v)}),each$f(r,function(u){each$f(u,function(d,f){var v=d.getLayout().value*c;l==="vertical"?(d.setLayout({x:f},!0),d.setLayout({dx:v},!0)):(d.setLayout({y:f},!0),d.setLayout({dy:v},!0))})}),each$f(n,function(u){var d=+u.getValue()*c;u.setLayout({dy:d},!0)})}function resolveCollisions(r,n,a,o,s){var l=s==="vertical"?"x":"y";each$f(r,function(c){c.sort(function(T,C){return T.getLayout()[l]-C.getLayout()[l]});for(var u,d,f,v=0,g=c.length,y=s==="vertical"?"dx":"dy",_=0;_<g;_++)d=c[_],f=v-d.getLayout()[l],f>0&&(u=d.getLayout()[l]+f,s==="vertical"?d.setLayout({x:u},!0):d.setLayout({y:u},!0)),v=d.getLayout()[l]+d.getLayout()[y]+n;var b=s==="vertical"?o:a;if(f=v-n-b,f>0){u=d.getLayout()[l]-f,s==="vertical"?d.setLayout({x:u},!0):d.setLayout({y:u},!0),v=u;for(var _=g-2;_>=0;--_)d=c[_],f=d.getLayout()[l]+d.getLayout()[y]+n-v,f>0&&(u=d.getLayout()[l]-f,s==="vertical"?d.setLayout({x:u},!0):d.setLayout({y:u},!0)),v=d.getLayout()[l]}})}function relaxRightToLeft(r,n,a){each$f(r.slice().reverse(),function(o){each$f(o,function(s){if(s.outEdges.length){var l=sum(s.outEdges,weightedTarget,a)/sum(s.outEdges,getEdgeValue);if(isNaN(l)){var c=s.outEdges.length;l=c?sum(s.outEdges,centerTarget,a)/c:0}if(a==="vertical"){var u=s.getLayout().x+(l-center(s,a))*n;s.setLayout({x:u},!0)}else{var d=s.getLayout().y+(l-center(s,a))*n;s.setLayout({y:d},!0)}}})})}function weightedTarget(r,n){return center(r.node2,n)*r.getValue()}function centerTarget(r,n){return center(r.node2,n)}function weightedSource(r,n){return center(r.node1,n)*r.getValue()}function centerSource(r,n){return center(r.node1,n)}function center(r,n){return n==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function getEdgeValue(r){return r.getValue()}function sum(r,n,a){for(var o=0,s=r.length,l=-1;++l<s;){var c=+n(r[l],a);isNaN(c)||(o+=c)}return o}function relaxLeftToRight(r,n,a){each$f(r,function(o){each$f(o,function(s){if(s.inEdges.length){var l=sum(s.inEdges,weightedSource,a)/sum(s.inEdges,getEdgeValue);if(isNaN(l)){var c=s.inEdges.length;l=c?sum(s.inEdges,centerSource,a)/c:0}if(a==="vertical"){var u=s.getLayout().x+(l-center(s,a))*n;s.setLayout({x:u},!0)}else{var d=s.getLayout().y+(l-center(s,a))*n;s.setLayout({y:d},!0)}}})})}function computeEdgeDepths(r,n){var a=n==="vertical"?"x":"y";each$f(r,function(o){o.outEdges.sort(function(s,l){return s.node2.getLayout()[a]-l.node2.getLayout()[a]}),o.inEdges.sort(function(s,l){return s.node1.getLayout()[a]-l.node1.getLayout()[a]})}),each$f(r,function(o){var s=0,l=0;each$f(o.outEdges,function(c){c.setLayout({sy:s},!0),s+=c.getLayout().dy}),each$f(o.inEdges,function(c){c.setLayout({ty:l},!0),l+=c.getLayout().dy})})}function sankeyVisual(r){r.eachSeriesByType("sankey",function(n){var a=n.getGraph(),o=a.nodes,s=a.edges;if(o.length){var l=1/0,c=-1/0;each$f(o,function(u){var d=u.getLayout().value;d<l&&(l=d),d>c&&(c=d)}),each$f(o,function(u){var d=new VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[l,c],visual:n.get("color")}),f=d.mapValueToVisual(u.getLayout().value),v=u.getModel().get(["itemStyle","color"]);v!=null?(u.setVisual("color",v),u.setVisual("style",{fill:v})):(u.setVisual("color",f),u.setVisual("style",{fill:f}))})}s.length&&each$f(s,function(u){var d=u.getModel().get("lineStyle");u.setVisual("style",d)})})}function install$A(r){r.registerChartView(SankeyView),r.registerSeriesModel(SankeySeriesModel),r.registerLayout(sankeyLayout),r.registerVisual(sankeyVisual),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,a){a.eachComponent({mainType:"series",subType:"sankey",query:n},function(o){o.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin=function(){function r(){}return r.prototype._hasEncodeRule=function(n){var a=this.getEncode();return a&&a.get(n)!=null},r.prototype.getInitialData=function(n,a){var o,s=a.getComponent("xAxis",this.get("xAxisIndex")),l=a.getComponent("yAxis",this.get("yAxisIndex")),c=s.get("type"),u=l.get("type"),d;c==="category"?(n.layout="horizontal",o=s.getOrdinalMeta(),d=!this._hasEncodeRule("x")):u==="category"?(n.layout="vertical",o=l.getOrdinalMeta(),d=!this._hasEncodeRule("y")):n.layout=n.layout||"horizontal";var f=["x","y"],v=n.layout==="horizontal"?0:1,g=this._baseAxisDim=f[v],y=f[1-v],_=[s,l],b=_[v].get("type"),T=_[1-v].get("type"),C=n.data;if(C&&d){var P=[];each$f(C,function(I,L){var N;isArray$1(I)?(N=I.slice(),I.unshift(L)):isArray$1(I.value)?(N=extend({},I),N.value=N.value.slice(),I.value.unshift(L)):N=I,P.push(N)}),n.data=P}var E=this.defaultValueDimensions,M=[{name:g,type:getDimensionTypeByAxis(b),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:getDimensionTypeByAxis(T),dimsDef:E.slice()}];return createSeriesDataSimply(this,{coordDimensions:M,dimensionsCount:E.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,M,this)})},r.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},r}(),BoxplotSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.getData(),c=this.group,u=this._data;this._data||c.removeAll();var d=a.get("layout")==="horizontal"?1:0;l.diff(u).add(function(f){if(l.hasValue(f)){var v=l.getItemLayout(f),g=createNormalBox$1(v,l,f,d,!0);l.setItemGraphicEl(f,g),c.add(g)}}).update(function(f,v){var g=u.getItemGraphicEl(v);if(!l.hasValue(f)){c.remove(g);return}var y=l.getItemLayout(f);g?(saveOldStyle(g),updateNormalBoxData(y,g,l,f)):g=createNormalBox$1(y,l,f,d),c.add(g),l.setItemGraphicEl(f,g)}).remove(function(f){var v=u.getItemGraphicEl(f);v&&c.remove(v)}).execute(),this._data=l},n.prototype.remove=function(a){var o=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(l){l&&o.remove(l)})},n.type="boxplot",n}(ChartView),BoxPathShape=function(){function r(){}return r}(),BoxPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="boxplotBoxPath",o}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(a,o){var s=o.points,l=0;for(a.moveTo(s[l][0],s[l][1]),l++;l<4;l++)a.lineTo(s[l][0],s[l][1]);for(a.closePath();l<s.length;l++)a.moveTo(s[l][0],s[l][1]),l++,a.lineTo(s[l][0],s[l][1])},n}(Path);function createNormalBox$1(r,n,a,o,s){var l=r.ends,c=new BoxPath({shape:{points:s?transInit$1(l,o,r):l}});return updateNormalBoxData(r,c,n,a,s),c}function updateNormalBoxData(r,n,a,o,s){var l=a.hostModel,c=graphic[s?"initProps":"updateProps"];c(n,{shape:{points:r.ends}},l,o),n.useStyle(a.getItemVisual(o,"style")),n.style.strokeNoScale=!0,n.z2=100;var u=a.getItemModel(o),d=u.getModel("emphasis");setStatesStylesFromModel(n,u),toggleHoverEmphasis(n,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function transInit$1(r,n,a){return map$1(r,function(o){return o=o.slice(),o[n]=a.initBaseline,o})}var each$9=each$f;function boxplotLayout(r){var n=groupSeriesByAxis(r);each$9(n,function(a){var o=a.seriesModels;o.length&&(calculateBase(a),each$9(o,function(s,l){layoutSingleSeries(s,a.boxOffsetList[l],a.boxWidthList[l])}))})}function groupSeriesByAxis(r){var n=[],a=[];return r.eachSeriesByType("boxplot",function(o){var s=o.getBaseAxis(),l=indexOf(a,s);l<0&&(l=a.length,a[l]=s,n[l]={axis:s,seriesModels:[]}),n[l].seriesModels.push(o)}),n}function calculateBase(r){var n=r.axis,a=r.seriesModels,o=a.length,s=r.boxWidthList=[],l=r.boxOffsetList=[],c=[],u;if(n.type==="category")u=n.getBandWidth();else{var d=0;each$9(a,function(b){d=Math.max(d,b.getData().count())});var f=n.getExtent();u=Math.abs(f[1]-f[0])/d}each$9(a,function(b){var T=b.get("boxWidth");isArray$1(T)||(T=[T,T]),c.push([parsePercent(T[0],u)||0,parsePercent(T[1],u)||0])});var v=u*.8-2,g=v/o*.3,y=(v-g*(o-1))/o,_=y/2-v/2;each$9(a,function(b,T){l.push(_),_+=g+y,s.push(Math.min(Math.max(y,c[T][0]),c[T][1]))})}function layoutSingleSeries(r,n,a){var o=r.coordinateSystem,s=r.getData(),l=a/2,c=r.get("layout")==="horizontal"?0:1,u=1-c,d=["x","y"],f=s.mapDimension(d[c]),v=s.mapDimensionsAll(d[u]);if(f==null||v.length<5)return;for(var g=0;g<s.count();g++){var y=s.get(f,g),_=M(y,v[2],g),b=M(y,v[0],g),T=M(y,v[1],g),C=M(y,v[3],g),P=M(y,v[4],g),E=[];I(E,T,!1),I(E,C,!0),E.push(b,T,P,C),L(E,b),L(E,P),L(E,_),s.setItemLayout(g,{initBaseline:_[u],ends:E})}function M(N,V,B){var z=s.get(V,B),G=[];G[c]=N,G[u]=z;var H;return isNaN(N)||isNaN(z)?H=[NaN,NaN]:(H=o.dataToPoint(G),H[c]+=n),H}function I(N,V,B){var z=V.slice(),G=V.slice();z[c]+=l,G[c]-=l,B?N.push(z,G):N.push(G,z)}function L(N,V){var B=V.slice(),z=V.slice();B[c]-=l,z[c]+=l,N.push(B,z)}}function prepareBoxplotData(r,n){n=n||{};for(var a=[],o=[],s=n.boundIQR,l=s==="none"||s===0,c=0;c<r.length;c++){var u=asc$2(r[c].slice()),d=quantile(u,.25),f=quantile(u,.5),v=quantile(u,.75),g=u[0],y=u[u.length-1],_=(s??1.5)*(v-d),b=l?g:Math.max(g,d-_),T=l?y:Math.min(y,v+_),C=n.itemNameFormatter,P=isFunction(C)?C({value:c}):isString(C)?C.replace("{value}",c+""):c+"";a.push([P,b,d,f,v,T]);for(var E=0;E<u.length;E++){var M=u[E];if(M<b||M>T){var I=[P,M];o.push(I)}}}return{boxData:a,outliers:o}}var boxplotTransform={type:"echarts:boxplot",transform:function(n){var a=n.upstream;if(a.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var o="";throwError(o)}var s=prepareBoxplotData(a.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:s.boxData},{data:s.outliers}]}};function install$z(r){r.registerSeriesModel(BoxplotSeriesModel),r.registerChartView(BoxplotView),r.registerLayout(boxplotLayout),r.registerTransform(boxplotTransform)}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(r,n){return n.get(r>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(r,n){return n.get(r===0?dojiBorderColorQuery:r>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(r,n){if(!n.isSeriesFiltered(r)){var a=r.pipelineContext.large;return!a&&{progress:function(o,s){for(var l;(l=o.next())!=null;){var c=s.getItemModel(l),u=s.getItemLayout(l).sign,d=c.getItemStyle();d.fill=getColor(u,c),d.stroke=getBorderColor(u,c)||d.fill;var f=s.ensureUniqueItemVisual(l,"style");extend(f,d)}}}}}},SKIP_PROPS=["color","borderColor"],CandlestickView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},n.prototype.incrementalPrepareRender=function(a,o,s){this._clear(),this._updateDrawMode(a)},n.prototype.incrementalRender=function(a,o,s,l){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(a,o):this._incrementalRenderNormal(a,o)},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype._updateDrawMode=function(a){var o=a.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},n.prototype._renderNormal=function(a){var o=a.getData(),s=this._data,l=this.group,c=o.getLayout("isSimpleBox"),u=a.get("clip",!0),d=a.coordinateSystem,f=d.getArea&&d.getArea();this._data||l.removeAll(),o.diff(s).add(function(v){if(o.hasValue(v)){var g=o.getItemLayout(v);if(u&&isNormalBoxClipped(f,g))return;var y=createNormalBox(g,v,!0);initProps(y,{shape:{points:g.ends}},a,v),setBoxCommon(y,o,v,c),l.add(y),o.setItemGraphicEl(v,y)}}).update(function(v,g){var y=s.getItemGraphicEl(g);if(!o.hasValue(v)){l.remove(y);return}var _=o.getItemLayout(v);if(u&&isNormalBoxClipped(f,_)){l.remove(y);return}y?(updateProps$1(y,{shape:{points:_.ends}},a,v),saveOldStyle(y)):y=createNormalBox(_),setBoxCommon(y,o,v,c),l.add(y),o.setItemGraphicEl(v,y)}).remove(function(v){var g=s.getItemGraphicEl(v);g&&l.remove(g)}).execute(),this._data=o},n.prototype._renderLarge=function(a){this._clear(),createLarge(a,this.group);var o=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;o?this.group.setClipPath(o):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(a,o){for(var s=o.getData(),l=s.getLayout("isSimpleBox"),c;(c=a.next())!=null;){var u=s.getItemLayout(c),d=createNormalBox(u);setBoxCommon(d,s,c,l),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},n.prototype._incrementalRenderLarge=function(a,o){createLarge(o,this.group,this._progressiveEls,!0)},n.prototype.remove=function(a){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView),NormalBoxPathShape=function(){function r(){}return r}(),NormalBoxPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="normalCandlestickBox",o}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(a,o){var s=o.points;this.__simpleBox?(a.moveTo(s[4][0],s[4][1]),a.lineTo(s[6][0],s[6][1])):(a.moveTo(s[0][0],s[0][1]),a.lineTo(s[1][0],s[1][1]),a.lineTo(s[2][0],s[2][1]),a.lineTo(s[3][0],s[3][1]),a.closePath(),a.moveTo(s[4][0],s[4][1]),a.lineTo(s[5][0],s[5][1]),a.moveTo(s[6][0],s[6][1]),a.lineTo(s[7][0],s[7][1]))},n}(Path);function createNormalBox(r,n,a){var o=r.ends;return new NormalBoxPath({shape:{points:a?transInit(o,r):o},z2:100})}function isNormalBoxClipped(r,n){for(var a=!0,o=0;o<n.ends.length;o++)if(r.contain(n.ends[o][0],n.ends[o][1])){a=!1;break}return a}function setBoxCommon(r,n,a,o){var s=n.getItemModel(a);r.useStyle(n.getItemVisual(a,"style")),r.style.strokeNoScale=!0,r.__simpleBox=o,setStatesStylesFromModel(r,s);var l=n.getItemLayout(a).sign;each$f(r.states,function(u,d){var f=s.getModel(d),v=getColor(l,f),g=getBorderColor(l,f)||v,y=u.style||(u.style={});v&&(y.fill=v),g&&(y.stroke=g)});var c=s.getModel("emphasis");toggleHoverEmphasis(r,c.get("focus"),c.get("blurScope"),c.get("disabled"))}function transInit(r,n){return map$1(r,function(a){return a=a.slice(),a[1]=n.initBaseline,a})}var LargeBoxPathShape=function(){function r(){}return r}(),LargeBoxPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o.type="largeCandlestickBox",o}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(a,o){for(var s=o.points,l=0;l<s.length;)if(this.__sign===s[l++]){var c=s[l++];a.moveTo(c,s[l++]),a.lineTo(c,s[l++])}else l+=3},n}(Path);function createLarge(r,n,a,o){var s=r.getData(),l=s.getLayout("largePoints"),c=new LargeBoxPath({shape:{points:l},__sign:1,ignoreCoarsePointer:!0});n.add(c);var u=new LargeBoxPath({shape:{points:l},__sign:-1,ignoreCoarsePointer:!0});n.add(u);var d=new LargeBoxPath({shape:{points:l},__sign:0,ignoreCoarsePointer:!0});n.add(d),setLargeStyle(1,c,r),setLargeStyle(-1,u,r),setLargeStyle(0,d,r),o&&(c.incremental=!0,u.incremental=!0),a&&a.push(c,u)}function setLargeStyle(r,n,a,o){var s=getBorderColor(r,a)||getColor(r,a),l=a.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle(l),n.style.fill=null,n.style.stroke=s}var CandlestickSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],a}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(a,o,s){var l=o.getItemLayout(a);return l&&s.rect(l.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);function candlestickPreprocessor(r){!r||!isArray$1(r.series)||each$f(r.series,function(n){isObject$3(n)&&n.type==="k"&&(n.type="candlestick")})}var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(r){var n=r.coordinateSystem,a=r.getData(),o=calculateCandleWidth(r,a),s=0,l=1,c=["x","y"],u=a.getDimensionIndex(a.mapDimension(c[s])),d=map$1(a.mapDimensionsAll(c[l]),a.getDimensionIndex,a),f=d[0],v=d[1],g=d[2],y=d[3];if(a.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),u<0||d.length<4)return;return{progress:r.pipelineContext.large?b:_};function _(T,C){for(var P,E=C.getStore();(P=T.next())!=null;){var M=E.get(u,P),I=E.get(f,P),L=E.get(v,P),N=E.get(g,P),V=E.get(y,P),B=Math.min(I,L),z=Math.max(I,L),G=le(B,M),H=le(z,M),W=le(N,M),j=le(V,M),X=[];ae(X,H,0),ae(X,G,1),X.push(ve(j),ve(H),ve(W),ve(G));var Z=C.getItemModel(P),q=!!Z.get(["itemStyle","borderColorDoji"]);C.setItemLayout(P,{sign:getSign(E,P,I,L,v,q),initBaseline:I>L?H[l]:G[l],ends:X,brushRect:he(N,V,M)})}function le(ce,fe){var _e=[];return _e[s]=fe,_e[l]=ce,isNaN(fe)||isNaN(ce)?[NaN,NaN]:n.dataToPoint(_e)}function ae(ce,fe,_e){var Ce=fe.slice(),Se=fe.slice();Ce[s]=subPixelOptimize(Ce[s]+o/2,1,!1),Se[s]=subPixelOptimize(Se[s]-o/2,1,!0),_e?ce.push(Ce,Se):ce.push(Se,Ce)}function he(ce,fe,_e){var Ce=le(ce,_e),Se=le(fe,_e);return Ce[s]-=o/2,Se[s]-=o/2,{x:Ce[0],y:Ce[1],width:o,height:Se[1]-Ce[1]}}function ve(ce){return ce[s]=subPixelOptimize(ce[s],1),ce}}function b(T,C){for(var P=createFloat32Array(T.count*4),E=0,M,I=[],L=[],N,V=C.getStore(),B=!!r.get(["itemStyle","borderColorDoji"]);(N=T.next())!=null;){var z=V.get(u,N),G=V.get(f,N),H=V.get(v,N),W=V.get(g,N),j=V.get(y,N);if(isNaN(z)||isNaN(W)||isNaN(j)){P[E++]=NaN,E+=3;continue}P[E++]=getSign(V,N,G,H,v,B),I[s]=z,I[l]=W,M=n.dataToPoint(I,null,L),P[E++]=M?M[0]:NaN,P[E++]=M?M[1]:NaN,I[l]=j,M=n.dataToPoint(I,null,L),P[E++]=M?M[1]:NaN}C.setLayout("largePoints",P)}}};function getSign(r,n,a,o,s,l){var c;return a>o?c=-1:a<o?c=1:c=l?0:n>0?r.get(s,n-1)<=o?1:-1:1,c}function calculateCandleWidth(r,n){var a=r.getBaseAxis(),o,s=a.type==="category"?a.getBandWidth():(o=a.getExtent(),Math.abs(o[1]-o[0])/n.count()),l=parsePercent(retrieve2(r.get("barMaxWidth"),s),s),c=parsePercent(retrieve2(r.get("barMinWidth"),1),s),u=r.get("barWidth");return u!=null?parsePercent(u,s):Math.max(Math.min(s/2,l),c)}function install$y(r){r.registerChartView(CandlestickView),r.registerSeriesModel(CandlestickSeriesModel),r.registerPreprocessor(candlestickPreprocessor),r.registerVisual(candlestickVisual),r.registerLayout(candlestickLayout)}function updateRipplePath(r,n){var a=n.rippleEffectColor||n.color;r.eachChild(function(o){o.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?a:null,fill:n.brushType==="fill"?a:null}})})}var EffectSymbol=function(r){__extends(n,r);function n(a,o){var s=r.call(this)||this,l=new Symbol$1(a,o),c=new Group$3;return s.add(l),s.add(c),s.updateData(a,o),s}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(a){for(var o=a.symbolType,s=a.color,l=a.rippleNumber,c=this.childAt(1),u=0;u<l;u++){var d=createSymbol$1(o,-1,-1,2,2,s);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-u/l*a.period+a.effectOffset;d.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(f).start(),d.animateStyle(!0).when(a.period,{opacity:0}).delay(f).start(),c.add(d)}updateRipplePath(c,a)},n.prototype.updateEffectAnimation=function(a){for(var o=this._effectCfg,s=this.childAt(1),l=["symbolType","period","rippleScale","rippleNumber"],c=0;c<l.length;c++){var u=l[c];if(o[u]!==a[u]){this.stopEffectAnimation(),this.startEffectAnimation(a);return}}updateRipplePath(s,a)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},n.prototype.updateData=function(a,o){var s=this,l=a.hostModel;this.childAt(0).updateData(a,o);var c=this.childAt(1),u=a.getItemModel(o),d=a.getItemVisual(o,"symbol"),f=normalizeSymbolSize(a.getItemVisual(o,"symbolSize")),v=a.getItemVisual(o,"style"),g=v&&v.fill,y=u.getModel("emphasis");c.setScale(f),c.traverse(function(C){C.setStyle("fill",g)});var _=normalizeSymbolOffset(a.getItemVisual(o,"symbolOffset"),f);_&&(c.x=_[0],c.y=_[1]);var b=a.getItemVisual(o,"symbolRotate");c.rotation=(b||0)*Math.PI/180||0;var T={};T.showEffectOn=l.get("showEffectOn"),T.rippleScale=u.get(["rippleEffect","scale"]),T.brushType=u.get(["rippleEffect","brushType"]),T.period=u.get(["rippleEffect","period"])*1e3,T.effectOffset=o/a.count(),T.z=l.getShallow("z")||0,T.zlevel=l.getShallow("zlevel")||0,T.symbolType=d,T.color=g,T.rippleEffectColor=u.get(["rippleEffect","color"]),T.rippleNumber=u.get(["rippleEffect","number"]),T.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(C){C==="emphasis"?T.showEffectOn!=="render"&&s.startEffectAnimation(T):C==="normal"&&T.showEffectOn!=="render"&&s.stopEffectAnimation()}),this._effectCfg=T,toggleHoverEmphasis(this,y.get("focus"),y.get("blurScope"),y.get("disabled"))},n.prototype.fadeOut=function(a){a&&a()},n}(Group$3),EffectScatterView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},n.prototype.render=function(a,o,s){var l=a.getData(),c=this._symbolDraw;c.updateData(l,{clipShape:this._getClipShape(a)}),this.group.add(c.group)},n.prototype._getClipShape=function(a){var o=a.coordinateSystem,s=o&&o.getArea&&o.getArea();return a.get("clip",!0)?s:null},n.prototype.updateTransform=function(a,o,s){var l=a.getData();this.group.dirty();var c=pointsLayout("").reset(a,o,s);c.progress&&c.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(a){var o=a.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=clone$2(o.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView),EffectScatterSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a}return n.prototype.getInitialData=function(a,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(a,o,s){return s.point(o.getItemLayout(a))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel);function install$x(r){r.registerChartView(EffectScatterView),r.registerSeriesModel(EffectScatterSeriesModel),r.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;return l.add(l.createLine(a,o,s)),l._updateEffectSymbol(a,o),l}return n.prototype.createLine=function(a,o,s){return new Line(a,o,s)},n.prototype._updateEffectSymbol=function(a,o){var s=a.getItemModel(o),l=s.getModel("effect"),c=l.get("symbolSize"),u=l.get("symbol");isArray$1(c)||(c=[c,c]);var d=a.getItemVisual(o,"style"),f=l.get("color")||d&&d.stroke,v=this.childAt(1);this._symbolType!==u&&(this.remove(v),v=createSymbol$1(u,-.5,-.5,1,1,f),v.z2=100,v.culling=!0,this.add(v)),v&&(v.setStyle("shadowColor",f),v.setStyle(l.getItemStyle(["color"])),v.scaleX=c[0],v.scaleY=c[1],v.setColor(f),this._symbolType=u,this._symbolScale=c,this._updateEffectAnimation(a,l,o))},n.prototype._updateEffectAnimation=function(a,o,s){var l=this.childAt(1);if(l){var c=a.getItemLayout(s),u=o.get("period")*1e3,d=o.get("loop"),f=o.get("roundTrip"),v=o.get("constantSpeed"),g=retrieve(o.get("delay"),function(_){return _/a.count()*u/3});if(l.ignore=!0,this._updateAnimationPoints(l,c),v>0&&(u=this._getLineLength(l)/v*1e3),u!==this._period||d!==this._loop||f!==this._roundTrip){l.stopAnimation();var y=void 0;isFunction(g)?y=g(s):y=g,l.__t>0&&(y=-u*l.__t),this._animateSymbol(l,u,y,d,f)}this._period=u,this._loop=d,this._roundTrip=f}},n.prototype._animateSymbol=function(a,o,s,l,c){if(o>0){a.__t=0;var u=this,d=a.animate("",l).when(c?o*2:o,{__t:c?2:1}).delay(s).during(function(){u._updateSymbolPosition(a)});l||d.done(function(){u.remove(a)}),d.start()}},n.prototype._getLineLength=function(a){return dist$1(a.__p1,a.__cp1)+dist$1(a.__cp1,a.__p2)},n.prototype._updateAnimationPoints=function(a,o){a.__p1=o[0],a.__p2=o[1],a.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},n.prototype.updateData=function(a,o,s){this.childAt(0).updateData(a,o,s),this._updateEffectSymbol(a,o)},n.prototype._updateSymbolPosition=function(a){var o=a.__p1,s=a.__p2,l=a.__cp1,c=a.__t<1?a.__t:2-a.__t,u=[a.x,a.y],d=u.slice(),f=quadraticAt$1,v=quadraticDerivativeAt;u[0]=f(o[0],l[0],s[0],c),u[1]=f(o[1],l[1],s[1],c);var g=a.__t<1?v(o[0],l[0],s[0],c):v(s[0],l[0],o[0],1-c),y=a.__t<1?v(o[1],l[1],s[1],c):v(s[1],l[1],o[1],1-c);a.rotation=-Math.atan2(y,g)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(a.__lastT!==void 0&&a.__lastT<a.__t?(a.scaleY=dist$1(d,u)*1.05,c===1&&(u[0]=d[0]+(u[0]-d[0])/2,u[1]=d[1]+(u[1]-d[1])/2)):a.__lastT===1?a.scaleY=2*dist$1(o,u):a.scaleY=this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=u[0],a.y=u[1]},n.prototype.updateLayout=function(a,o){this.childAt(0).updateLayout(a,o);var s=a.getItemModel(o).getModel("effect");this._updateEffectAnimation(a,s,o)},n}(Group$3),Polyline=function(r){__extends(n,r);function n(a,o,s){var l=r.call(this)||this;return l._createPolyline(a,o,s),l}return n.prototype._createPolyline=function(a,o,s){var l=a.getItemLayout(o),c=new Polyline$1({shape:{points:l}});this.add(c),this._updateCommonStl(a,o,s)},n.prototype.updateData=function(a,o,s){var l=a.hostModel,c=this.childAt(0),u={shape:{points:a.getItemLayout(o)}};updateProps$1(c,u,l,o),this._updateCommonStl(a,o,s)},n.prototype._updateCommonStl=function(a,o,s){var l=this.childAt(0),c=a.getItemModel(o),u=s&&s.emphasisLineStyle,d=s&&s.focus,f=s&&s.blurScope,v=s&&s.emphasisDisabled;if(!s||a.hasItemOption){var g=c.getModel("emphasis");u=g.getModel("lineStyle").getLineStyle(),v=g.get("disabled"),d=g.get("focus"),f=g.get("blurScope")}l.useStyle(a.getItemVisual(o,"style")),l.style.fill=null,l.style.strokeNoScale=!0;var y=l.ensureState("emphasis");y.style=u,toggleHoverEmphasis(this,d,f,v)},n.prototype.updateLayout=function(a,o){var s=this.childAt(0);s.setShape("points",a.getItemLayout(o))},n}(Group$3),EffectPolyline=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a._lastFrame=0,a._lastFramePercent=0,a}return n.prototype.createLine=function(a,o,s){return new Polyline(a,o,s)},n.prototype._updateAnimationPoints=function(a,o){this._points=o;for(var s=[0],l=0,c=1;c<o.length;c++){var u=o[c-1],d=o[c];l+=dist$1(u,d),s.push(l)}if(l===0){this._length=0;return}for(var c=0;c<s.length;c++)s[c]/=l;this._offsets=s,this._length=l},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(a){var o=a.__t<1?a.__t:2-a.__t,s=this._points,l=this._offsets,c=s.length;if(l){var u=this._lastFrame,d;if(o<this._lastFramePercent){var f=Math.min(u+1,c-1);for(d=f;d>=0&&!(l[d]<=o);d--);d=Math.min(d,c-2)}else{for(d=u;d<c&&!(l[d]>o);d++);d=Math.min(d-1,c-2)}var v=(o-l[d])/(l[d+1]-l[d]),g=s[d],y=s[d+1];a.x=g[0]*(1-v)+v*y[0],a.y=g[1]*(1-v)+v*y[1];var _=a.__t<1?y[0]-g[0]:g[0]-y[0],b=a.__t<1?y[1]-g[1]:g[1]-y[1];a.rotation=-Math.atan2(b,_)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,a.ignore=!1}},n}(EffectLine),LargeLinesPathShape=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),LargeLinesPath=function(r){__extends(n,r);function n(a){var o=r.call(this,a)||this;return o._off=0,o.hoverDataIdx=-1,o}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(a,o){var s=o.segs,l=o.curveness,c;if(o.polyline)for(c=this._off;c<s.length;){var u=s[c++];if(u>0){a.moveTo(s[c++],s[c++]);for(var d=1;d<u;d++)a.lineTo(s[c++],s[c++])}}else for(c=this._off;c<s.length;){var f=s[c++],v=s[c++],g=s[c++],y=s[c++];if(a.moveTo(f,v),l>0){var _=(f+g)/2-(v-y)*l,b=(v+y)/2-(g-f)*l;a.quadraticCurveTo(_,b,g,y)}else a.lineTo(g,y)}this.incremental&&(this._off=c,this.notClear=!0)},n.prototype.findDataIndex=function(a,o){var s=this.shape,l=s.segs,c=s.curveness,u=this.style.lineWidth;if(s.polyline)for(var d=0,f=0;f<l.length;){var v=l[f++];if(v>0)for(var g=l[f++],y=l[f++],_=1;_<v;_++){var b=l[f++],T=l[f++];if(containStroke$4(g,y,b,T,u,a,o))return d}d++}else for(var d=0,f=0;f<l.length;){var g=l[f++],y=l[f++],b=l[f++],T=l[f++];if(c>0){var C=(g+b)/2-(y-T)*c,P=(y+T)/2-(b-g)*c;if(containStroke$2(g,y,C,P,b,T,u,a,o))return d}else if(containStroke$4(g,y,b,T,u,a,o))return d;d++}return-1},n.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(a=s[0],o=s[1],l.contain(a,o)){var c=this.hoverDataIdx=this.findDataIndex(a,o);return c>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var o=this.shape,s=o.segs,l=1/0,c=1/0,u=-1/0,d=-1/0,f=0;f<s.length;){var v=s[f++],g=s[f++];l=Math.min(v,l),u=Math.max(v,u),c=Math.min(g,c),d=Math.max(g,d)}a=this._rect=new BoundingRect(l,c,u,d)}return a},n}(Path),LargeLineDraw=function(){function r(){this.group=new Group$3}return r.prototype.updateData=function(n){this._clear();var a=this._create();a.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(a,n)},r.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(n,a){var o=this._newAdded[0],s=a.getLayout("linesPoints"),l=o&&o.shape.segs;if(l&&l.length<2e4){var c=l.length,u=new Float32Array(c+s.length);u.set(l),u.set(s,c),o.setShape({segs:u})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:s}),this._setCommon(d,a),d.__startIndex=n.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},r.prototype._create=function(){var n=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},r.prototype._setCommon=function(n,a,o){var s=a.hostModel;n.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),n.useStyle(s.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var l=a.getVisual("style");l&&l.stroke&&n.setStyle("stroke",l.stroke),n.setStyle("fill",null);var c=getECData(n);c.seriesIndex=s.seriesIndex,n.on("mousemove",function(u){c.dataIndex=null;var d=n.hoverDataIdx;d>0&&(c.dataIndex=d+n.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(r){var n=r.coordinateSystem;if(n){var a=r.get("polyline"),o=r.pipelineContext.large;return{progress:function(s,l){var c=[];if(o){var u=void 0,d=s.end-s.start;if(a){for(var f=0,v=s.start;v<s.end;v++)f+=r.getLineCoordsCount(v);u=new Float32Array(d+f*2)}else u=new Float32Array(d*4);for(var g=0,y=[],v=s.start;v<s.end;v++){var _=r.getLineCoords(v,c);a&&(u[g++]=_);for(var b=0;b<_;b++)y=n.dataToPoint(c[b],!1,y),u[g++]=y[0],u[g++]=y[1]}l.setLayout("linesPoints",u)}else for(var v=s.start;v<s.end;v++){var T=l.getItemModel(v),_=r.getLineCoords(v,c),C=[];if(a)for(var P=0;P<_;P++)C.push(n.dataToPoint(c[P]));else{C[0]=n.dataToPoint(c[0]),C[1]=n.dataToPoint(c[1]);var E=T.get(["lineStyle","curveness"]);+E&&(C[2]=[(C[0][0]+C[1][0])/2-(C[0][1]-C[1][1])*E,(C[0][1]+C[1][1])/2-(C[1][0]-C[0][0])*E])}l.setItemLayout(v,C)}}}}}},LinesView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=a.getData(),c=this._updateLineDraw(l,a),u=a.get("zlevel"),d=a.get(["effect","trailLength"]),f=s.getZr(),v=f.painter.getType()==="svg";v||f.painter.getLayer(u).clear(!0),this._lastZlevel!=null&&!v&&f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&d>0&&(v||f.configLayer(u,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),c.updateData(l);var g=a.get("clip",!0)&&createClipPath(a.coordinateSystem,!1,a);g?this.group.setClipPath(g):this.group.removeClipPath(),this._lastZlevel=u,this._finished=!0},n.prototype.incrementalPrepareRender=function(a,o,s){var l=a.getData(),c=this._updateLineDraw(l,a);c.incrementalPrepareUpdate(l),this._clearLayer(s),this._finished=!1},n.prototype.incrementalRender=function(a,o,s){this._lineDraw.incrementalUpdate(a,o.getData()),this._finished=a.end===o.getData().count()},n.prototype.eachRendered=function(a){this._lineDraw&&this._lineDraw.eachRendered(a)},n.prototype.updateTransform=function(a,o,s){var l=a.getData(),c=a.pipelineContext;if(!this._finished||c.large||c.progressiveRender)return{update:!0};var u=linesLayout.reset(a,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._lineDraw.updateLayout(),this._clearLayer(s)},n.prototype._updateLineDraw=function(a,o){var s=this._lineDraw,l=this._showEffect(o),c=!!o.get("polyline"),u=o.pipelineContext,d=u.large;return(!s||l!==this._hasEffet||c!==this._isPolyline||d!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=d?new LargeLineDraw:new LineDraw(c?l?EffectPolyline:Polyline:l?EffectLine:Line),this._hasEffet=l,this._isPolyline=c,this._isLargeDraw=d),this.group.add(s.group),s},n.prototype._showEffect=function(a){return!!a.get(["effect","show"])},n.prototype._clearLayer=function(a){var o=a.getZr(),s=o.painter.getType()==="svg";!s&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(a,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},n.prototype.dispose=function(a,o){this.remove(a,o)},n.type="lines",n}(ChartView),Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(r){var n=r.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(r.data=map$1(n,function(a){var o=[a[0].coord,a[1].coord],s={coords:o};return a[0].name&&(s.fromName=a[0].name),a[1].name&&(s.toName=a[1].name),mergeAll([s,a[0],a[1]])}))}var LinesSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return n.prototype.init=function(a){a.data=a.data||[],compatEc2(a);var o=this._processFlatCoordsArray(a.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(a.data=new Float32Array(o.count)),r.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(a){if(compatEc2(a),a.data){var o=this._processFlatCoordsArray(a.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(a.data=new Float32Array(o.count))}r.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(a){var o=this._processFlatCoordsArray(a.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,o.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),a.data=new Float32Array(o.count)),this.getRawData().appendData(a.data)},n.prototype._getCoordsFromItemModel=function(a){var o=this.getData().getItemModel(a),s=o.option instanceof Array?o.option:o.getShallow("coords");return s},n.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[a*2+1]:this._getCoordsFromItemModel(a).length},n.prototype.getLineCoords=function(a,o){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[a*2],l=this._flatCoordsOffset[a*2+1],c=0;c<l;c++)o[c]=o[c]||[],o[c][0]=this._flatCoords[s+c*2],o[c][1]=this._flatCoords[s+c*2+1];return l}else{for(var u=this._getCoordsFromItemModel(a),c=0;c<u.length;c++)o[c]=o[c]||[],o[c][0]=u[c][0],o[c][1]=u[c][1];return u.length}},n.prototype._processFlatCoordsArray=function(a){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),isNumber(a[0])){for(var s=a.length,l=new Uint32Arr(s),c=new Float64Arr(s),u=0,d=0,f=0,v=0;v<s;){f++;var g=a[v++];l[d++]=u+o,l[d++]=g;for(var y=0;y<g;y++){var _=a[v++],b=a[v++];c[u++]=_,c[u++]=b}}return{flatCoordsOffset:new Uint32Array(l.buffer,0,d),flatCoords:c,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},n.prototype.getInitialData=function(a,o){var s=new SeriesData(["value"],this);return s.hasItemOption=!1,s.initData(a.data,[],function(l,c,u,d){if(l instanceof Array)return NaN;s.hasItemOption=!0;var f=l.value;if(f!=null)return f instanceof Array?f[d]:f}),s},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),c=l.getItemModel(a),u=c.get("name");if(u)return u;var d=c.get("fromName"),f=c.get("toName"),v=[];return d!=null&&v.push(d),f!=null&&v.push(f),createTooltipMarkup("nameValue",{name:v.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var a=this.option.progressive;return a??(this.option.large?1e4:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return a??(this.option.large?2e4:this.get("progressiveThreshold"))},n.prototype.getZLevelKey=function(){var a=this.getModel("effect"),o=a.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:a.get("show")&&o>0?o+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel);function normalize(r){return r instanceof Array||(r=[r,r]),r}var linesVisual={seriesType:"lines",reset:function(r){var n=normalize(r.get("symbol")),a=normalize(r.get("symbolSize")),o=r.getData();o.setVisual("fromSymbol",n&&n[0]),o.setVisual("toSymbol",n&&n[1]),o.setVisual("fromSymbolSize",a&&a[0]),o.setVisual("toSymbolSize",a&&a[1]);function s(l,c){var u=l.getItemModel(c),d=normalize(u.getShallow("symbol",!0)),f=normalize(u.getShallow("symbolSize",!0));d[0]&&l.setItemVisual(c,"fromSymbol",d[0]),d[1]&&l.setItemVisual(c,"toSymbol",d[1]),f[0]&&l.setItemVisual(c,"fromSymbolSize",f[0]),f[1]&&l.setItemVisual(c,"toSymbolSize",f[1])}return{dataEach:o.hasItemOption?s:null}}};function install$w(r){r.registerChartView(LinesView),r.registerSeriesModel(LinesSeriesModel),r.registerLayout(linesLayout),r.registerVisual(linesVisual)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return r.prototype.update=function(n,a,o,s,l,c){var u=this._getBrush(),d=this._getGradient(l,"inRange"),f=this._getGradient(l,"outOfRange"),v=this.pointSize+this.blurSize,g=this.canvas,y=g.getContext("2d"),_=n.length;g.width=a,g.height=o;for(var b=0;b<_;++b){var T=n[b],C=T[0],P=T[1],E=T[2],M=s(E);y.globalAlpha=M,y.drawImage(u,C-v,P-v)}if(!g.width||!g.height)return g;for(var I=y.getImageData(0,0,g.width,g.height),L=I.data,N=0,V=L.length,B=this.minOpacity,z=this.maxOpacity,G=z-B;N<V;){var M=L[N+3]/256,H=Math.floor(M*(GRADIENT_LEVELS-1))*4;if(M>0){var W=c(M)?d:f;M>0&&(M=M*G+B),L[N++]=W[H],L[N++]=W[H+1],L[N++]=W[H+2],L[N++]=W[H+3]*M*256}else N+=4}return y.putImageData(I,0,0),g},r.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),a=this.pointSize+this.blurSize,o=a*2;n.width=o,n.height=o;var s=n.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-a,a,this.pointSize,0,Math.PI*2,!0),s.closePath(),s.fill(),n},r.prototype._getGradient=function(n,a){for(var o=this._gradientPixels,s=o[a]||(o[a]=new Uint8ClampedArray(256*4)),l=[0,0,0,0],c=0,u=0;u<256;u++)n[a](u/255,!0,l),s[c++]=l[0],s[c++]=l[1],s[c++]=l[2],s[c++]=l[3];return s},r}();function getIsInPiecewiseRange(r,n,a){var o=r[1]-r[0];n=map$1(n,function(c){return{interval:[(c.interval[0]-r[0])/o,(c.interval[1]-r[0])/o]}});var s=n.length,l=0;return function(c){var u;for(u=l;u<s;u++){var d=n[u].interval;if(d[0]<=c&&c<=d[1]){l=u;break}}if(u===s)for(u=l-1;u>=0;u--){var d=n[u].interval;if(d[0]<=c&&c<=d[1]){l=u;break}}return u>=0&&u<s&&a[u]}}function getIsInContinuousRange(r,n){var a=r[1]-r[0];return n=[(n[0]-r[0])/a,(n[1]-r[0])/a],function(o){return o>=n[0]&&o<=n[1]}}function isGeoCoordSys(r){var n=r.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l;o.eachComponent("visualMap",function(u){u.eachTargetSeries(function(d){d===a&&(l=u)})}),this._progressiveEls=null,this.group.removeAll();var c=a.coordinateSystem;c.type==="cartesian2d"||c.type==="calendar"?this._renderOnCartesianAndCalendar(a,s,0,a.getData().count()):isGeoCoordSys(c)&&this._renderOnGeo(c,a,l,s)},n.prototype.incrementalPrepareRender=function(a,o,s){this.group.removeAll()},n.prototype.incrementalRender=function(a,o,s,l){var c=o.coordinateSystem;c&&(isGeoCoordSys(c)?this.render(o,s,l):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,l,a.start,a.end,!0)))},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype._renderOnCartesianAndCalendar=function(a,o,s,l,c){var u=a.coordinateSystem,d=isCoordinateSystemType(u,"cartesian2d"),f,v,g,y;if(d){var _=u.getAxis("x"),b=u.getAxis("y");f=_.getBandWidth()+.5,v=b.getBandWidth()+.5,g=_.scale.getExtent(),y=b.scale.getExtent()}for(var T=this.group,C=a.getData(),P=a.getModel(["emphasis","itemStyle"]).getItemStyle(),E=a.getModel(["blur","itemStyle"]).getItemStyle(),M=a.getModel(["select","itemStyle"]).getItemStyle(),I=a.get(["itemStyle","borderRadius"]),L=getLabelStatesModels(a),N=a.getModel("emphasis"),V=N.get("focus"),B=N.get("blurScope"),z=N.get("disabled"),G=d?[C.mapDimension("x"),C.mapDimension("y"),C.mapDimension("value")]:[C.mapDimension("time"),C.mapDimension("value")],H=s;H<l;H++){var W=void 0,j=C.getItemVisual(H,"style");if(d){var X=C.get(G[0],H),Z=C.get(G[1],H);if(isNaN(C.get(G[2],H))||isNaN(X)||isNaN(Z)||X<g[0]||X>g[1]||Z<y[0]||Z>y[1])continue;var q=u.dataToPoint([X,Z]);W=new Rect$2({shape:{x:q[0]-f/2,y:q[1]-v/2,width:f,height:v},style:j})}else{if(isNaN(C.get(G[1],H)))continue;W=new Rect$2({z2:1,shape:u.dataToRect([C.get(G[0],H)]).contentShape,style:j})}if(C.hasItemOption){var le=C.getItemModel(H),ae=le.getModel("emphasis");P=ae.getModel("itemStyle").getItemStyle(),E=le.getModel(["blur","itemStyle"]).getItemStyle(),M=le.getModel(["select","itemStyle"]).getItemStyle(),I=le.get(["itemStyle","borderRadius"]),V=ae.get("focus"),B=ae.get("blurScope"),z=ae.get("disabled"),L=getLabelStatesModels(le)}W.shape.r=I;var he=a.getRawValue(H),ve="-";he&&he[2]!=null&&(ve=he[2]+""),setLabelStyle(W,L,{labelFetcher:a,labelDataIndex:H,defaultOpacity:j.opacity,defaultText:ve}),W.ensureState("emphasis").style=P,W.ensureState("blur").style=E,W.ensureState("select").style=M,toggleHoverEmphasis(W,V,B,z),W.incremental=c,c&&(W.states.emphasis.hoverLayer=!0),T.add(W),C.setItemGraphicEl(H,W),this._progressiveEls&&this._progressiveEls.push(W)}},n.prototype._renderOnGeo=function(a,o,s,l){var c=s.targetVisuals.inRange,u=s.targetVisuals.outOfRange,d=o.getData(),f=this._hmLayer||this._hmLayer||new HeatmapLayer;f.blurSize=o.get("blurSize"),f.pointSize=o.get("pointSize"),f.minOpacity=o.get("minOpacity"),f.maxOpacity=o.get("maxOpacity");var v=a.getViewRect().clone(),g=a.getRoamTransform();v.applyTransform(g);var y=Math.max(v.x,0),_=Math.max(v.y,0),b=Math.min(v.width+v.x,l.getWidth()),T=Math.min(v.height+v.y,l.getHeight()),C=b-y,P=T-_,E=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],M=d.mapArray(E,function(V,B,z){var G=a.dataToPoint([V,B]);return G[0]-=y,G[1]-=_,G.push(z),G}),I=s.getExtent(),L=s.type==="visualMap.continuous"?getIsInContinuousRange(I,s.option.range):getIsInPiecewiseRange(I,s.getPieceList(),s.option.selected);f.update(M,C,P,c.color.getNormalizer(),{inRange:c.color.getColorMapper(),outOfRange:u.color.getColorMapper()},L);var N=new ZRImage({style:{width:C,height:P,x:y,y:_,image:f.canvas},silent:!0});this.group.add(N)},n.type="heatmap",n}(ChartView),HeatmapSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getInitialData=function(a,o){return createSeriesData(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var a=CoordinateSystemManager.get(this.get("coordinateSystem"));if(a&&a.dimensions)return a.dimensions[0]==="lng"&&a.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel);function install$v(r){r.registerChartView(HeatmapView),r.registerSeriesModel(HeatmapSeriesModel)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle,PictorialBarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=this.group,c=a.getData(),u=this._data,d=a.coordinateSystem,f=d.getBaseAxis(),v=f.isHorizontal(),g=d.master.getRect(),y={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:a,coordSys:d,coordSysExtent:[[g.x,g.x+g.width],[g.y,g.y+g.height]],isHorizontal:v,valueDim:LAYOUT_ATTRS[+v],categoryDim:LAYOUT_ATTRS[1-+v]};c.diff(u).add(function(b){if(c.hasValue(b)){var T=getItemModel(c,b),C=getSymbolMeta(c,b,T,y),P=createBar(c,y,C);c.setItemGraphicEl(b,P),l.add(P),updateCommon(P,y,C)}}).update(function(b,T){var C=u.getItemGraphicEl(T);if(!c.hasValue(b)){l.remove(C);return}var P=getItemModel(c,b),E=getSymbolMeta(c,b,P,y),M=getShapeStr(c,E);C&&M!==C.__pictorialShapeStr&&(l.remove(C),c.setItemGraphicEl(b,null),C=null),C?updateBar(C,y,E):C=createBar(c,y,E,!0),c.setItemGraphicEl(b,C),C.__pictorialSymbolMeta=E,l.add(C),updateCommon(C,y,E)}).remove(function(b){var T=u.getItemGraphicEl(b);T&&removeBar(u,b,T.__pictorialSymbolMeta.animationModel,T)}).execute();var _=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;return _?l.setClipPath(_):l.removeClipPath(),this._data=c,this.group},n.prototype.remove=function(a,o){var s=this.group,l=this._data;a.get("animation")?l&&l.eachItemGraphicEl(function(c){removeBar(l,getECData(c).dataIndex,a,c)}):s.removeAll()},n.type="pictorialBar",n}(ChartView);function getSymbolMeta(r,n,a,o){var s=r.getItemLayout(n),l=a.get("symbolRepeat"),c=a.get("symbolClip"),u=a.get("symbolPosition")||"start",d=a.get("symbolRotate"),f=(d||0)*Math.PI/180||0,v=a.get("symbolPatternSize")||2,g=a.isAnimationEnabled(),y={dataIndex:n,layout:s,itemModel:a,symbolType:r.getItemVisual(n,"symbol")||"circle",style:r.getItemVisual(n,"style"),symbolClip:c,symbolRepeat:l,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:f,animationModel:g?a:null,hoverScale:g&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};prepareBarLength(a,l,s,o,y),prepareSymbolSize(r,n,s,l,c,y.boundingLength,y.pxSign,v,o,y),prepareLineWidth(a,y.symbolScale,f,o,y);var _=y.symbolSize,b=normalizeSymbolOffset(a.get("symbolOffset"),_);return prepareLayoutInfo(a,_,s,l,c,b,u,y.valueLineWidth,y.boundingLength,y.repeatCutLength,o,y),y}function prepareBarLength(r,n,a,o,s){var l=o.valueDim,c=r.get("symbolBoundingData"),u=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),d=u.toGlobalCoord(u.dataToCoord(0)),f=1-+(a[l.wh]<=0),v;if(isArray$1(c)){var g=[convertToCoordOnAxis(u,c[0])-d,convertToCoordOnAxis(u,c[1])-d];g[1]<g[0]&&g.reverse(),v=g[f]}else c!=null?v=convertToCoordOnAxis(u,c)-d:n?v=o.coordSysExtent[l.index][f]-d:v=a[l.wh];s.boundingLength=v,n&&(s.repeatCutLength=a[l.wh]);var y=l.xy==="x",_=u.inverse;s.pxSign=y&&!_||!y&&_?v>=0?1:-1:v>0?1:-1}function convertToCoordOnAxis(r,n){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(n)))}function prepareSymbolSize(r,n,a,o,s,l,c,u,d,f){var v=d.valueDim,g=d.categoryDim,y=Math.abs(a[g.wh]),_=r.getItemVisual(n,"symbolSize"),b;isArray$1(_)?b=_.slice():_==null?b=["100%","100%"]:b=[_,_],b[g.index]=parsePercent(b[g.index],y),b[v.index]=parsePercent(b[v.index],o?y:Math.abs(l)),f.symbolSize=b;var T=f.symbolScale=[b[0]/u,b[1]/u];T[v.index]*=(d.isHorizontal?-1:1)*c}function prepareLineWidth(r,n,a,o,s){var l=r.get(BAR_BORDER_WIDTH_QUERY)||0;l&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:a}),pathForLineWidth.updateTransform(),l/=pathForLineWidth.getLineScale(),l*=n[o.valueDim.index]),s.valueLineWidth=l||0}function prepareLayoutInfo(r,n,a,o,s,l,c,u,d,f,v,g){var y=v.categoryDim,_=v.valueDim,b=g.pxSign,T=Math.max(n[_.index]+u,0),C=T;if(o){var P=Math.abs(d),E=retrieve(r.get("symbolMargin"),"15%")+"",M=!1;E.lastIndexOf("!")===E.length-1&&(M=!0,E=E.slice(0,E.length-1));var I=parsePercent(E,n[_.index]),L=Math.max(T+I*2,0),N=M?0:I*2,V=isNumeric(o),B=V?o:toIntTimes((P+N)/L),z=P-B*T;I=z/2/(M?B:Math.max(B-1,1)),L=T+I*2,N=M?0:I*2,!V&&o!=="fixed"&&(B=f?toIntTimes((Math.abs(f)+N)/L):0),C=B*L-N,g.repeatTimes=B,g.symbolMargin=I}var G=b*(C/2),H=g.pathPosition=[];H[y.index]=a[y.wh]/2,H[_.index]=c==="start"?G:c==="end"?d-G:d/2,l&&(H[0]+=l[0],H[1]+=l[1]);var W=g.bundlePosition=[];W[y.index]=a[y.xy],W[_.index]=a[_.xy];var j=g.barRectShape=extend({},a);j[_.wh]=b*Math.max(Math.abs(a[_.wh]),Math.abs(H[_.index]+G)),j[y.wh]=a[y.wh];var X=g.clipShape={};X[y.xy]=-a[y.xy],X[y.wh]=v.ecSize[y.wh],X[_.xy]=0,X[_.wh]=a[_.wh]}function createPath(r){var n=r.symbolPatternSize,a=createSymbol$1(r.symbolType,-n/2,-n/2,n,n);return a.attr({culling:!0}),a.type!=="image"&&a.setStyle({strokeNoScale:!0}),a}function createOrUpdateRepeatSymbols(r,n,a,o){var s=r.__pictorialBundle,l=a.symbolSize,c=a.valueLineWidth,u=a.pathPosition,d=n.valueDim,f=a.repeatTimes||0,v=0,g=l[n.valueDim.index]+c+a.symbolMargin*2;for(eachPath(r,function(T){T.__pictorialAnimationIndex=v,T.__pictorialRepeatTimes=f,v<f?updateAttr(T,null,b(v),a,o):updateAttr(T,null,{scaleX:0,scaleY:0},a,o,function(){s.remove(T)}),v++});v<f;v++){var y=createPath(a);y.__pictorialAnimationIndex=v,y.__pictorialRepeatTimes=f,s.add(y);var _=b(v);updateAttr(y,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},a,o)}function b(T){var C=u.slice(),P=a.pxSign,E=T;return(a.symbolRepeatDirection==="start"?P>0:P<0)&&(E=f-1-T),C[d.index]=g*(E-f/2+.5)+u[d.index],{x:C[0],y:C[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function createOrUpdateSingleSymbol(r,n,a,o){var s=r.__pictorialBundle,l=r.__pictorialMainPath;l?updateAttr(l,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,o):(l=r.__pictorialMainPath=createPath(a),s.add(l),updateAttr(l,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,o))}function createOrUpdateBarRect(r,n,a){var o=extend({},n.barRectShape),s=r.__pictorialBarRect;s?updateAttr(s,null,{shape:o},n,a):(s=r.__pictorialBarRect=new Rect$2({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),s.disableMorphing=!0,r.add(s))}function createOrUpdateClip(r,n,a,o){if(a.symbolClip){var s=r.__pictorialClipPath,l=extend({},a.clipShape),c=n.valueDim,u=a.animationModel,d=a.dataIndex;if(s)updateProps$1(s,{shape:l},u,d);else{l[c.wh]=0,s=new Rect$2({shape:l}),r.__pictorialBundle.setClipPath(s),r.__pictorialClipPath=s;var f={};f[c.wh]=a.clipShape[c.wh],graphic[o?"updateProps":"initProps"](s,{shape:f},u,d)}}}function getItemModel(r,n){var a=r.getItemModel(n);return a.getAnimationDelayParams=getAnimationDelayParams,a.isAnimationEnabled=isAnimationEnabled,a}function getAnimationDelayParams(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(r,n,a,o){var s=new Group$3,l=new Group$3;return s.add(l),s.__pictorialBundle=l,l.x=a.bundlePosition[0],l.y=a.bundlePosition[1],a.symbolRepeat?createOrUpdateRepeatSymbols(s,n,a):createOrUpdateSingleSymbol(s,n,a),createOrUpdateBarRect(s,a,o),createOrUpdateClip(s,n,a,o),s.__pictorialShapeStr=getShapeStr(r,a),s.__pictorialSymbolMeta=a,s}function updateBar(r,n,a){var o=a.animationModel,s=a.dataIndex,l=r.__pictorialBundle;updateProps$1(l,{x:a.bundlePosition[0],y:a.bundlePosition[1]},o,s),a.symbolRepeat?createOrUpdateRepeatSymbols(r,n,a,!0):createOrUpdateSingleSymbol(r,n,a,!0),createOrUpdateBarRect(r,a,!0),createOrUpdateClip(r,n,a,!0)}function removeBar(r,n,a,o){var s=o.__pictorialBarRect;s&&s.removeTextContent();var l=[];eachPath(o,function(c){l.push(c)}),o.__pictorialMainPath&&l.push(o.__pictorialMainPath),o.__pictorialClipPath&&(a=null),each$f(l,function(c){removeElement(c,{scaleX:0,scaleY:0},a,n,function(){o.parent&&o.parent.remove(o)})}),r.setItemGraphicEl(n,null)}function getShapeStr(r,n){return[r.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(r,n,a){each$f(r.__pictorialBundle.children(),function(o){o!==r.__pictorialBarRect&&n.call(a,o)})}function updateAttr(r,n,a,o,s,l){n&&r.attr(n),o.symbolClip&&!s?a&&r.attr(a):a&&graphic[s?"updateProps":"initProps"](r,a,o.animationModel,o.dataIndex,l)}function updateCommon(r,n,a){var o=a.dataIndex,s=a.itemModel,l=s.getModel("emphasis"),c=l.getModel("itemStyle").getItemStyle(),u=s.getModel(["blur","itemStyle"]).getItemStyle(),d=s.getModel(["select","itemStyle"]).getItemStyle(),f=s.getShallow("cursor"),v=l.get("focus"),g=l.get("blurScope"),y=l.get("scale");eachPath(r,function(T){if(T instanceof ZRImage){var C=T.style;T.useStyle(extend({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},a.style))}else T.useStyle(a.style);var P=T.ensureState("emphasis");P.style=c,y&&(P.scaleX=T.scaleX*1.1,P.scaleY=T.scaleY*1.1),T.ensureState("blur").style=u,T.ensureState("select").style=d,f&&(T.cursor=f),T.z2=a.z2});var _=n.valueDim.posDesc[+(a.boundingLength>0)],b=r.__pictorialBarRect;b.ignoreClip=!0,setLabelStyle(b,getLabelStatesModels(s),{labelFetcher:n.seriesModel,labelDataIndex:o,defaultText:getDefaultLabel(n.seriesModel.getData(),o),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:_}),toggleHoverEmphasis(r,v,g,l.get("disabled"))}function toIntTimes(r){var n=Math.round(r);return Math.abs(r-n)<1e-4?n:Math.ceil(r)}var PictorialBarSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.hasSymbolVisual=!0,a.defaultSymbol="roundRect",a}return n.prototype.getInitialData=function(a){return a.stack=null,r.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel);function install$u(r){r.registerChartView(PictorialBarView),r.registerSeriesModel(PictorialBarSeriesModel),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._layers=[],a}return n.prototype.render=function(a,o,s){var l=a.getData(),c=this,u=this.group,d=a.getLayerSeries(),f=l.getLayout("layoutInfo"),v=f.rect,g=f.boundaryGap;u.x=0,u.y=v.y+g[0];function y(C){return C.name}var _=new DataDiffer(this._layersSeries||[],d,y,y),b=[];_.add(bind$1(T,this,"add")).update(bind$1(T,this,"update")).remove(bind$1(T,this,"remove")).execute();function T(C,P,E){var M=c._layers;if(C==="remove"){u.remove(M[P]);return}for(var I=[],L=[],N,V=d[P].indices,B=0;B<V.length;B++){var z=l.getItemLayout(V[B]),G=z.x,H=z.y0,W=z.y;I.push(G,H),L.push(G,H+W),N=l.getItemVisual(V[B],"style")}var j,X=l.getItemLayout(V[0]),Z=a.getModel("label"),q=Z.get("margin"),le=a.getModel("emphasis");if(C==="add"){var ae=b[P]=new Group$3;j=new ECPolygon({shape:{points:I,stackedOnPoints:L,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ae.add(j),u.add(ae),a.isAnimationEnabled()&&j.setClipPath(createGridClipShape(j.getBoundingRect(),a,function(){j.removeClipPath()}))}else{var ae=M[E];j=ae.childAt(0),u.add(ae),b[P]=ae,updateProps$1(j,{shape:{points:I,stackedOnPoints:L}},a),saveOldStyle(j)}setLabelStyle(j,getLabelStatesModels(a),{labelDataIndex:V[B-1],defaultText:l.getName(V[B-1]),inheritColor:N.fill},{normal:{verticalAlign:"middle"}}),j.setTextConfig({position:null,local:!0});var he=j.getTextContent();he&&(he.x=X.x-q,he.y=X.y0+X.y/2),j.useStyle(N),l.setItemGraphicEl(P,j),setStatesStylesFromModel(j,a),toggleHoverEmphasis(j,le.get("focus"),le.get("blurScope"),le.get("disabled"))}this._layersSeries=d,this._layers=b},n.type="themeRiver",n}(ChartView);function createGridClipShape(r,n,a){var o=new Rect$2({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps(o,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},n,a),o}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.fixData=function(a){var o=a.length,s={},l=groupData(a,function(y){return s.hasOwnProperty(y[0]+"")||(s[y[0]+""]=-1),y[2]}),c=[];l.buckets.each(function(y,_){c.push({name:_,dataList:y})});for(var u=c.length,d=0;d<u;++d){for(var f=c[d].name,v=0;v<c[d].dataList.length;++v){var g=c[d].dataList[v][0]+"";s[g]=d}for(var g in s)s.hasOwnProperty(g)&&s[g]!==d&&(s[g]=d,a[o]=[g,0,f],o++)}return a},n.prototype.getInitialData=function(a,o){for(var s=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],l=s.get("type"),c=filter(a.data,function(b){return b[2]!==void 0}),u=this.fixData(c||[]),d=[],f=this.nameMap=createHashMap(),v=0,g=0;g<u.length;++g)d.push(u[g][DATA_NAME_INDEX]),f.get(u[g][DATA_NAME_INDEX])||(f.set(u[g][DATA_NAME_INDEX],v),v++);var y=prepareSeriesDataSchema(u,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(l)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,_=new SeriesData(y,this);return _.initData(u),_},n.prototype.getLayerSeries=function(){for(var a=this.getData(),o=a.count(),s=[],l=0;l<o;++l)s[l]=l;var c=a.mapDimension("single"),u=groupData(s,function(f){return a.get("name",f)}),d=[];return u.buckets.each(function(f,v){f.sort(function(g,y){return a.get(c,g)-a.get(c,y)}),d.push({name:v,indices:f})}),d},n.prototype.getAxisTooltipData=function(a,o,s){isArray$1(a)||(a=a?[a]:[]);for(var l=this.getData(),c=this.getLayerSeries(),u=[],d=c.length,f,v=0;v<d;++v){for(var g=Number.MAX_VALUE,y=-1,_=c[v].indices.length,b=0;b<_;++b){var T=l.get(a[0],c[v].indices[b]),C=Math.abs(T-o);C<=g&&(f=T,g=C,y=c[v].indices[b])}u.push(y)}return{dataIndices:u,nestestValue:f}},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),c=l.getName(a),u=l.get(l.mapDimension("value"),a);return createTooltipMarkup("nameValue",{name:c,value:u})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel);function themeRiverLayout(r,n){r.eachSeriesByType("themeRiver",function(a){var o=a.getData(),s=a.coordinateSystem,l={},c=s.getRect();l.rect=c;var u=a.get("boundaryGap"),d=s.getAxis();if(l.boundaryGap=u,d.orient==="horizontal"){u[0]=parsePercent(u[0],c.height),u[1]=parsePercent(u[1],c.height);var f=c.height-u[0]-u[1];doThemeRiverLayout(o,a,f)}else{u[0]=parsePercent(u[0],c.width),u[1]=parsePercent(u[1],c.width);var v=c.width-u[0]-u[1];doThemeRiverLayout(o,a,v)}o.setLayout("layoutInfo",l)})}function doThemeRiverLayout(r,n,a){if(r.count())for(var o=n.coordinateSystem,s=n.getLayerSeries(),l=r.mapDimension("single"),c=r.mapDimension("value"),u=map$1(s,function(C){return map$1(C.indices,function(P){var E=o.dataToPoint(r.get(l,P));return E[1]=r.get(c,P),E})}),d=computeBaseline(u),f=d.y0,v=a/d.max,g=s.length,y=s[0].indices.length,_,b=0;b<y;++b){_=f[b]*v,r.setItemLayout(s[0].indices[b],{layerIndex:0,x:u[0][b][0],y0:_,y:u[0][b][1]*v});for(var T=1;T<g;++T)_+=u[T-1][b][1]*v,r.setItemLayout(s[T].indices[b],{layerIndex:T,x:u[T][b][0],y0:_,y:u[T][b][1]*v})}}function computeBaseline(r){for(var n=r.length,a=r[0].length,o=[],s=[],l=0,c=0;c<a;++c){for(var u=0,d=0;d<n;++d)u+=r[d][c][1];u>l&&(l=u),o.push(u)}for(var f=0;f<a;++f)s[f]=(l-o[f])/2;l=0;for(var v=0;v<a;++v){var g=o[v]+s[v];g>l&&(l=g)}return{y0:s,max:l}}function install$t(r){r.registerChartView(ThemeRiverView),r.registerSeriesModel(ThemeRiverSeriesModel),r.registerLayout(themeRiverLayout),r.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(r){__extends(n,r);function n(a,o,s,l){var c=r.call(this)||this;c.z2=DEFAULT_SECTOR_Z,c.textConfig={inside:!0},getECData(c).seriesIndex=o.seriesIndex;var u=new ZRText({z2:DEFAULT_TEXT_Z,silent:a.getModel().get(["label","silent"])});return c.setTextContent(u),c.updateData(!0,a,o,s,l),c}return n.prototype.updateData=function(a,o,s,l,c){this.node=o,o.piece=this,s=s||this._seriesModel,l=l||this._ecModel;var u=this;getECData(u).dataIndex=o.dataIndex;var d=o.getModel(),f=d.getModel("emphasis"),v=o.getLayout(),g=extend({},v);g.label=null;var y=o.getVisual("style");y.lineJoin="bevel";var _=o.getVisual("decal");_&&(y.decal=createOrUpdatePatternFromDecal(_,c));var b=getSectorCornerRadius(d.getModel("itemStyle"),g,!0);extend(g,b),each$f(SPECIAL_STATES,function(E){var M=u.ensureState(E),I=d.getModel([E,"itemStyle"]);M.style=I.getItemStyle();var L=getSectorCornerRadius(I,g);L&&(M.shape=L)}),a?(u.setShape(g),u.shape.r=v.r0,initProps(u,{shape:{r:v.r}},s,o.dataIndex)):(updateProps$1(u,{shape:g},s),saveOldStyle(u)),u.useStyle(y),this._updateLabel(s);var T=d.getShallow("cursor");T&&u.attr("cursor",T),this._seriesModel=s||this._seriesModel,this._ecModel=l||this._ecModel;var C=f.get("focus"),P=C==="relative"?concatArray(o.getAncestorsIndices(),o.getDescendantIndices()):C==="ancestor"?o.getAncestorsIndices():C==="descendant"?o.getDescendantIndices():C;toggleHoverEmphasis(this,P,f.get("blurScope"),f.get("disabled"))},n.prototype._updateLabel=function(a){var o=this,s=this.node.getModel(),l=s.getModel("label"),c=this.node.getLayout(),u=c.endAngle-c.startAngle,d=(c.startAngle+c.endAngle)/2,f=Math.cos(d),v=Math.sin(d),g=this,y=g.getTextContent(),_=this.node.dataIndex,b=l.get("minAngle")/180*Math.PI,T=l.get("show")&&!(b!=null&&Math.abs(u)<b);y.ignore=!T,each$f(DISPLAY_STATES,function(P){var E=P==="normal"?s.getModel("label"):s.getModel([P,"label"]),M=P==="normal",I=M?y:y.ensureState(P),L=a.getFormattedLabel(_,P);M&&(L=L||o.node.name),I.style=createTextStyle(E,{},null,P!=="normal",!0),L&&(I.style.text=L);var N=E.get("show");N!=null&&!M&&(I.ignore=!N);var V=C(E,"position"),B=M?g:g.states[P],z=B.style.fill;B.textConfig={outsideFill:E.get("color")==="inherit"?z:null,inside:V!=="outside"};var G,H=C(E,"distance")||0,W=C(E,"align"),j=C(E,"rotate"),X=Math.PI*.5,Z=Math.PI*1.5,q=normalizeRadian(j==="tangential"?Math.PI/2-d:d),le=q>X&&!isRadianAroundZero(q-X)&&q<Z;V==="outside"?(G=c.r+H,W=le?"right":"left"):!W||W==="center"?(u===2*Math.PI&&c.r0===0?G=0:G=(c.r+c.r0)/2,W="center"):W==="left"?(G=c.r0+H,W=le?"right":"left"):W==="right"&&(G=c.r-H,W=le?"left":"right"),I.style.align=W,I.style.verticalAlign=C(E,"verticalAlign")||"middle",I.x=G*f+c.cx,I.y=G*v+c.cy;var ae=0;j==="radial"?ae=normalizeRadian(-d)+(le?Math.PI:0):j==="tangential"?ae=normalizeRadian(Math.PI/2-d)+(le?Math.PI:0):isNumber(j)&&(ae=j*Math.PI/180),I.rotation=normalizeRadian(ae)});function C(P,E){var M=P.get(E);return M??l.get(E)}y.dirtyStyle()},n}(Sector),ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(r){r.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(n,a){a.eachComponent({mainType:"series",subType:"sunburst",query:n},o);function o(s,l){var c=retrieveTargetInfo(n,[ROOT_TO_NODE_ACTION],s);if(c){var u=s.getViewRoot();u&&(n.direction=aboveViewRoot(u,c.node)?"rollUp":"drillDown"),s.resetViewRoot(c.node)}}}),r.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(n,a,o){n=extend({},n),a.eachComponent({mainType:"series",subType:"sunburst",query:n},s);function s(l){var c=retrieveTargetInfo(n,[HIGHLIGHT_ACTION],l);c&&(n.dataIndex=c.node.dataIndex)}o.dispatchAction(extend(n,{type:"highlight"}))}),r.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(n,a,o){n=extend({},n),o.dispatchAction(extend(n,{type:"downplay"}))})}var SunburstView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){var c=this;this.seriesModel=a,this.api=s,this.ecModel=o;var u=a.getData(),d=u.tree.root,f=a.getViewRoot(),v=this.group,g=a.get("renderLabelForZeroData"),y=[];f.eachNode(function(E){y.push(E)});var _=this._oldChildren||[];b(y,_),P(d,f),this._initEvents(),this._oldChildren=y;function b(E,M){if(E.length===0&&M.length===0)return;new DataDiffer(M,E,I,I).add(L).update(L).remove(curry$1(L,null)).execute();function I(N){return N.getId()}function L(N,V){var B=N==null?null:E[N],z=V==null?null:M[V];T(B,z)}}function T(E,M){if(!g&&E&&!E.getValue()&&(E=null),E!==d&&M!==d){if(M&&M.piece)E?(M.piece.updateData(!1,E,a,o,s),u.setItemGraphicEl(E.dataIndex,M.piece)):C(M);else if(E){var I=new SunburstPiece(E,a,o,s);v.add(I),u.setItemGraphicEl(E.dataIndex,I)}}}function C(E){E&&E.piece&&(v.remove(E.piece),E.piece=null)}function P(E,M){M.depth>0?(c.virtualPiece?c.virtualPiece.updateData(!1,E,a,o,s):(c.virtualPiece=new SunburstPiece(E,a,o,s),v.add(c.virtualPiece)),M.piece.off("click"),c.virtualPiece.on("click",function(I){c._rootToNode(M.parentNode)})):c.virtualPiece&&(v.remove(c.virtualPiece),c.virtualPiece=null)}},n.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(o){var s=!1,l=a.seriesModel.getViewRoot();l.eachNode(function(c){if(!s&&c.piece&&c.piece===o.target){var u=c.getModel().get("nodeClick");if(u==="rootToNode")a._rootToNode(c);else if(u==="link"){var d=c.getModel(),f=d.get("link");if(f){var v=d.get("target",!0)||"_blank";windowOpen(f,v)}}s=!0}})})},n.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},n.prototype.containPoint=function(a,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var c=a[0]-l.cx,u=a[1]-l.cy,d=Math.sqrt(c*c+u*u);return d<=l.r&&d>=l.r0}},n.type="sunburst",n}(ChartView),SunburstSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.ignoreStyleOnData=!0,a}return n.prototype.getInitialData=function(a,o){var s={name:a.name,children:a.data};completeTreeValue(s);var l=this._levelModels=map$1(a.levels||[],function(d){return new Model(d,this,o)},this),c=Tree.createTree(s,this,u);function u(d){d.wrapMethod("getItemModel",function(f,v){var g=c.getNodeByDataIndex(v),y=l[g.depth];return y&&(f.parentModel=y),f})}return c.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(a){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treePathInfo=wrapTreePathInfo(s,this),o},n.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var o=this.getRawData().tree.root;(!a||a!==o&&!o.contains(a))&&(this._viewRoot=o)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel);function completeTreeValue(r){var n=0;each$f(r.children,function(o){completeTreeValue(o);var s=o.value;isArray$1(s)&&(s=s[0]),n+=s});var a=r.value;isArray$1(a)&&(a=a[0]),(a==null||isNaN(a))&&(a=n),a<0&&(a=0),isArray$1(r.value)?r.value[0]=a:r.value=a}var RADIAN=Math.PI/180;function sunburstLayout(r,n,a){n.eachSeriesByType(r,function(o){var s=o.get("center"),l=o.get("radius");isArray$1(l)||(l=[0,l]),isArray$1(s)||(s=[s,s]);var c=a.getWidth(),u=a.getHeight(),d=Math.min(c,u),f=parsePercent(s[0],c),v=parsePercent(s[1],u),g=parsePercent(l[0],d/2),y=parsePercent(l[1],d/2),_=-o.get("startAngle")*RADIAN,b=o.get("minAngle")*RADIAN,T=o.getData().tree.root,C=o.getViewRoot(),P=C.depth,E=o.get("sort");E!=null&&initChildren(C,E);var M=0;each$f(C.children,function(q){!isNaN(q.getValue())&&M++});var I=C.getValue(),L=Math.PI/(I||M)*2,N=C.depth>0,V=C.height-(N?-1:1),B=(y-g)/(V||1),z=o.get("clockwise"),G=o.get("stillShowZeroSum"),H=z?1:-1,W=function(q,le){if(q){var ae=le;if(q!==T){var he=q.getValue(),ve=I===0&&G?L:he*L;ve<b&&(ve=b),ae=le+H*ve;var ce=q.depth-P-(N?-1:1),fe=g+B*ce,_e=g+B*(ce+1),Ce=o.getLevelModel(q);if(Ce){var Se=Ce.get("r0",!0),De=Ce.get("r",!0),ne=Ce.get("radius",!0);ne!=null&&(Se=ne[0],De=ne[1]),Se!=null&&(fe=parsePercent(Se,d/2)),De!=null&&(_e=parsePercent(De,d/2))}q.setLayout({angle:ve,startAngle:le,endAngle:ae,clockwise:z,cx:f,cy:v,r0:fe,r:_e})}if(q.children&&q.children.length){var pe=0;each$f(q.children,function(de){pe+=W(de,le+pe)})}return ae-le}};if(N){var j=g,X=g+B,Z=Math.PI*2;T.setLayout({angle:Z,startAngle:_,endAngle:_+Z,clockwise:z,cx:f,cy:v,r0:j,r:X})}W(C,_)})}function initChildren(r,n){var a=r.children||[];r.children=sort(a,n),a.length&&each$f(r.children,function(o){initChildren(o,n)})}function sort(r,n){if(isFunction(n)){var a=map$1(r,function(s,l){var c=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return c}},index:l}});return a.sort(function(s,l){return n(s.params,l.params)}),map$1(a,function(s){return r[s.index]})}else{var o=n==="asc";return r.sort(function(s,l){var c=(s.getValue()-l.getValue())*(o?1:-1);return c===0?(s.dataIndex-l.dataIndex)*(o?-1:1):c})}}function sunburstVisual(r){var n={};function a(o,s,l){for(var c=o;c&&c.depth>1;)c=c.parentNode;var u=s.getColorFromPalette(c.name||c.dataIndex+"",n);return o.depth>1&&isString(u)&&(u=lift(u,(o.depth-1)/(l-1)*.5)),u}r.eachSeriesByType("sunburst",function(o){var s=o.getData(),l=s.tree;l.eachNode(function(c){var u=c.getModel(),d=u.getModel("itemStyle").getItemStyle();d.fill||(d.fill=a(c,o,l.root.height));var f=s.ensureUniqueItemVisual(c.dataIndex,"style");extend(f,d)})})}function install$s(r){r.registerChartView(SunburstView),r.registerSeriesModel(SunburstSeriesModel),r.registerLayout(curry$1(sunburstLayout,"sunburst")),r.registerProcessor(curry$1(dataFilter$1,"sunburst")),r.registerVisual(sunburstVisual),installSunburstAction(r)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(a,o){return createSeriesData(null,this)},n.prototype.getDataParams=function(a,o,s){var l=r.prototype.getDataParams.call(this,a,o);return s&&(l.info=customInnerStore(s).info),l},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel);function dataToCoordSize$3(r,n){return n=n||[0,0],map$1(["x","y"],function(a,o){var s=this.getAxis(a),l=n[o],c=r[o]/2;return s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-c)-s.dataToCoord(l+c))},this)}function cartesianPrepareCustom(r){var n=r.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(a){return r.dataToPoint(a)},size:bind$1(dataToCoordSize$3,r)}}}function dataToCoordSize$2(r,n){return n=n||[0,0],map$1([0,1],function(a){var o=n[a],s=r[a]/2,l=[],c=[];return l[a]=o-s,c[a]=o+s,l[1-a]=c[1-a]=n[1-a],Math.abs(this.dataToPoint(l)[a]-this.dataToPoint(c)[a])},this)}function geoPrepareCustom(r){var n=r.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:r.getZoom()},api:{coord:function(a){return r.dataToPoint(a)},size:bind$1(dataToCoordSize$2,r)}}}function dataToCoordSize$1(r,n){var a=this.getAxis(),o=n instanceof Array?n[0]:n,s=(r instanceof Array?r[0]:r)/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s))}function singlePrepareCustom(r){var n=r.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(a){return r.dataToPoint(a)},size:bind$1(dataToCoordSize$1,r)}}}function dataToCoordSize(r,n){return n=n||[0,0],map$1(["Radius","Angle"],function(a,o){var s="get"+a+"Axis",l=this[s](),c=n[o],u=r[o]/2,d=l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(c-u)-l.dataToCoord(c+u));return a==="Angle"&&(d=d*Math.PI/180),d},this)}function polarPrepareCustom(r){var n=r.getRadiusAxis(),a=r.getAngleAxis(),o=n.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:o[1],r0:o[0]},api:{coord:function(s){var l=n.dataToRadius(s[0]),c=a.dataToAngle(s[1]),u=r.coordToPoint([l,c]);return u.push(l,c*Math.PI/180),u},size:bind$1(dataToCoordSize,r)}}}function calendarPrepareCustom(r){var n=r.getRect(),a=r.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(o,s){return r.dataToPoint(o,s)}}}}function isEC4CompatibleStyle(r,n,a,o){return r&&(r.legacy||r.legacy!==!1&&!a&&!o&&n!=="tspan"&&(n==="text"||hasOwn(r,"text")))}function convertFromEC4CompatibleStyle(r,n,a){var o=r,s,l,c;if(n==="text")c=o;else{c={},hasOwn(o,"text")&&(c.text=o.text),hasOwn(o,"rich")&&(c.rich=o.rich),hasOwn(o,"textFill")&&(c.fill=o.textFill),hasOwn(o,"textStroke")&&(c.stroke=o.textStroke),hasOwn(o,"fontFamily")&&(c.fontFamily=o.fontFamily),hasOwn(o,"fontSize")&&(c.fontSize=o.fontSize),hasOwn(o,"fontStyle")&&(c.fontStyle=o.fontStyle),hasOwn(o,"fontWeight")&&(c.fontWeight=o.fontWeight),l={type:"text",style:c,silent:!0},s={};var u=hasOwn(o,"textPosition");a?s.position=u?o.textPosition:"inside":u&&(s.position=o.textPosition),hasOwn(o,"textPosition")&&(s.position=o.textPosition),hasOwn(o,"textOffset")&&(s.offset=o.textOffset),hasOwn(o,"textRotation")&&(s.rotation=o.textRotation),hasOwn(o,"textDistance")&&(s.distance=o.textDistance)}return convertEC4CompatibleRichItem(c,r),each$f(c.rich,function(d){convertEC4CompatibleRichItem(d,d)}),{textConfig:s,textContent:l}}function convertEC4CompatibleRichItem(r,n){n&&(n.font=n.textFont||n.font,hasOwn(n,"textStrokeWidth")&&(r.lineWidth=n.textStrokeWidth),hasOwn(n,"textAlign")&&(r.align=n.textAlign),hasOwn(n,"textVerticalAlign")&&(r.verticalAlign=n.textVerticalAlign),hasOwn(n,"textLineHeight")&&(r.lineHeight=n.textLineHeight),hasOwn(n,"textWidth")&&(r.width=n.textWidth),hasOwn(n,"textHeight")&&(r.height=n.textHeight),hasOwn(n,"textBackgroundColor")&&(r.backgroundColor=n.textBackgroundColor),hasOwn(n,"textPadding")&&(r.padding=n.textPadding),hasOwn(n,"textBorderColor")&&(r.borderColor=n.textBorderColor),hasOwn(n,"textBorderWidth")&&(r.borderWidth=n.textBorderWidth),hasOwn(n,"textBorderRadius")&&(r.borderRadius=n.textBorderRadius),hasOwn(n,"textBoxShadowColor")&&(r.shadowColor=n.textBoxShadowColor),hasOwn(n,"textBoxShadowBlur")&&(r.shadowBlur=n.textBoxShadowBlur),hasOwn(n,"textBoxShadowOffsetX")&&(r.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,"textBoxShadowOffsetY")&&(r.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(r,n,a){var o=r;o.textPosition=o.textPosition||a.position||"inside",a.offset!=null&&(o.textOffset=a.offset),a.rotation!=null&&(o.textRotation=a.rotation),a.distance!=null&&(o.textDistance=a.distance);var s=o.textPosition.indexOf("inside")>=0,l=r.fill||"#000";convertToEC4RichItem(o,n);var c=o.textFill==null;return s?c&&(o.textFill=a.insideFill||"#fff",!o.textStroke&&a.insideStroke&&(o.textStroke=a.insideStroke),!o.textStroke&&(o.textStroke=l),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(c&&(o.textFill=r.fill||a.outsideFill||"#000"),!o.textStroke&&a.outsideStroke&&(o.textStroke=a.outsideStroke)),o.text=n.text,o.rich=n.rich,each$f(n.rich,function(u){convertToEC4RichItem(u,u)}),o}function convertToEC4RichItem(r,n){n&&(hasOwn(n,"fill")&&(r.textFill=n.fill),hasOwn(n,"stroke")&&(r.textStroke=n.fill),hasOwn(n,"lineWidth")&&(r.textStrokeWidth=n.lineWidth),hasOwn(n,"font")&&(r.font=n.font),hasOwn(n,"fontStyle")&&(r.fontStyle=n.fontStyle),hasOwn(n,"fontWeight")&&(r.fontWeight=n.fontWeight),hasOwn(n,"fontSize")&&(r.fontSize=n.fontSize),hasOwn(n,"fontFamily")&&(r.fontFamily=n.fontFamily),hasOwn(n,"align")&&(r.textAlign=n.align),hasOwn(n,"verticalAlign")&&(r.textVerticalAlign=n.verticalAlign),hasOwn(n,"lineHeight")&&(r.textLineHeight=n.lineHeight),hasOwn(n,"width")&&(r.textWidth=n.width),hasOwn(n,"height")&&(r.textHeight=n.height),hasOwn(n,"backgroundColor")&&(r.textBackgroundColor=n.backgroundColor),hasOwn(n,"padding")&&(r.textPadding=n.padding),hasOwn(n,"borderColor")&&(r.textBorderColor=n.borderColor),hasOwn(n,"borderWidth")&&(r.textBorderWidth=n.borderWidth),hasOwn(n,"borderRadius")&&(r.textBorderRadius=n.borderRadius),hasOwn(n,"shadowColor")&&(r.textBoxShadowColor=n.shadowColor),hasOwn(n,"shadowBlur")&&(r.textBoxShadowBlur=n.shadowBlur),hasOwn(n,"shadowOffsetX")&&(r.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,"shadowOffsetY")&&(r.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,"textShadowColor")&&(r.textShadowColor=n.textShadowColor),hasOwn(n,"textShadowBlur")&&(r.textShadowBlur=n.textShadowBlur),hasOwn(n,"textShadowOffsetX")&&(r.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,"textShadowOffsetY")&&(r.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=1,r},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(r,n,a,o,s){var l=r+"Animation",c=getAnimationConfig(r,o,s)||{},u=transitionInnerStore(n).userDuring;return c.duration>0&&(c.during=u?bind$1(duringCall,{el:n,userDuring:u}):null,c.setToFinal=!0,c.scope=r),extend(c,a[l]),c}function applyUpdateTransition(r,n,a,o){o=o||{};var s=o.dataIndex,l=o.isInit,c=o.clearStyle,u=a.isAnimationEnabled(),d=transitionInnerStore(r),f=n.style;d.userDuring=n.during;var v={},g={};if(prepareTransformAllPropsFinal(r,n,g),prepareShapeOrExtraAllPropsFinal("shape",n,g),prepareShapeOrExtraAllPropsFinal("extra",n,g),!l&&u&&(prepareTransformTransitionFrom(r,n,v),prepareShapeOrExtraTransitionFrom("shape",r,n,v),prepareShapeOrExtraTransitionFrom("extra",r,n,v),prepareStyleTransitionFrom(r,n,f,v)),g.style=f,applyPropsDirectly(r,g,c),applyMiscProps(r,n),u)if(l){var y={};each$f(ELEMENT_ANIMATABLE_PROPS,function(b){var T=b?n[b]:n;T&&T.enterFrom&&(b&&(y[b]=y[b]||{}),extend(b?y[b]:y,T.enterFrom))});var _=getElementAnimationConfig("enter",r,n,a,s);_.duration>0&&r.animateFrom(y,_)}else applyPropsTransition(r,n,s||0,a,v);updateLeaveTo(r,n),f?r.dirty():r.markRedraw()}function updateLeaveTo(r,n){for(var a=transitionInnerStore(r).leaveToProps,o=0;o<ELEMENT_ANIMATABLE_PROPS.length;o++){var s=ELEMENT_ANIMATABLE_PROPS[o],l=s?n[s]:n;l&&l.leaveTo&&(a||(a=transitionInnerStore(r).leaveToProps={}),s&&(a[s]=a[s]||{}),extend(s?a[s]:a,l.leaveTo))}}function applyLeaveTransition(r,n,a,o){if(r){var s=r.parent,l=transitionInnerStore(r).leaveToProps;if(l){var c=getElementAnimationConfig("update",r,n,a,0);c.done=function(){s.remove(r)},r.animateTo(l,c)}else s.remove(r)}}function isTransitionAll(r){return r==="all"}function applyPropsDirectly(r,n,a){var o=n.style;if(!r.isGroup&&o){if(a){r.useStyle({});for(var s=r.animators,l=0;l<s.length;l++){var c=s[l];c.targetName==="style"&&c.changeTarget(r.style)}}r.setStyle(o)}n&&(n.style=null,n&&r.attr(n),n.style=o)}function applyPropsTransition(r,n,a,o,s){if(s){var l=getElementAnimationConfig("update",r,n,o,a);l.duration>0&&r.animateFrom(s,l)}}function applyMiscProps(r,n){hasOwn(n,"silent")&&(r.silent=n.silent),hasOwn(n,"ignore")&&(r.ignore=n.ignore),r instanceof Displayable&&hasOwn(n,"invisible")&&(r.invisible=n.invisible),r instanceof Path&&hasOwn(n,"autoBatch")&&(r.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(r,n){return tmpDuringScope.el[r]=n,this},getTransform:function(r){return tmpDuringScope.el[r]},setShape:function(r,n){var a=tmpDuringScope.el,o=a.shape||(a.shape={});return o[r]=n,a.dirtyShape&&a.dirtyShape(),this},getShape:function(r){var n=tmpDuringScope.el.shape;if(n)return n[r]},setStyle:function(r,n){var a=tmpDuringScope.el,o=a.style;return o&&(o[r]=n,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(r){var n=tmpDuringScope.el.style;if(n)return n[r]},setExtra:function(r,n){var a=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return a[r]=n,this},getExtra:function(r){var n=tmpDuringScope.el.extra;if(n)return n[r]}};function duringCall(){var r=this,n=r.el;if(n){var a=transitionInnerStore(n).userDuring,o=r.userDuring;if(a!==o){r.el=r.userDuring=null;return}tmpDuringScope.el=n,o(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(r,n,a,o){var s=a[r];if(s){var l=n[r],c;if(l){var u=a.transition,d=s.transition;if(d)if(!c&&(c=o[r]={}),isTransitionAll(d))extend(c,l);else for(var f=normalizeToArray(d),v=0;v<f.length;v++){var g=f[v],y=l[g];c[g]=y}else if(isTransitionAll(u)||indexOf(u,r)>=0){!c&&(c=o[r]={});for(var _=keys(l),v=0;v<_.length;v++){var g=_[v],y=l[g];isNonStyleTransitionEnabled(s[g],y)&&(c[g]=y)}}}}}function prepareShapeOrExtraAllPropsFinal(r,n,a){var o=n[r];if(o)for(var s=a[r]={},l=keys(o),c=0;c<l.length;c++){var u=l[c];s[u]=cloneValue(o[u])}}function prepareTransformTransitionFrom(r,n,a){for(var o=n.transition,s=isTransitionAll(o)?TRANSFORMABLE_PROPS:normalizeToArray(o||[]),l=0;l<s.length;l++){var c=s[l];if(!(c==="style"||c==="shape"||c==="extra")){var u=r[c];a[c]=u}}}function prepareTransformAllPropsFinal(r,n,a){for(var o=0;o<LEGACY_TRANSFORM_PROPS.length;o++){var s=LEGACY_TRANSFORM_PROPS[o],l=LEGACY_TRANSFORM_PROPS_MAP[s],c=n[s];c&&(a[l[0]]=c[0],a[l[1]]=c[1])}for(var o=0;o<TRANSFORMABLE_PROPS.length;o++){var u=TRANSFORMABLE_PROPS[o];n[u]!=null&&(a[u]=n[u])}}function prepareStyleTransitionFrom(r,n,a,o){if(a){var s=r.style,l;if(s){var c=a.transition,u=n.transition;if(c&&!isTransitionAll(c)){var d=normalizeToArray(c);!l&&(l=o.style={});for(var f=0;f<d.length;f++){var v=d[f],g=s[v];l[v]=g}}else if(r.getAnimationStyleProps&&(isTransitionAll(u)||isTransitionAll(c)||indexOf(u,"style")>=0)){var y=r.getAnimationStyleProps(),_=y?y.style:null;if(_){!l&&(l=o.style={});for(var b=keys(a),f=0;f<b.length;f++){var v=b[f];if(_[v]){var g=s[v];l[v]=g}}}}}}}function isNonStyleTransitionEnabled(r,n){return isArrayLike(r)?r!==n:r!=null&&isFinite(r)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(r){r.stopAnimation("keyframe"),r.attr(getStateToRestore(r))}function applyKeyframeAnimation(r,n,a){if(!(!a.isAnimationEnabled()||!n)){if(isArray$1(n)){each$f(n,function(u){applyKeyframeAnimation(r,u,a)});return}var o=n.keyframes,s=n.duration;if(a&&s==null){var l=getAnimationConfig("enter",a,0);s=l&&l.duration}if(!(!o||!s)){var c=getStateToRestore(r);each$f(ELEMENT_ANIMATABLE_PROPS,function(u){if(!(u&&!r[u])){var d;o.sort(function(f,v){return f.percent-v.percent}),each$f(o,function(f){var v=r.animators,g=u?f[u]:f;if(g){var y=keys(g);if(u||(y=filter(y,function(T){return indexOf(KEYFRAME_EXCLUDE_KEYS,T)<0})),!!y.length){d||(d=r.animate(u,n.loop,!0),d.scope="keyframe");for(var _=0;_<v.length;_++)v[_]!==d&&v[_].targetName===d.targetName&&v[_].stopTracks(y);u&&(c[u]=c[u]||{});var b=u?c[u]:c;each$f(y,function(T){b[T]=((u?r[u]:r)||{})[T]}),d.whenWithKeys(s*f.percent,g,y,f.easing)}}}),d&&d.delay(n.delay||0).duration(s).start(n.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(r){return r instanceof Path}function isDisplayable(r){return r instanceof Displayable}function copyElement(r,n){n.copyTransform(r),isDisplayable(n)&&isDisplayable(r)&&(n.setStyle(r.style),n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel,n.invisible=r.invisible,n.ignore=r.ignore,isPath(n)&&isPath(r)&&n.setShape(r.shape))}var CustomChartView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){this._progressiveEls=null;var c=this._data,u=a.getData(),d=this.group,f=makeRenderItem(a,u,o,s);c||d.removeAll(),u.diff(c).add(function(g){createOrUpdateItem(s,null,g,f(g,l),a,d,u)}).remove(function(g){var y=c.getItemGraphicEl(g);y&&applyLeaveTransition(y,customInnerStore(y).option,a)}).update(function(g,y){var _=c.getItemGraphicEl(y);createOrUpdateItem(s,_,g,f(g,l),a,d,u)}).execute();var v=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;v?d.setClipPath(v):d.removeClipPath(),this._data=u},n.prototype.incrementalPrepareRender=function(a,o,s){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(a,o,s,l,c){var u=o.getData(),d=makeRenderItem(o,u,s,l),f=this._progressiveEls=[];function v(_){_.isGroup||(_.incremental=!0,_.ensureState("emphasis").hoverLayer=!0)}for(var g=a.start;g<a.end;g++){var y=createOrUpdateItem(null,null,g,d(g,c),o,this.group,u);y&&(y.traverse(v),f.push(y))}},n.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},n.prototype.filterForExposedEvent=function(a,o,s,l){var c=o.element;if(c==null||s.name===c)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===c)return!0;return!1},n.type="custom",n}(ChartView);function createEl$1(r){var n=r.type,a;if(n==="path"){var o=r.shape,s=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,l=getPathData(o);a=makePath(l,null,s,o.layout||"center"),customInnerStore(a).customPathData=l}else if(n==="image")a=new ZRImage({}),customInnerStore(a).customImagePath=r.style.image;else if(n==="text")a=new ZRText({});else if(n==="group")a=new Group$3;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var c=getShapeClass(n);if(!c){var u="";throwError(u)}a=new c}return customInnerStore(a).customGraphicType=n,a.name=r.name,a.z2EmphasisLift=1,a.z2SelectLift=1,a}function updateElNormal(r,n,a,o,s,l,c){stopPreviousKeyframeAnimationAndRestore(n);var u=s&&s.normal.cfg;u&&n.setTextConfig(u),o&&o.transition==null&&(o.transition=DEFAULT_TRANSITION);var d=o&&o.style;if(d){if(n.type==="text"){var f=d;hasOwn(f,"textFill")&&(f.fill=f.textFill),hasOwn(f,"textStroke")&&(f.stroke=f.textStroke)}var v=void 0,g=isPath(n)?d.decal:null;r&&g&&(g.dirty=!0,v=createOrUpdatePatternFromDecal(g,r)),d.__decalPattern=v}if(isDisplayable(n)&&d){var v=d.__decalPattern;v&&(d.decal=v)}applyUpdateTransition(n,o,l,{dataIndex:a,isInit:c,clearStyle:!0}),applyKeyframeAnimation(n,o.keyframeAnimation,l)}function updateElOnState(r,n,a,o,s){var l=n.isGroup?null:n,c=s&&s[r].cfg;if(l){var u=l.ensureState(r);if(o===!1){var d=l.getState(r);d&&(d.style=null)}else u.style=o||null;c&&(u.textConfig=c),setDefaultStateProxy(l)}}function updateZ(r,n,a){if(!r.isGroup){var o=r,s=a.currentZ,l=a.currentZLevel;o.z=s,o.zlevel=l;var c=n.z2;c!=null&&(o.z2=c||0);for(var u=0;u<STATES.length;u++)updateZForEachState(o,n,STATES[u])}}function updateZForEachState(r,n,a){var o=a===NORMAL,s=o?n:retrieveStateOption(n,a),l=s?s.z2:null,c;l!=null&&(c=o?r:r.ensureState(a),c.z2=l||0)}function makeRenderItem(r,n,a,o){var s=r.get("renderItem"),l=r.coordinateSystem,c={};l&&(c=l.prepareCustoms?l.prepareCustoms(l):prepareCustoms[l.type](l));for(var u=defaults({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:I,style:N,ordinalRawValue:L,styleEmphasis:V,visual:G,barLayout:H,currentSeriesIndices:W,font:j},c.api||{}),d={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:c.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(r.getData())},f,v,g={},y={},_={},b={},T=0;T<STATES.length;T++){var C=STATES[T];_[C]=r.getModel(PATH_ITEM_STYLE[C]),b[C]=r.getModel(PATH_LABEL[C])}function P(X){return X===f?v||(v=n.getItemModel(X)):n.getItemModel(X)}function E(X,Z){return n.hasItemOption?X===f?g[Z]||(g[Z]=P(X).getModel(PATH_ITEM_STYLE[Z])):P(X).getModel(PATH_ITEM_STYLE[Z]):_[Z]}function M(X,Z){return n.hasItemOption?X===f?y[Z]||(y[Z]=P(X).getModel(PATH_LABEL[Z])):P(X).getModel(PATH_LABEL[Z]):b[Z]}return function(X,Z){return f=X,v=null,g={},y={},s&&s(defaults({dataIndexInside:X,dataIndex:n.getRawIndex(X),actionType:Z?Z.type:null},d),u)};function I(X,Z){return Z==null&&(Z=f),n.getStore().get(n.getDimensionIndex(X||0),Z)}function L(X,Z){Z==null&&(Z=f),X=X||0;var q=n.getDimensionInfo(X);if(!q){var le=n.getDimensionIndex(X);return le>=0?n.getStore().get(le,Z):void 0}var ae=n.get(q.name,Z),he=q&&q.ordinalMeta;return he?he.categories[ae]:ae}function N(X,Z){Z==null&&(Z=f);var q=n.getItemVisual(Z,"style"),le=q&&q.fill,ae=q&&q.opacity,he=E(Z,NORMAL).getItemStyle();le!=null&&(he.fill=le),ae!=null&&(he.opacity=ae);var ve={inheritColor:isString(le)?le:"#000"},ce=M(Z,NORMAL),fe=createTextStyle(ce,null,ve,!1,!0);fe.text=ce.getShallow("show")?retrieve2(r.getFormattedLabel(Z,NORMAL),getDefaultLabel(n,Z)):null;var _e=createTextConfig(ce,ve,!1);return z(X,he),he=convertToEC4StyleForCustomSerise(he,fe,_e),X&&B(he,X),he.legacy=!0,he}function V(X,Z){Z==null&&(Z=f);var q=E(Z,EMPHASIS).getItemStyle(),le=M(Z,EMPHASIS),ae=createTextStyle(le,null,null,!0,!0);ae.text=le.getShallow("show")?retrieve3(r.getFormattedLabel(Z,EMPHASIS),r.getFormattedLabel(Z,NORMAL),getDefaultLabel(n,Z)):null;var he=createTextConfig(le,null,!0);return z(X,q),q=convertToEC4StyleForCustomSerise(q,ae,he),X&&B(q,X),q.legacy=!0,q}function B(X,Z){for(var q in Z)hasOwn(Z,q)&&(X[q]=Z[q])}function z(X,Z){X&&(X.textFill&&(Z.textFill=X.textFill),X.textPosition&&(Z.textPosition=X.textPosition))}function G(X,Z){if(Z==null&&(Z=f),hasOwn(STYLE_VISUAL_TYPE,X)){var q=n.getItemVisual(Z,"style");return q?q[STYLE_VISUAL_TYPE[X]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,X))return n.getItemVisual(Z,X)}function H(X){if(l.type==="cartesian2d"){var Z=l.getBaseAxis();return getLayoutOnAxis(defaults({axis:Z},X))}}function W(){return a.getCurrentSeriesIndices()}function j(X){return getFont(X,a)}}function wrapEncodeDef(r){var n={};return each$f(r.dimensions,function(a){var o=r.getDimensionInfo(a);if(!o.isExtraCoord){var s=o.coordDim,l=n[s]=n[s]||[];l[o.coordDimIndex]=r.getDimensionIndex(a)}}),n}function createOrUpdateItem(r,n,a,o,s,l,c){if(!o){l.remove(n);return}var u=doCreateOrUpdateEl(r,n,a,o,s,l);return u&&c.setItemGraphicEl(a,u),u&&toggleHoverEmphasis(u,o.focus,o.blurScope,o.emphasisDisabled),u}function doCreateOrUpdateEl(r,n,a,o,s,l){var c=-1,u=n;n&&doesElNeedRecreate(n,o,s)&&(c=indexOf(l.childrenRef(),n),n=null);var d=!n,f=n;f?f.clearStates():(f=createEl$1(o),u&&copyElement(u,f)),o.morph===!1?f.disableMorphing=!0:f.disableMorphing&&(f.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(f,a,o,s,d,attachedTxInfoTmp),doCreateOrUpdateClipPath(f,a,o,s,d),updateElNormal(r,f,a,o,attachedTxInfoTmp,s,d),hasOwn(o,"info")&&(customInnerStore(f).info=o.info);for(var v=0;v<STATES.length;v++){var g=STATES[v];if(g!==NORMAL){var y=retrieveStateOption(o,g),_=retrieveStyleOptionOnState(o,y,g);updateElOnState(g,f,y,_,attachedTxInfoTmp)}}return updateZ(f,o,s),o.type==="group"&&mergeChildren(r,f,a,o,s),c>=0?l.replaceAt(f,c):l.add(f),f}function doesElNeedRecreate(r,n,a){var o=customInnerStore(r),s=n.type,l=n.shape,c=n.style;return a.isUniversalTransitionEnabled()||s!=null&&s!==o.customGraphicType||s==="path"&&hasOwnPathData(l)&&getPathData(l)!==o.customPathData||s==="image"&&hasOwn(c,"image")&&c.image!==o.customImagePath}function doCreateOrUpdateClipPath(r,n,a,o,s){var l=a.clipPath;if(l===!1)r&&r.getClipPath()&&r.removeClipPath();else if(l){var c=r.getClipPath();c&&doesElNeedRecreate(c,l,o)&&(c=null),c||(c=createEl$1(l),r.setClipPath(c)),updateElNormal(null,c,n,l,null,o,s)}}function doCreateOrUpdateAttachedTx(r,n,a,o,s,l){if(!r.isGroup){processTxInfo(a,null,l),processTxInfo(a,EMPHASIS,l);var c=l.normal.conOpt,u=l.emphasis.conOpt,d=l.blur.conOpt,f=l.select.conOpt;if(c!=null||u!=null||f!=null||d!=null){var v=r.getTextContent();if(c===!1)v&&r.removeTextContent();else{c=l.normal.conOpt=c||{type:"text"},v?v.clearStates():(v=createEl$1(c),r.setTextContent(v)),updateElNormal(null,v,n,c,null,o,s);for(var g=c&&c.style,y=0;y<STATES.length;y++){var _=STATES[y];if(_!==NORMAL){var b=l[_].conOpt;updateElOnState(_,v,b,retrieveStyleOptionOnState(c,b,_),null)}}g?v.dirty():v.markRedraw()}}}}function processTxInfo(r,n,a){var o=n?retrieveStateOption(r,n):r,s=n?retrieveStyleOptionOnState(r,o,EMPHASIS):r.style,l=r.type,c=o?o.textConfig:null,u=r.textContent,d=u?n?retrieveStateOption(u,n):u:null;if(s&&(a.isLegacy||isEC4CompatibleStyle(s,l,!!c,!!d))){a.isLegacy=!0;var f=convertFromEC4CompatibleStyle(s,l,!n);!c&&f.textConfig&&(c=f.textConfig),!d&&f.textContent&&(d=f.textContent)}if(!n&&d){var v=d;!v.type&&(v.type="text")}var g=n?a[n]:a.normal;g.cfg=c,g.conOpt=d}function retrieveStateOption(r,n){return n?r?r[n]:null:r}function retrieveStyleOptionOnState(r,n,a){var o=n&&n.style;return o==null&&a===EMPHASIS&&r&&(o=r.styleEmphasis),o}function mergeChildren(r,n,a,o,s){var l=o.children,c=l?l.length:0,u=o.$mergeChildren,d=u==="byName"||o.diffChildrenByName,f=u===!1;if(!(!c&&!d&&!f)){if(d){diffGroupChildren({api:r,oldChildren:n.children()||[],newChildren:l||[],dataIndex:a,seriesModel:s,group:n});return}f&&n.removeAll();for(var v=0;v<c;v++){var g=l[v],y=n.childAt(v);g?(g.ignore==null&&(g.ignore=!1),doCreateOrUpdateEl(r,y,a,g,s,n)):y.ignore=!0}for(var _=n.childCount()-1;_>=v;_--){var b=n.childAt(_);removeChildFromGroup(n,b,s)}}}function removeChildFromGroup(r,n,a){n&&applyLeaveTransition(n,customInnerStore(r).option,a)}function diffGroupChildren(r){new DataDiffer(r.oldChildren,r.newChildren,getKey,getKey,r).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(r,n){var a=r&&r.name;return a??GROUP_DIFF_PREFIX+n}function processAddUpdate(r,n){var a=this.context,o=r!=null?a.newChildren[r]:null,s=n!=null?a.oldChildren[n]:null;doCreateOrUpdateEl(a.api,s,a.dataIndex,o,a.seriesModel,a.group)}function processRemove(r){var n=this.context,a=n.oldChildren[r];a&&applyLeaveTransition(a,customInnerStore(a).option,n.seriesModel)}function getPathData(r){return r&&(r.pathData||r.d)}function hasOwnPathData(r){return r&&(hasOwn(r,"pathData")||hasOwn(r,"d"))}function install$r(r){r.registerChartView(CustomChartView),r.registerSeriesModel(CustomSeriesModel)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(n,a,o,s){var l=a.get("value"),c=a.get("status");if(this._axisModel=n,this._axisPointerModel=a,this._api=o,!(!s&&this._lastValue===l&&this._lastStatus===c)){this._lastValue=l,this._lastStatus=c;var u=this._group,d=this._handle;if(!c||c==="hide"){u&&u.hide(),d&&d.hide();return}u&&u.show(),d&&d.show();var f={};this.makeElOption(f,l,n,a,o);var v=f.graphicKey;v!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=v;var g=this._moveAnimation=this.determineAnimation(n,a);if(!u)u=this._group=new Group$3,this.createPointerEl(u,f,n,a),this.createLabelEl(u,f,n,a),o.getZr().add(u);else{var y=curry$1(updateProps,a,g);this.updatePointerEl(u,f,y),this.updateLabelEl(u,f,y,a)}updateMandatoryProps(u,a,!0),this._renderHandle(l)}},r.prototype.remove=function(n){this.clear(n)},r.prototype.dispose=function(n){this.clear(n)},r.prototype.determineAnimation=function(n,a){var o=a.get("animation"),s=n.axis,l=s.type==="category",c=a.get("snap");if(!c&&!l)return!1;if(o==="auto"||o==null){var u=this.animationThreshold;if(l&&s.getBandWidth()>u)return!0;if(c){var d=getAxisInfo$1(n).seriesDataCount,f=s.getExtent();return Math.abs(f[0]-f[1])/d>u}return!1}return o===!0},r.prototype.makeElOption=function(n,a,o,s,l){},r.prototype.createPointerEl=function(n,a,o,s){var l=a.pointer;if(l){var c=inner$b(n).pointerEl=new graphic[l.type](clone$1(a.pointer));n.add(c)}},r.prototype.createLabelEl=function(n,a,o,s){if(a.label){var l=inner$b(n).labelEl=new ZRText(clone$1(a.label));n.add(l),updateLabelShowHide(l,s)}},r.prototype.updatePointerEl=function(n,a,o){var s=inner$b(n).pointerEl;s&&a.pointer&&(s.setStyle(a.pointer.style),o(s,{shape:a.pointer.shape}))},r.prototype.updateLabelEl=function(n,a,o,s){var l=inner$b(n).labelEl;l&&(l.setStyle(a.label.style),o(l,{x:a.label.x,y:a.label.y}),updateLabelShowHide(l,s))},r.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var a=this._axisPointerModel,o=this._api.getZr(),s=this._handle,l=a.getModel("handle"),c=a.get("status");if(!l.get("show")||!c||c==="hide"){s&&o.remove(s),this._handle=null;return}var u;this._handle||(u=!0,s=this._handle=createIcon(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){stop(f.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(s)),updateMandatoryProps(s,a,!1),s.setStyle(l.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=l.get("size");isArray$1(d)||(d=[d,d]),s.scaleX=d[0]/2,s.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,u)}},r.prototype._moveHandleToValue=function(n,a){updateProps(this._axisPointerModel,!a&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(n,a){var o=this._handle;if(o){this._dragging=!0;var s=this.updateHandleTransform(getHandleTransProps(o),[n,a],this._axisModel,this._axisPointerModel);this._payloadInfo=s,o.stopAnimation(),o.attr(getHandleTransProps(s)),inner$b(o).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var a=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var a=n.getZr(),o=this._group,s=this._handle;a&&o&&(this._lastGraphicKey=null,o&&a.remove(o),s&&a.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(n,a,o){return o=o||0,{x:n[o],y:n[1-o],width:a[o],height:a[1-o]}},r}();function updateProps(r,n,a,o){propsEqual(inner$b(a).lastProp,o)||(inner$b(a).lastProp=o,n?updateProps$1(a,o,r):(a.stopAnimation(),a.attr(o)))}function propsEqual(r,n){if(isObject$3(r)&&isObject$3(n)){var a=!0;return each$f(n,function(o,s){a=a&&propsEqual(r[s],o)}),!!a}else return r===n}function updateLabelShowHide(r,n){r[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,n,a){var o=n.get("z"),s=n.get("zlevel");r&&r.traverse(function(l){l.type!=="group"&&(o!=null&&(l.z=o),s!=null&&(l.zlevel=s),l.silent=a)})}function buildElStyle(r){var n=r.get("type"),a=r.getModel(n+"Style"),o;return n==="line"?(o=a.getLineStyle(),o.fill=null):n==="shadow"&&(o=a.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(r,n,a,o,s){var l=a.get("value"),c=getValueLabel(l,n.axis,n.ecModel,a.get("seriesDataIndices"),{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])}),u=a.getModel("label"),d=normalizeCssArray(u.get("padding")||0),f=u.getFont(),v=getBoundingRect(c,f),g=s.position,y=v.width+d[1]+d[3],_=v.height+d[0]+d[2],b=s.align;b==="right"&&(g[0]-=y),b==="center"&&(g[0]-=y/2);var T=s.verticalAlign;T==="bottom"&&(g[1]-=_),T==="middle"&&(g[1]-=_/2),confineInContainer(g,y,_,o);var C=u.get("backgroundColor");(!C||C==="auto")&&(C=n.get(["axisLine","lineStyle","color"])),r.label={x:g[0],y:g[1],style:createTextStyle(u,{text:c,font:f,fill:u.getTextColor(),padding:d,backgroundColor:C}),z2:10}}function confineInContainer(r,n,a,o){var s=o.getWidth(),l=o.getHeight();r[0]=Math.min(r[0]+n,s)-n,r[1]=Math.min(r[1]+a,l)-a,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,n,a,o,s){r=n.scale.parse(r);var l=n.scale.getLabel({value:r},{precision:s.precision}),c=s.formatter;if(c){var u={value:getAxisRawValue(n,{value:r}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$f(o,function(d){var f=a.getSeriesByIndex(d.seriesIndex),v=d.dataIndexInside,g=f&&f.getDataParams(v);g&&u.seriesData.push(g)}),isString(c)?l=c.replace("{value}",l):isFunction(c)&&(l=c(u))}return l}function getTransformedPosition(r,n,a){var o=create$1();return rotate(o,o,a.rotation),translate(o,o,a.position),applyTransform([r.dataToCoord(n),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(r,n,a,o,s,l){var c=AxisBuilder.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=s.get(["label","margin"]),buildLabelElOption(n,o,s,l,{position:getTransformedPosition(o.axis,r,a),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(r,n,a){return a=a||0,{x1:r[a],y1:r[1-a],x2:n[a],y2:n[1-a]}}function makeRectShape(r,n,a){return a=a||0,{x:r[a],y:r[1-a],width:n[a],height:n[1-a]}}function makeSectorShape(r,n,a,o,s,l){return{cx:r,cy:n,r0:a,r:o,startAngle:s,endAngle:l,clockwise:!0}}var CartesianAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(a,o,s,l,c){var u=s.axis,d=u.grid,f=l.get("type"),v=getCartesian(d,u).getOtherAxis(u).getGlobalExtent(),g=u.toGlobalCoord(u.dataToCoord(o,!0));if(f&&f!=="none"){var y=buildElStyle(l),_=pointerShapeBuilder$2[f](u,g,v);_.style=y,a.graphicKey=_.type,a.pointer=_}var b=layout$2(d.model,s);buildCartesianSingleLabelElOption(o,a,b,s,l,c)},n.prototype.getHandleTransform=function(a,o,s){var l=layout$2(o.axis.grid.model,o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var c=getTransformedPosition(o.axis,a,l);return{x:c[0],y:c[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(a,o,s,l){var c=s.axis,u=c.grid,d=c.getGlobalExtent(!0),f=getCartesian(u,c).getOtherAxis(c).getGlobalExtent(),v=c.dim==="x"?0:1,g=[a.x,a.y];g[v]+=o[v],g[v]=Math.min(d[1],g[v]),g[v]=Math.max(d[0],g[v]);var y=(f[1]+f[0])/2,_=[y,y];_[v]=g[v];var b=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:a.rotation,cursorPoint:_,tooltipOption:b[v]}},n}(BaseAxisPointer);function getCartesian(r,n){var a={};return a[n.dim+"AxisIndex"]=n.index,r.getCartesian(a)}var pointerShapeBuilder$2={line:function(r,n,a){var o=makeLineShape([n,a[0]],[n,a[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(r,n,a){var o=Math.max(1,r.getBandWidth()),s=a[1]-a[0];return{type:"Rect",shape:makeRectShape([n-o/2,a[0]],[o,s],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}var AxisPointerModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel),inner$a=makeInner(),each$8=each$f;function register$1(r,n,a){if(!env.node){var o=n.getZr();inner$a(o).records||(inner$a(o).records={}),initGlobalListeners(o,n);var s=inner$a(o).records[r]||(inner$a(o).records[r]={});s.handler=a}}function initGlobalListeners(r,n){if(inner$a(r).initialized)return;inner$a(r).initialized=!0,a("click",curry$1(doEnter,"click")),a("mousemove",curry$1(doEnter,"mousemove")),a("globalout",onLeave);function a(o,s){r.on(o,function(l){var c=makeDispatchAction$1(n);each$8(inner$a(r).records,function(u){u&&s(u,l,c.dispatchAction)}),dispatchTooltipFinally(c.pendings,n)})}}function dispatchTooltipFinally(r,n){var a=r.showTip.length,o=r.hideTip.length,s;a?s=r.showTip[a-1]:o&&(s=r.hideTip[o-1]),s&&(s.dispatchAction=null,n.dispatchAction(s))}function onLeave(r,n,a){r.handler("leave",null,a)}function doEnter(r,n,a,o){n.handler(r,a,o)}function makeDispatchAction$1(r){var n={showTip:[],hideTip:[]},a=function(o){var s=n[o.type];s?s.push(o):(o.dispatchAction=a,r.dispatchAction(o))};return{dispatchAction:a,pendings:n}}function unregister(r,n){if(!env.node){var a=n.getZr(),o=(inner$a(a).records||{})[r];o&&(inner$a(a).records[r]=null)}}var AxisPointerView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=o.getComponent("tooltip"),c=a.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";register$1("axisPointer",s,function(u,d,f){c!=="none"&&(u==="leave"||c.indexOf(u)>=0)&&f({type:"updateAxisPointer",currTrigger:u,x:d&&d.offsetX,y:d&&d.offsetY})})},n.prototype.remove=function(a,o){unregister("axisPointer",o)},n.prototype.dispose=function(a,o){unregister("axisPointer",o)},n.type="axisPointer",n}(ComponentView);function findPointFromSeries(r,n){var a=[],o=r.seriesIndex,s;if(o==null||!(s=n.getSeriesByIndex(o)))return{point:[]};var l=s.getData(),c=queryDataIndex(l,r);if(c==null||c<0||isArray$1(c))return{point:[]};var u=l.getItemGraphicEl(c),d=s.coordinateSystem;if(s.getTooltipPosition)a=s.getTooltipPosition(c)||[];else if(d&&d.dataToPoint)if(r.isStacked){var f=d.getBaseAxis(),v=d.getOtherAxis(f),g=v.dim,y=f.dim,_=g==="x"||g==="radius"?1:0,b=l.mapDimension(y),T=[];T[_]=l.get(b,c),T[1-_]=l.get(l.getCalculationInfo("stackResultDimension"),c),a=d.dataToPoint(T)||[]}else a=d.dataToPoint(l.getValues(map$1(d.dimensions,function(P){return l.mapDimension(P)}),c))||[];else if(u){var C=u.getBoundingRect().clone();C.applyTransform(u.transform),a=[C.x+C.width/2,C.y+C.height/2]}return{point:a,el:u}}var inner$9=makeInner();function axisTrigger(r,n,a){var o=r.currTrigger,s=[r.x,r.y],l=r,c=r.dispatchAction||bind$1(a.dispatchAction,a),u=n.getComponent("axisPointer").coordSysAxesInfo;if(u){illegalPoint(s)&&(s=findPointFromSeries({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},n).point);var d=illegalPoint(s),f=l.axesInfo,v=u.axesInfo,g=o==="leave"||illegalPoint(s),y={},_={},b={list:[],map:{}},T={showPointer:curry$1(showPointer,_),showTooltip:curry$1(showTooltip,b)};each$f(u.coordSysMap,function(P,E){var M=d||P.containPoint(s);each$f(u.coordSysAxesInfo[E],function(I,L){var N=I.axis,V=findInputAxisInfo(f,I);if(!g&&M&&(!f||V)){var B=V&&V.value;B==null&&!d&&(B=N.pointToData(s)),B!=null&&processOnAxis(I,B,T,!1,y)}})});var C={};return each$f(v,function(P,E){var M=P.linkGroup;M&&!_[E]&&each$f(M.axesInfo,function(I,L){var N=_[L];if(I!==P&&N){var V=N.value;M.mapper&&(V=P.axis.scale.parse(M.mapper(V,makeMapperParam(I),makeMapperParam(P)))),C[P.key]=V}})}),each$f(C,function(P,E){processOnAxis(v[E],P,T,!0,y)}),updateModelActually(_,v,y),dispatchTooltipActually(b,s,r,c),dispatchHighDownActually(v,c,a),y}}function processOnAxis(r,n,a,o,s){var l=r.axis;if(!(l.scale.isBlank()||!l.containData(n))){if(!r.involveSeries){a.showPointer(r,n);return}var c=buildPayloadsBySeries(n,r),u=c.payloadBatch,d=c.snapToValue;u[0]&&s.seriesIndex==null&&extend(s,u[0]),!o&&r.snap&&l.containData(d)&&d!=null&&(n=d),a.showPointer(r,n,u),a.showTooltip(r,c,d)}}function buildPayloadsBySeries(r,n){var a=n.axis,o=a.dim,s=r,l=[],c=Number.MAX_VALUE,u=-1;return each$f(n.seriesModels,function(d,f){var v=d.getData().mapDimensionsAll(o),g,y;if(d.getAxisTooltipData){var _=d.getAxisTooltipData(v,r,a);y=_.dataIndices,g=_.nestestValue}else{if(y=d.getData().indicesOfNearest(v[0],r,a.type==="category"?.5:null),!y.length)return;g=d.getData().get(v[0],y[0])}if(!(g==null||!isFinite(g))){var b=r-g,T=Math.abs(b);T<=c&&((T<c||b>=0&&u<0)&&(c=T,u=b,s=g,l.length=0),each$f(y,function(C){l.push({seriesIndex:d.seriesIndex,dataIndexInside:C,dataIndex:d.getData().getRawIndex(C)})}))}}),{payloadBatch:l,snapToValue:s}}function showPointer(r,n,a,o){r[n.key]={value:a,payloadBatch:o}}function showTooltip(r,n,a,o){var s=a.payloadBatch,l=n.axis,c=l.model,u=n.axisPointerModel;if(!(!n.triggerTooltip||!s.length)){var d=n.coordSys.model,f=makeKey(d),v=r.map[f];v||(v=r.map[f]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},r.list.push(v)),v.dataByAxis.push({axisDim:l.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function updateModelActually(r,n,a){var o=a.axesInfo=[];each$f(n,function(s,l){var c=s.axisPointerModel.option,u=r[l];u?(!s.useHandle&&(c.status="show"),c.value=u.value,c.seriesDataIndices=(u.payloadBatch||[]).slice()):!s.useHandle&&(c.status="hide"),c.status==="show"&&o.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:c.value})})}function dispatchTooltipActually(r,n,a,o){if(illegalPoint(n)||!r.list.length){o({type:"hideTip"});return}var s=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:a.tooltipOption,position:a.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,n,a){var o=a.getZr(),s="axisPointerLastHighlights",l=inner$9(o)[s]||{},c=inner$9(o)[s]={};each$f(r,function(f,v){var g=f.axisPointerModel.option;g.status==="show"&&f.triggerEmphasis&&each$f(g.seriesDataIndices,function(y){var _=y.seriesIndex+" | "+y.dataIndex;c[_]=y})});var u=[],d=[];each$f(l,function(f,v){!c[v]&&d.push(f)}),each$f(c,function(f,v){!l[v]&&u.push(f)}),d.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),u.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}function findInputAxisInfo(r,n){for(var a=0;a<(r||[]).length;a++){var o=r[a];if(n.axis.dim===o.axisDim&&n.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(r){var n=r.axis.model,a={},o=a.axisDim=r.axis.dim;return a.axisIndex=a[o+"AxisIndex"]=n.componentIndex,a.axisName=a[o+"AxisName"]=n.name,a.axisId=a[o+"AxisId"]=n.id,a}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$q(r){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),r.registerComponentModel(AxisPointerModel),r.registerComponentView(AxisPointerView),r.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var a=n.axisPointer.link;a&&!isArray$1(a)&&(n.axisPointer.link=[a])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(n,a){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,a)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(r){use(install$N),use(install$q)}var PolarAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(a,o,s,l,c){var u=s.axis;u.dim==="angle"&&(this.animationThreshold=Math.PI/18);var d=u.polar,f=d.getOtherAxis(u),v=f.getExtent(),g=u.dataToCoord(o),y=l.get("type");if(y&&y!=="none"){var _=buildElStyle(l),b=pointerShapeBuilder$1[y](u,d,g,v);b.style=_,a.graphicKey=b.type,a.pointer=b}var T=l.get(["label","margin"]),C=getLabelPosition(o,s,l,d,T);buildLabelElOption(a,s,l,c,C)},n}(BaseAxisPointer);function getLabelPosition(r,n,a,o,s){var l=n.axis,c=l.dataToCoord(r),u=o.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var d=o.getRadiusAxis().getExtent(),f,v,g;if(l.dim==="radius"){var y=create$1();rotate(y,y,u),translate(y,y,[o.cx,o.cy]),f=applyTransform([c,-s],y);var _=n.getModel("axisLabel").get("rotate")||0,b=AxisBuilder.innerTextLayout(u,_*Math.PI/180,-1);v=b.textAlign,g=b.textVerticalAlign}else{var T=d[1];f=o.coordToPoint([T+s,c]);var C=o.cx,P=o.cy;v=Math.abs(f[0]-C)/T<.3?"center":f[0]>C?"left":"right",g=Math.abs(f[1]-P)/T<.3?"middle":f[1]>P?"top":"bottom"}return{position:f,align:v,verticalAlign:g}}var pointerShapeBuilder$1={line:function(r,n,a,o){return r.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([o[0],a]),n.coordToPoint([o[1],a]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r:a}}},shadow:function(r,n,a,o){var s=Math.max(1,r.getBandWidth()),l=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,o[0],o[1],(-a-s/2)*l,(-a+s/2)*l)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,a-s/2,a+s/2,0,Math.PI*2)}}},PolarModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.findAxisModel=function(a){var o,s=this.ecModel;return s.eachComponent(a,function(l){l.getCoordSysModel()===this&&(o=l)},this),o},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel),PolarAxisModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},n.type="polarAxis",n}(ComponentModel);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="angleAxis",n}(PolarAxisModel),RadiusAxisModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="radiusAxis",n}(PolarAxisModel),RadiusAxis=function(r){__extends(n,r);function n(a,o){return r.call(this,"radius",a,o)||this}return n.prototype.pointToData=function(a,o){return this.polar.pointToData(a,o)[this.dim==="radius"?0:1]},n}(Axis);RadiusAxis.prototype.dataToRadius=Axis.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis.prototype.coordToData;var inner$8=makeInner(),AngleAxis=function(r){__extends(n,r);function n(a,o){return r.call(this,"angle",a,o||[0,360])||this}return n.prototype.pointToData=function(a,o){return this.polar.pointToData(a,o)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var a=this,o=a.getLabelModel(),s=a.scale,l=s.getExtent(),c=s.count();if(l[1]-l[0]<1)return 0;var u=l[0],d=a.dataToCoord(u+1)-a.dataToCoord(u),f=Math.abs(d),v=getBoundingRect(u==null?"":u+"",o.getFont(),"center","top"),g=Math.max(v.height,7),y=g/f;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),b=inner$8(a.model),T=b.lastAutoInterval,C=b.lastTickCount;return T!=null&&C!=null&&Math.abs(T-_)<=1&&Math.abs(C-c)<=1&&T>_?_=T:(b.lastTickCount=c,b.lastAutoInterval=_),_},n}(Axis);AngleAxis.prototype.dataToAngle=Axis.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis.prototype.coordToData;var polarDimensions=["radius","angle"],Polar=function(){function r(n){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(n){var a=this.pointToCoord(n);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},r.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},r.prototype.getAxis=function(n){var a="_"+n+"Axis";return this[a]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(n){var a=[],o=this._angleAxis,s=this._radiusAxis;return o.scale.type===n&&a.push(o),s.scale.type===n&&a.push(s),a},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(n){var a=this._angleAxis;return n===a?this._radiusAxis:a},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(n){var a=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[a],otherAxes:[this.getOtherAxis(a)]}},r.prototype.dataToPoint=function(n,a){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],a),this._angleAxis.dataToAngle(n[1],a)])},r.prototype.pointToData=function(n,a){var o=this.pointToCoord(n);return[this._radiusAxis.radiusToData(o[0],a),this._angleAxis.angleToData(o[1],a)]},r.prototype.pointToCoord=function(n){var a=n[0]-this.cx,o=n[1]-this.cy,s=this.getAngleAxis(),l=s.getExtent(),c=Math.min(l[0],l[1]),u=Math.max(l[0],l[1]);s.inverse?c=u-360:u=c+360;var d=Math.sqrt(a*a+o*o);a/=d,o/=d;for(var f=Math.atan2(-o,a)/Math.PI*180,v=f<c?1:-1;f<c||f>u;)f+=v*360;return[d,f]},r.prototype.coordToPoint=function(n){var a=n[0],o=n[1]/180*Math.PI,s=Math.cos(o)*a+this.cx,l=-Math.sin(o)*a+this.cy;return[s,l]},r.prototype.getArea=function(){var n=this.getAngleAxis(),a=this.getRadiusAxis(),o=a.getExtent().slice();o[0]>o[1]&&o.reverse();var s=n.getExtent(),l=Math.PI/180,c=1e-4;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-s[0]*l,endAngle:-s[1]*l,clockwise:n.inverse,contain:function(u,d){var f=u-this.cx,v=d-this.cy,g=f*f+v*v,y=this.r,_=this.r0;return y!==_&&g-c<=y*y&&g+c>=_*_}}},r.prototype.convertToPixel=function(n,a,o){var s=getCoordSys$2(a);return s===this?this.dataToPoint(o):null},r.prototype.convertFromPixel=function(n,a,o){var s=getCoordSys$2(a);return s===this?this.pointToData(o):null},r}();function getCoordSys$2(r){var n=r.seriesModel,a=r.polarModel;return a&&a.coordinateSystem||n&&n.coordinateSystem}function resizePolar(r,n,a){var o=n.get("center"),s=a.getWidth(),l=a.getHeight();r.cx=parsePercent(o[0],s),r.cy=parsePercent(o[1],l);var c=r.getRadiusAxis(),u=Math.min(s,l)/2,d=n.get("radius");d==null?d=[0,"100%"]:isArray$1(d)||(d=[0,d]);var f=[parsePercent(d[0],u),parsePercent(d[1],u)];c.inverse?c.setExtent(f[1],f[0]):c.setExtent(f[0],f[1])}function updatePolarScale(r,n){var a=this,o=a.getAngleAxis(),s=a.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),r.eachSeries(function(u){if(u.coordinateSystem===a){var d=u.getData();each$f(getDataDimensionsOnAxis(d,"radius"),function(f){s.scale.unionExtentFromData(d,f)}),each$f(getDataDimensionsOnAxis(d,"angle"),function(f){o.scale.unionExtentFromData(d,f)})}}),niceScaleExtent(o.scale,o.model),niceScaleExtent(s.scale,s.model),o.type==="category"&&!o.onBand){var l=o.getExtent(),c=360/o.scale.count();o.inverse?l[1]+=c:l[1]-=c,o.setExtent(l[0],l[1])}}function isAngleAxisModel(r){return r.mainType==="angleAxis"}function setAxis(r,n){var a;if(r.type=n.get("type"),r.scale=createScaleByModel$1(n),r.onBand=n.get("boundaryGap")&&r.type==="category",r.inverse=n.get("inverse"),isAngleAxisModel(n)){r.inverse=r.inverse!==n.get("clockwise");var o=n.get("startAngle"),s=(a=n.get("endAngle"))!==null&&a!==void 0?a:o+(r.inverse?-360:360);r.setExtent(o,s)}n.axis=r,r.model=n}var polarCreator={dimensions:polarDimensions,create:function(r,n){var a=[];return r.eachComponent("polar",function(o,s){var l=new Polar(s+"");l.update=updatePolarScale;var c=l.getRadiusAxis(),u=l.getAngleAxis(),d=o.findAxisModel("radiusAxis"),f=o.findAxisModel("angleAxis");setAxis(c,d),setAxis(u,f),resizePolar(l,o,n),a.push(l),o.coordinateSystem=l,l.model=o}),r.eachSeries(function(o){if(o.get("coordinateSystem")==="polar"){var s=o.getReferringComponents("polar",SINGLE_REFERRING).models[0];o.coordinateSystem=s.coordinateSystem}}),a}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(r,n,a){n[1]>n[0]&&(n=n.slice().reverse());var o=r.coordToPoint([n[0],a]),s=r.coordToPoint([n[1],a]);return{x1:o[0],y1:o[1],x2:s[0],y2:s[1]}}function getRadiusIdx(r){var n=r.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(r){var n=r[0],a=r[r.length-1];n&&a&&Math.abs(Math.abs(n.coord-a.coord)-360)<1e-4&&r.pop()}var AngleAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="PolarAxisPointer",a}return n.prototype.render=function(a,o){if(this.group.removeAll(),!!a.get("show")){var s=a.axis,l=s.polar,c=l.getRadiusAxis().getExtent(),u=s.getTicksCoords(),d=s.getMinorTicksCoords(),f=map$1(s.getViewLabels(),function(v){v=clone$4(v);var g=s.scale,y=g.type==="ordinal"?g.getRawOrdinalNumber(v.tickValue):v.tickValue;return v.coord=s.dataToCoord(y),v});fixAngleOverlap(f),fixAngleOverlap(u),each$f(elementList,function(v){a.get([v,"show"])&&(!s.scale.isBlank()||v==="axisLine")&&angelAxisElementsBuilders[v](this.group,a,l,u,d,c,f)},this)}},n.type="angleAxis",n}(AxisView),angelAxisElementsBuilders={axisLine:function(r,n,a,o,s,l){var c=n.getModel(["axisLine","lineStyle"]),u=a.getAngleAxis(),d=Math.PI/180,f=u.getExtent(),v=getRadiusIdx(a),g=v?0:1,y,_=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l[g]===0?y=new graphic[_]({shape:{cx:a.cx,cy:a.cy,r:l[v],startAngle:-f[0]*d,endAngle:-f[1]*d,clockwise:u.inverse},style:c.getLineStyle(),z2:1,silent:!0}):y=new Ring({shape:{cx:a.cx,cy:a.cy,r:l[v],r0:l[g]},style:c.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,r.add(y)},axisTick:function(r,n,a,o,s,l){var c=n.getModel("axisTick"),u=(c.get("inside")?-1:1)*c.get("length"),d=l[getRadiusIdx(a)],f=map$1(o,function(v){return new Line$1({shape:getAxisLineShape(a,[d,d+u],v.coord)})});r.add(mergePath(f,{style:defaults(c.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,n,a,o,s,l){if(s.length){for(var c=n.getModel("axisTick"),u=n.getModel("minorTick"),d=(c.get("inside")?-1:1)*u.get("length"),f=l[getRadiusIdx(a)],v=[],g=0;g<s.length;g++)for(var y=0;y<s[g].length;y++)v.push(new Line$1({shape:getAxisLineShape(a,[f,f+d],s[g][y].coord)}));r.add(mergePath(v,{style:defaults(u.getModel("lineStyle").getLineStyle(),defaults(c.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,n,a,o,s,l,c){var u=n.getCategories(!0),d=n.getModel("axisLabel"),f=d.get("margin"),v=n.get("triggerEvent");each$f(c,function(g,y){var _=d,b=g.tickValue,T=l[getRadiusIdx(a)],C=a.coordToPoint([T+f,g.coord]),P=a.cx,E=a.cy,M=Math.abs(C[0]-P)/T<.3?"center":C[0]>P?"left":"right",I=Math.abs(C[1]-E)/T<.3?"middle":C[1]>E?"top":"bottom";if(u&&u[b]){var L=u[b];isObject$3(L)&&L.textStyle&&(_=new Model(L.textStyle,d,d.ecModel))}var N=new ZRText({silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(_,{x:C[0],y:C[1],fill:_.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:g.formattedLabel,align:M,verticalAlign:I})});if(r.add(N),v){var V=AxisBuilder.makeAxisEventDataBase(n);V.targetType="axisLabel",V.value=g.rawLabel,getECData(N).eventData=V}},this)},splitLine:function(r,n,a,o,s,l){var c=n.getModel("splitLine"),u=c.getModel("lineStyle"),d=u.get("color"),f=0;d=d instanceof Array?d:[d];for(var v=[],g=0;g<o.length;g++){var y=f++%d.length;v[y]=v[y]||[],v[y].push(new Line$1({shape:getAxisLineShape(a,l,o[g].coord)}))}for(var g=0;g<v.length;g++)r.add(mergePath(v[g],{style:defaults({stroke:d[g%d.length]},u.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(r,n,a,o,s,l){if(s.length){for(var c=n.getModel("minorSplitLine"),u=c.getModel("lineStyle"),d=[],f=0;f<s.length;f++)for(var v=0;v<s[f].length;v++)d.push(new Line$1({shape:getAxisLineShape(a,l,s[f][v].coord)}));r.add(mergePath(d,{style:u.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(r,n,a,o,s,l){if(o.length){var c=n.getModel("splitArea"),u=c.getModel("areaStyle"),d=u.get("color"),f=0;d=d instanceof Array?d:[d];for(var v=[],g=Math.PI/180,y=-o[0].coord*g,_=Math.min(l[0],l[1]),b=Math.max(l[0],l[1]),T=n.get("clockwise"),C=1,P=o.length;C<=P;C++){var E=C===P?o[0].coord:o[C].coord,M=f++%d.length;v[M]=v[M]||[],v[M].push(new Sector({shape:{cx:a.cx,cy:a.cy,r0:_,r:b,startAngle:y,endAngle:-E*g,clockwise:T},silent:!0})),y=-E*g}for(var C=0;C<v.length;C++)r.add(mergePath(v[C],{style:defaults({fill:d[C%d.length]},u.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="PolarAxisPointer",a}return n.prototype.render=function(a,o){if(this.group.removeAll(),!!a.get("show")){var s=this._axisGroup,l=this._axisGroup=new Group$3;this.group.add(l);var c=a.axis,u=c.polar,d=u.getAngleAxis(),f=c.getTicksCoords(),v=c.getMinorTicksCoords(),g=d.getExtent()[0],y=c.getExtent(),_=layoutAxis(u,a,g),b=new AxisBuilder(a,_);each$f(axisBuilderAttrs$1,b.add,b),l.add(b.getGroup()),groupTransition(s,l,a),each$f(selfBuilderAttrs$1,function(T){a.get([T,"show"])&&!c.scale.isBlank()&&axisElementBuilders$1[T](this.group,a,u,g,y,f,v)},this)}},n.type="radiusAxis",n}(AxisView),axisElementBuilders$1={splitLine:function(r,n,a,o,s,l){var c=n.getModel("splitLine"),u=c.getModel("lineStyle"),d=u.get("color"),f=0,v=a.getAngleAxis(),g=Math.PI/180,y=v.getExtent(),_=Math.abs(y[1]-y[0])===360?"Circle":"Arc";d=d instanceof Array?d:[d];for(var b=[],T=0;T<l.length;T++){var C=f++%d.length;b[C]=b[C]||[],b[C].push(new graphic[_]({shape:{cx:a.cx,cy:a.cy,r:Math.max(l[T].coord,0),startAngle:-y[0]*g,endAngle:-y[1]*g,clockwise:v.inverse}}))}for(var T=0;T<b.length;T++)r.add(mergePath(b[T],{style:defaults({stroke:d[T%d.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(r,n,a,o,s,l,c){if(c.length){for(var u=n.getModel("minorSplitLine"),d=u.getModel("lineStyle"),f=[],v=0;v<c.length;v++)for(var g=0;g<c[v].length;g++)f.push(new Circle({shape:{cx:a.cx,cy:a.cy,r:c[v][g].coord}}));r.add(mergePath(f,{style:defaults({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(r,n,a,o,s,l){if(l.length){var c=n.getModel("splitArea"),u=c.getModel("areaStyle"),d=u.get("color"),f=0;d=d instanceof Array?d:[d];for(var v=[],g=l[0].coord,y=1;y<l.length;y++){var _=f++%d.length;v[_]=v[_]||[],v[_].push(new Sector({shape:{cx:a.cx,cy:a.cy,r0:g,r:l[y].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),g=l[y].coord}for(var y=0;y<v.length;y++)r.add(mergePath(v[y],{style:defaults({fill:d[y%d.length]},u.getAreaStyle()),silent:!0}))}}};function layoutAxis(r,n,a){return{position:[r.cx,r.cy],rotation:a/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}function getSeriesStackId(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function getAxisKey(r,n){return n.dim+r.model.componentIndex}function barLayoutPolar(r,n,a){var o={},s=calRadialBar(filter(n.getSeriesByType(r),function(l){return!n.isSeriesFiltered(l)&&l.coordinateSystem&&l.coordinateSystem.type==="polar"}));n.eachSeriesByType(r,function(l){if(l.coordinateSystem.type==="polar"){var c=l.getData(),u=l.coordinateSystem,d=u.getBaseAxis(),f=getAxisKey(u,d),v=getSeriesStackId(l),g=s[f][v],y=g.offset,_=g.width,b=u.getOtherAxis(d),T=l.coordinateSystem.cx,C=l.coordinateSystem.cy,P=l.get("barMinHeight")||0,E=l.get("barMinAngle")||0;o[v]=o[v]||[];for(var M=c.mapDimension(b.dim),I=c.mapDimension(d.dim),L=isDimensionStacked(c,M),N=d.dim!=="radius"||!l.get("roundCap",!0),V=b.model,B=V.get("startValue"),z=b.dataToCoord(B||0),G=0,H=c.count();G<H;G++){var W=c.get(M,G),j=c.get(I,G),X=W>=0?"p":"n",Z=z;L&&(o[v][j]||(o[v][j]={p:z,n:z}),Z=o[v][j][X]);var q=void 0,le=void 0,ae=void 0,he=void 0;if(b.dim==="radius"){var ve=b.dataToCoord(W)-z,ce=d.dataToCoord(j);Math.abs(ve)<P&&(ve=(ve<0?-1:1)*P),q=Z,le=Z+ve,ae=ce-y,he=ae-_,L&&(o[v][j][X]=le)}else{var fe=b.dataToCoord(W,N)-z,_e=d.dataToCoord(j);Math.abs(fe)<E&&(fe=(fe<0?-1:1)*E),q=_e+y,le=q+_,ae=Z,he=Z+fe,L&&(o[v][j][X]=he)}c.setItemLayout(G,{cx:T,cy:C,r0:q,r:le,startAngle:-ae*Math.PI/180,endAngle:-he*Math.PI/180,clockwise:ae>=he})}}})}function calRadialBar(r){var n={};each$f(r,function(o,s){var l=o.getData(),c=o.coordinateSystem,u=c.getBaseAxis(),d=getAxisKey(c,u),f=u.getExtent(),v=u.type==="category"?u.getBandWidth():Math.abs(f[1]-f[0])/l.count(),g=n[d]||{bandWidth:v,remainedWidth:v,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},y=g.stacks;n[d]=g;var _=getSeriesStackId(o);y[_]||g.autoWidthCount++,y[_]=y[_]||{width:0,maxWidth:0};var b=parsePercent(o.get("barWidth"),v),T=parsePercent(o.get("barMaxWidth"),v),C=o.get("barGap"),P=o.get("barCategoryGap");b&&!y[_].width&&(b=Math.min(g.remainedWidth,b),y[_].width=b,g.remainedWidth-=b),T&&(y[_].maxWidth=T),C!=null&&(g.gap=C),P!=null&&(g.categoryGap=P)});var a={};return each$f(n,function(o,s){a[s]={};var l=o.stacks,c=o.bandWidth,u=parsePercent(o.categoryGap,c),d=parsePercent(o.gap,1),f=o.remainedWidth,v=o.autoWidthCount,g=(f-u)/(v+(v-1)*d);g=Math.max(g,0),each$f(l,function(T,C){var P=T.maxWidth;P&&P<g&&(P=Math.min(P,f),T.width&&(P=Math.min(P,T.width)),f-=P,T.width=P,v--)}),g=(f-u)/(v+(v-1)*d),g=Math.max(g,0);var y=0,_;each$f(l,function(T,C){T.width||(T.width=g),_=T,y+=T.width*(1+d)}),_&&(y-=_.width*d);var b=-y/2;each$f(l,function(T,C){a[s][C]=a[s][C]||{offset:b,width:T.width},b+=T.width*(1+d)})}),a}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="polar",n}(ComponentView);function install$o(r){use(install$q),AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer),r.registerCoordinateSystem("polar",polarCreator),r.registerComponentModel(PolarModel),r.registerComponentView(PolarView),axisModelCreator(r,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(r,"radius",RadiusAxisModel,radiusAxisExtraOption),r.registerComponentView(AngleAxisView),r.registerComponentView(RadiusAxisView),r.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(r,n){n=n||{};var a=r.coordinateSystem,o=r.axis,s={},l=o.position,c=o.orient,u=a.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};s.position=[c==="vertical"?f.vertical[l]:d[0],c==="horizontal"?f.horizontal[l]:d[3]];var v={horizontal:0,vertical:1};s.rotation=Math.PI/2*v[c];var g={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=g[l],r.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),retrieve(n.labelInside,r.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var y=n.rotate;return y==null&&(y=r.get(["axisLabel","rotate"])),s.labelRotation=l==="top"?-y:y,s.z2=1,s}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.axisPointerClass="SingleAxisPointer",a}return n.prototype.render=function(a,o,s,l){var c=this.group;c.removeAll();var u=this._axisGroup;this._axisGroup=new Group$3;var d=layout$1(a),f=new AxisBuilder(a,d);each$f(axisBuilderAttrs,f.add,f),c.add(this._axisGroup),c.add(f.getGroup()),each$f(selfBuilderAttrs,function(v){a.get([v,"show"])&&axisElementBuilders[v](this,this.group,this._axisGroup,a)},this),groupTransition(u,this._axisGroup,a),r.prototype.render.call(this,a,o,s,l)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView),axisElementBuilders={splitLine:function(r,n,a,o){var s=o.axis;if(!s.scale.isBlank()){var l=o.getModel("splitLine"),c=l.getModel("lineStyle"),u=c.get("color");u=u instanceof Array?u:[u];for(var d=c.get("width"),f=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=[],y=0,_=s.getTicksCoords({tickModel:l}),b=[],T=[],C=0;C<_.length;++C){var P=s.toGlobalCoord(_[C].coord);v?(b[0]=P,b[1]=f.y,T[0]=P,T[1]=f.y+f.height):(b[0]=f.x,b[1]=P,T[0]=f.x+f.width,T[1]=P);var E=new Line$1({shape:{x1:b[0],y1:b[1],x2:T[0],y2:T[1]},silent:!0});subPixelOptimizeLine(E.shape,d);var M=y++%u.length;g[M]=g[M]||[],g[M].push(E)}for(var I=c.getLineStyle(["color"]),C=0;C<g.length;++C)n.add(mergePath(g[C],{style:defaults({stroke:u[C%u.length]},I),silent:!0}))}},splitArea:function(r,n,a,o){rectCoordAxisBuildSplitArea(r,a,o,o)}},SingleAxisModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxis=function(r){__extends(n,r);function n(a,o,s,l,c){var u=r.call(this,a,o,s)||this;return u.type=l||"value",u.position=c||"bottom",u}return n.prototype.isHorizontal=function(){var a=this.position;return a==="top"||a==="bottom"},n.prototype.pointToData=function(a,o){return this.coordinateSystem.pointToData(a)[0]},n}(Axis),singleDimensions=["single"],Single=function(){function r(n,a,o){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=n,this._init(n,a,o)}return r.prototype._init=function(n,a,o){var s=this.dimension,l=new SingleAxis(s,createScaleByModel$1(n),[0,0],n.get("type"),n.get("position")),c=l.type==="category";l.onBand=c&&n.get("boundaryGap"),l.inverse=n.get("inverse"),l.orient=n.get("orient"),n.axis=l,l.model=n,l.coordinateSystem=this,this._axis=l},r.prototype.update=function(n,a){n.eachSeries(function(o){if(o.coordinateSystem===this){var s=o.getData();each$f(s.mapDimensionsAll(this.dimension),function(l){this._axis.scale.unionExtentFromData(s,l)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(n,a){this._rect=getLayoutRect({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:a.getWidth(),height:a.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var n=this._rect,a=this._axis,o=a.isHorizontal(),s=o?[0,n.width]:[0,n.height],l=a.inverse?1:0;a.setExtent(s[l],s[1-l]),this._updateAxisTransform(a,o?n.x:n.y)},r.prototype._updateAxisTransform=function(n,a){var o=n.getExtent(),s=o[0]+o[1],l=n.isHorizontal();n.toGlobalCoord=l?function(c){return c+a}:function(c){return s-c+a},n.toLocalCoord=l?function(c){return c-a}:function(c){return s-c+a}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(n){var a=this.getRect(),o=this.getAxis(),s=o.orient;return s==="horizontal"?o.contain(o.toLocalCoord(n[0]))&&n[1]>=a.y&&n[1]<=a.y+a.height:o.contain(o.toLocalCoord(n[1]))&&n[0]>=a.y&&n[0]<=a.y+a.height},r.prototype.pointToData=function(n){var a=this.getAxis();return[a.coordToData(a.toLocalCoord(n[a.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(n){var a=this.getAxis(),o=this.getRect(),s=[],l=a.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),s[l]=a.toGlobalCoord(a.dataToCoord(+n)),s[1-l]=l===0?o.y+o.height/2:o.x+o.width/2,s},r.prototype.convertToPixel=function(n,a,o){var s=getCoordSys$1(a);return s===this?this.dataToPoint(o):null},r.prototype.convertFromPixel=function(n,a,o){var s=getCoordSys$1(a);return s===this?this.pointToData(o):null},r}();function getCoordSys$1(r){var n=r.seriesModel,a=r.singleAxisModel;return a&&a.coordinateSystem||n&&n.coordinateSystem}function create(r,n){var a=[];return r.eachComponent("singleAxis",function(o,s){var l=new Single(o,r,n);l.name="single_"+s,l.resize(o,n),o.coordinateSystem=l,a.push(l)}),r.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var s=o.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];o.coordinateSystem=s&&s.coordinateSystem}}),a}var singleCreator={create,dimensions:singleDimensions},XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(a,o,s,l,c){var u=s.axis,d=u.coordinateSystem,f=getGlobalExtent(d,1-getPointDimIndex(u)),v=d.dataToPoint(o)[0],g=l.get("type");if(g&&g!=="none"){var y=buildElStyle(l),_=pointerShapeBuilder[g](u,v,f);_.style=y,a.graphicKey=_.type,a.pointer=_}var b=layout$1(s);buildCartesianSingleLabelElOption(o,a,b,s,l,c)},n.prototype.getHandleTransform=function(a,o,s){var l=layout$1(o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var c=getTransformedPosition(o.axis,a,l);return{x:c[0],y:c[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(a,o,s,l){var c=s.axis,u=c.coordinateSystem,d=getPointDimIndex(c),f=getGlobalExtent(u,d),v=[a.x,a.y];v[d]+=o[d],v[d]=Math.min(f[1],v[d]),v[d]=Math.max(f[0],v[d]);var g=getGlobalExtent(u,1-d),y=(g[1]+g[0])/2,_=[y,y];return _[d]=v[d],{x:v[0],y:v[1],rotation:a.rotation,cursorPoint:_,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer),pointerShapeBuilder={line:function(r,n,a){var o=makeLineShape([n,a[0]],[n,a[1]],getPointDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(r,n,a){var o=r.getBandWidth(),s=a[1]-a[0];return{type:"Rect",shape:makeRectShape([n-o/2,a[0]],[o,s],getPointDimIndex(r))}}};function getPointDimIndex(r){return r.isHorizontal()?0:1}function getGlobalExtent(r,n){var a=r.getRect();return[a[XY$1[n]],a[XY$1[n]]+a[WH$1[n]]]}var SingleView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="single",n}(ComponentView);function install$n(r){use(install$q),AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer),r.registerComponentView(SingleView),r.registerComponentView(SingleAxisView),r.registerComponentModel(SingleAxisModel),axisModelCreator(r,"single",SingleAxisModel,SingleAxisModel.defaultOption),r.registerCoordinateSystem("single",singleCreator)}var CalendarModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o,s){var l=getLayoutParams(a);r.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(a,l)},n.prototype.mergeOption=function(a){r.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,a)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel);function mergeAndNormalizeLayoutParams$1(r,n){var a=r.cellSize,o;isArray$1(a)?o=a:o=r.cellSize=[a,a],o.length===1&&(o[1]=o[0]);var s=map$1([0,1],function(l){return sizeCalculable(n,l)&&(o[l]="auto"),o[l]!=null&&o[l]!=="auto"});mergeLayoutParam(r,n,{type:"box",ignoreSize:s})}var CalendarView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){var l=this.group;l.removeAll();var c=a.coordinateSystem,u=c.getRangeInfo(),d=c.getOrient(),f=o.getLocaleModel();this._renderDayRect(a,u,l),this._renderLines(a,u,d,l),this._renderYearText(a,u,d,l),this._renderMonthText(a,f,d,l),this._renderWeekText(a,f,u,d,l)},n.prototype._renderDayRect=function(a,o,s){for(var l=a.coordinateSystem,c=a.getModel("itemStyle").getItemStyle(),u=l.getCellWidth(),d=l.getCellHeight(),f=o.start.time;f<=o.end.time;f=l.getNextNDay(f,1).time){var v=l.dataToRect([f],!1).tl,g=new Rect$2({shape:{x:v[0],y:v[1],width:u,height:d},cursor:"default",style:c});s.add(g)}},n.prototype._renderLines=function(a,o,s,l){var c=this,u=a.coordinateSystem,d=a.getModel(["splitLine","lineStyle"]).getLineStyle(),f=a.get(["splitLine","show"]),v=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var g=o.start,y=0;g.time<=o.end.time;y++){b(g.formatedDate),y===0&&(g=u.getDateInfo(o.start.y+"-"+o.start.m));var _=g.date;_.setMonth(_.getMonth()+1),g=u.getDateInfo(_)}b(u.getNextNDay(o.end.time,1).formatedDate);function b(T){c._firstDayOfMonth.push(u.getDateInfo(T)),c._firstDayPoints.push(u.dataToRect([T],!1).tl);var C=c._getLinePointsOfOneWeek(a,T,s);c._tlpoints.push(C[0]),c._blpoints.push(C[C.length-1]),f&&c._drawSplitline(C,d,l)}f&&this._drawSplitline(c._getEdgesPoints(c._tlpoints,v,s),d,l),f&&this._drawSplitline(c._getEdgesPoints(c._blpoints,v,s),d,l)},n.prototype._getEdgesPoints=function(a,o,s){var l=[a[0].slice(),a[a.length-1].slice()],c=s==="horizontal"?0:1;return l[0][c]=l[0][c]-o/2,l[1][c]=l[1][c]+o/2,l},n.prototype._drawSplitline=function(a,o,s){var l=new Polyline$1({z2:20,shape:{points:a},style:o});s.add(l)},n.prototype._getLinePointsOfOneWeek=function(a,o,s){for(var l=a.coordinateSystem,c=l.getDateInfo(o),u=[],d=0;d<7;d++){var f=l.getNextNDay(c.time,d),v=l.dataToRect([f.time],!1);u[2*f.day]=v.tl,u[2*f.day+1]=v[s==="horizontal"?"bl":"tr"]}return u},n.prototype._formatterLabel=function(a,o){return isString(a)&&a?formatTplSimple(a,o):isFunction(a)?a(o):o.nameMap},n.prototype._yearTextPositionControl=function(a,o,s,l,c){var u=o[0],d=o[1],f=["center","bottom"];l==="bottom"?(d+=c,f=["center","top"]):l==="left"?u-=c:l==="right"?(u+=c,f=["center","top"]):d-=c;var v=0;return(l==="left"||l==="right")&&(v=Math.PI/2),{rotation:v,x:u,y:d,style:{align:f[0],verticalAlign:f[1]}}},n.prototype._renderYearText=function(a,o,s,l){var c=a.getModel("yearLabel");if(c.get("show")){var u=c.get("margin"),d=c.get("position");d||(d=s!=="horizontal"?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],v=(f[0][0]+f[1][0])/2,g=(f[0][1]+f[1][1])/2,y=s==="horizontal"?0:1,_={top:[v,f[y][1]],bottom:[v,f[1-y][1]],left:[f[1-y][0],g],right:[f[y][0],g]},b=o.start.y;+o.end.y>+o.start.y&&(b=b+"-"+o.end.y);var T=c.get("formatter"),C={start:o.start.y,end:o.end.y,nameMap:b},P=this._formatterLabel(T,C),E=new ZRText({z2:30,style:createTextStyle(c,{text:P}),silent:c.get("silent")});E.attr(this._yearTextPositionControl(E,_[d],s,d,u)),l.add(E)}},n.prototype._monthTextPositionControl=function(a,o,s,l,c){var u="left",d="top",f=a[0],v=a[1];return s==="horizontal"?(v=v+c,o&&(u="center"),l==="start"&&(d="bottom")):(f=f+c,o&&(d="middle"),l==="start"&&(u="right")),{x:f,y:v,align:u,verticalAlign:d}},n.prototype._renderMonthText=function(a,o,s,l){var c=a.getModel("monthLabel");if(c.get("show")){var u=c.get("nameMap"),d=c.get("margin"),f=c.get("position"),v=c.get("align"),g=[this._tlpoints,this._blpoints];(!u||isString(u))&&(u&&(o=getLocaleModel(u)||o),u=o.get(["time","monthAbbr"])||[]);var y=f==="start"?0:1,_=s==="horizontal"?0:1;d=f==="start"?-d:d;for(var b=v==="center",T=c.get("silent"),C=0;C<g[y].length-1;C++){var P=g[y][C].slice(),E=this._firstDayOfMonth[C];if(b){var M=this._firstDayPoints[C];P[_]=(M[_]+g[0][C+1][_])/2}var I=c.get("formatter"),L=u[+E.m-1],N={yyyy:E.y,yy:(E.y+"").slice(2),MM:E.m,M:+E.m,nameMap:L},V=this._formatterLabel(I,N),B=new ZRText({z2:30,style:extend(createTextStyle(c,{text:V}),this._monthTextPositionControl(P,b,s,f,d)),silent:T});l.add(B)}}},n.prototype._weekTextPositionControl=function(a,o,s,l,c){var u="center",d="middle",f=a[0],v=a[1],g=s==="start";return o==="horizontal"?(f=f+l+(g?1:-1)*c[0]/2,u=g?"right":"left"):(v=v+l+(g?1:-1)*c[1]/2,d=g?"bottom":"top"),{x:f,y:v,align:u,verticalAlign:d}},n.prototype._renderWeekText=function(a,o,s,l,c){var u=a.getModel("dayLabel");if(u.get("show")){var d=a.coordinateSystem,f=u.get("position"),v=u.get("nameMap"),g=u.get("margin"),y=d.getFirstDayOfWeek();if(!v||isString(v)){v&&(o=getLocaleModel(v)||o);var _=o.get(["time","dayOfWeekShort"]);v=_||map$1(o.get(["time","dayOfWeekAbbr"]),function(N){return N[0]})}var b=d.getNextNDay(s.end.time,7-s.lweek).time,T=[d.getCellWidth(),d.getCellHeight()];g=parsePercent(g,Math.min(T[1],T[0])),f==="start"&&(b=d.getNextNDay(s.start.time,-(7+s.fweek)).time,g=-g);for(var C=u.get("silent"),P=0;P<7;P++){var E=d.getNextNDay(b,P),M=d.dataToRect([E.time],!1).center,I=P;I=Math.abs((P+y)%7);var L=new ZRText({z2:30,style:extend(createTextStyle(u,{text:v[I]}),this._weekTextPositionControl(M,l,f,g,T)),silent:C});c.add(L)}}},n.type="calendar",n}(ComponentView),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function r(n,a,o){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=n}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(n){n=parseDate(n);var a=n.getFullYear(),o=n.getMonth()+1,s=o<10?"0"+o:""+o,l=n.getDate(),c=l<10?"0"+l:""+l,u=n.getDay();return u=Math.abs((u+7-this.getFirstDayOfWeek())%7),{y:a+"",m:s,d:c,day:u,time:n.getTime(),formatedDate:a+"-"+s+"-"+c,date:n}},r.prototype.getNextNDay=function(n,a){return a=a||0,a===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+a),this.getDateInfo(n))},r.prototype.update=function(n,a){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,s=["width","height"],l=this._model.getCellSize().slice(),c=this._model.getBoxLayoutParams(),u=this._orient==="horizontal"?[o,7]:[7,o];each$f([0,1],function(g){v(l,g)&&(c[s[g]]=l[g]*u[g])});var d={width:a.getWidth(),height:a.getHeight()},f=this._rect=getLayoutRect(c,d);each$f([0,1],function(g){v(l,g)||(l[g]=f[s[g]]/u[g])});function v(g,y){return g[y]!=null&&g[y]!=="auto"}this._sw=l[0],this._sh=l[1]},r.prototype.dataToPoint=function(n,a){isArray$1(n)&&(n=n[0]),a==null&&(a=!0);var o=this.getDateInfo(n),s=this._rangeInfo,l=o.formatedDate;if(a&&!(o.time>=s.start.time&&o.time<s.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var c=o.day,u=this._getRangeInfo([s.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+c*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]:[this._rect.x+u*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]},r.prototype.pointToData=function(n){var a=this.pointToDate(n);return a&&a.time},r.prototype.dataToRect=function(n,a){var o=this.dataToPoint(n,a);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},r.prototype.pointToDate=function(n){var a=Math.floor((n[0]-this._rect.x)/this._sw)+1,o=Math.floor((n[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(o,a-1,s):this._getDateByWeeksAndDay(a,o-1,s)},r.prototype.convertToPixel=function(n,a,o){var s=getCoordSys(a);return s===this?s.dataToPoint(o):null},r.prototype.convertFromPixel=function(n,a,o){var s=getCoordSys(a);return s===this?s.pointToData(o):null},r.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var n=this._model.get("range"),a;if(isArray$1(n)&&n.length===1&&(n=n[0]),isArray$1(n))a=n;else{var o=n.toString();if(/^\d{4}$/.test(o)&&(a=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var s=this.getDateInfo(o),l=s.date;l.setMonth(l.getMonth()+1);var c=this.getNextNDay(l,-1);a=[s.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(a=[o,o])}if(!a)return n;var u=this._getRangeInfo(a);return u.start.time>u.end.time&&a.reverse(),a},r.prototype._getRangeInfo=function(n){var a=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],o;a[0].time>a[1].time&&(o=!0,a.reverse());var s=Math.floor(a[1].time/PROXIMATE_ONE_DAY)-Math.floor(a[0].time/PROXIMATE_ONE_DAY)+1,l=new Date(a[0].time),c=l.getDate(),u=a[1].date.getDate();l.setDate(c+s-1);var d=l.getDate();if(d!==u)for(var f=l.getTime()-a[1].time>0?1:-1;(d=l.getDate())!==u&&(l.getTime()-a[1].time)*f>0;)s-=f,l.setDate(d-f);var v=Math.floor((s+a[0].day+6)/7),g=o?-v+1:v-1;return o&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:s,weeks:v,nthWeek:g,fweek:a[0].day,lweek:a[1].day}},r.prototype._getDateByWeeksAndDay=function(n,a,o){var s=this._getRangeInfo(o);if(n>s.weeks||n===0&&a<s.fweek||n===s.weeks&&a>s.lweek)return null;var l=(n-1)*7-s.fweek+a,c=new Date(s.start.time);return c.setDate(+s.start.d+l),this.getDateInfo(c)},r.create=function(n,a){var o=[];return n.eachComponent("calendar",function(s){var l=new r(s);o.push(l),s.coordinateSystem=l}),n.eachSeries(function(s){s.get("coordinateSystem")==="calendar"&&(s.coordinateSystem=o[s.get("calendarIndex")||0])}),o},r.dimensions=["time","value"],r}();function getCoordSys(r){var n=r.calendarModel,a=r.seriesModel,o=n?n.coordinateSystem:a?a.coordinateSystem:null;return o}function install$m(r){r.registerComponentModel(CalendarModel),r.registerComponentView(CalendarView),r.registerCoordinateSystem("calendar",Calendar)}function setKeyInfoToNewElOption(r,n){var a=r.existing;if(n.id=r.keyInfo.id,!n.type&&a&&(n.type=a.type),n.parentId==null){var o=n.parentOption;o?n.parentId=o.id:a&&(n.parentId=a.parentId)}n.parentOption=null}function isSetLoc(r,n){var a;return each$f(n,function(o){r[o]!=null&&r[o]!=="auto"&&(a=!0)}),a}function mergeNewElOptionToExist(r,n,a){var o=extend({},a),s=r[n],l=a.$action||"merge";l==="merge"?s?(merge(s,o,!0),mergeLayoutParam(s,o,{ignoreSize:!0}),copyLayoutParams(a,s),copyTransitionInfo(a,s),copyTransitionInfo(a,s,"shape"),copyTransitionInfo(a,s,"style"),copyTransitionInfo(a,s,"extra"),a.clipPath=s.clipPath):r[n]=o:l==="replace"?r[n]=o:l==="remove"&&s&&(r[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(r,n,a){if(a&&(!r[a]&&n[a]&&(r[a]={}),r=r[a],n=n[a]),!(!r||!n))for(var o=a?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,s=0;s<o.length;s++){var l=o[s];r[l]==null&&n[l]!=null&&(r[l]=n[l])}}function setLayoutInfoToExist(r,n){if(r&&(r.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],r.type==="group")){var a=r,o=n;a.width==null&&(a.width=o.width=0),a.height==null&&(a.height=o.height=0)}}var GraphicComponentModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.preventAutoZ=!0,a}return n.prototype.mergeOption=function(a,o){var s=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,a,o),this.option.elements=s},n.prototype.optionUpdated=function(a,o){var s=this.option,l=(o?s:a).elements,c=s.elements=o?[]:s.elements,u=[];this._flatten(l,u,null);var d=mappingToExists(c,u,"normalMerge"),f=this._elOptionsToUpdate=[];each$f(d,function(v,g){var y=v.newOption;y&&(f.push(y),setKeyInfoToNewElOption(v,y),mergeNewElOptionToExist(c,g,y),setLayoutInfoToExist(c[g],y))},this),s.elements=filter(c,function(v){return v&&delete v.$action,v!=null})},n.prototype._flatten=function(a,o,s){each$f(a,function(l){if(l){s&&(l.parentOption=s),o.push(l);var c=l.children;c&&c.length&&this._flatten(c,o,l),delete l.children}},this)},n.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$3,image:ZRImage,text:ZRText},inner$7=makeInner(),GraphicComponentView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(a,o,s){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,s)},n.prototype._updateElements=function(a){var o=a.useElOptionsToUpdate();if(o){var s=this._elMap,l=this.group,c=a.get("z"),u=a.get("zlevel");each$f(o,function(d){var f=convertOptionIdName(d.id,null),v=f!=null?s.get(f):null,g=convertOptionIdName(d.parentId,null),y=g!=null?s.get(g):l,_=d.type,b=d.style;_==="text"&&b&&d.hv&&d.hv[1]&&(b.textVerticalAlign=b.textBaseline=b.verticalAlign=b.align=null);var T=d.textContent,C=d.textConfig;if(b&&isEC4CompatibleStyle(b,_,!!C,!!T)){var P=convertFromEC4CompatibleStyle(b,_,!0);!C&&P.textConfig&&(C=d.textConfig=P.textConfig),!T&&P.textContent&&(T=P.textContent)}var E=getCleanedElOption(d),M=d.$action||"merge",I=M==="merge",L=M==="replace";if(I){var N=!v,V=v;N?V=createEl(f,y,d.type,s):(V&&(inner$7(V).isNew=!1),stopPreviousKeyframeAnimationAndRestore(V)),V&&(applyUpdateTransition(V,E,a,{isInit:N}),updateCommonAttrs(V,d,c,u))}else if(L){removeEl$1(v,d,s,a);var B=createEl(f,y,d.type,s);B&&(applyUpdateTransition(B,E,a,{isInit:!0}),updateCommonAttrs(B,d,c,u))}else M==="remove"&&(updateLeaveTo(v,d),removeEl$1(v,d,s,a));var z=s.get(f);if(z&&T)if(I){var G=z.getTextContent();G?G.attr(T):z.setTextContent(new ZRText(T))}else L&&z.setTextContent(new ZRText(T));if(z){var H=d.clipPath;if(H){var W=H.type,j=void 0,N=!1;if(I){var X=z.getClipPath();N=!X||inner$7(X).type!==W,j=N?newEl(W):X}else L&&(N=!0,j=newEl(W));z.setClipPath(j),applyUpdateTransition(j,H,a,{isInit:N}),applyKeyframeAnimation(j,H.keyframeAnimation,a)}var Z=inner$7(z);z.setTextConfig(C),Z.option=d,setEventData(z,a,d),setTooltipConfig({el:z,componentModel:a,itemName:z.name,itemTooltipOption:d.tooltip}),applyKeyframeAnimation(z,d.keyframeAnimation,a)}})}},n.prototype._relocate=function(a,o){for(var s=a.option.elements,l=this.group,c=this._elMap,u=o.getWidth(),d=o.getHeight(),f=["x","y"],v=0;v<s.length;v++){var g=s[v],y=convertOptionIdName(g.id,null),_=y!=null?c.get(y):null;if(!(!_||!_.isGroup)){var b=_.parent,T=b===l,C=inner$7(_),P=inner$7(b);C.width=parsePercent(C.option.width,T?u:P.width)||0,C.height=parsePercent(C.option.height,T?d:P.height)||0}}for(var v=s.length-1;v>=0;v--){var g=s[v],y=convertOptionIdName(g.id,null),_=y!=null?c.get(y):null;if(_){var b=_.parent,P=inner$7(b),E=b===l?{width:u,height:d}:{width:P.width,height:P.height},M={},I=positionElement(_,g,E,null,{hv:g.hv,boundingMode:g.bounding},M);if(!inner$7(_).isNew&&I){for(var L=g.transition,N={},V=0;V<f.length;V++){var B=f[V],z=M[B];L&&(isTransitionAll(L)||indexOf(L,B)>=0)?N[B]=z:_[B]=z}updateProps$1(_,N,a,0)}else _.attr(M)}}},n.prototype._clear=function(){var a=this,o=this._elMap;o.each(function(s){removeEl$1(s,inner$7(s).option,o,a._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView);function newEl(r){var n=hasOwn(nonShapeGraphicElements,r)?nonShapeGraphicElements[r]:getShapeClass(r),a=new n({});return inner$7(a).type=r,a}function createEl(r,n,a,o){var s=newEl(a);return n.add(s),o.set(r,s),inner$7(s).id=r,inner$7(s).isNew=!0,s}function removeEl$1(r,n,a,o){var s=r&&r.parent;s&&(r.type==="group"&&r.traverse(function(l){removeEl$1(l,n,a,o)}),applyLeaveTransition(r,n,o),a.removeKey(inner$7(r).id))}function updateCommonAttrs(r,n,a,o){r.isGroup||each$f([["cursor",Displayable.prototype.cursor],["zlevel",o||0],["z",a||0],["z2",0]],function(s){var l=s[0];hasOwn(n,l)?r[l]=retrieve2(n[l],s[1]):r[l]==null&&(r[l]=s[1])}),each$f(keys(n),function(s){if(s.indexOf("on")===0){var l=n[s];r[s]=isFunction(l)?l:null}}),hasOwn(n,"draggable")&&(r.draggable=n.draggable),n.name!=null&&(r.name=n.name),n.id!=null&&(r.id=n.id)}function getCleanedElOption(r){return r=extend({},r),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete r[n]}),r}function setEventData(r,n,a){var o=getECData(r).eventData;!r.silent&&!r.ignore&&!o&&(o=getECData(r).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:r.name}),o&&(o.info=a.info)}function install$l(r){r.registerComponentModel(GraphicComponentModel),r.registerComponentView(GraphicComponentView),r.registerPreprocessor(function(n){var a=n.graphic;isArray$1(a)?!a[0]||!a[0].elements?n.graphic=[{elements:a}]:n.graphic=[n.graphic[0]]:a&&!a.elements&&(n.graphic=[{elements:[a]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(r){var n=r.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(r){return r+"Axis"}function findEffectedDataZooms(r,n){var a=createHashMap(),o=[],s=createHashMap();r.eachComponent({mainType:"dataZoom",query:n},function(v){s.get(v.uid)||u(v)});var l;do l=!1,r.eachComponent("dataZoom",c);while(l);function c(v){!s.get(v.uid)&&d(v)&&(u(v),l=!0)}function u(v){s.set(v.uid,!0),o.push(v),f(v)}function d(v){var g=!1;return v.eachTargetAxis(function(y,_){var b=a.get(y);b&&b[_]&&(g=!0)}),g}function f(v){v.eachTargetAxis(function(g,y){(a.get(g)||a.set(g,[]))[y]=!0})}return o}function collectReferCoordSysModelInfo(r){var n=r.ecModel,a={infoList:[],infoMap:createHashMap()};return r.eachTargetAxis(function(o,s){var l=n.getComponent(getAxisMainType(o),s);if(l){var c=l.getCoordSysModel();if(c){var u=c.uid,d=a.infoMap.get(u);d||(d={model:c,axisModels:[]},a.infoList.push(d),a.infoMap.set(u,d)),d.axisModels.push(l)}}}),a}var DataZoomAxisInfo=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},r}(),DataZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._autoThrottle=!0,a._noTarget=!0,a._rangePropMode=["percent","percent"],a}return n.prototype.init=function(a,o,s){var l=retrieveRawOption(a);this.settledOption=l,this.mergeDefaultAndTheme(a,s),this._doInit(l)},n.prototype.mergeOption=function(a){var o=retrieveRawOption(a);merge(this.option,a,!0),merge(this.settledOption,o,!0),this._doInit(o)},n.prototype._doInit=function(a){var o=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var s=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(l,c){this._rangePropMode[c]==="value"&&(o[l[0]]=s[l[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var a=this.get("orient",!0),o=this._targetAxisInfoMap=createHashMap(),s=this._fillSpecifiedTargetAxis(o);s?this._orient=a||this._makeAutoOrientByTargetAxis():(this._orient=a||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(l){l.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(a){var o=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(s){var l=this.getReferringComponents(getAxisMainType(s),MULTIPLE_REFERRING);if(l.specified){o=!0;var c=new DataZoomAxisInfo;each$f(l.models,function(u){c.add(u.componentIndex)}),a.set(s,c)}},this),o},n.prototype._fillAutoTargetAxisByOrient=function(a,o){var s=this.ecModel,l=!0;if(l){var c=o==="vertical"?"y":"x",u=s.findComponents({mainType:c+"Axis"});d(u,c)}if(l){var u=s.findComponents({mainType:"singleAxis",filter:function(v){return v.get("orient",!0)===o}});d(u,"single")}function d(f,v){var g=f[0];if(g){var y=new DataZoomAxisInfo;if(y.add(g.componentIndex),a.set(v,y),l=!1,v==="x"||v==="y"){var _=g.getReferringComponents("grid",SINGLE_REFERRING).models[0];_&&each$f(f,function(b){g.componentIndex!==b.componentIndex&&_===b.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&y.add(b.componentIndex)})}}}l&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(f){if(l){var v=s.findComponents({mainType:getAxisMainType(f),filter:function(y){return y.get("type",!0)==="category"}});if(v[0]){var g=new DataZoomAxisInfo;g.add(v[0].componentIndex),a.set(f,g),l=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(o){!a&&(a=o)},this),a==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(a){var o=this._rangePropMode,s=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(l,c){var u=a[l[0]]!=null,d=a[l[1]]!=null;u&&!d?o[c]="percent":!u&&d?o[c]="value":s?o[c]=s[c]:u&&(o[c]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(o,s){a==null&&(a=this.ecModel.getComponent(getAxisMainType(o),s))},this),a},n.prototype.eachTargetAxis=function(a,o){this._targetAxisInfoMap.each(function(s,l){each$f(s.indexList,function(c){a.call(o,l,c)})})},n.prototype.getAxisProxy=function(a,o){var s=this.getAxisModel(a,o);if(s)return s.__dzAxisProxy},n.prototype.getAxisModel=function(a,o){var s=this._targetAxisInfoMap.get(a);if(s&&s.indexMap[o])return this.ecModel.getComponent(getAxisMainType(a),o)},n.prototype.setRawRange=function(a){var o=this.option,s=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(l){(a[l[0]]!=null||a[l[1]]!=null)&&(o[l[0]]=s[l[0]]=a[l[0]],o[l[1]]=s[l[1]]=a[l[1]])},this),this._updateRangeUse(a)},n.prototype.setCalculatedRange=function(a){var o=this.option;each$f(["start","startValue","end","endValue"],function(s){o[s]=a[s]})},n.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},n.prototype.getValueRange=function(a,o){if(a==null&&o==null){var s=this.findRepresentativeAxisProxy();if(s)return s.getDataValueWindow()}else return this.getAxisProxy(a,o).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(a){if(a)return a.__dzAxisProxy;for(var o,s=this._targetAxisInfoMap.keys(),l=0;l<s.length;l++)for(var c=s[l],u=this._targetAxisInfoMap.get(c),d=0;d<u.indexList.length;d++){var f=this.getAxisProxy(c,u.indexList[d]);if(f.hostedBy(this))return f;o||(o=f)}return o},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel);function retrieveRawOption(r){var n={};return each$f(["start","end","startValue","endValue","throttle"],function(a){r.hasOwnProperty(a)&&(n[a]=r[a])}),n}var SelectDataZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.select",n}(DataZoomModel),DataZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s,l){this.dataZoomModel=a,this.ecModel=o,this.api=s},n.type="dataZoom",n}(ComponentView),SelectDataZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.select",n}(DataZoomView),each$7=each$f,asc$1=asc$2,AxisProxy=function(){function r(n,a,o,s){this._dimName=n,this._axisIndex=a,this.ecModel=s,this._dataZoomModel=o}return r.prototype.hostedBy=function(n){return this._dataZoomModel===n},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(a){if(isCoordSupported(a)){var o=getAxisMainType(this._dimName),s=a.getReferringComponents(o,SINGLE_REFERRING).models[0];s&&this._axisIndex===s.componentIndex&&n.push(a)}},this),n},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},r.prototype.calculateDataWindow=function(n){var a=this._dataExtent,o=this.getAxisModel(),s=o.axis.scale,l=this._dataZoomModel.getRangePropMode(),c=[0,100],u=[],d=[],f;each$7(["start","end"],function(y,_){var b=n[y],T=n[y+"Value"];l[_]==="percent"?(b==null&&(b=c[_]),T=s.parse(linearMap$2(b,c,a))):(f=!0,T=T==null?a[_]:s.parse(T),b=linearMap$2(T,a,c)),d[_]=T==null||isNaN(T)?a[_]:T,u[_]=b==null||isNaN(b)?c[_]:b}),asc$1(d),asc$1(u);var v=this._minMaxSpan;f?g(d,u,a,c,!1):g(u,d,c,a,!0);function g(y,_,b,T,C){var P=C?"Span":"ValueSpan";sliderMove(0,y,b,"all",v["min"+P],v["max"+P]);for(var E=0;E<2;E++)_[E]=linearMap$2(y[E],b,T,!0),C&&(_[E]=s.parse(_[E]))}return{valueWindow:d,percentWindow:u}},r.prototype.reset=function(n){if(n===this._dataZoomModel){var a=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,a),this._updateMinMaxSpan();var o=this.calculateDataWindow(n.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(n,a){if(n!==this._dataZoomModel)return;var o=this._dimName,s=this.getTargetSeriesModels(),l=n.get("filterMode"),c=this._valueWindow;if(l==="none")return;each$7(s,function(d){var f=d.getData(),v=f.mapDimensionsAll(o);if(v.length){if(l==="weakFilter"){var g=f.getStore(),y=map$1(v,function(_){return f.getDimensionIndex(_)},f);f.filterSelf(function(_){for(var b,T,C,P=0;P<v.length;P++){var E=g.get(y[P],_),M=!isNaN(E),I=E<c[0],L=E>c[1];if(M&&!I&&!L)return!0;M&&(C=!0),I&&(b=!0),L&&(T=!0)}return C&&b&&T})}else each$7(v,function(_){if(l==="empty")d.setData(f=f.map(_,function(T){return u(T)?T:NaN}));else{var b={};b[_]=c,f.selectRange(b)}});each$7(v,function(_){f.setApproximateExtent(c,_)})}});function u(d){return d>=c[0]&&d<=c[1]}},r.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},a=this._dataZoomModel,o=this._dataExtent;each$7(["min","max"],function(s){var l=a.get(s+"Span"),c=a.get(s+"ValueSpan");c!=null&&(c=this.getAxisModel().axis.scale.parse(c)),c!=null?l=linearMap$2(o[0]+c,o,[0,100],!0):l!=null&&(c=linearMap$2(l,[0,100],o,!0)-o[0]),n[s+"Span"]=l,n[s+"ValueSpan"]=c},this)},r.prototype._setAxisModel=function(){var n=this.getAxisModel(),a=this._percentWindow,o=this._valueWindow;if(a){var s=getPixelPrecision(o,[0,500]);s=Math.min(s,20);var l=n.axis.scale.rawExtentInfo;a[0]!==0&&l.setDeterminedMinMax("min",+o[0].toFixed(s)),a[1]!==100&&l.setDeterminedMinMax("max",+o[1].toFixed(s)),l.freeze()}},r}();function calculateDataExtent(r,n,a){var o=[1/0,-1/0];each$7(a,function(c){unionAxisExtentFromData(o,c.getData(),n)});var s=r.getAxisModel(),l=ensureScaleRawExtentInfo(s.axis.scale,s,o).calculate();return[l.min,l.max]}var dataZoomProcessor={getTargetSeries:function(r){function n(s){r.eachComponent("dataZoom",function(l){l.eachTargetAxis(function(c,u){var d=r.getComponent(getAxisMainType(c),u);s(c,u,d,l)})})}n(function(s,l,c,u){c.__dzAxisProxy=null});var a=[];n(function(s,l,c,u){c.__dzAxisProxy||(c.__dzAxisProxy=new AxisProxy(s,l,u,r),a.push(c.__dzAxisProxy))});var o=createHashMap();return each$f(a,function(s){each$f(s.getTargetSeriesModels(),function(l){o.set(l.uid,l)})}),o},overallReset:function(r,n){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){a.getAxisProxy(o,s).reset(a)}),a.eachTargetAxis(function(o,s){a.getAxisProxy(o,s).filterData(a,n)})}),r.eachComponent("dataZoom",function(a){var o=a.findRepresentativeAxisProxy();if(o){var s=o.getDataPercentWindow(),l=o.getDataValueWindow();a.setCalculatedRange({start:s[0],end:s[1],startValue:l[0],endValue:l[1]})}})}};function installDataZoomAction(r){r.registerAction("dataZoom",function(n,a){var o=findEffectedDataZooms(a,n);each$f(o,function(s){s.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$1=!1;function installCommon$1(r){installed$1||(installed$1=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor),installDataZoomAction(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(r){r.registerComponentModel(SelectDataZoomModel),r.registerComponentView(SelectDataZoomView),installCommon$1(r)}var ToolboxFeature=function(){function r(){}return r}(),features={};function registerFeature(r,n){features[r]=n}function getFeature(r){return features[r]}var ToolboxModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var a=this.ecModel;each$f(this.option.feature,function(o,s){var l=getFeature(s);l&&(l.getDefaultOption&&(l.defaultOption=l.getDefaultOption(a)),merge(o,l.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel);function layout(r,n,a){var o=n.getBoxLayoutParams(),s=n.get("padding"),l={width:a.getWidth(),height:a.getHeight()},c=getLayoutRect(o,l,s);box(n.get("orient"),r,n.get("itemGap"),c.width,c.height),positionElement(r,o,l,s)}function makeBackground(r,n){var a=normalizeCssArray(n.get("padding")),o=n.getItemStyle(["color","opacity"]);return o.fill=n.get("backgroundColor"),r=new Rect$2({shape:{x:r.x-a[3],y:r.y-a[0],width:r.width+a[1]+a[3],height:r.height+a[0]+a[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1}),r}var ToolboxView=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(a,o,s,l){var c=this.group;if(c.removeAll(),!a.get("show"))return;var u=+a.get("itemSize"),d=a.get("orient")==="vertical",f=a.get("feature")||{},v=this._features||(this._features={}),g=[];each$f(f,function(b,T){g.push(T)}),new DataDiffer(this._featureNames||[],g).add(y).update(y).remove(curry$1(y,null)).execute(),this._featureNames=g;function y(b,T){var C=g[b],P=g[T],E=f[C],M=new Model(E,a,a.ecModel),I;if(l&&l.newTitle!=null&&l.featureName===C&&(E.title=l.newTitle),C&&!P){if(isUserFeatureName(C))I={onclick:M.option.onclick,featureName:C};else{var L=getFeature(C);if(!L)return;I=new L}v[C]=I}else if(I=v[P],!I)return;I.uid=getUID("toolbox-feature"),I.model=M,I.ecModel=o,I.api=s;var N=I instanceof ToolboxFeature;if(!C&&P){N&&I.dispose&&I.dispose(o,s);return}if(!M.get("show")||N&&I.unusable){N&&I.remove&&I.remove(o,s);return}_(M,I,C),M.setIconStatus=function(V,B){var z=this.option,G=this.iconPaths;z.iconStatus=z.iconStatus||{},z.iconStatus[V]=B,G[V]&&(B==="emphasis"?enterEmphasis:leaveEmphasis)(G[V])},I instanceof ToolboxFeature&&I.render&&I.render(M,o,s,l)}function _(b,T,C){var P=b.getModel("iconStyle"),E=b.getModel(["emphasis","iconStyle"]),M=T instanceof ToolboxFeature&&T.getIcons?T.getIcons():b.get("icon"),I=b.get("title")||{},L,N;isString(M)?(L={},L[C]=M):L=M,isString(I)?(N={},N[C]=I):N=I;var V=b.iconPaths={};each$f(L,function(B,z){var G=createIcon(B,{},{x:-u/2,y:-u/2,width:u,height:u});G.setStyle(P.getItemStyle());var H=G.ensureState("emphasis");H.style=E.getItemStyle();var W=new ZRText({style:{text:N[z],align:E.get("textAlign"),borderRadius:E.get("textBorderRadius"),padding:E.get("textPadding"),fill:null,font:getFont({fontStyle:E.get("textFontStyle"),fontFamily:E.get("textFontFamily"),fontSize:E.get("textFontSize"),fontWeight:E.get("textFontWeight")},o)},ignore:!0});G.setTextContent(W),setTooltipConfig({el:G,componentModel:a,itemName:z,formatterParamsExtra:{title:N[z]}}),G.__title=N[z],G.on("mouseover",function(){var j=E.getItemStyle(),X=d?a.get("right")==null&&a.get("left")!=="right"?"right":"left":a.get("bottom")==null&&a.get("top")!=="bottom"?"bottom":"top";W.setStyle({fill:E.get("textFill")||j.fill||j.stroke||"#000",backgroundColor:E.get("textBackgroundColor")}),G.setTextConfig({position:E.get("textPosition")||X}),W.ignore=!a.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){b.get(["iconStatus",z])!=="emphasis"&&s.leaveEmphasis(this),W.hide()}),(b.get(["iconStatus",z])==="emphasis"?enterEmphasis:leaveEmphasis)(G),c.add(G),G.on("click",bind$1(T.onclick,T,o,s,z)),V[z]=G})}layout(c,a,s),c.add(makeBackground(c.getBoundingRect(),a)),d||c.eachChild(function(b){var T=b.__title,C=b.ensureState("emphasis"),P=C.textConfig||(C.textConfig={}),E=b.getTextContent(),M=E&&E.ensureState("emphasis");if(M&&!isFunction(M)&&T){var I=M.style||(M.style={}),L=getBoundingRect(T,ZRText.makeFont(I)),N=b.x+c.x,V=b.y+c.y+u,B=!1;V+L.height>s.getHeight()&&(P.position="top",B=!0);var z=B?-5-L.height:u+10;N+L.width/2>s.getWidth()?(P.position=["100%",z],I.align="right"):N-L.width/2<0&&(P.position=[0,z],I.align="left")}})},n.prototype.updateView=function(a,o,s,l){each$f(this._features,function(c){c instanceof ToolboxFeature&&c.updateView&&c.updateView(c.model,o,s,l)})},n.prototype.remove=function(a,o){each$f(this._features,function(s){s instanceof ToolboxFeature&&s.remove&&s.remove(a,o)}),this.group.removeAll()},n.prototype.dispose=function(a,o){each$f(this._features,function(s){s instanceof ToolboxFeature&&s.dispose&&s.dispose(a,o)})},n.type="toolbox",n}(ComponentView);function isUserFeatureName(r){return r.indexOf("my")===0}var SaveAsImage=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(a,o){var s=this.model,l=s.get("name")||a.get("title.0.text")||"echarts",c=o.getZr().painter.getType()==="svg",u=c?"svg":s.get("type",!0)||"png",d=o.getConnectedDataURL({type:u,backgroundColor:s.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),f=env.browser;if(typeof MouseEvent=="function"&&(f.newEdge||!f.ie&&!f.edge)){var v=document.createElement("a");v.download=l+"."+u,v.target="_blank",v.href=d;var g=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});v.dispatchEvent(g)}else if(window.navigator.msSaveOrOpenBlob||c){var y=d.split(","),_=y[0].indexOf("base64")>-1,b=c?decodeURIComponent(y[1]):y[1];_&&(b=window.atob(b));var T=l+"."+u;if(window.navigator.msSaveOrOpenBlob){for(var C=b.length,P=new Uint8Array(C);C--;)P[C]=b.charCodeAt(C);var E=new Blob([P]);window.navigator.msSaveOrOpenBlob(E,T)}else{var M=document.createElement("iframe");document.body.appendChild(M);var I=M.contentWindow,L=I.document;L.open("image/svg+xml","replace"),L.write(b),L.close(),I.focus(),L.execCommand("SaveAs",!0,T),document.body.removeChild(M)}}else{var N=s.get("lang"),V='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(N&&N[0]||"")+'" /></body>',B=window.open();B.document.write(V),B.document.title=l}},n.getDefaultOption=function(a){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},n}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getIcons=function(){var a=this.model,o=a.get("icon"),s={};return each$f(a.get("type"),function(l){o[l]&&(s[l]=o[l])}),s},n.getDefaultOption=function(a){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},n.prototype.onclick=function(a,o,s){var l=this.model,c=l.get(["seriesIndex",s]);if(seriesOptGenreator[s]){var u={series:[]},d=function(g){var y=g.subType,_=g.id,b=seriesOptGenreator[s](y,_,g,l);b&&(defaults(b,g.option),u.series.push(b));var T=g.coordinateSystem;if(T&&T.type==="cartesian2d"&&(s==="line"||s==="bar")){var C=T.getAxesByScale("ordinal")[0];if(C){var P=C.dim,E=P+"Axis",M=g.getReferringComponents(E,SINGLE_REFERRING).models[0],I=M.componentIndex;u[E]=u[E]||[];for(var L=0;L<=I;L++)u[E][I]=u[E][I]||{};u[E][I].boundaryGap=s==="bar"}}};each$f(radioTypes,function(g){indexOf(g,s)>=0&&each$f(g,function(y){l.setIconStatus(y,"normal")})}),l.setIconStatus(s,"emphasis"),a.eachComponent({mainType:"series",query:c==null?null:{seriesIndex:c}},d);var f,v=s;s==="stack"&&(f=merge({stack:l.option.title.tiled,tiled:l.option.title.stack},l.option.title),l.get(["iconStatus",s])!=="emphasis"&&(v="tiled")),o.dispatchAction({type:"changeMagicType",currentType:v,newOption:u,newTitle:f,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(r,n,a,o){if(r==="bar")return merge({id:n,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(r,n,a,o){if(r==="line")return merge({id:n,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(r,n,a,o){var s=a.get("stack")===INNER_STACK_KEYWORD;if(r==="line"||r==="bar")return o.setIconStatus("stack",s?"normal":"emphasis"),merge({id:n,stack:s?"":INNER_STACK_KEYWORD},o.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,n){n.mergeOption(r.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(r){var n={},a=[],o=[];return r.eachRawSeries(function(s){var l=s.coordinateSystem;if(l&&(l.type==="cartesian2d"||l.type==="polar")){var c=l.getBaseAxis();if(c.type==="category"){var u=c.dim+"_"+c.index;n[u]||(n[u]={categoryAxis:c,valueAxis:l.getOtherAxis(c),series:[]},o.push({axisDim:c.dim,axisIndex:c.index})),n[u].series.push(s)}else a.push(s)}else a.push(s)}),{seriesGroupByCategoryAxis:n,other:a,meta:o}}function assembleSeriesWithCategoryAxis(r){var n=[];return each$f(r,function(a,o){var s=a.categoryAxis,l=a.valueAxis,c=l.dim,u=[" "].concat(map$1(a.series,function(_){return _.name})),d=[s.model.getCategories()];each$f(a.series,function(_){var b=_.getRawData();d.push(_.getRawData().mapArray(b.mapDimension(c),function(T){return T}))});for(var f=[u.join(ITEM_SPLITER)],v=0;v<d[0].length;v++){for(var g=[],y=0;y<d.length;y++)g.push(d[y][v]);f.push(g.join(ITEM_SPLITER))}n.push(f.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(r){return map$1(r,function(n){var a=n.getRawData(),o=[n.name],s=[];return a.each(a.dimensions,function(){for(var l=arguments.length,c=arguments[l-1],u=a.getName(c),d=0;d<l-1;d++)s[d]=arguments[d];o.push((u?u+ITEM_SPLITER:"")+s.join(ITEM_SPLITER))}),o.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(r){var n=groupSeries(r);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(a){return!!a.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(r){var n=r.slice(0,r.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(r){for(var n=r.split(/\n+/g),a=trim(n.shift()).split(itemSplitRegex),o=[],s=map$1(a,function(d){return{name:d,data:[]}}),l=0;l<n.length;l++){var c=trim(n[l]).split(itemSplitRegex);o.push(c.shift());for(var u=0;u<c.length;u++)s[u]&&(s[u].data[l]=c[u])}return{series:s,categories:o}}function parseListContents(r){for(var n=r.split(/\n+/g),a=trim(n.shift()),o=[],s=0;s<n.length;s++){var l=trim(n[s]);if(l){var c=l.split(itemSplitRegex),u="",d=void 0,f=!1;isNaN(c[0])?(f=!0,u=c[0],c=c.slice(1),o[s]={name:u,value:[]},d=o[s].value):d=o[s]=[];for(var v=0;v<c.length;v++)d.push(+c[v]);d.length===1&&(f?o[s].value=d[0]:o[s]=d[0])}}return{name:a,data:o}}function parseContents(r,n){var a=r.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),o={series:[]};return each$f(a,function(s,l){if(isTSVFormat(s)){var c=parseTSVContents(s),u=n[l],d=u.axisDim+"Axis";u&&(o[d]=o[d]||[],o[d][u.axisIndex]={data:c.categories},o.series=o.series.concat(c.series))}else{var c=parseListContents(s);o.series.push(c)}}),o}var DataView=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(a,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var s=o.getDom(),l=this.model;this._dom&&s.removeChild(this._dom);var c=document.createElement("div");c.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",c.style.backgroundColor=l.get("backgroundColor")||"#fff";var u=document.createElement("h4"),d=l.get("lang")||[];u.innerHTML=d[0]||l.get("title"),u.style.cssText="margin:10px 20px",u.style.color=l.get("textColor");var f=document.createElement("div"),v=document.createElement("textarea");f.style.cssText="overflow:auto";var g=l.get("optionToContent"),y=l.get("contentToOption"),_=getContentFromModel(a);if(isFunction(g)){var b=g(o.getOption());isString(b)?f.innerHTML=b:isDom(b)&&f.appendChild(b)}else{v.readOnly=l.get("readOnly");var T=v.style;T.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",T.color=l.get("textColor"),T.borderColor=l.get("textareaBorderColor"),T.backgroundColor=l.get("textareaColor"),v.value=_.value,f.appendChild(v)}var C=_.meta,P=document.createElement("div");P.style.cssText="position:absolute;bottom:5px;left:0;right:0";var E="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),I=document.createElement("div");E+=";background-color:"+l.get("buttonColor"),E+=";color:"+l.get("buttonTextColor");var L=this;function N(){s.removeChild(c),L._dom=null}addEventListener(M,"click",N),addEventListener(I,"click",function(){if(y==null&&g!=null||y!=null&&g==null){N();return}var V;try{isFunction(y)?V=y(f,o.getOption()):V=parseContents(v.value,C)}catch(B){throw N(),new Error("Data view format error "+B)}V&&o.dispatchAction({type:"changeDataView",newOption:V}),N()}),M.innerHTML=d[1],I.innerHTML=d[2],I.style.cssText=M.style.cssText=E,!l.get("readOnly")&&P.appendChild(I),P.appendChild(M),c.appendChild(u),c.appendChild(f),c.appendChild(P),f.style.height=s.clientHeight-80+"px",s.appendChild(c),this._dom=c},n.prototype.remove=function(a,o){this._dom&&o.getDom().removeChild(this._dom)},n.prototype.dispose=function(a,o){this.remove(a,o)},n.getDefaultOption=function(a){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return o},n}(ToolboxFeature);function tryMergeDataOption(r,n){return map$1(r,function(a,o){var s=n&&n[o];if(isObject$3(s)&&!isArray$1(s)){var l=isObject$3(a)&&!isArray$1(a);l||(a={value:a});var c=s.name!=null&&a.name==null;return a=defaults(a,s),c&&delete a.name,a}else return a})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,n){var a=[];each$f(r.newOption.series,function(o){var s=n.getSeriesByName(o.name)[0];if(!s)a.push(extend({type:"scatter"},o));else{var l=s.get("data");a.push({name:o.name,data:tryMergeDataOption(o.data,l)})}}),n.mergeOption(defaults({series:a},r.newOption))});var each$6=each$f,inner$6=makeInner();function push(r,n){var a=getStoreSnapshots(r);each$6(n,function(o,s){for(var l=a.length-1;l>=0;l--){var c=a[l];if(c[s])break}if(l<0){var u=r.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(u){var d=u.getPercentRange();a[0][s]={dataZoomId:s,start:d[0],end:d[1]}}}}),a.push(n)}function pop(r){var n=getStoreSnapshots(r),a=n[n.length-1];n.length>1&&n.pop();var o={};return each$6(a,function(s,l){for(var c=n.length-1;c>=0;c--)if(s=n[c][l],s){o[l]=s;break}}),o}function clear(r){inner$6(r).snapshots=null}function count(r){return getStoreSnapshots(r).length}function getStoreSnapshots(r){var n=inner$6(r);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(a,o){clear(a),o.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(a){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])};return o},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,n){n.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function r(n,a,o){var s=this;this._targetInfoList=[];var l=parseFinder(a,n);each$f(targetInfoBuilders,function(c,u){(!o||!o.include||indexOf(o.include,u)>=0)&&c(l,s._targetInfoList)})}return r.prototype.setOutputRanges=function(n,a){return this.matchOutputRanges(n,a,function(o,s,l){if((o.coordRanges||(o.coordRanges=[])).push(s),!o.coordRange){o.coordRange=s;var c=coordConvert[o.brushType](0,l,s);o.__rangeOffset={offset:diffProcessor[o.brushType](c.values,o.range,[1,1]),xyMinMax:c.xyMinMax}}}),n},r.prototype.matchOutputRanges=function(n,a,o){each$f(n,function(s){var l=this.findTargetInfo(s,a);l&&l!==!0&&each$f(l.coordSyses,function(c){var u=coordConvert[s.brushType](1,c,s.range,!0);o(s,u.values,c,a)})},this)},r.prototype.setInputRanges=function(n,a){each$f(n,function(o){var s=this.findTargetInfo(o,a);if(o.range=o.range||[],s&&s!==!0){o.panelId=s.panelId;var l=coordConvert[o.brushType](0,s.coordSys,o.coordRange),c=o.__rangeOffset;o.range=c?diffProcessor[o.brushType](l.values,c.offset,getScales(l.xyMinMax,c.xyMinMax)):l.values}},this)},r.prototype.makePanelOpts=function(n,a){return map$1(this._targetInfoList,function(o){var s=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:a?a(o):null,clipPath:makeRectPanelClipPath(s),isTargetByCursor:makeRectIsTargetByCursor(s,n,o.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(s)}})},r.prototype.controlSeries=function(n,a,o){var s=this.findTargetInfo(n,o);return s===!0||s&&indexOf(s.coordSyses,a.coordinateSystem)>=0},r.prototype.findTargetInfo=function(n,a){for(var o=this._targetInfoList,s=parseFinder(a,n),l=0;l<o.length;l++){var c=o[l],u=n.panelId;if(u){if(c.panelId===u)return c}else for(var d=0;d<targetInfoMatchers.length;d++)if(targetInfoMatchers[d](s,c))return c}return!0},r}();function formatMinMax(r){return r[0]>r[1]&&r.reverse(),r}function parseFinder(r,n){return parseFinder$1(r,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(r,n){var a=r.xAxisModels,o=r.yAxisModels,s=r.gridModels,l=createHashMap(),c={},u={};!a&&!o&&!s||(each$f(a,function(d){var f=d.axis.grid.model;l.set(f.id,f),c[f.id]=!0}),each$f(o,function(d){var f=d.axis.grid.model;l.set(f.id,f),u[f.id]=!0}),each$f(s,function(d){l.set(d.id,d),c[d.id]=!0,u[d.id]=!0}),l.each(function(d){var f=d.coordinateSystem,v=[];each$f(f.getCartesians(),function(g,y){(indexOf(a,g.getAxis("x").model)>=0||indexOf(o,g.getAxis("y").model)>=0)&&v.push(g)}),n.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:v[0],coordSyses:v,getPanelRect:panelRectBuilders.grid,xAxisDeclared:c[d.id],yAxisDeclared:u[d.id]})}))},geo:function(r,n){each$f(r.geoModels,function(a){var o=a.coordinateSystem;n.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:o,coordSyses:[o],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(r,n){var a=r.xAxisModel,o=r.yAxisModel,s=r.gridModel;return!s&&a&&(s=a.axis.grid.model),!s&&o&&(s=o.axis.grid.model),s&&s===n.gridModel},function(r,n){var a=r.geoModel;return a&&a===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,n=r.getBoundingRect().clone();return n.applyTransform(getTransform$1(r)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(r,n,a,o){var s=r?n.pointToData([a[0][0],a[1][0]],o):n.dataToPoint([a[0][0],a[1][0]],o),l=r?n.pointToData([a[0][1],a[1][1]],o):n.dataToPoint([a[0][1],a[1][1]],o),c=[formatMinMax([s[0],l[0]]),formatMinMax([s[1],l[1]])];return{values:c,xyMinMax:c}},polygon:function(r,n,a,o){var s=[[1/0,-1/0],[1/0,-1/0]],l=map$1(a,function(c){var u=r?n.pointToData(c,o):n.dataToPoint(c,o);return s[0][0]=Math.min(s[0][0],u[0]),s[1][0]=Math.min(s[1][0],u[1]),s[0][1]=Math.max(s[0][1],u[0]),s[1][1]=Math.max(s[1][1],u[1]),u});return{values:l,xyMinMax:s}}};function axisConvert(r,n,a,o){var s=a.getAxis(["x","y"][r]),l=formatMinMax(map$1([0,1],function(u){return n?s.coordToData(s.toLocalCoord(o[u]),!0):s.toGlobalCoord(s.dataToCoord(o[u]))})),c=[];return c[r]=l,c[1-r]=[NaN,NaN],{values:l,xyMinMax:c}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(r,n,a){return[[r[0][0]-a[0]*n[0][0],r[0][1]-a[0]*n[0][1]],[r[1][0]-a[1]*n[1][0],r[1][1]-a[1]*n[1][1]]]},polygon:function(r,n,a){return map$1(r,function(o,s){return[o[0]-a[0]*n[s][0],o[1]-a[1]*n[s][1]]})}};function axisDiffProcessor(r,n,a,o){return[n[0]-o[r]*a[0],n[1]-o[r]*a[1]]}function getScales(r,n){var a=getSize(r),o=getSize(n),s=[a[0]/o[0],a[1]/o[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}function getSize(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(a,o,s,l){this._brushController||(this._brushController=new BrushController(s.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(a,o,this,l,s),updateBackBtnStatus(a,o)},n.prototype.onclick=function(a,o,s){handlers[s].call(this)},n.prototype.remove=function(a,o){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(a,o){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(a){var o=a.areas;if(!a.isEnd||!o.length)return;var s={},l=this.ecModel;this._brushController.updateCovers([]);var c=new BrushTargetManager(makeAxisFinder(this.model),l,{include:["grid"]});c.matchOutputRanges(o,l,function(f,v,g){if(g.type==="cartesian2d"){var y=f.brushType;y==="rect"?(u("x",g,v[0]),u("y",g,v[1])):u({lineX:"x",lineY:"y"}[y],g,v)}}),push(l,s),this._dispatchZoomAction(s);function u(f,v,g){var y=v.getAxis(f),_=y.model,b=d(f,_,l),T=b.findRepresentativeAxisProxy(_).getMinMaxSpan();(T.minValueSpan!=null||T.maxValueSpan!=null)&&(g=sliderMove(0,g.slice(),y.scale.getExtent(),0,T.minValueSpan,T.maxValueSpan)),b&&(s[b.id]={dataZoomId:b.id,startValue:g[0],endValue:g[1]})}function d(f,v,g){var y;return g.eachComponent({mainType:"dataZoom",subType:"select"},function(_){var b=_.getAxisModel(f,v.componentIndex);b&&(y=_)}),y}},n.prototype._dispatchZoomAction=function(a){var o=[];each$5(a,function(s,l){o.push(clone$4(s))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},n.getDefaultOption=function(a){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return o},n}(ToolboxFeature),handlers={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(r){var n={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(r,n){r.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(r,n,a,o,s){var l=a._isZoomActive;o&&o.type==="takeGlobalCursor"&&(l=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),a._isZoomActive=l,r.setIconStatus("zoom",l?"emphasis":"normal");var c=new BrushTargetManager(makeAxisFinder(r),n,{include:["grid"]}),u=c.makePanelOpts(s,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});a._brushController.setPanels(u).enableBrush(l&&u.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(r){var n=r.getComponent("toolbox",0),a=["feature","dataZoom"];if(!n||n.get(a)==null)return;var o=n.getModel(a),s=[],l=makeAxisFinder(o),c=parseFinder$1(r,l);each$5(c.xAxisModels,function(d){return u(d,"xAxis","xAxisIndex")}),each$5(c.yAxisModels,function(d){return u(d,"yAxis","yAxisIndex")});function u(d,f,v){var g=d.componentIndex,y={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+f+g};y[v]=g,s.push(y)}return s});function install$j(r){r.registerComponentModel(ToolboxModel),r.registerComponentView(ToolboxView),registerFeature("saveAsImage",SaveAsImage),registerFeature("magicType",MagicType),registerFeature("dataView",DataView),registerFeature("dataZoom",DataZoomFeature),registerFeature("restore",RestoreOption),use(install$k)}var TooltipModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel);function shouldTooltipConfine(r){var n=r.get("confine");return n!=null?!!n:r.get("renderMode")==="richText"}function testStyle(r){if(env.domSupported){for(var n=document.documentElement.style,a=0,o=r.length;a<o;a++)if(r[a]in n)return r[a]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,n){if(!r)return n;n=toCamelCase(n,!0);var a=r.indexOf(n);return r=a===-1?n:"-"+r.slice(0,a)+"-"+n,r.toLowerCase()}function getComputedStyle(r,n){var a=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return a?a[n]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,n,a){if(!isString(a)||a==="inside")return"";var o=r.get("backgroundColor"),s=r.get("borderWidth");n=convertToColorString(n);var l=mirrorPos(a),c=Math.max(Math.round(s)*1.5,6),u="",d=CSS_TRANSFORM_VENDOR+":",f;indexOf(["left","right"],l)>-1?(u+="top:50%",d+="translateY(-50%) rotate("+(f=l==="left"?-225:-45)+"deg)"):(u+="left:50%",d+="translateX(-50%) rotate("+(f=l==="top"?225:45)+"deg)");var v=f*Math.PI/180,g=c+s,y=g*Math.abs(Math.cos(v))+g*Math.abs(Math.sin(v)),_=Math.round(((y-Math.SQRT2*s)/2+Math.SQRT2*s-(y-g)/2)*100)/100;u+=";"+l+":-"+_+"px";var b=n+" solid "+s+"px;",T=["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",u+";"+d+";","border-bottom:"+b,"border-right:"+b,"background-color:"+o+";"];return'<div style="'+T.join("")+'"></div>'}function assembleTransition(r,n){var a="cubic-bezier(0.23,1,0.32,1)",o=" "+r/2+"s "+a,s="opacity"+o+",visibility"+o;return n||(o=" "+r+"s "+a,s+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+s}function assembleTransform(r,n,a){var o=r.toFixed(0)+"px",s=n.toFixed(0)+"px";if(!env.transformSupported)return a?"top:"+s+";left:"+o+";":[["top",s],["left",o]];var l=env.transform3dSupported,c="translate"+(l?"3d":"")+"("+o+","+s+(l?",0":"")+")";return a?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+c+";":[["top",0],["left",0],[TRANSFORM_VENDOR,c]]}function assembleFont(r){var n=[],a=r.get("fontSize"),o=r.getTextColor();o&&n.push("color:"+o),n.push("font:"+r.getFont());var s=retrieve2(r.get("lineHeight"),Math.round(a*3/2));a&&n.push("line-height:"+s+"px");var l=r.get("textShadowColor"),c=r.get("textShadowBlur")||0,u=r.get("textShadowOffsetX")||0,d=r.get("textShadowOffsetY")||0;return l&&c&&n.push("text-shadow:"+u+"px "+d+"px "+c+"px "+l),each$f(["decoration","align"],function(f){var v=r.get(f);v&&n.push("text-"+f+":"+v)}),n.join(";")}function assembleCssText(r,n,a){var o=[],s=r.get("transitionDuration"),l=r.get("backgroundColor"),c=r.get("shadowBlur"),u=r.get("shadowColor"),d=r.get("shadowOffsetX"),f=r.get("shadowOffsetY"),v=r.getModel("textStyle"),g=getPaddingFromTooltipModel(r,"html"),y=d+"px "+f+"px "+c+"px "+u;return o.push("box-shadow:"+y),n&&s&&o.push(assembleTransition(s,a)),l&&o.push("background-color:"+l),each$f(["width","color","radius"],function(_){var b="border-"+_,T=toCamelCase(b),C=r.get(T);C!=null&&o.push(b+":"+C+(_==="color"?"":"px"))}),o.push(assembleFont(v)),g!=null&&o.push("padding:"+normalizeCssArray(g).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(r,n,a,o,s){var l=n&&n.painter;if(a){var c=l&&l.getViewportRoot();c&&transformLocalCoord(r,c,a,o,s)}else{r[0]=o,r[1]=s;var u=l&&l.getViewportRootOffset();u&&(r[0]+=u.offsetLeft,r[1]+=u.offsetTop)}r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var TooltipHTMLContent=function(){function r(n,a){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var s=this._zr=n.getZr(),l=a.appendTo,c=l&&(isString(l)?document.querySelector(l):isDom(l)?l:isFunction(l)&&l(n.getDom()));makeStyleCoord$1(this._styleCoord,s,c,n.getWidth()/2,n.getHeight()/2),(c||n.getDom()).appendChild(o),this._api=n,this._container=c;var u=this;o.onmouseenter=function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0},o.onmousemove=function(d){if(d=d||window.event,!u._enterable){var f=s.handler,v=s.painter.getViewportRoot();normalizeEvent(v,d,!0),f.dispatch("mousemove",d)}},o.onmouseleave=function(){u._inContent=!1,u._enterable&&u._show&&u.hideLater(u._hideDelay)}}return r.prototype.update=function(n){if(!this._container){var a=this._api.getDom(),o=getComputedStyle(a,"position"),s=a.style;s.position!=="absolute"&&o!=="absolute"&&(s.position="relative")}var l=n.get("alwaysShowContent");l&&this._moveIfResized(),this._alwaysShowContent=l,this.el.className=n.get("className")||""},r.prototype.show=function(n,a){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,s=o.style,l=this._styleCoord;o.innerHTML?s.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(l[0],l[1],!0)+("border-color:"+convertToColorString(a)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(n,a,o,s,l){var c=this.el;if(n==null){c.innerHTML="";return}var u="";if(isString(l)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(u=assembleArrow(o,s,l)),isString(n))c.innerHTML=n+u;else if(n){c.innerHTML="",isArray$1(n)||(n=[n]);for(var d=0;d<n.length;d++)isDom(n[d])&&n[d].parentNode!==c&&c.appendChild(n[d]);if(u&&c.childNodes.length){var f=document.createElement("div");f.innerHTML=u,c.appendChild(f)}}},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el;return n?[n.offsetWidth,n.offsetHeight]:[0,0]},r.prototype.moveTo=function(n,a){if(this.el){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._container,n,a),o[0]!=null&&o[1]!=null){var s=this.el.style,l=assembleTransform(o[0],o[1]);each$f(l,function(c){s[c[0]]=c[1]})}}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],a=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),a*this._zr.getHeight())},r.prototype.hide=function(){var n=this,a=this.el.style;a.visibility="hidden",a.opacity="0",env.transform3dSupported&&(a.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el.parentNode;n&&n.removeChild(this.el),this.el=this._container=null},r}(),TooltipRichContent=function(){function r(n){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return r.prototype.update=function(n){var a=n.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(n,a,o,s,l){var c=this;isObject$3(n)&&throwError(""),this.el&&this._zr.remove(this.el);var u=o.getModel("textStyle");this.el=new ZRText({style:{rich:a.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:u.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){c.el.style[f]=o.get(f)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){c.el.style[f]=u.get(f)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el,a=this.el.getBoundingRect(),o=calcShadowOuterSize(n.style);return[a.width+o.left+o.right,a.height+o.top+o.bottom]},r.prototype.moveTo=function(n,a){var o=this.el;if(o){var s=this._styleCoord;makeStyleCoord(s,this._zr,n,a),n=s[0],a=s[1];var l=o.style,c=mathMaxWith0(l.borderWidth||0),u=calcShadowOuterSize(l);o.x=n+c+u.left,o.y=a+c+u.top,o.markRedraw()}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],a=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),a*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var n=mathMaxWith0(r.shadowBlur||0),a=mathMaxWith0(r.shadowOffsetX||0),o=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(n-a),right:mathMaxWith0(n+a),top:mathMaxWith0(n-o),bottom:mathMaxWith0(n+o)}}function makeStyleCoord(r,n,a,o){r[0]=a,r[1]=o,r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){if(!(env.node||!o.getDom())){var s=a.getComponent("tooltip"),l=this._renderMode=getTooltipRenderMode(s.get("renderMode"));this._tooltipContent=l==="richText"?new TooltipRichContent(o):new TooltipHTMLContent(o,{appendTo:s.get("appendToBody",!0)?"body":s.get("appendTo",!0)})}},n.prototype.render=function(a,o,s){if(!(env.node||!s.getDom())){this.group.removeAll(),this._tooltipModel=a,this._ecModel=o,this._api=s;var l=this._tooltipContent;l.update(a),l.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&a.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var a=this._tooltipModel,o=a.get("triggerOn");register$1("itemTooltip",this._api,bind$1(function(s,l,c){o!=="none"&&(o.indexOf(s)>=0?this._tryShow(l,c):s==="leave"&&this._hide(c))},this))},n.prototype._keepShow=function(){var a=this._tooltipModel,o=this._ecModel,s=this._api,l=a.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&l!=="none"&&l!=="click"){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&c.manuallyShowTip(a,o,s,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(a,o,s,l){if(!(l.from===this.uid||env.node||!s.getDom())){var c=makeDispatchAction(l,s);this._ticket="";var u=l.dataByCoordSys,d=findComponentReference(l,o,s);if(d){var f=d.el.getBoundingRect().clone();f.applyTransform(d.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:d.el,position:l.position,positionDefault:"bottom"},c)}else if(l.tooltip&&l.x!=null&&l.y!=null){var v=proxyRect;v.x=l.x,v.y=l.y,v.update(),getECData(v).tooltipConfig={name:null,option:l.tooltip},this._tryShow({offsetX:l.x,offsetY:l.y,target:v},c)}else if(u)this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,dataByCoordSys:u,tooltipOption:l.tooltipOption},c);else if(l.seriesIndex!=null){if(this._manuallyAxisShowTip(a,o,s,l))return;var g=findPointFromSeries(l,o),y=g.point[0],_=g.point[1];y!=null&&_!=null&&this._tryShow({offsetX:y,offsetY:_,target:g.el,position:l.position,positionDefault:"bottom"},c)}else l.x!=null&&l.y!=null&&(s.dispatchAction({type:"updateAxisPointer",x:l.x,y:l.y}),this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,target:s.getZr().findHover(l.x,l.y).target},c))}},n.prototype.manuallyHideTip=function(a,o,s,l){var c=this._tooltipContent;this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,l.from!==this.uid&&this._hide(makeDispatchAction(l,s))},n.prototype._manuallyAxisShowTip=function(a,o,s,l){var c=l.seriesIndex,u=l.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(c==null||u==null||d==null)){var f=o.getSeriesByIndex(c);if(f){var v=f.getData(),g=buildTooltipModel([v.getItemModel(u),f,(f.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return s.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:u,position:l.position}),!0}}},n.prototype._tryShow=function(a,o){var s=a.target,l=this._tooltipModel;if(l){this._lastX=a.offsetX,this._lastY=a.offsetY;var c=a.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,a);else if(s){var u=getECData(s);if(u.ssrType==="legend")return;this._lastDataByCoordSys=null;var d,f;findEventDispatcher(s,function(v){if(getECData(v).dataIndex!=null)return d=v,!0;if(getECData(v).tooltipConfig!=null)return f=v,!0},!0),d?this._showSeriesItemTooltip(a,d,o):f?this._showComponentItemTooltip(a,f,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},n.prototype._showOrMove=function(a,o){var s=a.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(o,s):o()},n.prototype._showAxisTooltip=function(a,o){var s=this._ecModel,l=this._tooltipModel,c=[o.offsetX,o.offsetY],u=buildTooltipModel([o.tooltipOption],l),d=this._renderMode,f=[],v=createTooltipMarkup("section",{blocks:[],noHeader:!0}),g=[],y=new TooltipMarkupStyleCreator;each$f(a,function(E){each$f(E.dataByAxis,function(M){var I=s.getComponent(M.axisDim+"Axis",M.axisIndex),L=M.value;if(!(!I||L==null)){var N=getValueLabel(L,I.axis,s,M.seriesDataIndices,M.valueLabelOpt),V=createTooltipMarkup("section",{header:N,noHeader:!trim$1(N),sortBlocks:!0,blocks:[]});v.blocks.push(V),each$f(M.seriesDataIndices,function(B){var z=s.getSeriesByIndex(B.seriesIndex),G=B.dataIndexInside,H=z.getDataParams(G);if(!(H.dataIndex<0)){H.axisDim=M.axisDim,H.axisIndex=M.axisIndex,H.axisType=M.axisType,H.axisId=M.axisId,H.axisValue=getAxisRawValue(I.axis,{value:L}),H.axisValueLabel=N,H.marker=y.makeTooltipMarker("item",convertToColorString(H.color),d);var W=normalizeTooltipFormatResult(z.formatTooltip(G,!0,null)),j=W.frag;if(j){var X=buildTooltipModel([z],l).get("valueFormatter");V.blocks.push(X?extend({valueFormatter:X},j):j)}W.text&&g.push(W.text),f.push(H)}})}})}),v.blocks.reverse(),g.reverse();var _=o.position,b=u.get("order"),T=buildTooltipMarkup(v,y,d,b,s.get("useUTC"),u.get("textStyle"));T&&g.unshift(T);var C=d==="richText"?`

`:"<br/>",P=g.join(C);this._showOrMove(u,function(){this._updateContentNotChangedOnAxis(a,f)?this._updatePosition(u,_,c[0],c[1],this._tooltipContent,f):this._showTooltipContent(u,P,f,Math.random()+"",c[0],c[1],_,null,y)})},n.prototype._showSeriesItemTooltip=function(a,o,s){var l=this._ecModel,c=getECData(o),u=c.seriesIndex,d=l.getSeriesByIndex(u),f=c.dataModel||d,v=c.dataIndex,g=c.dataType,y=f.getData(g),_=this._renderMode,b=a.positionDefault,T=buildTooltipModel([y.getItemModel(v),f,d&&(d.coordinateSystem||{}).model],this._tooltipModel,b?{position:b}:null),C=T.get("trigger");if(!(C!=null&&C!=="item")){var P=f.getDataParams(v,g),E=new TooltipMarkupStyleCreator;P.marker=E.makeTooltipMarker("item",convertToColorString(P.color),_);var M=normalizeTooltipFormatResult(f.formatTooltip(v,!1,g)),I=T.get("order"),L=T.get("valueFormatter"),N=M.frag,V=N?buildTooltipMarkup(L?extend({valueFormatter:L},N):N,E,_,I,l.get("useUTC"),T.get("textStyle")):M.text,B="item_"+f.name+"_"+v;this._showOrMove(T,function(){this._showTooltipContent(T,V,P,B,a.offsetX,a.offsetY,a.position,a.target,E)}),s({type:"showTip",dataIndexInside:v,dataIndex:y.getRawIndex(v),seriesIndex:u,from:this.uid})}},n.prototype._showComponentItemTooltip=function(a,o,s){var l=this._renderMode==="html",c=getECData(o),u=c.tooltipConfig,d=u.option||{},f=d.encodeHTMLContent;if(isString(d)){var v=d;d={content:v,formatter:v},f=!0}f&&l&&d.content&&(d=clone$4(d),d.content=encodeHTML(d.content));var g=[d],y=this._ecModel.getComponent(c.componentMainType,c.componentIndex);y&&g.push(y),g.push({formatter:d.content});var _=a.positionDefault,b=buildTooltipModel(g,this._tooltipModel,_?{position:_}:null),T=b.get("content"),C=Math.random()+"",P=new TooltipMarkupStyleCreator;this._showOrMove(b,function(){var E=clone$4(b.get("formatterParams")||{});this._showTooltipContent(b,T,E,C,a.offsetX,a.offsetY,a.position,o,P)}),s({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(a,o,s,l,c,u,d,f,v){if(this._ticket="",!(!a.get("showContent")||!a.get("show"))){var g=this._tooltipContent;g.setEnterable(a.get("enterable"));var y=a.get("formatter");d=d||a.get("position");var _=o,b=this._getNearestPoint([c,u],s,a.get("trigger"),a.get("borderColor")),T=b.color;if(y)if(isString(y)){var C=a.ecModel.get("useUTC"),P=isArray$1(s)?s[0]:s,E=P&&P.axisType&&P.axisType.indexOf("time")>=0;_=y,E&&(_=format(P.axisValue,_,C)),_=formatTpl(_,s,!0)}else if(isFunction(y)){var M=bind$1(function(I,L){I===this._ticket&&(g.setContent(L,v,a,T,d),this._updatePosition(a,d,c,u,g,s,f))},this);this._ticket=l,_=y(s,l,M)}else _=y;g.setContent(_,v,a,T,d),g.show(a,T),this._updatePosition(a,d,c,u,g,s,f)}},n.prototype._getNearestPoint=function(a,o,s,l){if(s==="axis"||isArray$1(o))return{color:l||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(o))return{color:l||o.color||o.borderColor}},n.prototype._updatePosition=function(a,o,s,l,c,u,d){var f=this._api.getWidth(),v=this._api.getHeight();o=o||a.get("position");var g=c.getSize(),y=a.get("align"),_=a.get("verticalAlign"),b=d&&d.getBoundingRect().clone();if(d&&b.applyTransform(d.transform),isFunction(o)&&(o=o([s,l],u,c.el,b,{viewSize:[f,v],contentSize:g.slice()})),isArray$1(o))s=parsePercent(o[0],f),l=parsePercent(o[1],v);else if(isObject$3(o)){var T=o;T.width=g[0],T.height=g[1];var C=getLayoutRect(T,{width:f,height:v});s=C.x,l=C.y,y=null,_=null}else if(isString(o)&&d){var P=calcTooltipPosition(o,b,g,a.get("borderWidth"));s=P[0],l=P[1]}else{var P=refixTooltipPosition(s,l,c,f,v,y?null:20,_?null:20);s=P[0],l=P[1]}if(y&&(s-=isCenterAlign(y)?g[0]/2:y==="right"?g[0]:0),_&&(l-=isCenterAlign(_)?g[1]/2:_==="bottom"?g[1]:0),shouldTooltipConfine(a)){var P=confineTooltipPosition(s,l,c,f,v);s=P[0],l=P[1]}c.moveTo(s,l)},n.prototype._updateContentNotChangedOnAxis=function(a,o){var s=this._lastDataByCoordSys,l=this._cbParamsList,c=!!s&&s.length===a.length;return c&&each$f(s,function(u,d){var f=u.dataByAxis||[],v=a[d]||{},g=v.dataByAxis||[];c=c&&f.length===g.length,c&&each$f(f,function(y,_){var b=g[_]||{},T=y.seriesDataIndices||[],C=b.seriesDataIndices||[];c=c&&y.value===b.value&&y.axisType===b.axisType&&y.axisId===b.axisId&&T.length===C.length,c&&each$f(T,function(P,E){var M=C[E];c=c&&P.seriesIndex===M.seriesIndex&&P.dataIndex===M.dataIndex}),l&&each$f(y.seriesDataIndices,function(P){var E=P.seriesIndex,M=o[E],I=l[E];M&&I&&I.data!==M.data&&(c=!1)})})}),this._lastDataByCoordSys=a,this._cbParamsList=o,!!c},n.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},n.prototype.dispose=function(a,o){env.node||!o.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},n.type="tooltip",n}(ComponentView);function buildTooltipModel(r,n,a){var o=n.ecModel,s;a?(s=new Model(a,o,o),s=new Model(n.option,s,o)):s=n;for(var l=r.length-1;l>=0;l--){var c=r[l];c&&(c instanceof Model&&(c=c.get("tooltip",!0)),isString(c)&&(c={formatter:c}),c&&(s=new Model(c,s,o)))}return s}function makeDispatchAction(r,n){return r.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(r,n,a,o,s,l,c){var u=a.getSize(),d=u[0],f=u[1];return l!=null&&(r+d+l+2>o?r-=d+l:r+=l),c!=null&&(n+f+c>s?n-=f+c:n+=c),[r,n]}function confineTooltipPosition(r,n,a,o,s){var l=a.getSize(),c=l[0],u=l[1];return r=Math.min(r+c,o)-c,n=Math.min(n+u,s)-u,r=Math.max(r,0),n=Math.max(n,0),[r,n]}function calcTooltipPosition(r,n,a,o){var s=a[0],l=a[1],c=Math.ceil(Math.SQRT2*o)+8,u=0,d=0,f=n.width,v=n.height;switch(r){case"inside":u=n.x+f/2-s/2,d=n.y+v/2-l/2;break;case"top":u=n.x+f/2-s/2,d=n.y-l-c;break;case"bottom":u=n.x+f/2-s/2,d=n.y+v+c;break;case"left":u=n.x-s-c,d=n.y+v/2-l/2;break;case"right":u=n.x+f+c,d=n.y+v/2-l/2}return[u,d]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,n,a){var o=preParseFinder(r).queryOptionMap,s=o.keys()[0];if(!(!s||s==="series")){var l=queryReferringComponents(n,s,o.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}),c=l.models[0];if(c){var u=a.getViewOfComponentModel(c),d;if(u.group.traverse(function(f){var v=getECData(f).tooltipConfig;if(v&&v.name===r.name)return d=f,!0}),d)return{componentMainType:s,componentIndex:c.componentIndex,el:d}}}}function install$i(r){use(install$q),r.registerComponentModel(TooltipModel),r.registerComponentView(TooltipView),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(r,n){var a=normalizeToArray(r?r.brush:[]);if(a.length){var o=[];each$f(a,function(d){var f=d.hasOwnProperty("toolbox")?d.toolbox:[];f instanceof Array&&(o=o.concat(f))});var s=r&&r.toolbox;isArray$1(s)&&(s=s[0]),s||(s={feature:{}},r.toolbox=[s]);var l=s.feature||(s.feature={}),c=l.brush||(l.brush={}),u=c.type||(c.type=[]);u.push.apply(u,o),removeDuplicate(u),n&&!u.length&&u.push.apply(u,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(r){var n={};each$f(r,function(a){n[a]=1}),r.length=0,each$f(n,function(a,o){r.push(o)})}var each$4=each$f;function hasKeys(r){if(r){for(var n in r)if(r.hasOwnProperty(n))return!0}}function createVisualMappings(r,n,a){var o={};return each$4(n,function(l){var c=o[l]=s();each$4(r[l],function(u,d){if(VisualMapping.isValidType(d)){var f={type:d,visual:u};a&&a(f,l),c[d]=new VisualMapping(f),d==="opacity"&&(f=clone$4(f),f.type="colorAlpha",c.__hidden.__alphaForOpacity=new VisualMapping(f))}})}),o;function s(){var l=function(){};l.prototype.__hidden=l.prototype;var c=new l;return c}}function replaceVisualOption(r,n,a){var o;each$f(a,function(s){n.hasOwnProperty(s)&&hasKeys(n[s])&&(o=!0)}),o&&each$f(a,function(s){n.hasOwnProperty(s)&&hasKeys(n[s])?r[s]=clone$4(n[s]):delete r[s]})}function applyVisual(r,n,a,o,s,l){var c={};each$f(r,function(g){var y=VisualMapping.prepareVisualTypes(n[g]);c[g]=y});var u;function d(g){return getItemVisualFromData(a,u,g)}function f(g,y){setItemVisualFromData(a,u,g,y)}a.each(v);function v(g,y){u=g;var _=a.getRawDataItem(u);if(!(_&&_.visualMap===!1))for(var b=o.call(s,g),T=n[b],C=c[b],P=0,E=C.length;P<E;P++){var M=C[P];T[M]&&T[M].applyVisual(g,d,f)}}}function incrementalApplyVisual(r,n,a,o){var s={};return each$f(r,function(l){var c=VisualMapping.prepareVisualTypes(n[l]);s[l]=c}),{progress:function(c,u){var d;o!=null&&(d=u.getDimensionIndex(o));function f(L){return getItemVisualFromData(u,g,L)}function v(L,N){setItemVisualFromData(u,g,L,N)}for(var g,y=u.getStore();(g=c.next())!=null;){var _=u.getRawDataItem(g);if(!(_&&_.visualMap===!1))for(var b=o!=null?y.get(d,g):g,T=a(b),C=n[T],P=s[T],E=0,M=P.length;E<M;E++){var I=P[E];C[I]&&C[I].applyVisual(b,f,v)}}}}}function makeBrushCommonSelectorForSeries(r){var n=r.brushType,a={point:function(o){return selector[n].point(o,a,r)},rect:function(o){return selector[n].rect(o,a,r)}};return a}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(r,n,a){return r&&a.boundingRect.contain(r[0],r[1])},rect:function(r,n,a){return r&&a.boundingRect.intersect(r)}},polygon:{point:function(r,n,a){return r&&a.boundingRect.contain(r[0],r[1])&&contain(a.range,r[0],r[1])},rect:function(r,n,a){var o=a.range;if(!r||o.length<=1)return!1;var s=r.x,l=r.y,c=r.width,u=r.height,d=o[0];if(contain(o,s,l)||contain(o,s+c,l)||contain(o,s,l+u)||contain(o,s+c,l+u)||BoundingRect.create(r).contain(d[0],d[1])||linePolygonIntersect(s,l,s+c,l,o)||linePolygonIntersect(s,l,s,l+u,o)||linePolygonIntersect(s+c,l,s+c,l+u,o)||linePolygonIntersect(s,l+u,s+c,l+u,o))return!0}}};function getLineSelectors(r){var n=["x","y"],a=["width","height"];return{point:function(o,s,l){if(o){var c=l.range,u=o[r];return inLineRange(u,c)}},rect:function(o,s,l){if(o){var c=l.range,u=[o[n[r]],o[n[r]]+o[a[r]]];return u[1]<u[0]&&u.reverse(),inLineRange(u[0],c)||inLineRange(u[1],c)||inLineRange(c[0],u)||inLineRange(c[1],u)}}}}function inLineRange(r,n){return n[0]<=r&&r<=n[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(r){r.eachComponent({mainType:"brush"},function(n){var a=n.brushTargetManager=new BrushTargetManager(n.option,r);a.setInputRanges(n.areas,r)})}function brushVisual(r,n,a){var o=[],s,l;r.eachComponent({mainType:"brush"},function(c){a&&a.type==="takeGlobalCursor"&&c.setBrushOption(a.key==="brush"?a.brushOption:{brushType:!1})}),layoutCovers(r),r.eachComponent({mainType:"brush"},function(c,u){var d={brushId:c.id,brushIndex:u,brushName:c.name,areas:clone$4(c.areas),selected:[]};o.push(d);var f=c.option,v=f.brushLink,g=[],y=[],_=[],b=!1;u||(s=f.throttleType,l=f.throttleDelay);var T=map$1(c.areas,function(L){var N=boundingRectBuilders[L.brushType],V=defaults({boundingRect:N?N(L):void 0},L);return V.selectors=makeBrushCommonSelectorForSeries(V),V}),C=createVisualMappings(c.option,STATE_LIST,function(L){L.mappingMethod="fixed"});isArray$1(v)&&each$f(v,function(L){g[L]=1});function P(L){return v==="all"||!!g[L]}function E(L){return!!L.length}r.eachSeries(function(L,N){var V=_[N]=[];L.subType==="parallel"?M(L,N):I(L,N,V)});function M(L,N){var V=L.coordinateSystem;b=b||V.hasAxisBrushed(),P(N)&&V.eachActiveState(L.getData(),function(B,z){B==="active"&&(y[z]=1)})}function I(L,N,V){if(!(!L.brushSelector||brushModelNotControll(c,N))&&(each$f(T,function(z){c.brushTargetManager.controlSeries(z,L,r)&&V.push(z),b=b||E(V)}),P(N)&&E(V))){var B=L.getData();B.each(function(z){checkInRange(L,V,B,z)&&(y[z]=1)})}}r.eachSeries(function(L,N){var V={seriesId:L.id,seriesIndex:N,seriesName:L.name,dataIndex:[]};d.selected.push(V);var B=_[N],z=L.getData(),G=P(N)?function(H){return y[H]?(V.dataIndex.push(z.getRawIndex(H)),"inBrush"):"outOfBrush"}:function(H){return checkInRange(L,B,z,H)?(V.dataIndex.push(z.getRawIndex(H)),"inBrush"):"outOfBrush"};(P(N)?b:E(B))&&applyVisual(STATE_LIST,C,z,G)})}),dispatchAction$1(n,s,l,o,a)}function dispatchAction$1(r,n,a,o,s){if(s){var l=r.getZr();if(!l[DISPATCH_FLAG]){l[DISPATCH_METHOD]||(l[DISPATCH_METHOD]=doDispatch);var c=createOrUpdate(l,DISPATCH_METHOD,a,n);c(r,o)}}}function doDispatch(r,n){if(!r.isDisposed()){var a=r.getZr();a[DISPATCH_FLAG]=!0,r.dispatchAction({type:"brushSelect",batch:n}),a[DISPATCH_FLAG]=!1}}function checkInRange(r,n,a,o){for(var s=0,l=n.length;s<l;s++){var c=n[s];if(r.brushSelector(o,a,c.selectors,c))return!0}}function brushModelNotControll(r,n){var a=r.option.seriesIndex;return a!=null&&a!=="all"&&(isArray$1(a)?indexOf(a,n)<0:n!==a)}var boundingRectBuilders={rect:function(r){return getBoundingRectFromMinMax(r.range)},polygon:function(r){for(var n,a=r.range,o=0,s=a.length;o<s;o++){n=n||[[1/0,-1/0],[1/0,-1/0]];var l=a[o];l[0]<n[0][0]&&(n[0][0]=l[0]),l[0]>n[0][1]&&(n[0][1]=l[0]),l[1]<n[1][0]&&(n[1][0]=l[1]),l[1]>n[1][1]&&(n[1][1]=l[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(r){return new BoundingRect(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var BrushView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){this.ecModel=a,this.api=o,this.model,(this._brushController=new BrushController(o.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},n.prototype.render=function(a,o,s,l){this.model=a,this._updateController(a,o,s,l)},n.prototype.updateTransform=function(a,o,s,l){layoutCovers(o),this._updateController(a,o,s,l)},n.prototype.updateVisual=function(a,o,s,l){this.updateTransform(a,o,s,l)},n.prototype.updateView=function(a,o,s,l){this._updateController(a,o,s,l)},n.prototype._updateController=function(a,o,s,l){(!l||l.$from!==a.id)&&this._brushController.setPanels(a.brushTargetManager.makePanelOpts(s)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(a){var o=this.model.id,s=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:clone$4(s),$from:o}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:clone$4(s),$from:o})},n.type="brush",n}(ComponentView),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.areas=[],a.brushOption={},a}return n.prototype.optionUpdated=function(a,o){var s=this.option;!o&&replaceVisualOption(s,a,["inBrush","outOfBrush"]);var l=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},l.hasOwnProperty("liftZ")||(l.liftZ=5)},n.prototype.setAreas=function(a){a&&(this.areas=map$1(a,function(o){return generateBrushOption(this.option,o)},this))},n.prototype.setBrushOption=function(a){this.brushOption=generateBrushOption(this.option,a),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel);function generateBrushOption(r,n){return merge({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Model(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},n,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(a,o,s){var l,c,u;o.eachComponent({mainType:"brush"},function(d){l=d.brushType,c=d.brushOption.brushMode||"single",u=u||!!d.areas.length}),this._brushType=l,this._brushMode=c,each$f(a.get("type",!0),function(d){a.setIconStatus(d,(d==="keep"?c==="multiple":d==="clear"?u:d===l)?"emphasis":"normal")})},n.prototype.updateView=function(a,o,s){this.render(a,o,s)},n.prototype.getIcons=function(){var a=this.model,o=a.get("icon",!0),s={};return each$f(a.get("type",!0),function(l){o[l]&&(s[l]=o[l])}),s},n.prototype.onclick=function(a,o,s){var l=this._brushType,c=this._brushMode;s==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:s==="keep"?l:l===s?!1:s,brushMode:s==="keep"?c==="multiple"?"single":"multiple":c}})},n.getDefaultOption=function(a){var o={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])};return o},n}(ToolboxFeature);function install$h(r){r.registerComponentView(BrushView),r.registerComponentModel(BrushModel),r.registerPreprocessor(brushPreprocessor),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,brushVisual),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,a){a.eachComponent({mainType:"brush",query:n},function(o){o.setAreas(n.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature)}var TitleModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.layoutMode={type:"box",ignoreSize:!0},a}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel),TitleView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.render=function(a,o,s){if(this.group.removeAll(),!!a.get("show")){var l=this.group,c=a.getModel("textStyle"),u=a.getModel("subtextStyle"),d=a.get("textAlign"),f=retrieve2(a.get("textBaseline"),a.get("textVerticalAlign")),v=new ZRText({style:createTextStyle(c,{text:a.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),g=v.getBoundingRect(),y=a.get("subtext"),_=new ZRText({style:createTextStyle(u,{text:y,fill:u.getTextColor(),y:g.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),b=a.get("link"),T=a.get("sublink"),C=a.get("triggerEvent",!0);v.silent=!b&&!C,_.silent=!T&&!C,b&&v.on("click",function(){windowOpen(b,"_"+a.get("target"))}),T&&_.on("click",function(){windowOpen(T,"_"+a.get("subtarget"))}),getECData(v).eventData=getECData(_).eventData=C?{componentType:"title",componentIndex:a.componentIndex}:null,l.add(v),y&&l.add(_);var P=l.getBoundingRect(),E=a.getBoxLayoutParams();E.width=P.width,E.height=P.height;var M=getLayoutRect(E,{width:s.getWidth(),height:s.getHeight()},a.get("padding"));d||(d=a.get("left")||a.get("right"),d==="middle"&&(d="center"),d==="right"?M.x+=M.width:d==="center"&&(M.x+=M.width/2)),f||(f=a.get("top")||a.get("bottom"),f==="center"&&(f="middle"),f==="bottom"?M.y+=M.height:f==="middle"&&(M.y+=M.height/2),f=f||"top"),l.x=M.x,l.y=M.y,l.markRedraw();var I={align:d,verticalAlign:f};v.setStyle(I),_.setStyle(I),P=l.getBoundingRect();var L=M.margin,N=a.getItemStyle(["color","opacity"]);N.fill=a.get("backgroundColor");var V=new Rect$2({shape:{x:P.x-L[3],y:P.y-L[0],width:P.width+L[1]+L[3],height:P.height+L[0]+L[2],r:a.get("borderRadius")},style:N,subPixelOptimize:!0,silent:!0});l.add(V)}},n.type="title",n}(ComponentView);function install$g(r){r.registerComponentModel(TitleModel),r.registerComponentView(TitleView)}var TimelineModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.layoutMode="box",a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),this._initData()},n.prototype.mergeOption=function(a){r.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(a){a==null&&(a=this.option.currentIndex);var o=this._data.count();this.option.loop?a=(a%o+o)%o:(a>=o&&(a=o-1),a<0&&(a=0)),this.option.currentIndex=a},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(a){this.option.autoPlay=!!a},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var a=this.option,o=a.data||[],s=a.axisType,l=this._names=[],c;s==="category"?(c=[],each$f(o,function(f,v){var g=convertOptionIdName(getDataItemValue(f),""),y;isObject$3(f)?(y=clone$4(f),y.value=v):y=v,c.push(y),l.push(g)})):c=o;var u={category:"ordinal",time:"time",value:"number"}[s]||"number",d=this._data=new SeriesData([{name:"value",type:u}],this);d.initData(c,l)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel),SliderTimelineModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="timeline",n}(ComponentView),TimelineAxis=function(r){__extends(n,r);function n(a,o,s,l){var c=r.call(this,a,o,s)||this;return c.type=l||"value",c}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis),PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(a,o){this.api=o},n.prototype.render=function(a,o,s){if(this.model=a,this.api=s,this.ecModel=o,this.group.removeAll(),a.get("show",!0)){var l=this._layout(a,s),c=this._createGroup("_mainGroup"),u=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(l,a);a.formatTooltip=function(f){var v=d.scale.getLabel({value:f});return createTooltipMarkup("nameValue",{noName:!0,value:v})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](l,c,d,a)},this),this._renderAxisLabel(l,u,d,a),this._position(l,a)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(a,o){var s=a.get(["label","position"]),l=a.get("orient"),c=getViewRect(a,o),u;s==null||s==="auto"?u=l==="horizontal"?c.y+c.height/2<o.getHeight()/2?"-":"+":c.x+c.width/2<o.getWidth()/2?"+":"-":isString(s)?u={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[l][s]:u=s;var d={horizontal:"center",vertical:u>=0||u==="+"?"left":"right"},f={horizontal:u>=0||u==="+"?"top":"bottom",vertical:"middle"},v={horizontal:0,vertical:PI/2},g=l==="vertical"?c.height:c.width,y=a.getModel("controlStyle"),_=y.get("show",!0),b=_?y.get("itemSize"):0,T=_?y.get("itemGap"):0,C=b+T,P=a.get(["label","rotate"])||0;P=P*PI/180;var E,M,I,L=y.get("position",!0),N=_&&y.get("showPlayBtn",!0),V=_&&y.get("showPrevBtn",!0),B=_&&y.get("showNextBtn",!0),z=0,G=g;L==="left"||L==="bottom"?(N&&(E=[0,0],z+=C),V&&(M=[z,0],z+=C),B&&(I=[G-b,0],G-=C)):(N&&(E=[G-b,0],G-=C),V&&(M=[0,0],z+=C),B&&(I=[G-b,0],G-=C));var H=[z,G];return a.get("inverse")&&H.reverse(),{viewRect:c,mainLength:g,orient:l,rotation:v[l],labelRotation:P,labelPosOpt:u,labelAlign:a.get(["label","align"])||d[l],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||f[l],playPosition:E,prevBtnPosition:M,nextBtnPosition:I,axisExtent:H,controlSize:b,controlGap:T}},n.prototype._position=function(a,o){var s=this._mainGroup,l=this._labelGroup,c=a.viewRect;if(a.orient==="vertical"){var u=create$1(),d=c.x,f=c.y+c.height;translate(u,u,[-d,-f]),rotate(u,u,-PI/2),translate(u,u,[d,f]),c=c.clone(),c.applyTransform(u)}var v=E(c),g=E(s.getBoundingRect()),y=E(l.getBoundingRect()),_=[s.x,s.y],b=[l.x,l.y];b[0]=_[0]=v[0][0];var T=a.labelPosOpt;if(T==null||isString(T)){var C=T==="+"?0:1;M(_,g,v,1,C),M(b,y,v,1,1-C)}else{var C=T>=0?0:1;M(_,g,v,1,C),b[1]=_[1]+T}s.setPosition(_),l.setPosition(b),s.rotation=l.rotation=a.rotation,P(s),P(l);function P(I){I.originX=v[0][0]-I.x,I.originY=v[1][0]-I.y}function E(I){return[[I.x,I.x+I.width],[I.y,I.y+I.height]]}function M(I,L,N,V,B){I[V]+=N[V][B]-L[V][B]}},n.prototype._createAxis=function(a,o){var s=o.getData(),l=o.get("axisType"),c=createScaleByModel(o,l);c.getTicks=function(){return s.mapArray(["value"],function(f){return{value:f}})};var u=s.getDataExtent("value");c.setExtent(u[0],u[1]),c.calcNiceTicks();var d=new TimelineAxis("value",c,a.axisExtent,l);return d.model=o,d},n.prototype._createGroup=function(a){var o=this[a]=new Group$3;return this.group.add(o),o},n.prototype._renderAxisLine=function(a,o,s,l){var c=s.getExtent();if(l.get(["lineStyle","show"])){var u=new Line$1({shape:{x1:c[0],y1:0,x2:c[1],y2:0},style:extend({lineCap:"round"},l.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(u);var d=this._progressLine=new Line$1({shape:{x1:c[0],x2:this._currentPointer?this._currentPointer.x:c[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:u.style.lineWidth},l.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(d)}},n.prototype._renderAxisTick=function(a,o,s,l){var c=this,u=l.getData(),d=s.scale.getTicks();this._tickSymbols=[],each$f(d,function(f){var v=s.dataToCoord(f.value),g=u.getItemModel(f.value),y=g.getModel("itemStyle"),_=g.getModel(["emphasis","itemStyle"]),b=g.getModel(["progress","itemStyle"]),T={x:v,y:0,onclick:bind$1(c._changeTimeline,c,f.value)},C=giveSymbol(g,y,o,T);C.ensureState("emphasis").style=_.getItemStyle(),C.ensureState("progress").style=b.getItemStyle(),enableHoverEmphasis(C);var P=getECData(C);g.get("tooltip")?(P.dataIndex=f.value,P.dataModel=l):P.dataIndex=P.dataModel=null,c._tickSymbols.push(C)})},n.prototype._renderAxisLabel=function(a,o,s,l){var c=this,u=s.getLabelModel();if(u.get("show")){var d=l.getData(),f=s.getViewLabels();this._tickLabels=[],each$f(f,function(v){var g=v.tickValue,y=d.getItemModel(g),_=y.getModel("label"),b=y.getModel(["emphasis","label"]),T=y.getModel(["progress","label"]),C=s.dataToCoord(v.tickValue),P=new ZRText({x:C,y:0,rotation:a.labelRotation-a.rotation,onclick:bind$1(c._changeTimeline,c,g),silent:!1,style:createTextStyle(_,{text:v.formattedLabel,align:a.labelAlign,verticalAlign:a.labelBaseline})});P.ensureState("emphasis").style=createTextStyle(b),P.ensureState("progress").style=createTextStyle(T),o.add(P),enableHoverEmphasis(P),labelDataIndexStore(P).dataIndex=g,c._tickLabels.push(P)})}},n.prototype._renderControl=function(a,o,s,l){var c=a.controlSize,u=a.rotation,d=l.getModel("controlStyle").getItemStyle(),f=l.getModel(["emphasis","controlStyle"]).getItemStyle(),v=l.getPlayState(),g=l.get("inverse",!0);y(a.nextBtnPosition,"next",bind$1(this._changeTimeline,this,g?"-":"+")),y(a.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,g?"+":"-")),y(a.playPosition,v?"stop":"play",bind$1(this._handlePlayClick,this,!v),!0);function y(_,b,T,C){if(_){var P=parsePercent$1(retrieve2(l.get(["controlStyle",b+"BtnSize"]),c),c),E=[0,-P/2,P,P],M=makeControlIcon(l,b+"Icon",E,{x:_[0],y:_[1],originX:c/2,originY:0,rotation:C?-u:0,rectHover:!0,style:d,onclick:T});M.ensureState("emphasis").style=f,o.add(M),enableHoverEmphasis(M)}}},n.prototype._renderCurrentPointer=function(a,o,s,l){var c=l.getData(),u=l.getCurrentIndex(),d=c.getItemModel(u).getModel("checkpointStyle"),f=this,v={onCreate:function(g){g.draggable=!0,g.drift=bind$1(f._handlePointerDrag,f),g.ondragend=bind$1(f._handlePointerDragend,f),pointerMoveTo(g,f._progressLine,u,s,l,!0)},onUpdate:function(g){pointerMoveTo(g,f._progressLine,u,s,l)}};this._currentPointer=giveSymbol(d,d,this._mainGroup,{},this._currentPointer,v)},n.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},n.prototype._handlePointerDrag=function(a,o,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},n.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},n.prototype._pointerChangeTimeline=function(a,o){var s=this._toAxisCoord(a)[0],l=this._axis,c=asc$2(l.getExtent().slice());s>c[1]&&(s=c[1]),s<c[0]&&(s=c[0]),this._currentPointer.x=s,this._currentPointer.markRedraw();var u=this._progressLine;u&&(u.shape.x2=s,u.dirty());var d=this._findNearestTick(s),f=this.model;(o||d!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(d)},n.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=a.model;a._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(a){var o=this._mainGroup.getLocalTransform();return applyTransform(a,o,!0)},n.prototype._findNearestTick=function(a){var o=this.model.getData(),s=1/0,l,c=this._axis;return o.each(["value"],function(u,d){var f=c.dataToCoord(u),v=Math.abs(f-a);v<s&&(s=v,l=d)}),l},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(a){var o=this.model.getCurrentIndex();a==="+"?a=o+1:a==="-"&&(a=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},n.prototype._updateTicksStatus=function(){var a=this.model.getCurrentIndex(),o=this._tickSymbols,s=this._tickLabels;if(o)for(var l=0;l<o.length;l++)o&&o[l]&&o[l].toggleState("progress",l<a);if(s)for(var l=0;l<s.length;l++)s&&s[l]&&s[l].toggleState("progress",labelDataIndexStore(s[l]).dataIndex<=a)},n.type="timeline.slider",n}(TimelineView);function createScaleByModel(r,n){if(n=n||r.get("type"),n)switch(n){case"category":return new OrdinalScale({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new IntervalScale}}function getViewRect(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},r.get("padding"))}function makeControlIcon(r,n,a,o){var s=o.style,l=createIcon(r.get(["controlStyle",n]),o||{},new BoundingRect(a[0],a[1],a[2],a[3]));return s&&l.setStyle(s),l}function giveSymbol(r,n,a,o,s,l){var c=n.get("color");if(s)s.setColor(c),a.add(s),l&&l.onUpdate(s);else{var u=r.get("symbol");s=createSymbol$1(u,-1,-1,2,2,c),s.setStyle("strokeNoScale",!0),a.add(s),l&&l.onCreate(s)}var d=n.getItemStyle(["color"]);s.setStyle(d),o=merge({rectHover:!0,z2:100},o,!0);var f=normalizeSymbolSize(r.get("symbolSize"));o.scaleX=f[0]/2,o.scaleY=f[1]/2;var v=normalizeSymbolOffset(r.get("symbolOffset"),f);v&&(o.x=(o.x||0)+v[0],o.y=(o.y||0)+v[1]);var g=r.get("symbolRotate");return o.rotation=(g||0)*Math.PI/180||0,s.attr(o),s.updateTransform(),s}function pointerMoveTo(r,n,a,o,s,l){if(!r.dragging){var c=s.getModel("checkpointStyle"),u=o.dataToCoord(s.getData().get("value",a));if(l||!c.get("animation",!0))r.attr({x:u,y:0}),n&&n.attr({shape:{x2:u}});else{var d={duration:c.get("animationDuration",!0),easing:c.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:u,y:0},d),n&&n.animateTo({shape:{x2:u}},d)}}}function installTimelineAction(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,a,o){var s=a.getComponent("timeline");return s&&n.currentIndex!=null&&(s.setCurrentIndex(n.currentIndex),!s.get("loop",!0)&&s.isIndexMax()&&s.getPlayState()&&(s.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),a.resetOption("timeline",{replaceMerge:s.get("replaceMerge",!0)}),defaults({currentIndex:s.option.currentIndex},n)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,a){var o=a.getComponent("timeline");o&&n.playState!=null&&o.setPlayState(n.playState)})}function timelinePreprocessor(r){var n=r&&r.timeline;isArray$1(n)||(n=n?[n]:[]),each$f(n,function(a){a&&compatibleEC2(a)})}function compatibleEC2(r){var n=r.type,a={number:"value",time:"time"};if(a[n]&&(r.axisType=a[n],delete r.type),transferItem(r),has$1(r,"controlPosition")){var o=r.controlStyle||(r.controlStyle={});has$1(o,"position")||(o.position=r.controlPosition),o.position==="none"&&!has$1(o,"show")&&(o.show=!1,delete o.position),delete r.controlPosition}each$f(r.data||[],function(s){isObject$3(s)&&!isArray$1(s)&&(!has$1(s,"value")&&has$1(s,"name")&&(s.value=s.name),transferItem(s))})}function transferItem(r){var n=r.itemStyle||(r.itemStyle={}),a=n.emphasis||(n.emphasis={}),o=r.label||r.label||{},s=o.normal||(o.normal={}),l={normal:1,emphasis:1};each$f(o,function(c,u){!l[u]&&!has$1(s,u)&&(s[u]=c)}),a.label&&!has$1(o,"emphasis")&&(o.emphasis=a.label,delete a.label)}function has$1(r,n){return r.hasOwnProperty(n)}function install$f(r){r.registerComponentModel(SliderTimelineModel),r.registerComponentView(SliderTimelineView),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(r),r.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(r,n){if(!r)return!1;for(var a=isArray$1(r)?r:[r],o=0;o<a.length;o++)if(a[o]&&a[o][n])return!0;return!1}function fillLabel(r){defaultEmphasis(r,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.createdBySelf=!1,a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),this._mergeOption(a,s,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},n.prototype.mergeOption=function(a,o){this._mergeOption(a,o,!1,!1)},n.prototype._mergeOption=function(a,o,s,l){var c=this.mainType;s||o.eachSeries(function(u){var d=u.get(this.mainType,!0),f=inner$5(u)[c];if(!d||!d.data){inner$5(u)[c]=null;return}f?f._mergeOption(d,o,!0):(l&&fillLabel(d),each$f(d.data,function(v){v instanceof Array?(fillLabel(v[0]),fillLabel(v[1])):fillLabel(v)}),f=this.createMarkerModelFromSeries(d,this,o),extend(f,{mainType:this.mainType,seriesIndex:u.seriesIndex,name:u.name,createdBySelf:!0}),f.__hostSeries=u),inner$5(u)[c]=f},this)},n.prototype.formatTooltip=function(a,o,s){var l=this.getData(),c=this.getRawValue(a),u=l.getName(a);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:u,value:c,noName:!u,noValue:c==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(a){this._data=a},n.prototype.getDataParams=function(a,o){var s=DataFormatMixin.prototype.getDataParams.call(this,a,o),l=this.__hostSeries;return l&&(s.seriesId=l.id,s.seriesName=l.name,s.seriesType=l.subType),s},n.getMarkerModelFromSeries=function(a,o){return inner$5(a)[o]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel);mixin(MarkerModel,DataFormatMixin.prototype);var MarkPointModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.createMarkerModelFromSeries=function(a,o,s){return new n(a,o,s)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel);function hasXOrY(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function hasXAndY(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function markerTypeCalculatorWithExtent(r,n,a,o,s,l){var c=[],u=isDimensionStacked(n,o),d=u?n.getCalculationInfo("stackResultDimension"):o,f=numCalculate(n,d,r),v=n.indicesOfNearest(d,f)[0];c[s]=n.get(a,v),c[l]=n.get(d,v);var g=n.get(o,v),y=getPrecision(n.get(o,v));return y=Math.min(y,20),y>=0&&(c[l]=+c[l].toFixed(y)),[c,g]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(r,n){if(n){var a=r.getData(),o=r.coordinateSystem,s=o&&o.dimensions;if(!hasXAndY(n)&&!isArray$1(n.coord)&&isArray$1(s)){var l=getAxisInfo(n,a,o,r);if(n=clone$4(n),n.type&&markerTypeCalculator[n.type]&&l.baseAxis&&l.valueAxis){var c=indexOf(s,l.baseAxis.dim),u=indexOf(s,l.valueAxis.dim),d=markerTypeCalculator[n.type](a,l.baseDataDim,l.valueDataDim,c,u);n.coord=d[0],n.value=d[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null||!isArray$1(s))n.coord=[];else for(var f=n.coord,v=0;v<2;v++)markerTypeCalculator[f[v]]&&(f[v]=numCalculate(a,a.mapDimension(s[v]),f[v]));return n}}function getAxisInfo(r,n,a,o){var s={};return r.valueIndex!=null||r.valueDim!=null?(s.valueDataDim=r.valueIndex!=null?n.getDimension(r.valueIndex):r.valueDim,s.valueAxis=a.getAxis(dataDimToCoordDim(o,s.valueDataDim)),s.baseAxis=a.getOtherAxis(s.valueAxis),s.baseDataDim=n.mapDimension(s.baseAxis.dim)):(s.baseAxis=o.getBaseAxis(),s.valueAxis=a.getOtherAxis(s.baseAxis),s.baseDataDim=n.mapDimension(s.baseAxis.dim),s.valueDataDim=n.mapDimension(s.valueAxis.dim)),s}function dataDimToCoordDim(r,n){var a=r.getData().getDimensionInfo(n);return a&&a.coordDim}function dataFilter(r,n){return r&&r.containData&&n.coord&&!hasXOrY(n)?r.containData(n.coord):!0}function zoneFilter(r,n,a){return r&&r.containZone&&n.coord&&a.coord&&!hasXOrY(n)&&!hasXOrY(a)?r.containZone(n.coord,a.coord):!0}function createMarkerDimValueGetter(r,n){return r?function(a,o,s,l){var c=l<2?a.coord&&a.coord[l]:a.value;return parseDataValue(c,n[l])}:function(a,o,s,l){return parseDataValue(a.value,n[l])}}function numCalculate(r,n,a){if(a==="average"){var o=0,s=0;return r.each(n,function(l,c){isNaN(l)||(o+=l,s++)}),o/s}else return a==="median"?r.getMedian(n):r.getDataExtent(n)[a==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(a,o,s){var l=this,c=this.markerGroupMap;c.each(function(u){inner$4(u).keep=!1}),o.eachSeries(function(u){var d=MarkerModel.getMarkerModelFromSeries(u,l.type);d&&l.renderSeries(u,d,o,s)}),c.each(function(u){!inner$4(u).keep&&l.group.remove(u.group)})},n.prototype.markKeep=function(a){inner$4(a).keep=!0},n.prototype.toggleBlurSeries=function(a,o){var s=this;each$f(a,function(l){var c=MarkerModel.getMarkerModelFromSeries(l,s.type);if(c){var u=c.getData();u.eachItemGraphicEl(function(d){d&&(o?enterBlur(d):leaveBlur(d))})}})},n.type="marker",n}(ComponentView);function updateMarkerLayout(r,n,a){var o=n.coordinateSystem;r.each(function(s){var l=r.getItemModel(s),c,u=parsePercent(l.get("x"),a.getWidth()),d=parsePercent(l.get("y"),a.getHeight());if(!isNaN(u)&&!isNaN(d))c=[u,d];else if(n.getMarkerPosition)c=n.getMarkerPosition(r.getValues(r.dimensions,s));else if(o){var f=r.get(o.dimensions[0],s),v=r.get(o.dimensions[1],s);c=o.dataToPoint([f,v])}isNaN(u)||(c[0]=u),isNaN(d)||(c[1]=d),r.setItemLayout(s,c)})}var MarkPointView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var c=MarkerModel.getMarkerModelFromSeries(l,"markPoint");c&&(updateMarkerLayout(c.getData(),l,s),this.markerGroupMap.get(l.id).updateLayout())},this)},n.prototype.renderSeries=function(a,o,s,l){var c=a.coordinateSystem,u=a.id,d=a.getData(),f=this.markerGroupMap,v=f.get(u)||f.set(u,new SymbolDraw),g=createData(c,a,o);o.setData(g),updateMarkerLayout(o.getData(),a,l),g.each(function(y){var _=g.getItemModel(y),b=_.getShallow("symbol"),T=_.getShallow("symbolSize"),C=_.getShallow("symbolRotate"),P=_.getShallow("symbolOffset"),E=_.getShallow("symbolKeepAspect");if(isFunction(b)||isFunction(T)||isFunction(C)||isFunction(P)){var M=o.getRawValue(y),I=o.getDataParams(y);isFunction(b)&&(b=b(M,I)),isFunction(T)&&(T=T(M,I)),isFunction(C)&&(C=C(M,I)),isFunction(P)&&(P=P(M,I))}var L=_.getModel("itemStyle").getItemStyle(),N=getVisualFromData(d,"color");L.fill||(L.fill=N),g.setItemVisual(y,{symbol:b,symbolSize:T,symbolRotate:C,symbolOffset:P,symbolKeepAspect:E,style:L})}),v.updateData(g),this.group.add(v.group),g.eachItemGraphicEl(function(y){y.traverse(function(_){getECData(_).dataModel=o})}),this.markKeep(v),v.group.silent=o.get("silent")||a.get("silent")},n.type="markPoint",n}(MarkerView);function createData(r,n,a){var o;r?o=map$1(r&&r.dimensions,function(u){var d=n.getData().getDimensionInfo(n.getData().mapDimension(u))||{};return extend(extend({},d),{name:u,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData(o,a),l=map$1(a.get("data"),curry$1(dataTransform,n));r&&(l=filter(l,curry$1(dataFilter,r)));var c=createMarkerDimValueGetter(!!r,o);return s.initData(l,null,c),s}function install$e(r){r.registerComponentModel(MarkPointModel),r.registerComponentView(MarkPointView),r.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.createMarkerModelFromSeries=function(a,o,s){return new n(a,o,s)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel),inner$3=makeInner(),markLineTransform=function(r,n,a,o){var s=r.getData(),l;if(isArray$1(o))l=o;else{var c=o.type;if(c==="min"||c==="max"||c==="average"||c==="median"||o.xAxis!=null||o.yAxis!=null){var u=void 0,d=void 0;if(o.yAxis!=null||o.xAxis!=null)u=n.getAxis(o.yAxis!=null?"y":"x"),d=retrieve(o.yAxis,o.xAxis);else{var f=getAxisInfo(o,s,n,r);u=f.valueAxis;var v=getStackedDimension(s,f.valueDataDim);d=numCalculate(s,v,c)}var g=u.dim==="x"?0:1,y=1-g,_=clone$4(o),b={coord:[]};_.type=null,_.coord=[],_.coord[y]=-1/0,b.coord[y]=1/0;var T=a.get("precision");T>=0&&isNumber(d)&&(d=+d.toFixed(Math.min(T,20))),_.coord[g]=b.coord[g]=d,l=[_,b,{type:c,valueIndex:o.valueIndex,value:d}]}else l=[]}var C=[dataTransform(r,l[0]),dataTransform(r,l[1]),extend({},l[2])];return C[2].type=C[2].type||null,merge(C[2],C[0]),merge(C[2],C[1]),C};function isInfinity$1(r){return!isNaN(r)&&!isFinite(r)}function ifMarkLineHasOnlyDim(r,n,a,o){var s=1-r,l=o.dimensions[r];return isInfinity$1(n[s])&&isInfinity$1(a[s])&&n[r]===a[r]&&o.getAxis(l).containData(n[r])}function markLineFilter(r,n){if(r.type==="cartesian2d"){var a=n[0].coord,o=n[1].coord;if(a&&o&&(ifMarkLineHasOnlyDim(1,a,o,r)||ifMarkLineHasOnlyDim(0,a,o,r)))return!0}return dataFilter(r,n[0])&&dataFilter(r,n[1])}function updateSingleMarkerEndLayout(r,n,a,o,s){var l=o.coordinateSystem,c=r.getItemModel(n),u,d=parsePercent(c.get("x"),s.getWidth()),f=parsePercent(c.get("y"),s.getHeight());if(!isNaN(d)&&!isNaN(f))u=[d,f];else{if(o.getMarkerPosition)u=o.getMarkerPosition(r.getValues(r.dimensions,n));else{var v=l.dimensions,g=r.get(v[0],n),y=r.get(v[1],n);u=l.dataToPoint([g,y])}if(isCoordinateSystemType(l,"cartesian2d")){var _=l.getAxis("x"),b=l.getAxis("y"),v=l.dimensions;isInfinity$1(r.get(v[0],n))?u[0]=_.toGlobalCoord(_.getExtent()[a?0:1]):isInfinity$1(r.get(v[1],n))&&(u[1]=b.toGlobalCoord(b.getExtent()[a?0:1]))}isNaN(d)||(u[0]=d),isNaN(f)||(u[1]=f)}r.setItemLayout(n,u)}var MarkLineView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var c=MarkerModel.getMarkerModelFromSeries(l,"markLine");if(c){var u=c.getData(),d=inner$3(c).from,f=inner$3(c).to;d.each(function(v){updateSingleMarkerEndLayout(d,v,!0,l,s),updateSingleMarkerEndLayout(f,v,!1,l,s)}),u.each(function(v){u.setItemLayout(v,[d.getItemLayout(v),f.getItemLayout(v)])}),this.markerGroupMap.get(l.id).updateLayout()}},this)},n.prototype.renderSeries=function(a,o,s,l){var c=a.coordinateSystem,u=a.id,d=a.getData(),f=this.markerGroupMap,v=f.get(u)||f.set(u,new LineDraw);this.group.add(v.group);var g=createList$1(c,a,o),y=g.from,_=g.to,b=g.line;inner$3(o).from=y,inner$3(o).to=_,o.setData(b);var T=o.get("symbol"),C=o.get("symbolSize"),P=o.get("symbolRotate"),E=o.get("symbolOffset");isArray$1(T)||(T=[T,T]),isArray$1(C)||(C=[C,C]),isArray$1(P)||(P=[P,P]),isArray$1(E)||(E=[E,E]),g.from.each(function(I){M(y,I,!0),M(_,I,!1)}),b.each(function(I){var L=b.getItemModel(I).getModel("lineStyle").getLineStyle();b.setItemLayout(I,[y.getItemLayout(I),_.getItemLayout(I)]),L.stroke==null&&(L.stroke=y.getItemVisual(I,"style").fill),b.setItemVisual(I,{fromSymbolKeepAspect:y.getItemVisual(I,"symbolKeepAspect"),fromSymbolOffset:y.getItemVisual(I,"symbolOffset"),fromSymbolRotate:y.getItemVisual(I,"symbolRotate"),fromSymbolSize:y.getItemVisual(I,"symbolSize"),fromSymbol:y.getItemVisual(I,"symbol"),toSymbolKeepAspect:_.getItemVisual(I,"symbolKeepAspect"),toSymbolOffset:_.getItemVisual(I,"symbolOffset"),toSymbolRotate:_.getItemVisual(I,"symbolRotate"),toSymbolSize:_.getItemVisual(I,"symbolSize"),toSymbol:_.getItemVisual(I,"symbol"),style:L})}),v.updateData(b),g.line.eachItemGraphicEl(function(I){getECData(I).dataModel=o,I.traverse(function(L){getECData(L).dataModel=o})});function M(I,L,N){var V=I.getItemModel(L);updateSingleMarkerEndLayout(I,L,N,a,l);var B=V.getModel("itemStyle").getItemStyle();B.fill==null&&(B.fill=getVisualFromData(d,"color")),I.setItemVisual(L,{symbolKeepAspect:V.get("symbolKeepAspect"),symbolOffset:retrieve2(V.get("symbolOffset",!0),E[N?0:1]),symbolRotate:retrieve2(V.get("symbolRotate",!0),P[N?0:1]),symbolSize:retrieve2(V.get("symbolSize"),C[N?0:1]),symbol:retrieve2(V.get("symbol",!0),T[N?0:1]),style:B})}this.markKeep(v),v.group.silent=o.get("silent")||a.get("silent")},n.type="markLine",n}(MarkerView);function createList$1(r,n,a){var o;r?o=map$1(r&&r.dimensions,function(f){var v=n.getData().getDimensionInfo(n.getData().mapDimension(f))||{};return extend(extend({},v),{name:f,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData(o,a),l=new SeriesData(o,a),c=new SeriesData([],a),u=map$1(a.get("data"),curry$1(markLineTransform,n,r,a));r&&(u=filter(u,curry$1(markLineFilter,r)));var d=createMarkerDimValueGetter(!!r,o);return s.initData(map$1(u,function(f){return f[0]}),null,d),l.initData(map$1(u,function(f){return f[1]}),null,d),c.initData(map$1(u,function(f){return f[2]})),c.hasItemOption=!0,{from:s,to:l,line:c}}function install$d(r){r.registerComponentModel(MarkLineModel),r.registerComponentView(MarkLineView),r.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.createMarkerModelFromSeries=function(a,o,s){return new n(a,o,s)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel),inner$2=makeInner(),markAreaTransform=function(r,n,a,o){var s=o[0],l=o[1];if(!(!s||!l)){var c=dataTransform(r,s),u=dataTransform(r,l),d=c.coord,f=u.coord;d[0]=retrieve(d[0],-1/0),d[1]=retrieve(d[1],-1/0),f[0]=retrieve(f[0],1/0),f[1]=retrieve(f[1],1/0);var v=mergeAll([{},c,u]);return v.coord=[c.coord,u.coord],v.x0=c.x,v.y0=c.y,v.x1=u.x,v.y1=u.y,v}};function isInfinity(r){return!isNaN(r)&&!isFinite(r)}function ifMarkAreaHasOnlyDim(r,n,a,o){var s=1-r;return isInfinity(n[s])&&isInfinity(a[s])}function markAreaFilter(r,n){var a=n.coord[0],o=n.coord[1],s={coord:a,x:n.x0,y:n.y0},l={coord:o,x:n.x1,y:n.y1};return isCoordinateSystemType(r,"cartesian2d")?a&&o&&(ifMarkAreaHasOnlyDim(1,a,o)||ifMarkAreaHasOnlyDim(0,a,o))?!0:zoneFilter(r,s,l):dataFilter(r,s)||dataFilter(r,l)}function getSingleMarkerEndPoint(r,n,a,o,s){var l=o.coordinateSystem,c=r.getItemModel(n),u,d=parsePercent(c.get(a[0]),s.getWidth()),f=parsePercent(c.get(a[1]),s.getHeight());if(!isNaN(d)&&!isNaN(f))u=[d,f];else{if(o.getMarkerPosition){var v=r.getValues(["x0","y0"],n),g=r.getValues(["x1","y1"],n),y=l.clampData(v),_=l.clampData(g),b=[];a[0]==="x0"?b[0]=y[0]>_[0]?g[0]:v[0]:b[0]=y[0]>_[0]?v[0]:g[0],a[1]==="y0"?b[1]=y[1]>_[1]?g[1]:v[1]:b[1]=y[1]>_[1]?v[1]:g[1],u=o.getMarkerPosition(b,a,!0)}else{var T=r.get(a[0],n),C=r.get(a[1],n),P=[T,C];l.clampData&&l.clampData(P,P),u=l.dataToPoint(P,!0)}if(isCoordinateSystemType(l,"cartesian2d")){var E=l.getAxis("x"),M=l.getAxis("y"),T=r.get(a[0],n),C=r.get(a[1],n);isInfinity(T)?u[0]=E.toGlobalCoord(E.getExtent()[a[0]==="x0"?0:1]):isInfinity(C)&&(u[1]=M.toGlobalCoord(M.getExtent()[a[1]==="y0"?0:1]))}isNaN(d)||(u[0]=d),isNaN(f)||(u[1]=f)}return u}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var c=MarkerModel.getMarkerModelFromSeries(l,"markArea");if(c){var u=c.getData();u.each(function(d){var f=map$1(dimPermutations,function(g){return getSingleMarkerEndPoint(u,d,g,l,s)});u.setItemLayout(d,f);var v=u.getItemGraphicEl(d);v.setShape("points",f)})}},this)},n.prototype.renderSeries=function(a,o,s,l){var c=a.coordinateSystem,u=a.id,d=a.getData(),f=this.markerGroupMap,v=f.get(u)||f.set(u,{group:new Group$3});this.group.add(v.group),this.markKeep(v);var g=createList(c,a,o);o.setData(g),g.each(function(y){var _=map$1(dimPermutations,function(B){return getSingleMarkerEndPoint(g,y,B,a,l)}),b=c.getAxis("x").scale,T=c.getAxis("y").scale,C=b.getExtent(),P=T.getExtent(),E=[b.parse(g.get("x0",y)),b.parse(g.get("x1",y))],M=[T.parse(g.get("y0",y)),T.parse(g.get("y1",y))];asc$2(E),asc$2(M);var I=!(C[0]>E[1]||C[1]<E[0]||P[0]>M[1]||P[1]<M[0]),L=!I;g.setItemLayout(y,{points:_,allClipped:L});var N=g.getItemModel(y).getModel("itemStyle").getItemStyle(),V=getVisualFromData(d,"color");N.fill||(N.fill=V,isString(N.fill)&&(N.fill=modifyAlpha(N.fill,.4))),N.stroke||(N.stroke=V),g.setItemVisual(y,"style",N)}),g.diff(inner$2(v).data).add(function(y){var _=g.getItemLayout(y);if(!_.allClipped){var b=new Polygon({shape:{points:_.points}});g.setItemGraphicEl(y,b),v.group.add(b)}}).update(function(y,_){var b=inner$2(v).data.getItemGraphicEl(_),T=g.getItemLayout(y);T.allClipped?b&&v.group.remove(b):(b?updateProps$1(b,{shape:{points:T.points}},o,y):b=new Polygon({shape:{points:T.points}}),g.setItemGraphicEl(y,b),v.group.add(b))}).remove(function(y){var _=inner$2(v).data.getItemGraphicEl(y);v.group.remove(_)}).execute(),g.eachItemGraphicEl(function(y,_){var b=g.getItemModel(_),T=g.getItemVisual(_,"style");y.useStyle(g.getItemVisual(_,"style")),setLabelStyle(y,getLabelStatesModels(b),{labelFetcher:o,labelDataIndex:_,defaultText:g.getName(_)||"",inheritColor:isString(T.fill)?modifyAlpha(T.fill,1):"#000"}),setStatesStylesFromModel(y,b),toggleHoverEmphasis(y,null,null,b.get(["emphasis","disabled"])),getECData(y).dataModel=o}),inner$2(v).data=g,v.group.silent=o.get("silent")||a.get("silent")},n.type="markArea",n}(MarkerView);function createList(r,n,a){var o,s,l=["x0","y0","x1","y1"];if(r){var c=map$1(r&&r.dimensions,function(f){var v=n.getData(),g=v.getDimensionInfo(v.mapDimension(f))||{};return extend(extend({},g),{name:f,ordinalMeta:null})});s=map$1(l,function(f,v){return{name:f,type:c[v%2].type}}),o=new SeriesData(s,a)}else s=[{name:"value",type:"float"}],o=new SeriesData(s,a);var u=map$1(a.get("data"),curry$1(markAreaTransform,n,r,a));r&&(u=filter(u,curry$1(markAreaFilter,r)));var d=r?function(f,v,g,y){var _=f.coord[Math.floor(y/2)][y%2];return parseDataValue(_,s[y])}:function(f,v,g,y){return parseDataValue(f.value,s[y])};return o.initData(u,null,d),o.hasItemOption=!0,o}function install$c(r){r.registerComponentModel(MarkAreaModel),r.registerComponentView(MarkAreaView),r.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions=function(r,n){if(n==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.layoutMode={type:"box",ignoreSize:!0},a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),a.selected=a.selected||{},this._updateSelector(a)},n.prototype.mergeOption=function(a,o){r.prototype.mergeOption.call(this,a,o),this._updateSelector(a)},n.prototype._updateSelector=function(a){var o=a.selector,s=this.ecModel;o===!0&&(o=a.selector=["all","inverse"]),isArray$1(o)&&each$f(o,function(l,c){isString(l)&&(l={type:l}),o[c]=merge(l,getDefaultSelectorOptions(s,l.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&this.get("selectedMode")==="single"){for(var o=!1,s=0;s<a.length;s++){var l=a[s].get("name");if(this.isSelected(l)){this.select(l),o=!0;break}}!o&&this.select(a[0].get("name"))}},n.prototype._updateData=function(a){var o=[],s=[];a.eachRawSeries(function(d){var f=d.name;s.push(f);var v;if(d.legendVisualProvider){var g=d.legendVisualProvider,y=g.getAllNames();a.isSeriesFiltered(d)||(s=s.concat(y)),y.length?o=o.concat(y):v=!0}else v=!0;v&&isNameSpecified(d)&&o.push(d.name)}),this._availableNames=s;var l=this.get("data")||o,c=createHashMap(),u=map$1(l,function(d){return(isString(d)||isNumber(d))&&(d={name:d}),c.get(d.name)?null:(c.set(d.name,!0),new Model(d,this,this.ecModel))},this);this._data=filter(u,function(d){return!!d})},n.prototype.getData=function(){return this._data},n.prototype.select=function(a){var o=this.option.selected,s=this.get("selectedMode");if(s==="single"){var l=this._data;each$f(l,function(c){o[c.get("name")]=!1})}o[a]=!0},n.prototype.unSelect=function(a){this.get("selectedMode")!=="single"&&(this.option.selected[a]=!1)},n.prototype.toggleSelected=function(a){var o=this.option.selected;o.hasOwnProperty(a)||(o[a]=!0),this[o[a]?"unSelect":"select"](a)},n.prototype.allSelect=function(){var a=this._data,o=this.option.selected;each$f(a,function(s){o[s.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var a=this._data,o=this.option.selected;each$f(a,function(s){var l=s.get("name",!0);o.hasOwnProperty(l)||(o[l]=!0),o[l]=!o[l]})},n.prototype.isSelected=function(a){var o=this.option.selected;return!(o.hasOwnProperty(a)&&!o[a])&&indexOf(this._availableNames,a)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel),curry=curry$1,each$3=each$f,Group$1=Group$3,LegendView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.newlineDisabled=!1,a}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(a,o,s){var l=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!a.get("show",!0)){var c=a.get("align"),u=a.get("orient");(!c||c==="auto")&&(c=a.get("left")==="right"&&u==="vertical"?"right":"left");var d=a.get("selector",!0),f=a.get("selectorPosition",!0);d&&(!f||f==="auto")&&(f=u==="horizontal"?"end":"start"),this.renderInner(c,a,o,s,d,u,f);var v=a.getBoxLayoutParams(),g={width:s.getWidth(),height:s.getHeight()},y=a.get("padding"),_=getLayoutRect(v,g,y),b=this.layoutInner(a,c,_,l,d,f),T=getLayoutRect(defaults({width:b.width,height:b.height},v),g,y);this.group.x=T.x-b.x,this.group.y=T.y-b.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(b,a))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(a,o,s,l,c,u,d){var f=this.getContentGroup(),v=createHashMap(),g=o.get("selectedMode"),y=[];s.eachRawSeries(function(_){!_.get("legendHoverLink")&&y.push(_.id)}),each$3(o.getData(),function(_,b){var T=_.get("name");if(!this.newlineDisabled&&(T===""||T===`
`)){var C=new Group$1;C.newline=!0,f.add(C);return}var P=s.getSeriesByName(T)[0];if(!v.get(T))if(P){var E=P.getData(),M=E.getVisual("legendLineStyle")||{},I=E.getVisual("legendIcon"),L=E.getVisual("style"),N=this._createItem(P,T,b,_,o,a,M,L,I,g,l);N.on("click",curry(dispatchSelectAction,T,null,l,y)).on("mouseover",curry(dispatchHighlightAction,P.name,null,l,y)).on("mouseout",curry(dispatchDownplayAction,P.name,null,l,y)),s.ssr&&N.eachChild(function(V){var B=getECData(V);B.seriesIndex=P.seriesIndex,B.dataIndex=b,B.ssrType="legend"}),v.set(T,!0)}else s.eachRawSeries(function(V){if(!v.get(T)&&V.legendVisualProvider){var B=V.legendVisualProvider;if(!B.containName(T))return;var z=B.indexOfName(T),G=B.getItemVisual(z,"style"),H=B.getItemVisual(z,"legendIcon"),W=parse(G.fill);W&&W[3]===0&&(W[3]=.2,G=extend(extend({},G),{fill:stringify(W,"rgba")}));var j=this._createItem(V,T,b,_,o,a,{},G,H,g,l);j.on("click",curry(dispatchSelectAction,null,T,l,y)).on("mouseover",curry(dispatchHighlightAction,null,T,l,y)).on("mouseout",curry(dispatchDownplayAction,null,T,l,y)),s.ssr&&j.eachChild(function(X){var Z=getECData(X);Z.seriesIndex=V.seriesIndex,Z.dataIndex=b,Z.ssrType="legend"}),v.set(T,!0)}},this)},this),c&&this._createSelector(c,o,l,u,d)},n.prototype._createSelector=function(a,o,s,l,c){var u=this.getSelectorGroup();each$3(a,function(f){var v=f.type,g=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:v==="all"?"legendAllSelect":"legendInverseSelect",legendId:o.id})}});u.add(g);var y=o.getModel("selectorLabel"),_=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(g,{normal:y,emphasis:_},{defaultText:f.title}),enableHoverEmphasis(g)})},n.prototype._createItem=function(a,o,s,l,c,u,d,f,v,g,y){var _=a.visualDrawType,b=c.get("itemWidth"),T=c.get("itemHeight"),C=c.isSelected(o),P=l.get("symbolRotate"),E=l.get("symbolKeepAspect"),M=l.get("icon");v=M||v||"roundRect";var I=getLegendStyle(v,l,d,f,_,C,y),L=new Group$1,N=l.getModel("textStyle");if(isFunction(a.getLegendIcon)&&(!M||M==="inherit"))L.add(a.getLegendIcon({itemWidth:b,itemHeight:T,icon:v,iconRotate:P,itemStyle:I.itemStyle,lineStyle:I.lineStyle,symbolKeepAspect:E}));else{var V=M==="inherit"&&a.getData().getVisual("symbol")?P==="inherit"?a.getData().getVisual("symbolRotate"):P:0;L.add(getDefaultLegendIcon({itemWidth:b,itemHeight:T,icon:v,iconRotate:V,itemStyle:I.itemStyle,lineStyle:I.lineStyle,symbolKeepAspect:E}))}var B=u==="left"?b+5:-5,z=u,G=c.get("formatter"),H=o;isString(G)&&G?H=G.replace("{name}",o??""):isFunction(G)&&(H=G(o));var W=C?N.getTextColor():l.get("inactiveColor");L.add(new ZRText({style:createTextStyle(N,{text:H,x:B,y:T/2,fill:W,align:z,verticalAlign:"middle"},{inheritColor:W})}));var j=new Rect$2({shape:L.getBoundingRect(),style:{fill:"transparent"}}),X=l.getModel("tooltip");return X.get("show")&&setTooltipConfig({el:j,componentModel:c,itemName:o,itemTooltipOption:X.option}),L.add(j),L.eachChild(function(Z){Z.silent=!0}),j.silent=!g,this.getContentGroup().add(L),enableHoverEmphasis(L),L.__legendDataIndex=s,L},n.prototype.layoutInner=function(a,o,s,l,c,u){var d=this.getContentGroup(),f=this.getSelectorGroup();box(a.get("orient"),d,a.get("itemGap"),s.width,s.height);var v=d.getBoundingRect(),g=[-v.x,-v.y];if(f.markRedraw(),d.markRedraw(),c){box("horizontal",f,a.get("selectorItemGap",!0));var y=f.getBoundingRect(),_=[-y.x,-y.y],b=a.get("selectorButtonGap",!0),T=a.getOrient().index,C=T===0?"width":"height",P=T===0?"height":"width",E=T===0?"y":"x";u==="end"?_[T]+=v[C]+b:g[T]+=y[C]+b,_[1-T]+=v[P]/2-y[P]/2,f.x=_[0],f.y=_[1],d.x=g[0],d.y=g[1];var M={x:0,y:0};return M[C]=v[C]+b+y[C],M[P]=Math.max(v[P],y[P]),M[E]=Math.min(0,y[E]+_[1-T]),M}else return d.x=g[0],d.y=g[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView);function getLegendStyle(r,n,a,o,s,l,c){function u(C,P){C.lineWidth==="auto"&&(C.lineWidth=P.lineWidth>0?2:0),each$3(C,function(E,M){C[M]==="inherit"&&(C[M]=P[M])})}var d=n.getModel("itemStyle"),f=d.getItemStyle(),v=r.lastIndexOf("empty",0)===0?"fill":"stroke",g=d.getShallow("decal");f.decal=!g||g==="inherit"?o.decal:createOrUpdatePatternFromDecal(g,c),f.fill==="inherit"&&(f.fill=o[s]),f.stroke==="inherit"&&(f.stroke=o[v]),f.opacity==="inherit"&&(f.opacity=(s==="fill"?o:a).opacity),u(f,o);var y=n.getModel("lineStyle"),_=y.getLineStyle();if(u(_,a),f.fill==="auto"&&(f.fill=o.fill),f.stroke==="auto"&&(f.stroke=o.fill),_.stroke==="auto"&&(_.stroke=o.fill),!l){var b=n.get("inactiveBorderWidth"),T=f[v];f.lineWidth=b==="auto"?o.lineWidth>0&&T?2:0:f.lineWidth,f.fill=n.get("inactiveColor"),f.stroke=n.get("inactiveBorderColor"),_.stroke=y.get("inactiveColor"),_.lineWidth=y.get("inactiveWidth")}return{itemStyle:f,lineStyle:_}}function getDefaultLegendIcon(r){var n=r.icon||"roundRect",a=createSymbol$1(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return a.setStyle(r.itemStyle),a.rotation=(r.iconRotate||0)*Math.PI/180,a.setOrigin([r.itemWidth/2,r.itemHeight/2]),n.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a}function dispatchSelectAction(r,n,a,o){dispatchDownplayAction(r,n,a,o),a.dispatchAction({type:"legendToggleSelect",name:r??n}),dispatchHighlightAction(r,n,a,o)}function isUseHoverLayer(r){for(var n=r.getZr().storage.getDisplayList(),a,o=0,s=n.length;o<s&&!(a=n[o].states.emphasis);)o++;return a&&a.hoverLayer}function dispatchHighlightAction(r,n,a,o){isUseHoverLayer(a)||a.dispatchAction({type:"highlight",seriesName:r,name:n,excludeSeriesId:o})}function dispatchDownplayAction(r,n,a,o){isUseHoverLayer(a)||a.dispatchAction({type:"downplay",seriesName:r,name:n,excludeSeriesId:o})}function legendFilter(r){var n=r.findComponents({mainType:"legend"});n&&n.length&&r.filterSeries(function(a){for(var o=0;o<n.length;o++)if(!n[o].isSelected(a.name))return!1;return!0})}function legendSelectActionHandler(r,n,a){var o=r==="allSelect"||r==="inverseSelect",s={},l=[];a.eachComponent({mainType:"legend",query:n},function(u){o?u[r]():u[r](n.name),makeSelectedMap(u,s),l.push(u.componentIndex)});var c={};return a.eachComponent("legend",function(u){each$f(s,function(d,f){u[d?"select":"unSelect"](f)}),makeSelectedMap(u,c)}),o?{selected:c,legendIndex:l}:{name:n.name,selected:c}}function makeSelectedMap(r,n){var a=n||{};return each$f(r.getData(),function(o){var s=o.get("name");if(!(s===`
`||s==="")){var l=r.isSelected(s);hasOwn(a,s)?a[s]=a[s]&&l:a[s]=l}}),a}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(r){r.registerComponentModel(LegendModel),r.registerComponentView(LegendView),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},n.prototype.init=function(a,o,s){var l=getLayoutParams(a);r.prototype.init.call(this,a,o,s),mergeAndNormalizeLayoutParams(this,a,l)},n.prototype.mergeOption=function(a,o){r.prototype.mergeOption.call(this,a,o),mergeAndNormalizeLayoutParams(this,this.option,a)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel);function mergeAndNormalizeLayoutParams(r,n,a){var o=r.getOrient(),s=[1,1];s[o.index]=0,mergeLayoutParam(n,a,{type:"box",ignoreSize:!!s})}var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.newlineDisabled=!0,a._currentIndex=0,a}return n.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(a,o,s,l,c,u,d){var f=this;r.prototype.renderInner.call(this,a,o,s,l,c,u,d);var v=this._controllerGroup,g=o.get("pageIconSize",!0),y=isArray$1(g)?g:[g,g];b("pagePrev",0);var _=o.getModel("pageTextStyle");v.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),b("pageNext",1);function b(T,C){var P=T+"DataIndex",E=createIcon(o.get("pageIcons",!0)[o.getOrient().name][C],{onclick:bind$1(f._pageGo,f,P,o,l)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});E.name=T,v.add(E)}},n.prototype.layoutInner=function(a,o,s,l,c,u){var d=this.getSelectorGroup(),f=a.getOrient().index,v=WH[f],g=XY[f],y=WH[1-f],_=XY[1-f];c&&box("horizontal",d,a.get("selectorItemGap",!0));var b=a.get("selectorButtonGap",!0),T=d.getBoundingRect(),C=[-T.x,-T.y],P=clone$4(s);c&&(P[v]=s[v]-T[v]-b);var E=this._layoutContentAndController(a,l,P,f,v,y,_,g);if(c){if(u==="end")C[f]+=E[v]+b;else{var M=T[v]+b;C[f]-=M,E[g]-=M}E[v]+=T[v]+b,C[1-f]+=E[_]+E[y]/2-T[y]/2,E[y]=Math.max(E[y],T[y]),E[_]=Math.min(E[_],T[_]+C[1-f]),d.x=C[0],d.y=C[1],d.markRedraw()}return E},n.prototype._layoutContentAndController=function(a,o,s,l,c,u,d,f){var v=this.getContentGroup(),g=this._containerGroup,y=this._controllerGroup;box(a.get("orient"),v,a.get("itemGap"),l?s.width:null,l?null:s.height),box("horizontal",y,a.get("pageButtonItemGap",!0));var _=v.getBoundingRect(),b=y.getBoundingRect(),T=this._showController=_[c]>s[c],C=[-_.x,-_.y];o||(C[l]=v[f]);var P=[0,0],E=[-b.x,-b.y],M=retrieve2(a.get("pageButtonGap",!0),a.get("itemGap",!0));if(T){var I=a.get("pageButtonPosition",!0);I==="end"?E[l]+=s[c]-b[c]:P[l]+=b[c]+M}E[1-l]+=_[u]/2-b[u]/2,v.setPosition(C),g.setPosition(P),y.setPosition(E);var L={x:0,y:0};if(L[c]=T?s[c]:_[c],L[u]=Math.max(_[u],b[u]),L[d]=Math.min(0,b[d]+E[1-l]),g.__rectSize=s[c],T){var N={x:0,y:0};N[c]=Math.max(s[c]-b[c]-M,0),N[u]=L[u],g.setClipPath(new Rect$2({shape:N})),g.__rectSize=N[c]}else y.eachChild(function(B){B.attr({invisible:!0,silent:!0})});var V=this._getPageInfo(a);return V.pageIndex!=null&&updateProps$1(v,{x:V.contentPosition[0],y:V.contentPosition[1]},T?a:null),this._updatePageInfoView(a,V),L},n.prototype._pageGo=function(a,o,s){var l=this._getPageInfo(o)[a];l!=null&&s.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:o.id})},n.prototype._updatePageInfoView=function(a,o){var s=this._controllerGroup;each$f(["pagePrev","pageNext"],function(v){var g=v+"DataIndex",y=o[g]!=null,_=s.childOfName(v);_&&(_.setStyle("fill",y?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var l=s.childOfName("pageText"),c=a.get("pageFormatter"),u=o.pageIndex,d=u!=null?u+1:0,f=o.pageCount;l&&c&&l.setStyle("text",isString(c)?c.replace("{current}",d==null?"":d+"").replace("{total}",f==null?"":f+""):c({current:d,total:f}))},n.prototype._getPageInfo=function(a){var o=a.get("scrollDataIndex",!0),s=this.getContentGroup(),l=this._containerGroup.__rectSize,c=a.getOrient().index,u=WH[c],d=XY[c],f=this._findTargetItemIndex(o),v=s.children(),g=v[f],y=v.length,_=y?1:0,b={contentPosition:[s.x,s.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return b;var T=I(g);b.contentPosition[c]=-T.s;for(var C=f+1,P=T,E=T,M=null;C<=y;++C)M=I(v[C]),(!M&&E.e>P.s+l||M&&!L(M,P.s))&&(E.i>P.i?P=E:P=M,P&&(b.pageNextDataIndex==null&&(b.pageNextDataIndex=P.i),++b.pageCount)),E=M;for(var C=f-1,P=T,E=T,M=null;C>=-1;--C)M=I(v[C]),(!M||!L(E,M.s))&&P.i<E.i&&(E=P,b.pagePrevDataIndex==null&&(b.pagePrevDataIndex=P.i),++b.pageCount,++b.pageIndex),P=M;return b;function I(N){if(N){var V=N.getBoundingRect(),B=V[d]+N[d];return{s:B,e:B+V[u],i:N.__legendDataIndex}}}function L(N,V){return N.e>=V&&N.s<=V+l}},n.prototype._findTargetItemIndex=function(a){if(!this._showController)return 0;var o,s=this.getContentGroup(),l;return s.eachChild(function(c,u){var d=c.__legendDataIndex;l==null&&d!=null&&(l=u),d===a&&(o=u)}),o??l},n.type="legend.scroll",n}(LegendView);function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(n,a){var o=n.scrollDataIndex;o!=null&&a.eachComponent({mainType:"legend",subType:"scroll",query:n},function(s){s.setScrollDataIndex(o)})})}function install$a(r){use(install$b),r.registerComponentModel(ScrollableLegendModel),r.registerComponentView(ScrollableLegendView),installScrollableLegendAction(r)}function install$9(r){use(install$b),use(install$a)}var InsideZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel),inner$1=makeInner();function setViewInfoToCoordSysRecord(r,n,a){inner$1(r).coordSysRecordMap.each(function(o){var s=o.dataZoomInfoMap.get(n.uid);s&&(s.getRange=a)})}function disposeCoordSysRecordIfNeeded(r,n){for(var a=inner$1(r).coordSysRecordMap,o=a.keys(),s=0;s<o.length;s++){var l=o[s],c=a.get(l),u=c.dataZoomInfoMap;if(u){var d=n.uid,f=u.get(d);f&&(u.removeKey(d),u.keys().length||disposeCoordSysRecord(a,c))}}}function disposeCoordSysRecord(r,n){if(n){r.removeKey(n.model.uid);var a=n.controller;a&&a.dispose()}}function createCoordSysRecord(r,n){var a={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,r),dataZoomInfoMap:null,controller:null},o=a.controller=new RoamController(r.getZr());return each$f(["pan","zoom","scrollMove"],function(s){o.on(s,function(l){var c=[];a.dataZoomInfoMap.each(function(u){if(l.isAvailableBehavior(u.model.option)){var d=(u.getRange||{})[s],f=d&&d(u.dzReferCoordSysInfo,a.model.mainType,a.controller,l);!u.model.get("disabled",!0)&&f&&c.push({dataZoomId:u.model.id,start:f[0],end:f[1]})}}),c.length&&a.dispatchAction(c)})}),a}function dispatchAction(r,n){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint(r,n,a,o){return r.coordinateSystem.containPoint([a,o])}function mergeControllerParams(r){var n,a="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return r.each(function(l){var c=l.model,u=c.get("disabled",!0)?!1:c.get("zoomLock",!0)?"move":!0;o[a+u]>o[a+n]&&(n=u),s=s&&c.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s}}}function installDataZoomRoamProcessor(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(n,a){var o=inner$1(a),s=o.coordSysRecordMap||(o.coordSysRecordMap=createHashMap());s.each(function(l){l.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(l){var c=collectReferCoordSysModelInfo(l);each$f(c.infoList,function(u){var d=u.model.uid,f=s.get(d)||s.set(d,createCoordSysRecord(a,u.model)),v=f.dataZoomInfoMap||(f.dataZoomInfoMap=createHashMap());v.set(l.uid,{dzReferCoordSysInfo:u,model:l,getRange:null})})}),s.each(function(l){var c=l.controller,u,d=l.dataZoomInfoMap;if(d){var f=d.keys()[0];f!=null&&(u=d.get(f))}if(!u){disposeCoordSysRecord(s,l);return}var v=mergeControllerParams(d);c.enable(v.controlType,v.opt),c.setPointerChecker(l.containsPoint),createOrUpdate(l,"dispatchAction",u.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="dataZoom.inside",a}return n.prototype.render=function(a,o,s){if(r.prototype.render.apply(this,arguments),a.noTarget()){this._clear();return}this.range=a.getPercentRange(),setViewInfoToCoordSysRecord(s,a,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView),getRangeHandlers={zoom:function(r,n,a,o){var s=this.range,l=s.slice(),c=r.axisModels[0];if(c){var u=getDirectionInfo[n](null,[o.originX,o.originY],c,a,r),d=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(l[1]-l[0])+l[0],f=Math.max(1/o.scale,0);l[0]=(l[0]-d)*f+d,l[1]=(l[1]-d)*f+d;var v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,l,[0,100],0,v.minSpan,v.maxSpan),this.range=l,s[0]!==l[0]||s[1]!==l[1])return l}},pan:makeMover(function(r,n,a,o,s,l){var c=getDirectionInfo[o]([l.oldX,l.oldY],[l.newX,l.newY],n,s,a);return c.signal*(r[1]-r[0])*c.pixel/c.pixelLength}),scrollMove:makeMover(function(r,n,a,o,s,l){var c=getDirectionInfo[o]([0,0],[l.scrollDelta,l.scrollDelta],n,s,a);return c.signal*(r[1]-r[0])*l.scrollDelta})};function makeMover(r){return function(n,a,o,s){var l=this.range,c=l.slice(),u=n.axisModels[0];if(u){var d=r(c,u,n,a,o,s);if(sliderMove(d,c,[0,100],"all"),this.range=c,l[0]!==c[0]||l[1]!==c[1])return c}}}var getDirectionInfo={grid:function(r,n,a,o,s){var l=a.axis,c={},u=s.model.coordinateSystem.getRect();return r=r||[0,0],l.dim==="x"?(c.pixel=n[0]-r[0],c.pixelLength=u.width,c.pixelStart=u.x,c.signal=l.inverse?1:-1):(c.pixel=n[1]-r[1],c.pixelLength=u.height,c.pixelStart=u.y,c.signal=l.inverse?-1:1),c},polar:function(r,n,a,o,s){var l=a.axis,c={},u=s.model.coordinateSystem,d=u.getRadiusAxis().getExtent(),f=u.getAngleAxis().getExtent();return r=r?u.pointToCoord(r):[0,0],n=u.pointToCoord(n),a.mainType==="radiusAxis"?(c.pixel=n[0]-r[0],c.pixelLength=d[1]-d[0],c.pixelStart=d[0],c.signal=l.inverse?1:-1):(c.pixel=n[1]-r[1],c.pixelLength=f[1]-f[0],c.pixelStart=f[0],c.signal=l.inverse?-1:1),c},singleAxis:function(r,n,a,o,s){var l=a.axis,c=s.model.coordinateSystem.getRect(),u={};return r=r||[0,0],l.orient==="horizontal"?(u.pixel=n[0]-r[0],u.pixelLength=c.width,u.pixelStart=c.x,u.signal=l.inverse?1:-1):(u.pixel=n[1]-r[1],u.pixelLength=c.height,u.pixelStart=c.y,u.signal=l.inverse?-1:1),u}};function install$8(r){installCommon$1(r),r.registerComponentModel(InsideZoomModel),r.registerComponentView(InsideZoomView),installDataZoomRoamProcessor(r)}var SliderZoomModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel),Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._displayables={},a}return n.prototype.init=function(a,o){this.api=o,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},n.prototype.render=function(a,o,s,l){if(r.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",a.get("throttle"),"fixRate"),this._orient=a.getOrient(),a.get("show")===!1){this.group.removeAll();return}if(a.noTarget()){this._clear(),this.group.removeAll();return}(!l||l.type!=="dataZoom"||l.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var a=this.api.getZr();a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(o),this._positionGroup()},n.prototype._resetLocation=function(){var a=this.dataZoomModel,o=this.api,s=a.get("brushSelect"),l=s?DEFAULT_MOVE_HANDLE_SIZE:0,c=this._findCoordRect(),u={width:o.getWidth(),height:o.getHeight()},d=this._orient===HORIZONTAL?{right:u.width-c.x-c.width,top:u.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-l,width:c.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:c.y,width:DEFAULT_FILLER_SIZE,height:c.height},f=getLayoutParams(a.option);each$f(["right","top","width","height"],function(g){f[g]==="ph"&&(f[g]=d[g])});var v=getLayoutRect(f,u);this._location={x:v.x,y:v.y},this._size=[v.width,v.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var a=this.group,o=this._location,s=this._orient,l=this.dataZoomModel.getFirstTargetAxisModel(),c=l&&l.get("inverse"),u=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;u.attr(s===HORIZONTAL&&!c?{scaleY:d?1:-1,scaleX:1}:s===HORIZONTAL&&c?{scaleY:d?1:-1,scaleX:-1}:s===VERTICAL&&!c?{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2});var f=a.getBoundingRect([u]);a.x=o.x-f.x,a.y=o.y-f.y,a.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var a=this.dataZoomModel,o=this._size,s=this._displayables.sliderGroup,l=a.get("brushSelect");s.add(new Rect({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:a.get("backgroundColor")},z2:-40}));var c=new Rect({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),u=this.api.getZr();l?(c.on("mousedown",this._onBrushStart,this),c.cursor="crosshair",u.on("mousemove",this._onBrush),u.on("mouseup",this._onBrushEnd)):(u.off("mousemove",this._onBrush),u.off("mouseup",this._onBrushEnd)),s.add(c)},n.prototype._renderDataShadow=function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!a)return;var o=this._size,s=this._shadowSize||[],l=a.series,c=l.getRawData(),u=l.getShadowDim&&l.getShadowDim(),d=u&&c.getDimensionInfo(u)?l.getShadowDim():a.otherDim;if(d==null)return;var f=this._shadowPolygonPts,v=this._shadowPolylinePts;if(c!==this._shadowData||d!==this._shadowDim||o[0]!==s[0]||o[1]!==s[1]){var g=c.getDataExtent(d),y=(g[1]-g[0])*.3;g=[g[0]-y,g[1]+y];var _=[0,o[1]],b=[0,o[0]],T=[[o[0],0],[0,0]],C=[],P=b[1]/(c.count()-1),E=0,M=Math.round(c.count()/o[0]),I;c.each([d],function(z,G){if(M>0&&G%M){E+=P;return}var H=z==null||isNaN(z)||z==="",W=H?0:linearMap$2(z,g,_,!0);H&&!I&&G?(T.push([T[T.length-1][0],0]),C.push([C[C.length-1][0],0])):!H&&I&&(T.push([E,0]),C.push([E,0])),T.push([E,W]),C.push([E,W]),E+=P,I=H}),f=this._shadowPolygonPts=T,v=this._shadowPolylinePts=C}this._shadowData=c,this._shadowDim=d,this._shadowSize=[o[0],o[1]];var L=this.dataZoomModel;function N(z){var G=L.getModel(z?"selectedDataBackground":"dataBackground"),H=new Group$3,W=new Polygon({shape:{points:f},segmentIgnoreThreshold:1,style:G.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),j=new Polyline$1({shape:{points:v},segmentIgnoreThreshold:1,style:G.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return H.add(W),H.add(j),H}for(var V=0;V<3;V++){var B=N(V===1);this._displayables.sliderGroup.add(B),this._displayables.dataShadowSegs.push(B)}},n.prototype._prepareDataShadowInfo=function(){var a=this.dataZoomModel,o=a.get("showDataShadow");if(o!==!1){var s,l=this.ecModel;return a.eachTargetAxis(function(c,u){var d=a.getAxisProxy(c,u).getTargetSeriesModels();each$f(d,function(f){if(!s&&!(o!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,f.get("type"))<0)){var v=l.getComponent(getAxisMainType(c),u).axis,g=getOtherDim(c),y,_=f.coordinateSystem;g!=null&&_.getOtherAxis&&(y=_.getOtherAxis(v).inverse),g=f.getData().mapDimension(g),s={thisAxis:v,series:f,thisDim:c,otherDim:g,otherAxisInverse:y}}},this)},this),s}},n.prototype._renderHandle=function(){var a=this.group,o=this._displayables,s=o.handles=[null,null],l=o.handleLabels=[null,null],c=this._displayables.sliderGroup,u=this._size,d=this.dataZoomModel,f=this.api,v=d.get("borderRadius")||0,g=d.get("brushSelect"),y=o.filler=new Rect({silent:g,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});c.add(y),c.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:u[0],height:u[1],r:v},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(M){var I=d.get("handleIcon");!symbolBuildProxies[I]&&I.indexOf("path://")<0&&I.indexOf("image://")<0&&(I="path://"+I);var L=createSymbol$1(I,-1,0,2,2,null,!0);L.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,M),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var N=L.getBoundingRect(),V=d.get("handleSize");this._handleHeight=parsePercent(V,this._size[1]),this._handleWidth=N.width/N.height*this._handleHeight,L.setStyle(d.getModel("handleStyle").getItemStyle()),L.style.strokeNoScale=!0,L.rectHover=!0,L.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(L);var B=d.get("handleColor");B!=null&&(L.style.fill=B),c.add(s[M]=L);var z=d.getModel("textStyle"),G=d.get("handleLabel")||{},H=G.show||!1;a.add(l[M]=new ZRText({silent:!0,invisible:!H,style:createTextStyle(z,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:z.getTextColor(),font:z.getFont()}),z2:10}))},this);var _=y;if(g){var b=parsePercent(d.get("moveHandleSize"),u[1]),T=o.moveHandle=new Rect$2({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:u[1]-.5,height:b}}),C=b*.8,P=o.moveHandleIcon=createSymbol$1(d.get("moveHandleIcon"),-C/2,-C/2,C,C,"#fff",!0);P.silent=!0,P.y=u[1]+b/2-.5,T.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var E=Math.min(u[1]/2,Math.max(b,10));_=o.moveZone=new Rect$2({invisible:!0,shape:{y:u[1]-E,height:b+E}}),_.on("mouseover",function(){f.enterEmphasis(T)}).on("mouseout",function(){f.leaveEmphasis(T)}),c.add(T),c.add(P),c.add(_)}_.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[linearMap$2(a[0],[0,100],o,!0),linearMap$2(a[1],[0,100],o,!0)]},n.prototype._updateInterval=function(a,o){var s=this.dataZoomModel,l=this._handleEnds,c=this._getViewExtent(),u=s.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];sliderMove(o,l,c,s.get("zoomLock")?"all":a,u.minSpan!=null?linearMap$2(u.minSpan,d,c,!0):null,u.maxSpan!=null?linearMap$2(u.maxSpan,d,c,!0):null);var f=this._range,v=this._range=asc$2([linearMap$2(l[0],c,d,!0),linearMap$2(l[1],c,d,!0)]);return!f||f[0]!==v[0]||f[1]!==v[1]},n.prototype._updateView=function(a){var o=this._displayables,s=this._handleEnds,l=asc$2(s.slice()),c=this._size;each$f([0,1],function(_){var b=o.handles[_],T=this._handleHeight;b.attr({scaleX:T/2,scaleY:T/2,x:s[_]+(_?-1:1),y:c[1]/2-T/2})},this),o.filler.setShape({x:l[0],y:0,width:l[1]-l[0],height:c[1]});var u={x:l[0],width:l[1]-l[0]};o.moveHandle&&(o.moveHandle.setShape(u),o.moveZone.setShape(u),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",u.x+u.width/2));for(var d=o.dataShadowSegs,f=[0,l[0],l[1],c[0]],v=0;v<d.length;v++){var g=d[v],y=g.getClipPath();y||(y=new Rect$2,g.setClipPath(y)),y.setShape({x:f[v],y:0,width:f[v+1]-f[v],height:c[1]})}this._updateDataInfo(a)},n.prototype._updateDataInfo=function(a){var o=this.dataZoomModel,s=this._displayables,l=s.handleLabels,c=this._orient,u=["",""];if(o.get("showDetail")){var d=o.findRepresentativeAxisProxy();if(d){var f=d.getAxisModel().axis,v=this._range,g=a?d.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:d.getDataValueWindow();u=[this._formatLabel(g[0],f),this._formatLabel(g[1],f)]}}var y=asc$2(this._handleEnds.slice());_.call(this,0),_.call(this,1);function _(b){var T=getTransform$1(s.handles[b].parent,this.group),C=transformDirection(b===0?"right":"left",T),P=this._handleWidth/2+LABEL_GAP,E=applyTransform([y[b]+(b===0?-P:P),this._size[1]/2],T);l[b].setStyle({x:E[0],y:E[1],verticalAlign:c===HORIZONTAL?"middle":C,align:c===HORIZONTAL?C:"center",text:u[b]})}},n.prototype._formatLabel=function(a,o){var s=this.dataZoomModel,l=s.get("labelFormatter"),c=s.get("labelPrecision");(c==null||c==="auto")&&(c=o.getPixelPrecision());var u=a==null||isNaN(a)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(c,20));return isFunction(l)?l(a,u):isString(l)?l.replace("{value}",u):u},n.prototype._showDataInfo=function(a){var o=this.dataZoomModel.get("handleLabel")||{},s=o.show||!1,l=this.dataZoomModel.getModel(["emphasis","handleLabel"]),c=l.get("show")||!1,u=a||this._dragging?c:s,d=this._displayables,f=d.handleLabels;f[0].attr("invisible",!u),f[1].attr("invisible",!u),d.moveHandle&&this.api[u?"enterEmphasis":"leaveEmphasis"](d.moveHandle,1)},n.prototype._onDragMove=function(a,o,s,l){this._dragging=!0,stop(l.event);var c=this._displayables.sliderGroup.getLocalTransform(),u=applyTransform([o,s],c,!0),d=this._updateInterval(a,u[0]),f=this.dataZoomModel.get("realtime");this._updateView(!f),d&&f&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var a=this.dataZoomModel.get("realtime");!a&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(a){var o=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(s[0]<0||s[0]>o[0]||s[1]<0||s[1]>o[1])){var l=this._handleEnds,c=(l[0]+l[1])/2,u=this._updateInterval("all",s[0]-c);this._updateView(),u&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(a){var o=a.offsetX,s=a.offsetY;this._brushStart=new Point(o,s),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(a){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var s=o.shape,l=+new Date;if(!(l-this._brushStartTime<200&&Math.abs(s.width)<5)){var c=this._getViewExtent(),u=[0,100];this._range=asc$2([linearMap$2(s.x,c,u,!0),linearMap$2(s.x+s.width,c,u,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(a){this._brushing&&(stop(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},n.prototype._updateBrushRect=function(a,o){var s=this._displayables,l=this.dataZoomModel,c=s.brushRect;c||(c=s.brushRect=new Rect({silent:!0,style:l.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(c)),c.attr("ignore",!1);var u=this._brushStart,d=this._displayables.sliderGroup,f=d.transformCoordToLocal(a,o),v=d.transformCoordToLocal(u.x,u.y),g=this._size;f[0]=Math.max(Math.min(g[0],f[0]),0),c.setShape({x:v[0],y:0,width:f[0]-v[0],height:g[1]})},n.prototype._dispatchZoomAction=function(a){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:a?REALTIME_ANIMATION_CONFIG:null,start:o[0],end:o[1]})},n.prototype._findCoordRect=function(){var a,o=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!a&&o.length){var s=o[0].model.coordinateSystem;a=s.getRect&&s.getRect()}if(!a){var l=this.api.getWidth(),c=this.api.getHeight();a={x:l*.2,y:c*.2,width:l*.6,height:c*.6}}return a},n.type="dataZoom.slider",n}(DataZoomView);function getOtherDim(r){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[r]}function getCursor$1(r){return r==="vertical"?"ns-resize":"ew-resize"}function install$7(r){r.registerComponentModel(SliderZoomModel),r.registerComponentView(SliderZoomView),installCommon$1(r)}function install$6(r){use(install$8),use(install$7)}var visualDefault={get:function(r,n,a){var o=clone$4((defaultOption[r]||{})[n]);return a&&isArray$1(o)?o[o.length-1]:o}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.stateList=["inRange","outOfRange"],a.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],a.layoutMode={type:"box",ignoreSize:!0},a.dataBound=[-1/0,1/0],a.targetVisuals={},a.controllerVisuals={},a}return n.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s)},n.prototype.optionUpdated=function(a,o){var s=this.option;!o&&replaceVisualOption(s,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(a){var o=this.stateList;a=bind$1(a,this),this.controllerVisuals=createVisualMappings(this.option.controller,o,a),this.targetVisuals=createVisualMappings(this.option.target,o,a)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesIndex,o=[];return a==null||a==="all"?this.ecModel.eachSeries(function(s,l){o.push(l)}):o=normalizeToArray(a),o},n.prototype.eachTargetSeries=function(a,o){each$f(this.getTargetSeriesIndices(),function(s){var l=this.ecModel.getSeriesByIndex(s);l&&a.call(o,l)},this)},n.prototype.isTargetSeries=function(a){var o=!1;return this.eachTargetSeries(function(s){s===a&&(o=!0)}),o},n.prototype.formatValueText=function(a,o,s){var l=this.option,c=l.precision,u=this.dataBound,d=l.formatter,f;s=s||["<",">"],isArray$1(a)&&(a=a.slice(),f=!0);var v=o?a:f?[g(a[0]),g(a[1])]:g(a);if(isString(d))return d.replace("{value}",f?v[0]:v).replace("{value2}",f?v[1]:v);if(isFunction(d))return f?d(a[0],a[1]):d(a);if(f)return a[0]===u[0]?s[0]+" "+v[1]:a[1]===u[1]?s[1]+" "+v[0]:v[0]+" - "+v[1];return v;function g(y){return y===u[0]?"min":y===u[1]?"max":(+y).toFixed(Math.min(c,20))}},n.prototype.resetExtent=function(){var a=this.option,o=asc([a.min,a.max]);this._dataExtent=o},n.prototype.getDataDimensionIndex=function(a){var o=this.option.dimension;if(o!=null)return a.getDimensionIndex(o);for(var s=a.dimensions,l=s.length-1;l>=0;l--){var c=s[l],u=a.getDimensionInfo(c);if(!u.isCalculationCoord)return u.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var a=this.ecModel,o=this.option,s={inRange:o.inRange,outOfRange:o.outOfRange},l=o.target||(o.target={}),c=o.controller||(o.controller={});merge(l,s),merge(c,s);var u=this.isCategory();d.call(this,l),d.call(this,c),f.call(this,l,"inRange","outOfRange"),v.call(this,c);function d(g){isArray(o.color)&&!g.inRange&&(g.inRange={color:o.color.slice().reverse()}),g.inRange=g.inRange||{color:a.get("gradientColor")}}function f(g,y,_){var b=g[y],T=g[_];b&&!T&&(T=g[_]={},each$2(b,function(C,P){if(VisualMapping.isValidType(P)){var E=visualDefault.get(P,"inactive",u);E!=null&&(T[P]=E,P==="color"&&!T.hasOwnProperty("opacity")&&!T.hasOwnProperty("colorAlpha")&&(T.opacity=[0,0]))}}))}function v(g){var y=(g.inRange||{}).symbol||(g.outOfRange||{}).symbol,_=(g.inRange||{}).symbolSize||(g.outOfRange||{}).symbolSize,b=this.get("inactiveColor"),T=this.getItemSymbol(),C=T||"roundRect";each$2(this.stateList,function(P){var E=this.itemSize,M=g[P];M||(M=g[P]={color:u?b:[b]}),M.symbol==null&&(M.symbol=y&&clone$4(y)||(u?C:[C])),M.symbolSize==null&&(M.symbolSize=_&&clone$4(_)||(u?E[0]:[E[0],E[0]])),M.symbol=mapVisual(M.symbol,function(N){return N==="none"?C:N});var I=M.symbolSize;if(I!=null){var L=-1/0;eachVisual(I,function(N){N>L&&(L=N)}),M.symbolSize=mapVisual(I,function(N){return linearMap$1(N,[0,L],[0,E[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(a){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(a){return null},n.prototype.getVisualMeta=function(a){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.optionUpdated=function(a,o){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;(a[0]==null||isNaN(a[0]))&&(a[0]=DEFAULT_BAR_BOUND[0]),(a[1]==null||isNaN(a[1]))&&(a[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var a=this.getExtent(),o=this.option.range;!o||o.auto?(a.auto=1,this.option.range=a):isArray$1(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],a[0]),o[1]=Math.min(o[1],a[1]))},n.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(a){var o=this.option.controller[a].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},n.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},n.prototype.getSelected=function(){var a=this.getExtent(),o=asc$2((this.get("range")||[]).slice());return o[0]>a[1]&&(o[0]=a[1]),o[1]>a[1]&&(o[1]=a[1]),o[0]<a[0]&&(o[0]=a[0]),o[1]<a[0]&&(o[1]=a[0]),o},n.prototype.getValueState=function(a){var o=this.option.range,s=this.getExtent();return(o[0]<=s[0]||o[0]<=a)&&(o[1]>=s[1]||a<=o[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(a){var o=[];return this.eachTargetSeries(function(s){var l=[],c=s.getData();c.each(this.getDataDimensionIndex(c),function(u,d){a[0]<=u&&u<=a[1]&&l.push(d)},this),o.push({seriesId:s.id,dataIndex:l})},this),o},n.prototype.getVisualMeta=function(a){var o=getColorStopValues(this,"outOfRange",this.getExtent()),s=getColorStopValues(this,"inRange",this.option.range.slice()),l=[];function c(_,b){l.push({value:_,color:a(_,b)})}for(var u=0,d=0,f=s.length,v=o.length;d<v&&(!s.length||o[d]<=s[0]);d++)o[d]<s[u]&&c(o[d],"outOfRange");for(var g=1;u<f;u++,g=0)g&&l.length&&c(s[u],"outOfRange"),c(s[u],"inRange");for(var g=1;d<v;d++)(!s.length||s[s.length-1]<o[d])&&(g&&(l.length&&c(l[l.length-1].value,"outOfRange"),g=0),c(o[d],"outOfRange"));var y=l.length;return{stops:l,outerColors:[y?l[0].color:"transparent",y?l[y-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel);function getColorStopValues(r,n,a){if(a[0]===a[1])return a.slice();for(var o=200,s=(a[1]-a[0])/o,l=a[0],c=[],u=0;u<=o&&l<a[1];u++)c.push(l),l+=s;return c.push(a[1]),c}var VisualMapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a.autoPositionValues={left:1,right:1,top:1,bottom:1},a}return n.prototype.init=function(a,o){this.ecModel=a,this.api=o},n.prototype.render=function(a,o,s,l){if(this.visualMapModel=a,a.get("show")===!1){this.group.removeAll();return}this.doRender(a,o,s,l)},n.prototype.renderBackground=function(a){var o=this.visualMapModel,s=normalizeCssArray(o.get("padding")||0),l=a.getBoundingRect();a.add(new Rect$2({z2:-1,silent:!0,shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[3]+s[1],height:l.height+s[0]+s[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},n.prototype.getControllerVisual=function(a,o,s){s=s||{};var l=s.forceState,c=this.visualMapModel,u={};if(o==="color"){var d=c.get("contentColor");u.color=d}function f(_){return u[_]}function v(_,b){u[_]=b}var g=c.controllerVisuals[l||c.getValueState(a)],y=VisualMapping.prepareVisualTypes(g);return each$f(y,function(_){var b=g[_];s.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",b=g.__alphaForOpacity),VisualMapping.dependsOn(_,o)&&b&&b.applyVisual(a,f,v)}),u[o]},n.prototype.positionGroup=function(a){var o=this.visualMapModel,s=this.api;positionElement(a,o.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},n.prototype.doRender=function(a,o,s,l){},n.type="visualMap",n}(ComponentView),paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(r,n,a){var o=r.option,s=o.align;if(s!=null&&s!=="auto")return s;for(var l={width:n.getWidth(),height:n.getHeight()},c=o.orient==="horizontal"?1:0,u=paramsSet[c],d=[0,null,10],f={},v=0;v<3;v++)f[paramsSet[1-c][v]]=d[v],f[u[v]]=v===2?a[0]:o[u[v]];var g=[["x","width",3],["y","height",0]][c],y=getLayoutRect(f,l,o.padding);return u[(y.margin[g[2]]||0)+y[g[0]]+y[g[1]]*.5<l[g[1]]*.5?0:1]}function makeHighDownBatch(r,n){return each$f(r||[],function(a){a.dataIndex!=null&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(n?n.componentIndex:"")}),r}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._shapes={},a._dataInterval=[],a._handleEnds=[],a._hoverLinkDataIndices=[],a}return n.prototype.init=function(a,o){r.prototype.init.call(this,a,o),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},n.prototype.doRender=function(a,o,s,l){(!l||l.type!=="selectDataRange"||l.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var a=this.visualMapModel,o=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(o);var s=a.get("text");this._renderEndsText(o,s,0),this._renderEndsText(o,s,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},n.prototype._renderEndsText=function(a,o,s){if(o){var l=o[1-s];l=l!=null?l+"":"";var c=this.visualMapModel,u=c.get("textGap"),d=c.itemSize,f=this._shapes.mainGroup,v=this._applyTransform([d[0]/2,s===0?-u:d[1]+u],f),g=this._applyTransform(s===0?"bottom":"top",f),y=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new ZRText({style:createTextStyle(_,{x:v[0],y:v[1],verticalAlign:y==="horizontal"?"middle":g,align:y==="horizontal"?g:"center",text:l})}))}},n.prototype._renderBar=function(a){var o=this.visualMapModel,s=this._shapes,l=o.itemSize,c=this._orient,u=this._useHandle,d=getItemAlign(o,this.api,l),f=s.mainGroup=this._createBarGroup(d),v=new Group$3;f.add(v),v.add(s.outOfRange=createPolygon()),v.add(s.inRange=createPolygon(null,u?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),v.setClipPath(new Rect$2({shape:{x:0,y:0,width:l[0],height:l[1],r:3}}));var g=o.textStyleModel.getTextRect("国"),y=mathMax(g.width,g.height);u&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(o,f,0,l,y,c),this._createHandle(o,f,1,l,y,c)),this._createIndicator(o,f,l,y,c),a.add(f)},n.prototype._createHandle=function(a,o,s,l,c,u){var d=bind$1(this._dragHandle,this,s,!1),f=bind$1(this._dragHandle,this,s,!0),v=parsePercent$1(a.get("handleSize"),l[0]),g=createSymbol$1(a.get("handleIcon"),-v/2,-v/2,v,v,null,!0),y=getCursor(this._orient);g.attr({cursor:y,draggable:!0,drift:d,ondragend:f,onmousemove:function(P){stop(P.event)}}),g.x=l[0]/2,g.useStyle(a.getModel("handleStyle").getItemStyle()),g.setStyle({strokeNoScale:!0,strokeFirst:!0}),g.style.lineWidth*=2,g.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(g,!0),o.add(g);var _=this.visualMapModel.textStyleModel,b=new ZRText({cursor:y,draggable:!0,drift:d,onmousemove:function(P){stop(P.event)},ondragend:f,style:createTextStyle(_,{x:0,y:0,text:""})});b.ensureState("blur").style={opacity:.1},b.stateTransition={duration:200},this.group.add(b);var T=[v,0],C=this._shapes;C.handleThumbs[s]=g,C.handleLabelPoints[s]=T,C.handleLabels[s]=b},n.prototype._createIndicator=function(a,o,s,l,c){var u=parsePercent$1(a.get("indicatorSize"),s[0]),d=createSymbol$1(a.get("indicatorIcon"),-u/2,-u/2,u,u,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var f=a.getModel("indicatorStyle").getItemStyle();if(d instanceof ZRImage){var v=d.style;d.useStyle(extend({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},f))}else d.useStyle(f);o.add(d);var g=this.visualMapModel.textStyleModel,y=new ZRText({silent:!0,invisible:!0,style:createTextStyle(g,{x:0,y:0,text:""})});this.group.add(y);var _=[(c==="horizontal"?l/2:HOVER_LINK_OUT)+s[0]/2,0],b=this._shapes;b.indicator=d,b.indicatorLabel=y,b.indicatorLabelPoint=_,this._firstShowIndicator=!0},n.prototype._dragHandle=function(a,o,s,l){if(this._useHandle){if(this._dragging=!o,!o){var c=this._applyTransform([s,l],this._shapes.mainGroup,!0);this._updateInterval(a,c[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},n.prototype._resetInterval=function(){var a=this.visualMapModel,o=this._dataInterval=a.getSelected(),s=a.getExtent(),l=[0,a.itemSize[1]];this._handleEnds=[linearMap(o[0],s,l,!0),linearMap(o[1],s,l,!0)]},n.prototype._updateInterval=function(a,o){o=o||0;var s=this.visualMapModel,l=this._handleEnds,c=[0,s.itemSize[1]];sliderMove(o,l,c,a,0);var u=s.getExtent();this._dataInterval=[linearMap(l[0],c,u,!0),linearMap(l[1],c,u,!0)]},n.prototype._updateView=function(a){var o=this.visualMapModel,s=o.getExtent(),l=this._shapes,c=[0,o.itemSize[1]],u=a?c:this._handleEnds,d=this._createBarVisual(this._dataInterval,s,u,"inRange"),f=this._createBarVisual(s,s,c,"outOfRange");l.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),l.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(u,d)},n.prototype._createBarVisual=function(a,o,s,l){var c={forceState:l,convertOpacityToAlpha:!0},u=this._makeColorGradient(a,c),d=[this.getControllerVisual(a[0],"symbolSize",c),this.getControllerVisual(a[1],"symbolSize",c)],f=this._createBarPoints(s,d);return{barColor:new LinearGradient(0,0,0,1,u),barPoints:f,handlesColor:[u[0].color,u[u.length-1].color]}},n.prototype._makeColorGradient=function(a,o){var s=100,l=[],c=(a[1]-a[0])/s;l.push({color:this.getControllerVisual(a[0],"color",o),offset:0});for(var u=1;u<s;u++){var d=a[0]+c*u;if(d>a[1])break;l.push({color:this.getControllerVisual(d,"color",o),offset:u/s})}return l.push({color:this.getControllerVisual(a[1],"color",o),offset:1}),l},n.prototype._createBarPoints=function(a,o){var s=this.visualMapModel.itemSize;return[[s[0]-o[0],a[0]],[s[0],a[0]],[s[0],a[1]],[s[0]-o[1],a[1]]]},n.prototype._createBarGroup=function(a){var o=this._orient,s=this.visualMapModel.get("inverse");return new Group$3(o==="horizontal"&&!s?{scaleX:a==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&s?{scaleX:a==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!s?{scaleX:a==="left"?1:-1,scaleY:-1}:{scaleX:a==="left"?1:-1})},n.prototype._updateHandle=function(a,o){if(this._useHandle){var s=this._shapes,l=this.visualMapModel,c=s.handleThumbs,u=s.handleLabels,d=l.itemSize,f=l.getExtent(),v=this._applyTransform("left",s.mainGroup);each$1([0,1],function(g){var y=c[g];y.setStyle("fill",o.handlesColor[g]),y.y=a[g];var _=linearMap(a[g],[0,d[1]],f,!0),b=this.getControllerVisual(_,"symbolSize");y.scaleX=y.scaleY=b/d[0],y.x=d[0]-b/2;var T=applyTransform(s.handleLabelPoints[g],getTransform$1(y,this.group));if(this._orient==="horizontal"){var C=v==="left"||v==="top"?(d[0]-b)/2:(d[0]-b)/-2;T[1]+=C}u[g].setStyle({x:T[0],y:T[1],text:l.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",s.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(a,o,s,l){var c=this.visualMapModel,u=c.getExtent(),d=c.itemSize,f=[0,d[1]],v=this._shapes,g=v.indicator;if(g){g.attr("invisible",!1);var y={convertOpacityToAlpha:!0},_=this.getControllerVisual(a,"color",y),b=this.getControllerVisual(a,"symbolSize"),T=linearMap(a,u,f,!0),C=d[0]-b/2,P={x:g.x,y:g.y};g.y=T,g.x=C;var E=applyTransform(v.indicatorLabelPoint,getTransform$1(g,this.group)),M=v.indicatorLabel;M.attr("invisible",!1);var I=this._applyTransform("left",v.mainGroup),L=this._orient,N=L==="horizontal";M.setStyle({text:(s||"")+c.formatValueText(o),verticalAlign:N?I:"middle",align:N?"center":I});var V={x:C,y:T,style:{fill:_}},B={style:{x:E[0],y:E[1]}};if(c.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var z={duration:100,easing:"cubicInOut",additive:!0};g.x=P.x,g.y=P.y,g.animateTo(V,z),M.animateTo(B,z)}else g.attr(V),M.attr(B);this._firstShowIndicator=!1;var G=this._shapes.handleLabels;if(G)for(var H=0;H<G.length;H++)this.api.enterBlur(G[H])}},n.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(o){if(a._hovering=!0,!a._dragging){var s=a.visualMapModel.itemSize,l=a._applyTransform([o.offsetX,o.offsetY],a._shapes.mainGroup,!0,!0);l[1]=mathMin(mathMax(0,l[1]),s[1]),a._doHoverLinkToSeries(l[1],0<=l[0]&&l[0]<=s[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(a,o){var s=this.visualMapModel,l=s.itemSize;if(s.option.hoverLink){var c=[0,l[1]],u=s.getExtent();a=mathMin(mathMax(c[0],a),c[1]);var d=getHalfHoverLinkSize(s,u,c),f=[a-d,a+d],v=linearMap(a,c,u,!0),g=[linearMap(f[0],c,u,!0),linearMap(f[1],c,u,!0)];f[0]<c[0]&&(g[0]=-1/0),f[1]>c[1]&&(g[1]=1/0),o&&(g[0]===-1/0?this._showIndicator(v,g[1],"< ",d):g[1]===1/0?this._showIndicator(v,g[0],"> ",d):this._showIndicator(v,v,"≈ ",d));var y=this._hoverLinkDataIndices,_=[];(o||useHoverLinkOnHandle(s))&&(_=this._hoverLinkDataIndices=s.findTargetDataIndices(g));var b=compressBatches(y,_);this._dispatchHighDown("downplay",makeHighDownBatch(b[0],s)),this._dispatchHighDown("highlight",makeHighDownBatch(b[1],s))}},n.prototype._hoverLinkFromSeriesMouseOver=function(a){var o;if(findEventDispatcher(a.target,function(d){var f=getECData(d);if(f.dataIndex!=null)return o=f,!0},!0),!!o){var s=this.ecModel.getSeriesByIndex(o.seriesIndex),l=this.visualMapModel;if(l.isTargetSeries(s)){var c=s.getData(o.dataType),u=c.getStore().get(l.getDataDimensionIndex(c),o.dataIndex);isNaN(u)||this._showIndicator(u,u)}}},n.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var s=0;s<o.length;s++)this.api.leaveBlur(o[s])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(a,this.visualMapModel)),a.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(a,o,s,l){var c=getTransform$1(o,l?null:this.group);return isArray$1(a)?applyTransform(a,c,s):transformDirection(a,c,s)},n.prototype._dispatchHighDown=function(a,o){o&&o.length&&this.api.dispatchAction({type:a,batch:o})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView);function createPolygon(r,n,a,o){return new Polygon({shape:{points:r},draggable:!!a,cursor:n,drift:a,onmousemove:function(s){stop(s.event)},ondragend:o})}function getHalfHoverLinkSize(r,n,a){var o=HOVER_LINK_SIZE/2,s=r.get("hoverLinkDataSize");return s&&(o=linearMap(s,n,a,!0)/2),o}function useHoverLinkOnHandle(r){var n=r.get("hoverLinkOnHandle");return!!(n??r.get("realtime"))}function getCursor(r){return r==="vertical"?"ns-resize":"ew-resize"}var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(r,n){n.eachComponent({mainType:"visualMap",query:r},function(a){a.setSelected(r.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(r,n){var a=[];return n.eachComponent("visualMap",function(o){var s=r.pipelineContext;!o.isTargetSeries(r)||s&&s.large||a.push(incrementalApplyVisual(o.stateList,o.targetVisuals,bind$1(o.getValueState,o),o.getDataDimensionIndex(r.getData())))}),a}},{createOnAllSeries:!0,reset:function(r,n){var a=r.getData(),o=[];n.eachComponent("visualMap",function(s){if(s.isTargetSeries(r)){var l=s.getVisualMeta(bind$1(getColorVisual,null,r,s))||{stops:[],outerColors:[]},c=s.getDataDimensionIndex(a);c>=0&&(l.dimension=c,o.push(l))}}),r.getData().setVisual("visualMeta",o)}}];function getColorVisual(r,n,a,o){for(var s=n.targetVisuals[o],l=VisualMapping.prepareVisualTypes(s),c={color:getVisualFromData(r.getData(),"color")},u=0,d=l.length;u<d;u++){var f=l[u],v=s[f==="opacity"?"__alphaForOpacity":f];v&&v.applyVisual(a,g,y)}return c.color;function g(_){return c[_]}function y(_,b){c[_]=b}}var each=each$f;function visualMapPreprocessor(r){var n=r&&r.visualMap;isArray$1(n)||(n=n?[n]:[]),each(n,function(a){if(a){has(a,"splitList")&&!has(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var o=a.pieces;o&&isArray$1(o)&&each(o,function(s){isObject$3(s)&&(has(s,"start")&&!has(s,"min")&&(s.min=s.start),has(s,"end")&&!has(s,"max")&&(s.max=s.end))})}})}function has(r,n){return r&&r.hasOwnProperty&&r.hasOwnProperty(n)}var installed=!1;function installCommon(r){installed||(installed=!0,r.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),r.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(n){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,n)}),r.registerPreprocessor(visualMapPreprocessor))}function install$5(r){r.registerComponentModel(ContinuousModel),r.registerComponentView(ContinuousView),installCommon(r)}var PiecewiseModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a._pieceList=[],a}return n.prototype.optionUpdated=function(a,o){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(a,o);var l=this.option.categories;this.resetVisual(function(c,u){s==="categories"?(c.mappingMethod="category",c.categories=clone$4(l)):(c.dataExtent=this.getExtent(),c.mappingMethod="piecewise",c.pieceList=map$1(this._pieceList,function(d){return d=clone$4(d),u!=="inRange"&&(d.visual=null),d}))})},n.prototype.completeVisualOption=function(){var a=this.option,o={},s=VisualMapping.listVisualTypes(),l=this.isCategory();each$f(a.pieces,function(u){each$f(s,function(d){u.hasOwnProperty(d)&&(o[d]=1)})}),each$f(o,function(u,d){var f=!1;each$f(this.stateList,function(v){f=f||c(a,v,d)||c(a.target,v,d)},this),!f&&each$f(this.stateList,function(v){(a[v]||(a[v]={}))[d]=visualDefault.get(d,v==="inRange"?"active":"inactive",l)})},this);function c(u,d,f){return u&&u[d]&&u[d].hasOwnProperty(f)}r.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(a,o){var s=this.option,l=this._pieceList,c=(o?s:a).selected||{};if(s.selected=c,each$f(l,function(d,f){var v=this.getSelectedMapKey(d);c.hasOwnProperty(v)||(c[v]=!0)},this),s.selectedMode==="single"){var u=!1;each$f(l,function(d,f){var v=this.getSelectedMapKey(d);c[v]&&(u?c[v]=!1:u=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(a){return this._mode==="categories"?a.value+"":a.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(a){this.option.selected=clone$4(a)},n.prototype.getValueState=function(a){var o=VisualMapping.findPieceIndex(a,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(a){var o=[],s=this._pieceList;return this.eachTargetSeries(function(l){var c=[],u=l.getData();u.each(this.getDataDimensionIndex(u),function(d,f){var v=VisualMapping.findPieceIndex(d,s);v===a&&c.push(f)},this),o.push({seriesId:l.id,dataIndex:c})},this),o},n.prototype.getRepresentValue=function(a){var o;if(this.isCategory())o=a.value;else if(a.value!=null)o=a.value;else{var s=a.interval||[];o=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return o},n.prototype.getVisualMeta=function(a){if(this.isCategory())return;var o=[],s=["",""],l=this;function c(v,g){var y=l.getRepresentValue({interval:v});g||(g=l.getValueState(y));var _=a(y,g);v[0]===-1/0?s[0]=_:v[1]===1/0?s[1]=_:o.push({value:v[0],color:_},{value:v[1],color:_})}var u=this._pieceList.slice();if(!u.length)u.push({interval:[-1/0,1/0]});else{var d=u[0].interval[0];d!==-1/0&&u.unshift({interval:[-1/0,d]}),d=u[u.length-1].interval[1],d!==1/0&&u.push({interval:[d,1/0]})}var f=-1/0;return each$f(u,function(v){var g=v.interval;g&&(g[0]>f&&c([f,g[0]],"outOfRange"),c(g.slice()),f=g[1])},this),{stops:o,outerColors:s}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel),resetMethods={splitNumber:function(r){var n=this.option,a=Math.min(n.precision,20),o=this.getExtent(),s=n.splitNumber;s=Math.max(parseInt(s,10),1),n.splitNumber=s;for(var l=(o[1]-o[0])/s;+l.toFixed(a)!==l&&a<5;)a++;n.precision=a,l=+l.toFixed(a),n.minOpen&&r.push({interval:[-1/0,o[0]],close:[0,0]});for(var c=0,u=o[0];c<s;u+=l,c++){var d=c===s-1?o[1]:u+l;r.push({interval:[u,d],close:[1,1]})}n.maxOpen&&r.push({interval:[o[1],1/0],close:[0,0]}),reformIntervals(r),each$f(r,function(f,v){f.index=v,f.text=this.formatValueText(f.interval)},this)},categories:function(r){var n=this.option;each$f(n.categories,function(a){r.push({text:this.formatValueText(a,!0),value:a})},this),normalizeReverse(n,r)},pieces:function(r){var n=this.option;each$f(n.pieces,function(a,o){isObject$3(a)||(a={value:a});var s={text:"",index:o};if(a.label!=null&&(s.text=a.label),a.hasOwnProperty("value")){var l=s.value=a.value;s.interval=[l,l],s.close=[1,1]}else{for(var c=s.interval=[],u=s.close=[0,0],d=[1,0,1],f=[-1/0,1/0],v=[],g=0;g<2;g++){for(var y=[["gte","gt","min"],["lte","lt","max"]][g],_=0;_<3&&c[g]==null;_++)c[g]=a[y[_]],u[g]=d[_],v[g]=_===2;c[g]==null&&(c[g]=f[g])}v[0]&&c[1]===1/0&&(u[0]=0),v[1]&&c[0]===-1/0&&(u[1]=0),c[0]===c[1]&&u[0]&&u[1]&&(s.value=c[0])}s.visual=VisualMapping.retrieveVisuals(a),r.push(s)},this),normalizeReverse(n,r),reformIntervals(r),each$f(r,function(a){var o=a.close,s=[["<","≤"][o[1]],[">","≥"][o[0]]];a.text=a.text||this.formatValueText(a.value!=null?a.value:a.interval,!1,s)},this)}};function normalizeReverse(r,n){var a=r.inverse;(r.orient==="vertical"?!a:a)&&n.reverse()}var PiecewiseVisualMapView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type=n.type,a}return n.prototype.doRender=function(){var a=this.group;a.removeAll();var o=this.visualMapModel,s=o.get("textGap"),l=o.textStyleModel,c=l.getFont(),u=l.getTextColor(),d=this._getItemAlign(),f=o.itemSize,v=this._getViewData(),g=v.endsText,y=retrieve(o.get("showLabel",!0),!g),_=!o.get("selectedMode");g&&this._renderEndsText(a,g[0],f,y,d),each$f(v.viewPieceList,function(b){var T=b.piece,C=new Group$3;C.onclick=bind$1(this._onItemClick,this,T),this._enableHoverLink(C,b.indexInModelPieceList);var P=o.getRepresentValue(T);if(this._createItemSymbol(C,P,[0,0,f[0],f[1]],_),y){var E=this.visualMapModel.getValueState(P);C.add(new ZRText({style:{x:d==="right"?-s:f[0]+s,y:f[1]/2,text:T.text,verticalAlign:"middle",align:d,font:c,fill:u,opacity:E==="outOfRange"?.5:1},silent:_}))}a.add(C)},this),g&&this._renderEndsText(a,g[1],f,y,d),box(o.get("orient"),a,o.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},n.prototype._enableHoverLink=function(a,o){var s=this;a.on("mouseover",function(){return l("highlight")}).on("mouseout",function(){return l("downplay")});var l=function(c){var u=s.visualMapModel;u.option.hoverLink&&s.api.dispatchAction({type:c,batch:makeHighDownBatch(u.findTargetDataIndices(o),u)})}},n.prototype._getItemAlign=function(){var a=this.visualMapModel,o=a.option;if(o.orient==="vertical")return getItemAlign(a,this.api,a.itemSize);var s=o.align;return(!s||s==="auto")&&(s="left"),s},n.prototype._renderEndsText=function(a,o,s,l,c){if(o){var u=new Group$3,d=this.visualMapModel.textStyleModel;u.add(new ZRText({style:createTextStyle(d,{x:l?c==="right"?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:l?c:"center",text:o})})),a.add(u)}},n.prototype._getViewData=function(){var a=this.visualMapModel,o=map$1(a.getPieceList(),function(u,d){return{piece:u,indexInModelPieceList:d}}),s=a.get("text"),l=a.get("orient"),c=a.get("inverse");return(l==="horizontal"?c:!c)?o.reverse():s&&(s=s.slice().reverse()),{viewPieceList:o,endsText:s}},n.prototype._createItemSymbol=function(a,o,s,l){var c=createSymbol$1(this.getControllerVisual(o,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(o,"color"));c.silent=l,a.add(c)},n.prototype._onItemClick=function(a){var o=this.visualMapModel,s=o.option,l=s.selectedMode;if(l){var c=clone$4(s.selected),u=o.getSelectedMapKey(a);l==="single"||l===!0?(c[u]=!0,each$f(c,function(d,f){c[f]=f===u})):c[u]=!c[u],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:c})}},n.type="visualMap.piecewise",n}(VisualMapView);function install$4(r){r.registerComponentModel(PiecewiseModel),r.registerComponentView(PiecewiseVisualMapView),installCommon(r)}function install$3(r){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(r,n){var a=r.getModel("aria");if(!a.get("enabled"))return;var o=clone$4(DEFAULT_OPTION);merge(o.label,r.getLocaleModel().get("aria"),!1),merge(a.option,o,!1),s(),l();function s(){var f=a.getModel("decal"),v=f.get("show");if(v){var g=createHashMap();r.eachSeries(function(y){if(!y.isColorBySeries()){var _=g.get(y.type);_||(_={},g.set(y.type,_)),inner(y).scope=_}}),r.eachRawSeries(function(y){if(r.isSeriesFiltered(y))return;if(isFunction(y.enableAriaDecal)){y.enableAriaDecal();return}var _=y.getData();if(y.isColorBySeries()){var E=getDecalFromPalette(y.ecModel,y.name,decalPaletteScope,r.getSeriesCount()),M=_.getVisual("decal");_.setVisual("decal",I(M,E))}else{var b=y.getRawData(),T={},C=inner(y).scope;_.each(function(L){var N=_.getRawIndex(L);T[N]=L});var P=b.count();b.each(function(L){var N=T[L],V=b.getName(L)||L+"",B=getDecalFromPalette(y.ecModel,V,C,P),z=_.getItemVisual(N,"decal");_.setItemVisual(N,"decal",I(z,B))})}function I(L,N){var V=L?extend(extend({},N),L):N;return V.dirty=!0,V}})}}function l(){var f=n.getZr().dom;if(f){var v=r.getLocaleModel().get("aria"),g=a.getModel("label");if(g.option=defaults(g.option,v),!!g.get("enabled")){if(f.setAttribute("role","img"),g.get("description")){f.setAttribute("aria-label",g.get("description"));return}var y=r.getSeriesCount(),_=g.get(["data","maxCount"])||10,b=g.get(["series","maxCount"])||10,T=Math.min(y,b),C;if(!(y<1)){var P=u();if(P){var E=g.get(["general","withTitle"]);C=c(E,{title:P})}else C=g.get(["general","withoutTitle"]);var M=[],I=y>1?g.get(["series","multiple","prefix"]):g.get(["series","single","prefix"]);C+=c(I,{seriesCount:y}),r.eachSeries(function(B,z){if(z<T){var G=void 0,H=B.get("name"),W=H?"withName":"withoutName";G=y>1?g.get(["series","multiple",W]):g.get(["series","single",W]),G=c(G,{seriesId:B.seriesIndex,seriesName:B.get("name"),seriesType:d(B.subType)});var j=B.getData();if(j.count()>_){var X=g.get(["data","partialData"]);G+=c(X,{displayCnt:_})}else G+=g.get(["data","allData"]);for(var Z=g.get(["data","separator","middle"]),q=g.get(["data","separator","end"]),le=g.get(["data","excludeDimensionId"]),ae=[],he=0;he<j.count();he++)if(he<_){var ve=j.getName(he),ce=le?filter(j.getValues(he),function(_e,Ce){return indexOf(le,Ce)===-1}):j.getValues(he),fe=g.get(["data",ve?"withName":"withoutName"]);ae.push(c(fe,{name:ve,value:ce.join(Z)}))}G+=ae.join(Z)+q,M.push(G)}});var L=g.getModel(["series","multiple","separator"]),N=L.get("middle"),V=L.get("end");C+=M.join(N)+V,f.setAttribute("aria-label",C)}}}}function c(f,v){if(!isString(f))return f;var g=f;return each$f(v,function(y,_){g=g.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),y)}),g}function u(){var f=r.get("title");return f&&f.length&&(f=f[0]),f&&f.text}function d(f){var v=r.getLocaleModel().get(["series","typeNames"]);return v[f]||v.chart}}function ariaPreprocessor(r){if(!(!r||!r.aria)){var n=r.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$f(["description","general","series","data"],function(a){n[a]!=null&&(n.label[a]=n[a])})}}function install$2(r){r.registerPreprocessor(ariaPreprocessor),r.registerVisual(r.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function r(n){var a=this._condVal=isString(n)?new RegExp(n):isRegExp(n)?n:null;if(a==null){var o="";throwError(o)}}return r.prototype.evaluate=function(n){var a=typeof n;return isString(a)?this._condVal.test(n):isNumber(a)?this._condVal.test(n+""):!1},r}(),ConstConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),AndConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var n=this.children,a=0;a<n.length;a++)if(!n[a].evaluate())return!1;return!0},r}(),OrConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var n=this.children,a=0;a<n.length;a++)if(n[a].evaluate())return!0;return!1},r}(),NotConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),RelationalConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var n=!!this.valueParser,a=this.getValue,o=a(this.valueGetterParam),s=n?this.valueParser(o):null,l=0;l<this.subCondList.length;l++)if(!this.subCondList[l].evaluate(n?s:o))return!1;return!0},r}();function parseOption(r,n){if(r===!0||r===!1){var a=new ConstConditionInternal;return a.value=r,a}var o="";return isObjectNotArray(r)||throwError(o),r.and?parseAndOrOption("and",r,n):r.or?parseAndOrOption("or",r,n):r.not?parseNotOption(r,n):parseRelationalOption(r,n)}function parseAndOrOption(r,n,a){var o=n[r],s="";isArray$1(o)||throwError(s),o.length||throwError(s);var l=r==="and"?new AndConditionInternal:new OrConditionInternal;return l.children=map$1(o,function(c){return parseOption(c,a)}),l.children.length||throwError(s),l}function parseNotOption(r,n){var a=r.not,o="";isObjectNotArray(a)||throwError(o);var s=new NotConditionInternal;return s.child=parseOption(a,n),s.child||throwError(o),s}function parseRelationalOption(r,n){for(var a="",o=n.prepareGetValue(r),s=[],l=keys(r),c=r.parser,u=c?getRawValueParser(c):null,d=0;d<l.length;d++){var f=l[d];if(!(f==="parser"||n.valueGetterAttrMap.get(f))){var v=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,f)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[f]:f,g=r[f],y=u?u(g):g,_=createFilterComparator(v,y)||v==="reg"&&new RegExpEvaluator(y);_||throwError(a),s.push(_)}}s.length||throwError(a);var b=new RelationalConditionInternal;return b.valueGetterParam=o,b.valueParser=u,b.getValue=n.getValue,b.subCondList=s,b}function isObjectNotArray(r){return isObject$3(r)&&!isArrayLike(r)}var ConditionalExpressionParsed=function(){function r(n,a){this._cond=parseOption(n,a)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function parseConditionalExpression(r,n){return new ConditionalExpressionParsed(r,n)}var filterTransform={type:"echarts:filter",transform:function(r){for(var n=r.upstream,a,o=parseConditionalExpression(r.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(u){var d="",f=u.dimension;hasOwn(u,"dimension")||throwError(d);var v=n.getDimensionInfo(f);return v||throwError(d),{dimIdx:v.index}},getValue:function(u){return n.retrieveValueFromItem(a,u.dimIdx)}}),s=[],l=0,c=n.count();l<c;l++)a=n.getRawDataItem(l),o.evaluate()&&s.push(a);return{data:s}}},sortTransform={type:"echarts:sort",transform:function(r){var n=r.upstream,a=r.config,o="",s=normalizeToArray(a);s.length||throwError(o);var l=[];each$f(s,function(v){var g=v.dimension,y=v.order,_=v.parser,b=v.incomparable;if(g==null&&throwError(o),y!=="asc"&&y!=="desc"&&throwError(o),b&&b!=="min"&&b!=="max"){var T="";throwError(T)}if(y!=="asc"&&y!=="desc"){var C="";throwError(C)}var P=n.getDimensionInfo(g);P||throwError(o);var E=_?getRawValueParser(_):null;_&&!E&&throwError(o),l.push({dimIdx:P.index,parser:E,comparator:new SortOrderComparator(y,b)})});var c=n.sourceFormat;c!==SOURCE_FORMAT_ARRAY_ROWS&&c!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(o);for(var u=[],d=0,f=n.count();d<f;d++)u.push(n.getRawDataItem(d));return u.sort(function(v,g){for(var y=0;y<l.length;y++){var _=l[y],b=n.retrieveValueFromItem(v,_.dimIdx),T=n.retrieveValueFromItem(g,_.dimIdx);_.parser&&(b=_.parser(b),T=_.parser(T));var C=_.comparator.evaluate(b,T);if(C!==0)return C}return 0}),{data:u}}};function install$1(r){r.registerTransform(filterTransform),r.registerTransform(sortTransform)}var DatasetModel=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="dataset",a}return n.prototype.init=function(a,o,s){r.prototype.init.call(this,a,o,s),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(a,o){r.prototype.mergeOption.call(this,a,o),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(ComponentModel),DatasetView=function(r){__extends(n,r);function n(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="dataset",a}return n.type="dataset",n}(ComponentView);function install(r){r.registerComponentModel(DatasetModel),r.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(r,n){return Math.abs(r-n)<1e-5}function pathToBezierCurves(r){var n=r.data,a=r.len(),o=[],s,l=0,c=0,u=0,d=0;function f(j,X){s&&s.length>2&&o.push(s),s=[j,X]}function v(j,X,Z,q){aroundEqual(j,Z)&&aroundEqual(X,q)||s.push(j,X,Z,q,Z,q)}function g(j,X,Z,q,le,ae){var he=Math.abs(X-j),ve=Math.tan(he/4)*4/3,ce=X<j?-1:1,fe=Math.cos(j),_e=Math.sin(j),Ce=Math.cos(X),Se=Math.sin(X),De=fe*le+Z,ne=_e*ae+q,pe=Ce*le+Z,de=Se*ae+q,Te=le*ve*ce,we=ae*ve*ce;s.push(De-Te*_e,ne+we*fe,pe+Te*Se,de-we*Ce,pe,de)}for(var y,_,b,T,C=0;C<a;){var P=n[C++],E=C===1;switch(E&&(l=n[C],c=n[C+1],u=l,d=c,(P===CMD.L||P===CMD.C||P===CMD.Q)&&(s=[u,d])),P){case CMD.M:l=u=n[C++],c=d=n[C++],f(u,d);break;case CMD.L:y=n[C++],_=n[C++],v(l,c,y,_),l=y,c=_;break;case CMD.C:s.push(n[C++],n[C++],n[C++],n[C++],l=n[C++],c=n[C++]);break;case CMD.Q:y=n[C++],_=n[C++],b=n[C++],T=n[C++],s.push(l+2/3*(y-l),c+2/3*(_-c),b+2/3*(y-b),T+2/3*(_-T),b,T),l=b,c=T;break;case CMD.A:var M=n[C++],I=n[C++],L=n[C++],N=n[C++],V=n[C++],B=n[C++]+V;C+=1;var z=!n[C++];y=Math.cos(V)*L+M,_=Math.sin(V)*N+I,E?(u=y,d=_,f(u,d)):v(l,c,y,_),l=Math.cos(B)*L+M,c=Math.sin(B)*N+I;for(var G=(z?-1:1)*Math.PI/2,H=V;z?H>B:H<B;H+=G){var W=z?Math.max(H+G,B):Math.min(H+G,B);g(H,W,M,I,L,N)}break;case CMD.R:u=l=n[C++],d=c=n[C++],y=u+n[C++],_=d+n[C++],f(y,d),v(y,d,y,_),v(y,_,u,_),v(u,_,u,d),v(u,d,y,d);break;case CMD.Z:s&&v(l,c,u,d),l=u,c=d;break}}return s&&s.length>2&&o.push(s),o}function adpativeBezier(r,n,a,o,s,l,c,u,d,f){if(aroundEqual(r,a)&&aroundEqual(n,o)&&aroundEqual(s,c)&&aroundEqual(l,u)){d.push(c,u);return}var v=2/f,g=v*v,y=c-r,_=u-n,b=Math.sqrt(y*y+_*_);y/=b,_/=b;var T=a-r,C=o-n,P=s-c,E=l-u,M=T*T+C*C,I=P*P+E*E;if(M<g&&I<g){d.push(c,u);return}var L=y*T+_*C,N=-y*P-_*E,V=M-L*L,B=I-N*N;if(V<g&&L>=0&&B<g&&N>=0){d.push(c,u);return}var z=[],G=[];cubicSubdivide(r,a,s,c,.5,z),cubicSubdivide(n,o,l,u,.5,G),adpativeBezier(z[0],G[0],z[1],G[1],z[2],G[2],z[3],G[3],d,f),adpativeBezier(z[4],G[4],z[5],G[5],z[6],G[6],z[7],G[7],d,f)}function pathToPolygons(r,n){var a=pathToBezierCurves(r),o=[];n=n||1;for(var s=0;s<a.length;s++){var l=a[s],c=[],u=l[0],d=l[1];c.push(u,d);for(var f=2;f<l.length;){var v=l[f++],g=l[f++],y=l[f++],_=l[f++],b=l[f++],T=l[f++];adpativeBezier(u,d,v,g,y,_,b,T,c,n),u=b,d=T}o.push(c)}return o}function getDividingGrids(r,n,a){var o=r[n],s=r[1-n],l=Math.abs(o/s),c=Math.ceil(Math.sqrt(l*a)),u=Math.floor(a/c);u===0&&(u=1,c=a);for(var d=[],f=0;f<c;f++)d.push(u);var v=c*u,g=a-v;if(g>0)for(var f=0;f<g;f++)d[f%c]+=1;return d}function divideSector(r,n,a){for(var o=r.r0,s=r.r,l=r.startAngle,c=r.endAngle,u=Math.abs(c-l),d=u*s,f=s-o,v=d>Math.abs(f),g=getDividingGrids([d,f],v?0:1,n),y=(v?u:f)/g.length,_=0;_<g.length;_++)for(var b=(v?f:u)/g[_],T=0;T<g[_];T++){var C={};v?(C.startAngle=l+y*_,C.endAngle=l+y*(_+1),C.r0=o+b*T,C.r=o+b*(T+1)):(C.startAngle=l+b*T,C.endAngle=l+b*(T+1),C.r0=o+y*_,C.r=o+y*(_+1)),C.clockwise=r.clockwise,C.cx=r.cx,C.cy=r.cy,a.push(C)}}function divideRect(r,n,a){for(var o=r.width,s=r.height,l=o>s,c=getDividingGrids([o,s],l?0:1,n),u=l?"width":"height",d=l?"height":"width",f=l?"x":"y",v=l?"y":"x",g=r[u]/c.length,y=0;y<c.length;y++)for(var _=r[d]/c[y],b=0;b<c[y];b++){var T={};T[f]=y*g,T[v]=b*_,T[u]=g,T[d]=_,T.x+=r.x,T.y+=r.y,a.push(T)}}function crossProduct2d(r,n,a,o){return r*o-a*n}function lineLineIntersect(r,n,a,o,s,l,c,u){var d=a-r,f=o-n,v=c-s,g=u-l,y=crossProduct2d(v,g,d,f);if(Math.abs(y)<1e-6)return null;var _=r-s,b=n-l,T=crossProduct2d(_,b,v,g)/y;return T<0||T>1?null:new Point(T*d+r,T*f+n)}function projPtOnLine(r,n,a){var o=new Point;Point.sub(o,a,n),o.normalize();var s=new Point;Point.sub(s,r,n);var l=s.dot(o);return l}function addToPoly(r,n){var a=r[r.length-1];a&&a[0]===n[0]&&a[1]===n[1]||r.push(n)}function splitPolygonByLine(r,n,a){for(var o=r.length,s=[],l=0;l<o;l++){var c=r[l],u=r[(l+1)%o],d=lineLineIntersect(c[0],c[1],u[0],u[1],n.x,n.y,a.x,a.y);d&&s.push({projPt:projPtOnLine(d,n,a),pt:d,idx:l})}if(s.length<2)return[{points:r},{points:r}];s.sort(function(C,P){return C.projPt-P.projPt});var f=s[0],v=s[s.length-1];if(v.idx<f.idx){var g=f;f=v,v=g}for(var y=[f.pt.x,f.pt.y],_=[v.pt.x,v.pt.y],b=[y],T=[_],l=f.idx+1;l<=v.idx;l++)addToPoly(b,r[l].slice());addToPoly(b,_),addToPoly(b,y);for(var l=v.idx+1;l<=f.idx+o;l++)addToPoly(T,r[l%o].slice());return addToPoly(T,y),addToPoly(T,_),[{points:b},{points:T}]}function binaryDividePolygon(r){var n=r.points,a=[],o=[];fromPoints(n,a,o);var s=new BoundingRect(a[0],a[1],o[0]-a[0],o[1]-a[1]),l=s.width,c=s.height,u=s.x,d=s.y,f=new Point,v=new Point;return l>c?(f.x=v.x=u+l/2,f.y=d,v.y=d+c):(f.y=v.y=d+c/2,f.x=u,v.x=u+l),splitPolygonByLine(n,f,v)}function binaryDivideRecursive(r,n,a,o){if(a===1)o.push(n);else{var s=Math.floor(a/2),l=r(n);binaryDivideRecursive(r,l[0],s,o),binaryDivideRecursive(r,l[1],a-s,o)}return o}function clone(r,n){for(var a=[],o=0;o<n;o++)a.push(clonePath(r));return a}function copyPathProps(r,n){n.setStyle(r.style),n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel}function polygonConvert(r){for(var n=[],a=0;a<r.length;)n.push([r[a++],r[a++]]);return n}function split(r,n){var a=[],o=r.shape,s;switch(r.type){case"rect":divideRect(o,n,a),s=Rect$2;break;case"sector":divideSector(o,n,a),s=Sector;break;case"circle":divideSector({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},n,a),s=Sector;break;default:var l=r.getComputedTransform(),c=l?Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1],l[2]*l[2]+l[3]*l[3])):1,u=map$1(pathToPolygons(r.getUpdatedPathProxy(),c),function(P){return polygonConvert(P)}),d=u.length;if(d===0)binaryDivideRecursive(binaryDividePolygon,{points:u[0]},n,a);else if(d===n)for(var f=0;f<d;f++)a.push({points:u[f]});else{var v=0,g=map$1(u,function(P){var E=[],M=[];fromPoints(P,E,M);var I=(M[1]-E[1])*(M[0]-E[0]);return v+=I,{poly:P,area:I}});g.sort(function(P,E){return E.area-P.area});for(var y=n,f=0;f<d;f++){var _=g[f];if(y<=0)break;var b=f===d-1?y:Math.ceil(_.area/v*n);b<0||(binaryDivideRecursive(binaryDividePolygon,{points:_.poly},b,a),y-=b)}}s=Polygon;break}if(!s)return clone(r,n);for(var T=[],f=0;f<a.length;f++){var C=new s;C.setShape(a[f]),copyPathProps(r,C),T.push(C)}return T}function alignSubpath(r,n){var a=r.length,o=n.length;if(a===o)return[r,n];for(var s=[],l=[],c=a<o?r:n,u=Math.min(a,o),d=Math.abs(o-a)/6,f=(u-2)/6,v=Math.ceil(d/f)+1,g=[c[0],c[1]],y=d,_=2;_<u;){var b=c[_-2],T=c[_-1],C=c[_++],P=c[_++],E=c[_++],M=c[_++],I=c[_++],L=c[_++];if(y<=0){g.push(C,P,E,M,I,L);continue}for(var N=Math.min(y,v-1)+1,V=1;V<=N;V++){var B=V/N;cubicSubdivide(b,C,E,I,B,s),cubicSubdivide(T,P,M,L,B,l),b=s[3],T=l[3],g.push(s[1],l[1],s[2],l[2],b,T),C=s[5],P=l[5],E=s[6],M=l[6]}y-=N-1}return c===r?[g,n]:[r,g]}function createSubpath(r,n){for(var a=r.length,o=r[a-2],s=r[a-1],l=[],c=0;c<n.length;)l[c++]=o,l[c++]=s;return l}function alignBezierCurves(r,n){for(var a,o,s,l=[],c=[],u=0;u<Math.max(r.length,n.length);u++){var d=r[u],f=n[u],v=void 0,g=void 0;d?f?(a=alignSubpath(d,f),v=a[0],g=a[1],o=v,s=g):(g=createSubpath(s||d,d),v=d):(v=createSubpath(o||f,f),g=f),l.push(v),c.push(g)}return[l,c]}function centroid(r){for(var n=0,a=0,o=0,s=r.length,l=0,c=s-2;l<s;c=l,l+=2){var u=r[c],d=r[c+1],f=r[l],v=r[l+1],g=u*v-f*d;n+=g,a+=(u+f)*g,o+=(d+v)*g}return n===0?[r[0]||0,r[1]||0]:[a/n/3,o/n/3,n]}function findBestRingOffset(r,n,a,o){for(var s=(r.length-2)/6,l=1/0,c=0,u=r.length,d=u-2,f=0;f<s;f++){for(var v=f*6,g=0,y=0;y<u;y+=2){var _=y===0?v:(v+y-2)%d+2,b=r[_]-a[0],T=r[_+1]-a[1],C=n[y]-o[0],P=n[y+1]-o[1],E=C-b,M=P-T;g+=E*E+M*M}g<l&&(l=g,c=f)}return c}function reverse(r){for(var n=[],a=r.length,o=0;o<a;o+=2)n[o]=r[a-o-2],n[o+1]=r[a-o-1];return n}function findBestMorphingRotation(r,n,a,o){for(var s=[],l,c=0;c<r.length;c++){var u=r[c],d=n[c],f=centroid(u),v=centroid(d);l==null&&(l=f[2]<0!=v[2]<0);var g=[],y=[],_=0,b=1/0,T=[],C=u.length;l&&(u=reverse(u));for(var P=findBestRingOffset(u,d,f,v)*6,E=C-2,M=0;M<E;M+=2){var I=(P+M)%E+2;g[M+2]=u[I]-f[0],g[M+3]=u[I+1]-f[1]}g[0]=u[P]-f[0],g[1]=u[P+1]-f[1];for(var L=o/a,N=-o/2;N<=o/2;N+=L){for(var V=Math.sin(N),B=Math.cos(N),z=0,M=0;M<u.length;M+=2){var G=g[M],H=g[M+1],W=d[M]-v[0],j=d[M+1]-v[1],X=W*B-j*V,Z=W*V+j*B;T[M]=X,T[M+1]=Z;var q=X-G,le=Z-H;z+=q*q+le*le}if(z<b){b=z,_=N;for(var ae=0;ae<T.length;ae++)y[ae]=T[ae]}}s.push({from:g,to:y,fromCp:f,toCp:v,rotation:-_})}return s}function isCombineMorphing(r){return r.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(r,n,a){var o=SAVED_METHOD_PREFIX+n,s=r[o]||r[n];r[o]||(r[o]=r[n]);var l=a.replace,c=a.after,u=a.before;r[n]=function(){var d=arguments,f;return u&&u.apply(this,d),l?f=l.apply(this,d):f=s.apply(this,d),c&&c.apply(this,d),f}}function restoreMethod(r,n){var a=SAVED_METHOD_PREFIX+n;r[a]&&(r[n]=r[a],r[a]=null)}function applyTransformOnBeziers(r,n){for(var a=0;a<r.length;a++)for(var o=r[a],s=0;s<o.length;){var l=o[s],c=o[s+1];o[s++]=n[0]*l+n[2]*c+n[4],o[s++]=n[1]*l+n[3]*c+n[5]}}function prepareMorphPath(r,n){var a=r.getUpdatedPathProxy(),o=n.getUpdatedPathProxy(),s=alignBezierCurves(pathToBezierCurves(a),pathToBezierCurves(o)),l=s[0],c=s[1],u=r.getComputedTransform(),d=n.getComputedTransform();function f(){this.transform=null}u&&applyTransformOnBeziers(l,u),d&&applyTransformOnBeziers(c,d),saveAndModifyMethod(n,"updateTransform",{replace:f}),n.transform=null;var v=findBestMorphingRotation(l,c,10,Math.PI),g=[];saveAndModifyMethod(n,"buildPath",{replace:function(y){for(var _=n.__morphT,b=1-_,T=[],C=0;C<v.length;C++){var P=v[C],E=P.from,M=P.to,I=P.rotation*_,L=P.fromCp,N=P.toCp,V=Math.sin(I),B=Math.cos(I);lerp$1(T,L,N,_);for(var z=0;z<E.length;z+=2){var G=E[z],H=E[z+1],W=M[z],j=M[z+1],X=G*b+W*_,Z=H*b+j*_;g[z]=X*B-Z*V+T[0],g[z+1]=X*V+Z*B+T[1]}var q=g[0],le=g[1];y.moveTo(q,le);for(var z=2;z<E.length;){var W=g[z++],j=g[z++],ae=g[z++],he=g[z++],ve=g[z++],ce=g[z++];q===W&&le===j&&ae===ve&&he===ce?y.lineTo(ve,ce):y.bezierCurveTo(W,j,ae,he,ve,ce),q=ve,le=ce}}}})}function morphPath(r,n,a){if(!r||!n)return n;var o=a.done,s=a.during;prepareMorphPath(r,n),n.__morphT=0;function l(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults({during:function(c){n.dirtyShape(),s&&s(c)},done:function(){l(),o&&o()}},a)),n}function hilbert(r,n,a,o,s,l){var c=16;r=s===a?0:Math.round(32767*(r-a)/(s-a)),n=l===o?0:Math.round(32767*(n-o)/(l-o));for(var u=0,d,f=(1<<c)/2;f>0;f/=2){var v=0,g=0;(r&f)>0&&(v=1),(n&f)>0&&(g=1),u+=f*f*(3*v^g),g===0&&(v===1&&(r=f-1-r,n=f-1-n),d=r,r=n,n=d)}return u}function sortPaths(r){var n=1/0,a=1/0,o=-1/0,s=-1/0,l=map$1(r,function(u){var d=u.getBoundingRect(),f=u.getComputedTransform(),v=d.x+d.width/2+(f?f[4]:0),g=d.y+d.height/2+(f?f[5]:0);return n=Math.min(v,n),a=Math.min(g,a),o=Math.max(v,o),s=Math.max(g,s),[v,g]}),c=map$1(l,function(u,d){return{cp:u,z:hilbert(u[0],u[1],n,a,o,s),path:r[d]}});return c.sort(function(u,d){return u.z-d.z}).map(function(u){return u.path})}function defaultDividePath(r){return split(r.path,r.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(r,n,a){var o=[];function s(L){for(var N=0;N<L.length;N++){var V=L[N];isCombineMorphing(V)?s(V.childrenRef()):V instanceof Path&&o.push(V)}}s(r);var l=o.length;if(!l)return createEmptyReturn();var c=a.dividePath||defaultDividePath,u=c({path:n,count:l});if(u.length!==l)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();o=sortPaths(o),u=sortPaths(u);for(var d=a.done,f=a.during,v=a.individualDelay,g=new Transformable,y=0;y<l;y++){var _=o[y],b=u[y];b.parent=n,b.copyTransform(g),v||prepareMorphPath(_,b)}n.__isCombineMorphing=!0,n.childrenRef=function(){return u};function T(L){for(var N=0;N<u.length;N++)u[N].addSelfToZr(L)}saveAndModifyMethod(n,"addSelfToZr",{after:function(L){T(L)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(L){for(var N=0;N<u.length;N++)u[N].removeSelfFromZr(L)}});function C(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var P=u.length;if(v)for(var E=P,M=function(){E--,E===0&&(C(),d&&d())},y=0;y<P;y++){var I=v?defaults({delay:(a.delay||0)+v(y,P,o[y],u[y]),done:M},a):a;morphPath(o[y],u[y],I)}else n.__morphT=0,n.animateTo({__morphT:1},defaults({during:function(L){for(var N=0;N<P;N++){var V=u[N];V.__morphT=n.__morphT,V.dirtyShape()}f&&f(L)},done:function(){C();for(var L=0;L<r.length;L++)restoreMethod(r[L],"updateTransform");d&&d()}},a));return n.__zr&&T(n.__zr),{fromIndividuals:o,toIndividuals:u,count:P}}function separateMorph(r,n,a){var o=n.length,s=[],l=a.dividePath||defaultDividePath;function c(_){for(var b=0;b<_.length;b++){var T=_[b];isCombineMorphing(T)?c(T.childrenRef()):T instanceof Path&&s.push(T)}}if(isCombineMorphing(r)){c(r.childrenRef());var u=s.length;if(u<o)for(var d=0,f=u;f<o;f++)s.push(clonePath(s[d++%u]));s.length=o}else{s=l({path:r,count:o});for(var v=r.getComputedTransform(),f=0;f<s.length;f++)s[f].setLocalTransform(v);if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}s=sortPaths(s),n=sortPaths(n);for(var g=a.individualDelay,f=0;f<o;f++){var y=g?defaults({delay:(a.delay||0)+g(f,o,s[f],n[f])},a):a;morphPath(s[f],n[f],y)}return{fromIndividuals:s,toIndividuals:n,count:n.length}}function isMultiple(r){return isArray$1(r[0])}function prepareMorphBatches(r,n){for(var a=[],o=r.length,s=0;s<o;s++)a.push({one:r[s],many:[]});for(var s=0;s<n.length;s++){var l=n[s].length,c=void 0;for(c=0;c<l;c++)a[c%o].many.push(n[s][c])}for(var u=0,s=o-1;s>=0;s--)if(!a[s].many.length){var d=a[u].many;if(d.length<=1)if(u)u=0;else return a;var l=d.length,f=Math.ceil(l/2);a[s].many=d.slice(f,l),a[u].many=d.slice(0,f),u++}return a}var pathDividers={clone:function(r){for(var n=[],a=1-Math.pow(1-r.path.style.opacity,1/r.count),o=0;o<r.count;o++){var s=clonePath(r.path);s.setStyle("opacity",a),n.push(s)}return n},split:null};function applyMorphAnimation(r,n,a,o,s,l){if(!r.length||!n.length)return;var c=getAnimationConfig("update",o,s);if(!(c&&c.duration>0))return;var u=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},c),f,v;isMultiple(r)&&(f=r,v=n),isMultiple(n)&&(f=n,v=r);function g(P,E,M,I,L){var N=P.many,V=P.one;if(N.length===1&&!L){var B=E?N[0]:V,z=E?V:N[0];if(isCombineMorphing(B))g({many:[B],one:z},!0,M,I,!0);else{var G=u?defaults({delay:u(M,I)},d):d;morphPath(B,z,G),l(B,z,B,z,G)}}else for(var H=defaults({dividePath:pathDividers[a],individualDelay:u&&function(le,ae,he,ve){return u(le+M,I)}},d),W=E?combineMorph(N,V,H):separateMorph(V,N,H),j=W.fromIndividuals,X=W.toIndividuals,Z=j.length,q=0;q<Z;q++){var G=u?defaults({delay:u(q,Z)},d):d;l(j[q],X[q],E?N[q]:P.one,E?P.one:N[q],G)}}for(var y=f?f===r:r.length>n.length,_=f?prepareMorphBatches(v,f):prepareMorphBatches(y?n:r,[y?r:n]),b=0,T=0;T<_.length;T++)b+=_[T].many.length;for(var C=0,T=0;T<_.length;T++)g(_[T],y,C,b),C+=_[T].many.length}function getPathList(r){if(!r)return[];if(isArray$1(r)){for(var n=[],a=0;a<r.length;a++)n.push(getPathList(r[a]));return n}var o=[];return r.traverse(function(s){s instanceof Path&&!s.disableMorphing&&!s.invisible&&!s.ignore&&o.push(s)}),o}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(r,n){for(var a=r.dimensions,o=0;o<a.length;o++){var s=r.getDimensionInfo(a[o]);if(s&&s.otherDims[n]===0)return a[o]}}function getValueByDimension(r,n,a){var o=r.getDimensionInfo(a),s=o&&o.ordinalMeta;if(o){var l=r.get(o.name,n);return s&&s.categories[l]||l+""}}function getGroupId(r,n,a,o){var s=o?"itemChildGroupId":"itemGroupId",l=getDimension(r,s);if(l){var c=getValueByDimension(r,n,l);return c}var u=r.getRawDataItem(n),d=o?"childGroupId":"groupId";if(u&&u[d])return u[d]+"";if(!o)return a||r.getId(n)}function flattenDataDiffItems(r){var n=[];return each$f(r,function(a){var o=a.data,s=a.dataGroupId;if(!(o.count()>DATA_COUNT_THRESHOLD))for(var l=o.getIndices(),c=0;c<l.length;c++)n.push({data:o,groupId:getGroupId(o,c,s,!1),childGroupId:getGroupId(o,c,s,!0),divide:a.divide,dataIndex:c})}),n}function fadeInElement(r,n,a){r.traverse(function(o){o instanceof Path&&initProps(o,{style:{opacity:0}},n,{dataIndex:a,isFrom:!0})})}function removeEl(r){if(r.parent){var n=r.getComputedTransform();r.setLocalTransform(n),r.parent.remove(r)}}function stopAnimation(r){r.stopAnimation(),r.isGroup&&r.traverse(function(n){n.stopAnimation()})}function animateElementStyles(r,n,a){var o=getAnimationConfig("update",a,n);o&&r.traverse(function(s){if(s instanceof Displayable){var l=getOldStyle(s);l&&s.animateFrom({style:l},o)}})}function isAllIdSame(r,n){var a=r.length;if(a!==n.length)return!1;for(var o=0;o<a;o++){var s=r[o],l=n[o];if(s.data.getId(s.dataIndex)!==l.data.getId(l.dataIndex))return!1}return!0}function transitionBetween(r,n,a){var o=flattenDataDiffItems(r),s=flattenDataDiffItems(n);function l(M,I,L,N,V){(L||M)&&I.animateFrom({style:L&&L!==M?extend(extend({},L.style),M.style):M.style},V)}var c=!1,u=TRANSITION_NONE,d=createHashMap(),f=createHashMap();o.forEach(function(M){M.groupId&&d.set(M.groupId,!0),M.childGroupId&&f.set(M.childGroupId,!0)});for(var v=0;v<s.length;v++){var g=s[v].groupId;if(f.get(g)){u=TRANSITION_P2C;break}var y=s[v].childGroupId;if(y&&d.get(y)){u=TRANSITION_C2P;break}}function _(M,I){return function(L){var N=L.data,V=L.dataIndex;return I?N.getId(V):M?u===TRANSITION_P2C?L.childGroupId:L.groupId:u===TRANSITION_C2P?L.childGroupId:L.groupId}}var b=isAllIdSame(o,s),T={};if(!b)for(var v=0;v<s.length;v++){var C=s[v],P=C.data.getItemGraphicEl(C.dataIndex);P&&(T[P.id]=!0)}function E(M,I){var L=o[I],N=s[M],V=N.data.hostModel,B=L.data.getItemGraphicEl(L.dataIndex),z=N.data.getItemGraphicEl(N.dataIndex);if(B===z){z&&animateElementStyles(z,N.dataIndex,V);return}B&&T[B.id]||z&&(stopAnimation(z),B?(stopAnimation(B),removeEl(B),c=!0,applyMorphAnimation(getPathList(B),getPathList(z),N.divide,V,M,l)):fadeInElement(z,V,M))}new DataDiffer(o,s,_(!0,b),_(!1,b),null,"multiple").update(E).updateManyToOne(function(M,I){var L=s[M],N=L.data,V=N.hostModel,B=N.getItemGraphicEl(L.dataIndex),z=filter(map$1(I,function(G){return o[G].data.getItemGraphicEl(o[G].dataIndex)}),function(G){return G&&G!==B&&!T[G.id]});B&&(stopAnimation(B),z.length?(each$f(z,function(G){stopAnimation(G),removeEl(G)}),c=!0,applyMorphAnimation(getPathList(z),getPathList(B),L.divide,V,M,l)):fadeInElement(B,V,L.dataIndex))}).updateOneToMany(function(M,I){var L=o[I],N=L.data.getItemGraphicEl(L.dataIndex);if(!(N&&T[N.id])){var V=filter(map$1(M,function(z){return s[z].data.getItemGraphicEl(s[z].dataIndex)}),function(z){return z&&z!==N}),B=s[M[0]].data.hostModel;V.length&&(each$f(V,function(z){return stopAnimation(z)}),N?(stopAnimation(N),removeEl(N),c=!0,applyMorphAnimation(getPathList(N),getPathList(V),L.divide,B,M[0],l)):each$f(V,function(z){return fadeInElement(z,B,M[0])}))}}).updateManyToMany(function(M,I){new DataDiffer(I,M,function(L){return o[L].data.getId(o[L].dataIndex)},function(L){return s[L].data.getId(s[L].dataIndex)}).update(function(L,N){E(M[L],I[N])}).execute()}).execute(),c&&each$f(n,function(M){var I=M.data,L=I.hostModel,N=L&&a.getViewOfSeriesModel(L),V=getAnimationConfig("update",L,0);N&&L.isAnimationEnabled()&&V&&V.duration>0&&N.group.traverse(function(B){B instanceof Path&&!B.animators.length&&B.animateFrom({style:{opacity:0}},V)})})}function getSeriesTransitionKey(r){var n=r.getModel("universalTransition").get("seriesKey");return n||r.id}function convertArraySeriesKeyToString(r){return isArray$1(r)?r.sort().join(","):r}function getDivideShapeFromData(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(r,n){var a=createHashMap(),o=createHashMap(),s=createHashMap();return each$f(r.oldSeries,function(l,c){var u=r.oldDataGroupIds[c],d=r.oldData[c],f=getSeriesTransitionKey(l),v=convertArraySeriesKeyToString(f);o.set(v,{dataGroupId:u,data:d}),isArray$1(f)&&each$f(f,function(g){s.set(g,{key:v,dataGroupId:u,data:d})})}),each$f(n.updatedSeries,function(l){if(l.isUniversalTransitionEnabled()&&l.isAnimationEnabled()){var c=l.get("dataGroupId"),u=l.getData(),d=getSeriesTransitionKey(l),f=convertArraySeriesKeyToString(d),v=o.get(f);if(v)a.set(f,{oldSeries:[{dataGroupId:v.dataGroupId,divide:getDivideShapeFromData(v.data),data:v.data}],newSeries:[{dataGroupId:c,divide:getDivideShapeFromData(u),data:u}]});else if(isArray$1(d)){var g=[];each$f(d,function(b){var T=o.get(b);T.data&&g.push({dataGroupId:T.dataGroupId,divide:getDivideShapeFromData(T.data),data:T.data})}),g.length&&a.set(f,{oldSeries:g,newSeries:[{dataGroupId:c,data:u,divide:getDivideShapeFromData(u)}]})}else{var y=s.get(d);if(y){var _=a.get(y.key);_||(_={oldSeries:[{dataGroupId:y.dataGroupId,data:y.data,divide:getDivideShapeFromData(y.data)}],newSeries:[]},a.set(y.key,_)),_.newSeries.push({dataGroupId:c,data:u,divide:getDivideShapeFromData(u)})}}}}),a}function querySeries(r,n){for(var a=0;a<r.length;a++){var o=n.seriesIndex!=null&&n.seriesIndex===r[a].seriesIndex||n.seriesId!=null&&n.seriesId===r[a].id;if(o)return a}}function transitionSeriesFromOpt(r,n,a,o){var s=[],l=[];each$f(normalizeToArray(r.from),function(c){var u=querySeries(n.oldSeries,c);u>=0&&s.push({dataGroupId:n.oldDataGroupIds[u],data:n.oldData[u],divide:getDivideShapeFromData(n.oldData[u]),groupIdDim:c.dimension})}),each$f(normalizeToArray(r.to),function(c){var u=querySeries(a.updatedSeries,c);if(u>=0){var d=a.updatedSeries[u].getData();l.push({dataGroupId:n.oldDataGroupIds[u],data:d,divide:getDivideShapeFromData(d),groupIdDim:c.dimension})}}),s.length>0&&l.length>0&&transitionBetween(s,l,o)}function installUniversalTransition(r){r.registerUpdateLifecycle("series:beforeupdate",function(n,a,o){each$f(normalizeToArray(o.seriesTransition),function(s){each$f(normalizeToArray(s.to),function(l){for(var c=o.updatedSeries,u=0;u<c.length;u++)(l.seriesIndex!=null&&l.seriesIndex===c[u].seriesIndex||l.seriesId!=null&&l.seriesId===c[u].id)&&(c[u][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(n,a,o){var s=getUniversalTransitionGlobalStore(a);if(s.oldSeries&&o.updatedSeries&&o.optionChanged){var l=o.seriesTransition;if(l)each$f(normalizeToArray(l),function(_){transitionSeriesFromOpt(_,s,o,a)});else{var c=findTransitionSeriesBatches(s,o);each$f(c.keys(),function(_){var b=c.get(_);transitionBetween(b.oldSeries,b.newSeries,a)})}each$f(o.updatedSeries,function(_){_[SERIES_UNIVERSAL_TRANSITION_PROP]&&(_[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var u=n.getSeries(),d=s.oldSeries=[],f=s.oldDataGroupIds=[],v=s.oldData=[],g=0;g<u.length;g++){var y=u[g].getData();y.count()<DATA_COUNT_THRESHOLD&&(d.push(u[g]),f.push(u[g].get("dataGroupId")),v.push(y))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var chart={exports:{}};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */(function(r,n){(function(a,o){r.exports=o()})(commonjsGlobal,function(){function a(){}const o=function(){let w=0;return function(){return w++}}();function s(w){return w===null||typeof w>"u"}function l(w){if(Array.isArray&&Array.isArray(w))return!0;const S=Object.prototype.toString.call(w);return S.slice(0,7)==="[object"&&S.slice(-6)==="Array]"}function c(w){return w!==null&&Object.prototype.toString.call(w)==="[object Object]"}const u=w=>(typeof w=="number"||w instanceof Number)&&isFinite(+w);function d(w,S){return u(w)?w:S}function f(w,S){return typeof w>"u"?S:w}const v=(w,S)=>typeof w=="string"&&w.endsWith("%")?parseFloat(w)/100:w/S,g=(w,S)=>typeof w=="string"&&w.endsWith("%")?parseFloat(w)/100*S:+w;function y(w,S,x){if(w&&typeof w.call=="function")return w.apply(x,S)}function _(w,S,x,A){let $,D,R;if(l(w))if(D=w.length,A)for($=D-1;$>=0;$--)S.call(x,w[$],$);else for($=0;$<D;$++)S.call(x,w[$],$);else if(c(w))for(R=Object.keys(w),D=R.length,$=0;$<D;$++)S.call(x,w[R[$]],R[$])}function b(w,S){let x,A,$,D;if(!w||!S||w.length!==S.length)return!1;for(x=0,A=w.length;x<A;++x)if($=w[x],D=S[x],$.datasetIndex!==D.datasetIndex||$.index!==D.index)return!1;return!0}function T(w){if(l(w))return w.map(T);if(c(w)){const S=Object.create(null),x=Object.keys(w),A=x.length;let $=0;for(;$<A;++$)S[x[$]]=T(w[x[$]]);return S}return w}function C(w){return["__proto__","prototype","constructor"].indexOf(w)===-1}function P(w,S,x,A){if(!C(w))return;const $=S[w],D=x[w];c($)&&c(D)?E($,D,A):S[w]=T(D)}function E(w,S,x){const A=l(S)?S:[S],$=A.length;if(!c(w))return w;x=x||{};const D=x.merger||P;for(let R=0;R<$;++R){if(S=A[R],!c(S))continue;const O=Object.keys(S);for(let F=0,U=O.length;F<U;++F)D(O[F],w,S,x)}return w}function M(w,S){return E(w,S,{merger:I})}function I(w,S,x){if(!C(w))return;const A=S[w],$=x[w];c(A)&&c($)?M(A,$):Object.prototype.hasOwnProperty.call(S,w)||(S[w]=T($))}function L(w,S,x,A){S!==void 0&&console.warn(w+': "'+x+'" is deprecated. Please use "'+A+'" instead')}const N={"":w=>w,x:w=>w.x,y:w=>w.y};function V(w,S){return(N[S]||(N[S]=B(S)))(w)}function B(w){const S=z(w);return x=>{for(const A of S){if(A==="")break;x=x&&x[A]}return x}}function z(w){const S=w.split("."),x=[];let A="";for(const $ of S)A+=$,A.endsWith("\\")?A=A.slice(0,-1)+".":(x.push(A),A="");return x}function G(w){return w.charAt(0).toUpperCase()+w.slice(1)}const H=w=>typeof w<"u",W=w=>typeof w=="function",j=(w,S)=>{if(w.size!==S.size)return!1;for(const x of w)if(!S.has(x))return!1;return!0};function X(w){return w.type==="mouseup"||w.type==="click"||w.type==="contextmenu"}const Z=Math.PI,q=2*Z,le=q+Z,ae=Number.POSITIVE_INFINITY,he=Z/180,ve=Z/2,ce=Z/4,fe=Z*2/3,_e=Math.log10,Ce=Math.sign;function Se(w){const S=Math.round(w);w=pe(w,S,w/1e3)?S:w;const x=Math.pow(10,Math.floor(_e(w))),A=w/x;return(A<=1?1:A<=2?2:A<=5?5:10)*x}function De(w){const S=[],x=Math.sqrt(w);let A;for(A=1;A<x;A++)w%A===0&&(S.push(A),S.push(w/A));return x===(x|0)&&S.push(x),S.sort(($,D)=>$-D).pop(),S}function ne(w){return!isNaN(parseFloat(w))&&isFinite(w)}function pe(w,S,x){return Math.abs(w-S)<x}function de(w,S){const x=Math.round(w);return x-S<=w&&x+S>=w}function Te(w,S,x){let A,$,D;for(A=0,$=w.length;A<$;A++)D=w[A][x],isNaN(D)||(S.min=Math.min(S.min,D),S.max=Math.max(S.max,D))}function we(w){return w*(Z/180)}function Ie(w){return w*(180/Z)}function te(w){if(!u(w))return;let S=1,x=0;for(;Math.round(w*S)/S!==w;)S*=10,x++;return x}function oe(w,S){const x=S.x-w.x,A=S.y-w.y,$=Math.sqrt(x*x+A*A);let D=Math.atan2(A,x);return D<-.5*Z&&(D+=q),{angle:D,distance:$}}function ge(w,S){return Math.sqrt(Math.pow(S.x-w.x,2)+Math.pow(S.y-w.y,2))}function Ae(w,S){return(w-S+le)%q-Z}function be(w){return(w%q+q)%q}function $e(w,S,x,A){const $=be(w),D=be(S),R=be(x),O=be(D-$),F=be(R-$),U=be($-D),K=be($-R);return $===D||$===R||A&&D===R||O>F&&U<K}function Me(w,S,x){return Math.max(S,Math.min(x,w))}function Ve(w){return Me(w,-32768,32767)}function Le(w,S,x,A=1e-6){return w>=Math.min(S,x)-A&&w<=Math.max(S,x)+A}function ke(w,S,x){x=x||(R=>w[R]<S);let A=w.length-1,$=0,D;for(;A-$>1;)D=$+A>>1,x(D)?$=D:A=D;return{lo:$,hi:A}}const Ge=(w,S,x,A)=>ke(w,x,A?$=>w[$][S]<=x:$=>w[$][S]<x),Fe=(w,S,x)=>ke(w,x,A=>w[A][S]>=x);function We(w,S,x){let A=0,$=w.length;for(;A<$&&w[A]<S;)A++;for(;$>A&&w[$-1]>x;)$--;return A>0||$<w.length?w.slice(A,$):w}const Ze=["push","pop","shift","splice","unshift"];function Je(w,S){if(w._chartjs){w._chartjs.listeners.push(S);return}Object.defineProperty(w,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[S]}}),Ze.forEach(x=>{const A="_onData"+G(x),$=w[x];Object.defineProperty(w,x,{configurable:!0,enumerable:!1,value(...D){const R=$.apply(this,D);return w._chartjs.listeners.forEach(O=>{typeof O[A]=="function"&&O[A](...D)}),R}})})}function it(w,S){const x=w._chartjs;if(!x)return;const A=x.listeners,$=A.indexOf(S);$!==-1&&A.splice($,1),!(A.length>0)&&(Ze.forEach(D=>{delete w[D]}),delete w._chartjs)}function nt(w){const S=new Set;let x,A;for(x=0,A=w.length;x<A;++x)S.add(w[x]);return S.size===A?w:Array.from(S)}function _t(w,S,x){return S+" "+w+"px "+x}const ct=function(){return typeof window>"u"?function(w){return w()}:window.requestAnimationFrame}();function St(w,S,x){const A=x||(R=>Array.prototype.slice.call(R));let $=!1,D=[];return function(...R){D=A(R),$||($=!0,ct.call(window,()=>{$=!1,w.apply(S,D)}))}}function mt(w,S){let x;return function(...A){return S?(clearTimeout(x),x=setTimeout(w,S,A)):w.apply(this,A),S}}const Pt=w=>w==="start"?"left":w==="end"?"right":"center",ut=(w,S,x)=>w==="start"?S:w==="end"?x:(S+x)/2,yt=(w,S,x,A)=>w===(A?"left":"right")?x:w==="center"?(S+x)/2:S;function bt(w,S,x){const A=S.length;let $=0,D=A;if(w._sorted){const{iScale:R,_parsed:O}=w,F=R.axis,{min:U,max:K,minDefined:Q,maxDefined:ee}=R.getUserBounds();Q&&($=Me(Math.min(Ge(O,R.axis,U).lo,x?A:Ge(S,F,R.getPixelForValue(U)).lo),0,A-1)),ee?D=Me(Math.max(Ge(O,R.axis,K,!0).hi+1,x?0:Ge(S,F,R.getPixelForValue(K),!0).hi+1),$,A)-$:D=A-$}return{start:$,count:D}}function qt(w){const{xScale:S,yScale:x,_scaleRanges:A}=w,$={xmin:S.min,xmax:S.max,ymin:x.min,ymax:x.max};if(!A)return w._scaleRanges=$,!0;const D=A.xmin!==S.min||A.xmax!==S.max||A.ymin!==x.min||A.ymax!==x.max;return Object.assign(A,$),D}class Pn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(S,x,A,$){const D=x.listeners[$],R=x.duration;D.forEach(O=>O({chart:S,initial:x.initial,numSteps:R,currentStep:Math.min(A-x.start,R)}))}_refresh(){this._request||(this._running=!0,this._request=ct.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(S=Date.now()){let x=0;this._charts.forEach((A,$)=>{if(!A.running||!A.items.length)return;const D=A.items;let R=D.length-1,O=!1,F;for(;R>=0;--R)F=D[R],F._active?(F._total>A.duration&&(A.duration=F._total),F.tick(S),O=!0):(D[R]=D[D.length-1],D.pop());O&&($.draw(),this._notify($,A,S,"progress")),D.length||(A.running=!1,this._notify($,A,S,"complete"),A.initial=!1),x+=D.length}),this._lastDate=S,x===0&&(this._running=!1)}_getAnims(S){const x=this._charts;let A=x.get(S);return A||(A={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},x.set(S,A)),A}listen(S,x,A){this._getAnims(S).listeners[x].push(A)}add(S,x){!x||!x.length||this._getAnims(S).items.push(...x)}has(S){return this._getAnims(S).items.length>0}start(S){const x=this._charts.get(S);x&&(x.running=!0,x.start=Date.now(),x.duration=x.items.reduce((A,$)=>Math.max(A,$._duration),0),this._refresh())}running(S){if(!this._running)return!1;const x=this._charts.get(S);return!(!x||!x.running||!x.items.length)}stop(S){const x=this._charts.get(S);if(!x||!x.items.length)return;const A=x.items;let $=A.length-1;for(;$>=0;--$)A[$].cancel();x.items=[],this._notify(S,x,Date.now(),"complete")}remove(S){return this._charts.delete(S)}}var Et=new Pn;/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Jt(w){return w+.5|0}const It=(w,S,x)=>Math.max(Math.min(w,x),S);function Qt(w){return It(Jt(w*2.55),0,255)}function $t(w){return It(Jt(w*255),0,255)}function Ct(w){return It(Jt(w/2.55)/100,0,1)}function Hr(w){return It(Jt(w*100),0,100)}const Tt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ye=[..."0123456789ABCDEF"],er=w=>Ye[w&15],La=w=>Ye[(w&240)>>4]+Ye[w&15],Pr=w=>(w&240)>>4===(w&15),ka=w=>Pr(w.r)&&Pr(w.g)&&Pr(w.b)&&Pr(w.a);function Oa(w){var S=w.length,x;return w[0]==="#"&&(S===4||S===5?x={r:255&Tt[w[1]]*17,g:255&Tt[w[2]]*17,b:255&Tt[w[3]]*17,a:S===5?Tt[w[4]]*17:255}:(S===7||S===9)&&(x={r:Tt[w[1]]<<4|Tt[w[2]],g:Tt[w[3]]<<4|Tt[w[4]],b:Tt[w[5]]<<4|Tt[w[6]],a:S===9?Tt[w[7]]<<4|Tt[w[8]]:255})),x}const En=(w,S)=>w<255?S(w):"";function $n(w){var S=ka(w)?er:La;return w?"#"+S(w.r)+S(w.g)+S(w.b)+En(w.a,S):void 0}const Na=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Mn(w,S,x){const A=S*Math.min(x,1-x),$=(D,R=(D+w/30)%12)=>x-A*Math.max(Math.min(R-3,9-R,1),-1);return[$(0),$(8),$(4)]}function Va(w,S,x){const A=($,D=($+w/60)%6)=>x-x*S*Math.max(Math.min(D,4-D,1),0);return[A(5),A(3),A(1)]}function Ba(w,S,x){const A=Mn(w,1,.5);let $;for(S+x>1&&($=1/(S+x),S*=$,x*=$),$=0;$<3;$++)A[$]*=1-S-x,A[$]+=S;return A}function Fa(w,S,x,A,$){return w===$?(S-x)/A+(S<x?6:0):S===$?(x-w)/A+2:(w-S)/A+4}function zr(w){const x=w.r/255,A=w.g/255,$=w.b/255,D=Math.max(x,A,$),R=Math.min(x,A,$),O=(D+R)/2;let F,U,K;return D!==R&&(K=D-R,U=O>.5?K/(2-D-R):K/(D+R),F=Fa(x,A,$,K,D),F=F*60+.5),[F|0,U||0,O]}function Gr(w,S,x,A){return(Array.isArray(S)?w(S[0],S[1],S[2]):w(S,x,A)).map($t)}function fr(w,S,x){return Gr(Mn,w,S,x)}function Ur(w,S,x){return Gr(Ba,w,S,x)}function Ha(w,S,x){return Gr(Va,w,S,x)}function Dn(w){return(w%360+360)%360}function In(w){const S=Na.exec(w);let x=255,A;if(!S)return;S[5]!==A&&(x=S[6]?Qt(+S[5]):$t(+S[5]));const $=Dn(+S[2]),D=+S[3]/100,R=+S[4]/100;return S[1]==="hwb"?A=Ur($,D,R):S[1]==="hsv"?A=Ha($,D,R):A=fr($,D,R),{r:A[0],g:A[1],b:A[2],a:x}}function Rn(w,S){var x=zr(w);x[0]=Dn(x[0]+S),x=fr(x),w.r=x[0],w.g=x[1],w.b=x[2]}function za(w){if(!w)return;const S=zr(w),x=S[0],A=Hr(S[1]),$=Hr(S[2]);return w.a<255?`hsla(${x}, ${A}%, ${$}%, ${Ct(w.a)})`:`hsl(${x}, ${A}%, ${$}%)`}const Wr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ln={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ga(){const w={},S=Object.keys(Ln),x=Object.keys(Wr);let A,$,D,R,O;for(A=0;A<S.length;A++){for(R=O=S[A],$=0;$<x.length;$++)D=x[$],O=O.replace(D,Wr[D]);D=parseInt(Ln[R],16),w[O]=[D>>16&255,D>>8&255,D&255]}return w}let Er;function Ua(w){Er||(Er=Ga(),Er.transparent=[0,0,0,0]);const S=Er[w.toLowerCase()];return S&&{r:S[0],g:S[1],b:S[2],a:S.length===4?S[3]:255}}const Wa=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ya(w){const S=Wa.exec(w);let x=255,A,$,D;if(S){if(S[7]!==A){const R=+S[7];x=S[8]?Qt(R):It(R*255,0,255)}return A=+S[1],$=+S[3],D=+S[5],A=255&(S[2]?Qt(A):It(A,0,255)),$=255&(S[4]?Qt($):It($,0,255)),D=255&(S[6]?Qt(D):It(D,0,255)),{r:A,g:$,b:D,a:x}}}function ja(w){return w&&(w.a<255?`rgba(${w.r}, ${w.g}, ${w.b}, ${Ct(w.a)})`:`rgb(${w.r}, ${w.g}, ${w.b})`)}const Yr=w=>w<=.0031308?w*12.92:Math.pow(w,1/2.4)*1.055-.055,tr=w=>w<=.04045?w/12.92:Math.pow((w+.055)/1.055,2.4);function kn(w,S,x){const A=tr(Ct(w.r)),$=tr(Ct(w.g)),D=tr(Ct(w.b));return{r:$t(Yr(A+x*(tr(Ct(S.r))-A))),g:$t(Yr($+x*(tr(Ct(S.g))-$))),b:$t(Yr(D+x*(tr(Ct(S.b))-D))),a:w.a+x*(S.a-w.a)}}function pr(w,S,x){if(w){let A=zr(w);A[S]=Math.max(0,Math.min(A[S]+A[S]*x,S===0?360:1)),A=fr(A),w.r=A[0],w.g=A[1],w.b=A[2]}}function On(w,S){return w&&Object.assign(S||{},w)}function jr(w){var S={r:0,g:0,b:0,a:255};return Array.isArray(w)?w.length>=3&&(S={r:w[0],g:w[1],b:w[2],a:255},w.length>3&&(S.a=$t(w[3]))):(S=On(w,{r:0,g:0,b:0,a:1}),S.a=$t(S.a)),S}function Nn(w){return w.charAt(0)==="r"?Ya(w):In(w)}class $r{constructor(S){if(S instanceof $r)return S;const x=typeof S;let A;x==="object"?A=jr(S):x==="string"&&(A=Oa(S)||Ua(S)||Nn(S)),this._rgb=A,this._valid=!!A}get valid(){return this._valid}get rgb(){var S=On(this._rgb);return S&&(S.a=Ct(S.a)),S}set rgb(S){this._rgb=jr(S)}rgbString(){return this._valid?ja(this._rgb):void 0}hexString(){return this._valid?$n(this._rgb):void 0}hslString(){return this._valid?za(this._rgb):void 0}mix(S,x){if(S){const A=this.rgb,$=S.rgb;let D;const R=x===D?.5:x,O=2*R-1,F=A.a-$.a,U=((O*F===-1?O:(O+F)/(1+O*F))+1)/2;D=1-U,A.r=255&U*A.r+D*$.r+.5,A.g=255&U*A.g+D*$.g+.5,A.b=255&U*A.b+D*$.b+.5,A.a=R*A.a+(1-R)*$.a,this.rgb=A}return this}interpolate(S,x){return S&&(this._rgb=kn(this._rgb,S._rgb,x)),this}clone(){return new $r(this.rgb)}alpha(S){return this._rgb.a=$t(S),this}clearer(S){const x=this._rgb;return x.a*=1-S,this}greyscale(){const S=this._rgb,x=Jt(S.r*.3+S.g*.59+S.b*.11);return S.r=S.g=S.b=x,this}opaquer(S){const x=this._rgb;return x.a*=1+S,this}negate(){const S=this._rgb;return S.r=255-S.r,S.g=255-S.g,S.b=255-S.b,this}lighten(S){return pr(this._rgb,2,S),this}darken(S){return pr(this._rgb,2,-S),this}saturate(S){return pr(this._rgb,1,S),this}desaturate(S){return pr(this._rgb,1,-S),this}rotate(S){return Rn(this._rgb,S),this}}function Vn(w){return new $r(w)}function Kr(w){if(w&&typeof w=="object"){const S=w.toString();return S==="[object CanvasPattern]"||S==="[object CanvasGradient]"}return!1}function Xr(w){return Kr(w)?w:Vn(w)}function Mr(w){return Kr(w)?w:Vn(w).saturate(.5).darken(.1).hexString()}const Ut=Object.create(null),Zr=Object.create(null);function rr(w,S){if(!S)return w;const x=S.split(".");for(let A=0,$=x.length;A<$;++A){const D=x[A];w=w[D]||(w[D]=Object.create(null))}return w}function qr(w,S,x){return typeof S=="string"?E(rr(w,S),x):E(rr(w,""),S)}class Ka{constructor(S){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=x=>x.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(x,A)=>Mr(A.backgroundColor),this.hoverBorderColor=(x,A)=>Mr(A.borderColor),this.hoverColor=(x,A)=>Mr(A.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(S)}set(S,x){return qr(this,S,x)}get(S){return rr(this,S)}describe(S,x){return qr(Zr,S,x)}override(S,x){return qr(Ut,S,x)}route(S,x,A,$){const D=rr(this,S),R=rr(this,A),O="_"+x;Object.defineProperties(D,{[O]:{value:D[x],writable:!0},[x]:{enumerable:!0,get(){const F=this[O],U=R[$];return c(F)?Object.assign({},U,F):f(F,U)},set(F){this[O]=F}}})}}var Qe=new Ka({_scriptable:w=>!w.startsWith("on"),_indexable:w=>w!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Jr(){return typeof window<"u"&&typeof document<"u"}function Dr(w){let S=w.parentNode;return S&&S.toString()==="[object ShadowRoot]"&&(S=S.host),S}function vr(w,S,x){let A;return typeof w=="string"?(A=parseInt(w,10),w.indexOf("%")!==-1&&(A=A/100*S.parentNode[x])):A=w,A}const Ir=w=>window.getComputedStyle(w,null);function Bn(w,S){return Ir(w).getPropertyValue(S)}const Xa=["top","right","bottom","left"];function Wt(w,S,x){const A={};x=x?"-"+x:"";for(let $=0;$<4;$++){const D=Xa[$];A[D]=parseFloat(w[S+"-"+D+x])||0}return A.width=A.left+A.right,A.height=A.top+A.bottom,A}const Za=(w,S,x)=>(w>0||S>0)&&(!x||!x.shadowRoot);function qa(w,S){const x=w.touches,A=x&&x.length?x[0]:w,{offsetX:$,offsetY:D}=A;let R=!1,O,F;if(Za($,D,w.target))O=$,F=D;else{const U=S.getBoundingClientRect();O=A.clientX-U.left,F=A.clientY-U.top,R=!0}return{x:O,y:F,box:R}}function Ot(w,S){if("native"in w)return w;const{canvas:x,currentDevicePixelRatio:A}=S,$=Ir(x),D=$.boxSizing==="border-box",R=Wt($,"padding"),O=Wt($,"border","width"),{x:F,y:U,box:K}=qa(w,x),Q=R.left+(K&&O.left),ee=R.top+(K&&O.top);let{width:se,height:ue}=S;return D&&(se-=R.width+O.width,ue-=R.height+O.height),{x:Math.round((F-Q)/se*x.width/A),y:Math.round((U-ee)/ue*x.height/A)}}function Ja(w,S,x){let A,$;if(S===void 0||x===void 0){const D=Dr(w);if(!D)S=w.clientWidth,x=w.clientHeight;else{const R=D.getBoundingClientRect(),O=Ir(D),F=Wt(O,"border","width"),U=Wt(O,"padding");S=R.width-U.width-F.width,x=R.height-U.height-F.height,A=vr(O.maxWidth,D,"clientWidth"),$=vr(O.maxHeight,D,"clientHeight")}}return{width:S,height:x,maxWidth:A||ae,maxHeight:$||ae}}const Qr=w=>Math.round(w*10)/10;function Fn(w,S,x,A){const $=Ir(w),D=Wt($,"margin"),R=vr($.maxWidth,w,"clientWidth")||ae,O=vr($.maxHeight,w,"clientHeight")||ae,F=Ja(w,S,x);let{width:U,height:K}=F;if($.boxSizing==="content-box"){const Q=Wt($,"border","width"),ee=Wt($,"padding");U-=ee.width+Q.width,K-=ee.height+Q.height}return U=Math.max(0,U-D.width),K=Math.max(0,A?Math.floor(U/A):K-D.height),U=Qr(Math.min(U,R,F.maxWidth)),K=Qr(Math.min(K,O,F.maxHeight)),U&&!K&&(K=Qr(U/2)),{width:U,height:K}}function en(w,S,x){const A=S||1,$=Math.floor(w.height*A),D=Math.floor(w.width*A);w.height=$/A,w.width=D/A;const R=w.canvas;return R.style&&(x||!R.style.height&&!R.style.width)&&(R.style.height=`${w.height}px`,R.style.width=`${w.width}px`),w.currentDevicePixelRatio!==A||R.height!==$||R.width!==D?(w.currentDevicePixelRatio=A,R.height=$,R.width=D,w.ctx.setTransform(A,0,0,A,0,0),!0):!1}const Hn=function(){let w=!1;try{const S={get passive(){return w=!0,!1}};window.addEventListener("test",null,S),window.removeEventListener("test",null,S)}catch{}return w}();function tn(w,S){const x=Bn(w,S),A=x&&x.match(/^(\d+)(\.\d+)?px$/);return A?+A[1]:void 0}function zn(w){return!w||s(w.size)||s(w.family)?null:(w.style?w.style+" ":"")+(w.weight?w.weight+" ":"")+w.size+"px "+w.family}function gr(w,S,x,A,$){let D=S[$];return D||(D=S[$]=w.measureText($).width,x.push($)),D>A&&(A=D),A}function Rr(w,S,x,A){A=A||{};let $=A.data=A.data||{},D=A.garbageCollect=A.garbageCollect||[];A.font!==S&&($=A.data={},D=A.garbageCollect=[],A.font=S),w.save(),w.font=S;let R=0;const O=x.length;let F,U,K,Q,ee;for(F=0;F<O;F++)if(Q=x[F],Q!=null&&l(Q)!==!0)R=gr(w,$,D,R,Q);else if(l(Q))for(U=0,K=Q.length;U<K;U++)ee=Q[U],ee!=null&&!l(ee)&&(R=gr(w,$,D,R,ee));w.restore();const se=D.length/2;if(se>x.length){for(F=0;F<se;F++)delete $[D[F]];D.splice(0,se)}return R}function Nt(w,S,x){const A=w.currentDevicePixelRatio,$=x!==0?Math.max(x/2,.5):0;return Math.round((S-$)*A)/A+$}function rn(w,S){S=S||w.getContext("2d"),S.save(),S.resetTransform(),S.clearRect(0,0,w.width,w.height),S.restore()}function Lr(w,S,x,A){nn(w,S,x,A,null)}function nn(w,S,x,A,$){let D,R,O,F,U,K;const Q=S.pointStyle,ee=S.rotation,se=S.radius;let ue=(ee||0)*he;if(Q&&typeof Q=="object"&&(D=Q.toString(),D==="[object HTMLImageElement]"||D==="[object HTMLCanvasElement]")){w.save(),w.translate(x,A),w.rotate(ue),w.drawImage(Q,-Q.width/2,-Q.height/2,Q.width,Q.height),w.restore();return}if(!(isNaN(se)||se<=0)){switch(w.beginPath(),Q){default:$?w.ellipse(x,A,$/2,se,0,0,q):w.arc(x,A,se,0,q),w.closePath();break;case"triangle":w.moveTo(x+Math.sin(ue)*se,A-Math.cos(ue)*se),ue+=fe,w.lineTo(x+Math.sin(ue)*se,A-Math.cos(ue)*se),ue+=fe,w.lineTo(x+Math.sin(ue)*se,A-Math.cos(ue)*se),w.closePath();break;case"rectRounded":U=se*.516,F=se-U,R=Math.cos(ue+ce)*F,O=Math.sin(ue+ce)*F,w.arc(x-R,A-O,U,ue-Z,ue-ve),w.arc(x+O,A-R,U,ue-ve,ue),w.arc(x+R,A+O,U,ue,ue+ve),w.arc(x-O,A+R,U,ue+ve,ue+Z),w.closePath();break;case"rect":if(!ee){F=Math.SQRT1_2*se,K=$?$/2:F,w.rect(x-K,A-F,2*K,2*F);break}ue+=ce;case"rectRot":R=Math.cos(ue)*se,O=Math.sin(ue)*se,w.moveTo(x-R,A-O),w.lineTo(x+O,A-R),w.lineTo(x+R,A+O),w.lineTo(x-O,A+R),w.closePath();break;case"crossRot":ue+=ce;case"cross":R=Math.cos(ue)*se,O=Math.sin(ue)*se,w.moveTo(x-R,A-O),w.lineTo(x+R,A+O),w.moveTo(x+O,A-R),w.lineTo(x-O,A+R);break;case"star":R=Math.cos(ue)*se,O=Math.sin(ue)*se,w.moveTo(x-R,A-O),w.lineTo(x+R,A+O),w.moveTo(x+O,A-R),w.lineTo(x-O,A+R),ue+=ce,R=Math.cos(ue)*se,O=Math.sin(ue)*se,w.moveTo(x-R,A-O),w.lineTo(x+R,A+O),w.moveTo(x+O,A-R),w.lineTo(x-O,A+R);break;case"line":R=$?$/2:Math.cos(ue)*se,O=Math.sin(ue)*se,w.moveTo(x-R,A-O),w.lineTo(x+R,A+O);break;case"dash":w.moveTo(x,A),w.lineTo(x+Math.cos(ue)*se,A+Math.sin(ue)*se);break}w.fill(),S.borderWidth>0&&w.stroke()}}function nr(w,S,x){return x=x||.5,!S||w&&w.x>S.left-x&&w.x<S.right+x&&w.y>S.top-x&&w.y<S.bottom+x}function mr(w,S){w.save(),w.beginPath(),w.rect(S.left,S.top,S.right-S.left,S.bottom-S.top),w.clip()}function Vt(w){w.restore()}function an(w,S,x,A,$){if(!S)return w.lineTo(x.x,x.y);if($==="middle"){const D=(S.x+x.x)/2;w.lineTo(D,S.y),w.lineTo(D,x.y)}else $==="after"!=!!A?w.lineTo(S.x,x.y):w.lineTo(x.x,S.y);w.lineTo(x.x,x.y)}function Gn(w,S,x,A){if(!S)return w.lineTo(x.x,x.y);w.bezierCurveTo(A?S.cp1x:S.cp2x,A?S.cp1y:S.cp2y,A?x.cp2x:x.cp1x,A?x.cp2y:x.cp1y,x.x,x.y)}function Bt(w,S,x,A,$,D={}){const R=l(S)?S:[S],O=D.strokeWidth>0&&D.strokeColor!=="";let F,U;for(w.save(),w.font=$.string,Un(w,D),F=0;F<R.length;++F)U=R[F],O&&(D.strokeColor&&(w.strokeStyle=D.strokeColor),s(D.strokeWidth)||(w.lineWidth=D.strokeWidth),w.strokeText(U,x,A,D.maxWidth)),w.fillText(U,x,A,D.maxWidth),Qa(w,x,A,U,D),A+=$.lineHeight;w.restore()}function Un(w,S){S.translation&&w.translate(S.translation[0],S.translation[1]),s(S.rotation)||w.rotate(S.rotation),S.color&&(w.fillStyle=S.color),S.textAlign&&(w.textAlign=S.textAlign),S.textBaseline&&(w.textBaseline=S.textBaseline)}function Qa(w,S,x,A,$){if($.strikethrough||$.underline){const D=w.measureText(A),R=S-D.actualBoundingBoxLeft,O=S+D.actualBoundingBoxRight,F=x-D.actualBoundingBoxAscent,U=x+D.actualBoundingBoxDescent,K=$.strikethrough?(F+U)/2:U;w.strokeStyle=w.fillStyle,w.beginPath(),w.lineWidth=$.decorationWidth||2,w.moveTo(R,K),w.lineTo(O,K),w.stroke()}}function ar(w,S){const{x,y:A,w:$,h:D,radius:R}=S;w.arc(x+R.topLeft,A+R.topLeft,R.topLeft,-ve,Z,!0),w.lineTo(x,A+D-R.bottomLeft),w.arc(x+R.bottomLeft,A+D-R.bottomLeft,R.bottomLeft,Z,ve,!0),w.lineTo(x+$-R.bottomRight,A+D),w.arc(x+$-R.bottomRight,A+D-R.bottomRight,R.bottomRight,ve,0,!0),w.lineTo(x+$,A+R.topRight),w.arc(x+$-R.topRight,A+R.topRight,R.topRight,0,-ve,!0),w.lineTo(x+R.topLeft,A)}function yr(w,S=[""],x=w,A,$=()=>w[0]){H(A)||(A=Zn("_fallback",w));const D={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:w,_rootScopes:x,_fallback:A,_getTarget:$,override:R=>yr([R,...w],S,x,A)};return new Proxy(D,{deleteProperty(R,O){return delete R[O],delete R._keys,delete w[0][O],!0},get(R,O){return Yn(R,O,()=>Xn(O,S,w,R))},getOwnPropertyDescriptor(R,O){return Reflect.getOwnPropertyDescriptor(R._scopes[0],O)},getPrototypeOf(){return Reflect.getPrototypeOf(w[0])},has(R,O){return qn(R).includes(O)},ownKeys(R){return qn(R)},set(R,O,F){const U=R._storage||(R._storage=$());return R[O]=U[O]=F,delete R._keys,!0}})}function Yt(w,S,x,A){const $={_cacheable:!1,_proxy:w,_context:S,_subProxy:x,_stack:new Set,_descriptors:on(w,A),setContext:D=>Yt(w,D,x,A),override:D=>Yt(w.override(D),S,x,A)};return new Proxy($,{deleteProperty(D,R){return delete D[R],delete w[R],!0},get(D,R,O){return Yn(D,R,()=>jn(D,R,O))},getOwnPropertyDescriptor(D,R){return D._descriptors.allKeys?Reflect.has(w,R)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(w,R)},getPrototypeOf(){return Reflect.getPrototypeOf(w)},has(D,R){return Reflect.has(w,R)},ownKeys(){return Reflect.ownKeys(w)},set(D,R,O){return w[R]=O,delete D[R],!0}})}function on(w,S={scriptable:!0,indexable:!0}){const{_scriptable:x=S.scriptable,_indexable:A=S.indexable,_allKeys:$=S.allKeys}=w;return{allKeys:$,scriptable:x,indexable:A,isScriptable:W(x)?x:()=>x,isIndexable:W(A)?A:()=>A}}const Wn=(w,S)=>w?w+G(S):S,sn=(w,S)=>c(S)&&w!=="adapters"&&(Object.getPrototypeOf(S)===null||S.constructor===Object);function Yn(w,S,x){if(Object.prototype.hasOwnProperty.call(w,S))return w[S];const A=x();return w[S]=A,A}function jn(w,S,x){const{_proxy:A,_context:$,_subProxy:D,_descriptors:R}=w;let O=A[S];return W(O)&&R.isScriptable(S)&&(O=ei(S,O,w,x)),l(O)&&O.length&&(O=ti(S,O,w,R.isIndexable)),sn(S,O)&&(O=Yt(O,$,D&&D[S],R)),O}function ei(w,S,x,A){const{_proxy:$,_context:D,_subProxy:R,_stack:O}=x;if(O.has(w))throw new Error("Recursion detected: "+Array.from(O).join("->")+"->"+w);return O.add(w),S=S(D,R||A),O.delete(w),sn(w,S)&&(S=kr($._scopes,$,w,S)),S}function ti(w,S,x,A){const{_proxy:$,_context:D,_subProxy:R,_descriptors:O}=x;if(H(D.index)&&A(w))S=S[D.index%S.length];else if(c(S[0])){const F=S,U=$._scopes.filter(K=>K!==F);S=[];for(const K of F){const Q=kr(U,$,w,K);S.push(Yt(Q,D,R&&R[w],O))}}return S}function ln(w,S,x){return W(w)?w(S,x):w}const ri=(w,S)=>w===!0?S:typeof w=="string"?V(S,w):void 0;function ni(w,S,x,A,$){for(const D of S){const R=ri(x,D);if(R){w.add(R);const O=ln(R._fallback,x,$);if(H(O)&&O!==x&&O!==A)return O}else if(R===!1&&H(A)&&x!==A)return null}return!1}function kr(w,S,x,A){const $=S._rootScopes,D=ln(S._fallback,x,A),R=[...w,...$],O=new Set;O.add(A);let F=Kn(O,R,x,D||x,A);return F===null||H(D)&&D!==x&&(F=Kn(O,R,D,F,A),F===null)?!1:yr(Array.from(O),[""],$,D,()=>ai(S,x,A))}function Kn(w,S,x,A,$){for(;x;)x=ni(w,S,x,A,$);return x}function ai(w,S,x){const A=w._getTarget();S in A||(A[S]={});const $=A[S];return l($)&&c(x)?x:$}function Xn(w,S,x,A){let $;for(const D of S)if($=Zn(Wn(D,w),x),H($))return sn(w,$)?kr(x,A,w,$):$}function Zn(w,S){for(const x of S){if(!x)continue;const A=x[w];if(H(A))return A}}function qn(w){let S=w._keys;return S||(S=w._keys=Jn(w._scopes)),S}function Jn(w){const S=new Set;for(const x of w)for(const A of Object.keys(x).filter($=>!$.startsWith("_")))S.add(A);return Array.from(S)}function cn(w,S,x,A){const{iScale:$}=w,{key:D="r"}=this._parsing,R=new Array(A);let O,F,U,K;for(O=0,F=A;O<F;++O)U=O+x,K=S[U],R[O]={r:$.parse(V(K,D),U)};return R}const ii=Number.EPSILON||1e-14,jt=(w,S)=>S<w.length&&!w[S].skip&&w[S],Qn=w=>w==="x"?"y":"x";function ea(w,S,x,A){const $=w.skip?S:w,D=S,R=x.skip?S:x,O=ge(D,$),F=ge(R,D);let U=O/(O+F),K=F/(O+F);U=isNaN(U)?0:U,K=isNaN(K)?0:K;const Q=A*U,ee=A*K;return{previous:{x:D.x-Q*(R.x-$.x),y:D.y-Q*(R.y-$.y)},next:{x:D.x+ee*(R.x-$.x),y:D.y+ee*(R.y-$.y)}}}function ta(w,S,x){const A=w.length;let $,D,R,O,F,U=jt(w,0);for(let K=0;K<A-1;++K)if(F=U,U=jt(w,K+1),!(!F||!U)){if(pe(S[K],0,ii)){x[K]=x[K+1]=0;continue}$=x[K]/S[K],D=x[K+1]/S[K],O=Math.pow($,2)+Math.pow(D,2),!(O<=9)&&(R=3/Math.sqrt(O),x[K]=$*R*S[K],x[K+1]=D*R*S[K])}}function oi(w,S,x="x"){const A=Qn(x),$=w.length;let D,R,O,F=jt(w,0);for(let U=0;U<$;++U){if(R=O,O=F,F=jt(w,U+1),!O)continue;const K=O[x],Q=O[A];R&&(D=(K-R[x])/3,O[`cp1${x}`]=K-D,O[`cp1${A}`]=Q-D*S[U]),F&&(D=(F[x]-K)/3,O[`cp2${x}`]=K+D,O[`cp2${A}`]=Q+D*S[U])}}function ra(w,S="x"){const x=Qn(S),A=w.length,$=Array(A).fill(0),D=Array(A);let R,O,F,U=jt(w,0);for(R=0;R<A;++R)if(O=F,F=U,U=jt(w,R+1),!!F){if(U){const K=U[S]-F[S];$[R]=K!==0?(U[x]-F[x])/K:0}D[R]=O?U?Ce($[R-1])!==Ce($[R])?0:($[R-1]+$[R])/2:$[R-1]:$[R]}ta(w,$,D),oi(w,D,S)}function _r(w,S,x){return Math.max(Math.min(w,x),S)}function si(w,S){let x,A,$,D,R,O=nr(w[0],S);for(x=0,A=w.length;x<A;++x)R=D,D=O,O=x<A-1&&nr(w[x+1],S),D&&($=w[x],R&&($.cp1x=_r($.cp1x,S.left,S.right),$.cp1y=_r($.cp1y,S.top,S.bottom)),O&&($.cp2x=_r($.cp2x,S.left,S.right),$.cp2y=_r($.cp2y,S.top,S.bottom)))}function na(w,S,x,A,$){let D,R,O,F;if(S.spanGaps&&(w=w.filter(U=>!U.skip)),S.cubicInterpolationMode==="monotone")ra(w,$);else{let U=A?w[w.length-1]:w[0];for(D=0,R=w.length;D<R;++D)O=w[D],F=ea(U,O,w[Math.min(D+1,R-(A?0:1))%R],S.tension),O.cp1x=F.previous.x,O.cp1y=F.previous.y,O.cp2x=F.next.x,O.cp2y=F.next.y,U=O}S.capBezierPoints&&si(w,x)}const Sr=w=>w===0||w===1,aa=(w,S,x)=>-(Math.pow(2,10*(w-=1))*Math.sin((w-S)*q/x)),ia=(w,S,x)=>Math.pow(2,-10*w)*Math.sin((w-S)*q/x)+1,Kt={linear:w=>w,easeInQuad:w=>w*w,easeOutQuad:w=>-w*(w-2),easeInOutQuad:w=>(w/=.5)<1?.5*w*w:-.5*(--w*(w-2)-1),easeInCubic:w=>w*w*w,easeOutCubic:w=>(w-=1)*w*w+1,easeInOutCubic:w=>(w/=.5)<1?.5*w*w*w:.5*((w-=2)*w*w+2),easeInQuart:w=>w*w*w*w,easeOutQuart:w=>-((w-=1)*w*w*w-1),easeInOutQuart:w=>(w/=.5)<1?.5*w*w*w*w:-.5*((w-=2)*w*w*w-2),easeInQuint:w=>w*w*w*w*w,easeOutQuint:w=>(w-=1)*w*w*w*w+1,easeInOutQuint:w=>(w/=.5)<1?.5*w*w*w*w*w:.5*((w-=2)*w*w*w*w+2),easeInSine:w=>-Math.cos(w*ve)+1,easeOutSine:w=>Math.sin(w*ve),easeInOutSine:w=>-.5*(Math.cos(Z*w)-1),easeInExpo:w=>w===0?0:Math.pow(2,10*(w-1)),easeOutExpo:w=>w===1?1:-Math.pow(2,-10*w)+1,easeInOutExpo:w=>Sr(w)?w:w<.5?.5*Math.pow(2,10*(w*2-1)):.5*(-Math.pow(2,-10*(w*2-1))+2),easeInCirc:w=>w>=1?w:-(Math.sqrt(1-w*w)-1),easeOutCirc:w=>Math.sqrt(1-(w-=1)*w),easeInOutCirc:w=>(w/=.5)<1?-.5*(Math.sqrt(1-w*w)-1):.5*(Math.sqrt(1-(w-=2)*w)+1),easeInElastic:w=>Sr(w)?w:aa(w,.075,.3),easeOutElastic:w=>Sr(w)?w:ia(w,.075,.3),easeInOutElastic(w){return Sr(w)?w:w<.5?.5*aa(w*2,.1125,.45):.5+.5*ia(w*2-1,.1125,.45)},easeInBack(w){return w*w*((1.70158+1)*w-1.70158)},easeOutBack(w){return(w-=1)*w*((1.70158+1)*w+1.70158)+1},easeInOutBack(w){let S=1.70158;return(w/=.5)<1?.5*(w*w*(((S*=1.525)+1)*w-S)):.5*((w-=2)*w*(((S*=1.525)+1)*w+S)+2)},easeInBounce:w=>1-Kt.easeOutBounce(1-w),easeOutBounce(w){return w<1/2.75?7.5625*w*w:w<2/2.75?7.5625*(w-=1.5/2.75)*w+.75:w<2.5/2.75?7.5625*(w-=2.25/2.75)*w+.9375:7.5625*(w-=2.625/2.75)*w+.984375},easeInOutBounce:w=>w<.5?Kt.easeInBounce(w*2)*.5:Kt.easeOutBounce(w*2-1)*.5+.5};function Ft(w,S,x,A){return{x:w.x+x*(S.x-w.x),y:w.y+x*(S.y-w.y)}}function un(w,S,x,A){return{x:w.x+x*(S.x-w.x),y:A==="middle"?x<.5?w.y:S.y:A==="after"?x<1?w.y:S.y:x>0?S.y:w.y}}function oa(w,S,x,A){const $={x:w.cp2x,y:w.cp2y},D={x:S.cp1x,y:S.cp1y},R=Ft(w,$,x),O=Ft($,D,x),F=Ft(D,S,x),U=Ft(R,O,x),K=Ft(O,F,x);return Ft(U,K,x)}const hn=new Map;function sa(w,S){S=S||{};const x=w+JSON.stringify(S);let A=hn.get(x);return A||(A=new Intl.NumberFormat(w,S),hn.set(x,A)),A}function ir(w,S,x){return sa(S,x).format(w)}const li=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ci=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function br(w,S){const x=(""+w).match(li);if(!x||x[1]==="normal")return S*1.2;switch(w=+x[2],x[3]){case"px":return w;case"%":w/=100;break}return S*w}const la=w=>+w||0;function xr(w,S){const x={},A=c(S),$=A?Object.keys(S):S,D=c(w)?A?R=>f(w[R],w[S[R]]):R=>w[R]:()=>w;for(const R of $)x[R]=la(D(R));return x}function Or(w){return xr(w,{top:"y",right:"x",bottom:"y",left:"x"})}function Ht(w){return xr(w,["topLeft","topRight","bottomLeft","bottomRight"])}function pt(w){const S=Or(w);return S.width=S.left+S.right,S.height=S.top+S.bottom,S}function ht(w,S){w=w||{},S=S||Qe.font;let x=f(w.size,S.size);typeof x=="string"&&(x=parseInt(x,10));let A=f(w.style,S.style);A&&!(""+A).match(ci)&&(console.warn('Invalid font style specified: "'+A+'"'),A="");const $={family:f(w.family,S.family),lineHeight:br(f(w.lineHeight,S.lineHeight),x),size:x,style:A,weight:f(w.weight,S.weight),string:""};return $.string=zn($),$}function Rt(w,S,x,A){let $=!0,D,R,O;for(D=0,R=w.length;D<R;++D)if(O=w[D],O!==void 0&&(S!==void 0&&typeof O=="function"&&(O=O(S),$=!1),x!==void 0&&l(O)&&(O=O[x%O.length],$=!1),O!==void 0))return A&&!$&&(A.cacheable=!1),O}function Tr(w,S,x){const{min:A,max:$}=w,D=g(S,($-A)/2),R=(O,F)=>x&&O===0?0:O+F;return{min:R(A,-Math.abs(D)),max:R($,D)}}function Lt(w,S){return Object.assign(Object.create(w),S)}const ca=function(w,S){return{x(x){return w+w+S-x},setWidth(x){S=x},textAlign(x){return x==="center"?x:x==="right"?"left":"right"},xPlus(x,A){return x-A},leftForLtr(x,A){return x-A}}},ui=function(){return{x(w){return w},setWidth(w){},textAlign(w){return w},xPlus(w,S){return w+S},leftForLtr(w,S){return w}}};function Xt(w,S,x){return w?ca(S,x):ui()}function dn(w,S){let x,A;(S==="ltr"||S==="rtl")&&(x=w.canvas.style,A=[x.getPropertyValue("direction"),x.getPropertyPriority("direction")],x.setProperty("direction",S,"important"),w.prevTextDirection=A)}function ie(w,S){S!==void 0&&(delete w.prevTextDirection,w.canvas.style.setProperty("direction",S[0],S[1]))}function Ke(w){return w==="angle"?{between:$e,compare:Ae,normalize:be}:{between:Le,compare:(S,x)=>S-x,normalize:S=>S}}function or({start:w,end:S,count:x,loop:A,style:$}){return{start:w%x,end:S%x,loop:A&&(S-w+1)%x===0,style:$}}function fn(w,S,x){const{property:A,start:$,end:D}=x,{between:R,normalize:O}=Ke(A),F=S.length;let{start:U,end:K,loop:Q}=w,ee,se;if(Q){for(U+=F,K+=F,ee=0,se=F;ee<se&&R(O(S[U%F][A]),$,D);++ee)U--,K--;U%=F,K%=F}return K<U&&(K+=F),{start:U,end:K,loop:Q,style:w.style}}function sr(w,S,x){if(!x)return[w];const{property:A,start:$,end:D}=x,R=S.length,{compare:O,between:F,normalize:U}=Ke(A),{start:K,end:Q,loop:ee,style:se}=fn(w,S,x),ue=[];let me=!1,ye=null,xe,Ee,Ne;const Oe=()=>F($,Ne,xe)&&O($,Ne)!==0,Re=()=>O(D,xe)===0||F(D,Ne,xe),He=()=>me||Oe(),ze=()=>!me||Re();for(let Xe=K,je=K;Xe<=Q;++Xe)Ee=S[Xe%R],!Ee.skip&&(xe=U(Ee[A]),xe!==Ne&&(me=F(xe,$,D),ye===null&&He()&&(ye=O(xe,$)===0?Xe:je),ye!==null&&ze()&&(ue.push(or({start:ye,end:Xe,loop:ee,count:R,style:se})),ye=null),je=Xe,Ne=xe));return ye!==null&&ue.push(or({start:ye,end:Q,loop:ee,count:R,style:se})),ue}function lr(w,S){const x=[],A=w.segments;for(let $=0;$<A.length;$++){const D=sr(A[$],w.points,S);D.length&&x.push(...D)}return x}function Be(w,S,x,A){let $=0,D=S-1;if(x&&!A)for(;$<S&&!w[$].skip;)$++;for(;$<S&&w[$].skip;)$++;for($%=S,x&&(D+=$);D>$&&w[D%S].skip;)D--;return D%=S,{start:$,end:D}}function Y(w,S,x,A){const $=w.length,D=[];let R=S,O=w[S],F;for(F=S+1;F<=x;++F){const U=w[F%$];U.skip||U.stop?O.skip||(A=!1,D.push({start:S%$,end:(F-1)%$,loop:A}),S=R=U.stop?F:null):(R=F,O.skip&&(S=F)),O=U}return R!==null&&D.push({start:S%$,end:R%$,loop:A}),D}function J(w,S){const x=w.points,A=w.options.spanGaps,$=x.length;if(!$)return[];const D=!!w._loop,{start:R,end:O}=Be(x,$,D,A);if(A===!0)return Pe(w,[{start:R,end:O,loop:D}],x,S);const F=O<R?O+$:O,U=!!w._fullLoop&&R===0&&O===$-1;return Pe(w,Y(x,R,F,U),x,S)}function Pe(w,S,x,A){return!A||!A.setContext||!x?S:Ue(w,S,x,A)}function Ue(w,S,x,A){const $=w._chart.getContext(),D=et(w.options),{_datasetIndex:R,options:{spanGaps:O}}=w,F=x.length,U=[];let K=D,Q=S[0].start,ee=Q;function se(ue,me,ye,xe){const Ee=O?-1:1;if(ue!==me){for(ue+=F;x[ue%F].skip;)ue-=Ee;for(;x[me%F].skip;)me+=Ee;ue%F!==me%F&&(U.push({start:ue%F,end:me%F,loop:ye,style:xe}),K=xe,Q=me%F)}}for(const ue of S){Q=O?Q:ue.start;let me=x[Q%F],ye;for(ee=Q+1;ee<=ue.end;ee++){const xe=x[ee%F];ye=et(A.setContext(Lt($,{type:"segment",p0:me,p1:xe,p0DataIndex:(ee-1)%F,p1DataIndex:ee%F,datasetIndex:R}))),zt(ye,K)&&se(Q,ee-1,ue.loop,K),me=xe,K=ye}Q<ee-1&&se(Q,ee-1,ue.loop,K)}return U}function et(w){return{backgroundColor:w.backgroundColor,borderCapStyle:w.borderCapStyle,borderDash:w.borderDash,borderDashOffset:w.borderDashOffset,borderJoinStyle:w.borderJoinStyle,borderWidth:w.borderWidth,borderColor:w.borderColor}}function zt(w,S){return S&&JSON.stringify(w)!==JSON.stringify(S)}var wr=Object.freeze({__proto__:null,easingEffects:Kt,isPatternOrGradient:Kr,color:Xr,getHoverColor:Mr,noop:a,uid:o,isNullOrUndef:s,isArray:l,isObject:c,isFinite:u,finiteOrDefault:d,valueOrDefault:f,toPercentage:v,toDimension:g,callback:y,each:_,_elementsEqual:b,clone:T,_merger:P,merge:E,mergeIf:M,_mergerIf:I,_deprecated:L,resolveObjectKey:V,_splitKey:z,_capitalize:G,defined:H,isFunction:W,setsEqual:j,_isClickEvent:X,toFontString:zn,_measureText:gr,_longestText:Rr,_alignPixel:Nt,clearCanvas:rn,drawPoint:Lr,drawPointLegend:nn,_isPointInArea:nr,clipArea:mr,unclipArea:Vt,_steppedLineTo:an,_bezierCurveTo:Gn,renderText:Bt,addRoundedRectPath:ar,_lookup:ke,_lookupByKey:Ge,_rlookupByKey:Fe,_filterBetween:We,listenArrayEvents:Je,unlistenArrayEvents:it,_arrayUnique:nt,_createResolver:yr,_attachContext:Yt,_descriptors:on,_parseObjectDataRadialScale:cn,splineCurve:ea,splineCurveMonotone:ra,_updateBezierControlPoints:na,_isDomSupported:Jr,_getParentNode:Dr,getStyle:Bn,getRelativePosition:Ot,getMaximumSize:Fn,retinaScale:en,supportsEventListenerOptions:Hn,readUsedSize:tn,fontString:_t,requestAnimFrame:ct,throttled:St,debounce:mt,_toLeftRightCenter:Pt,_alignStartEnd:ut,_textX:yt,_getStartAndCountOfVisiblePoints:bt,_scaleRangesChanged:qt,_pointInLine:Ft,_steppedInterpolation:un,_bezierInterpolation:oa,formatNumber:ir,toLineHeight:br,_readValueToProps:xr,toTRBL:Or,toTRBLCorners:Ht,toPadding:pt,toFont:ht,resolve:Rt,_addGrace:Tr,createContext:Lt,PI:Z,TAU:q,PITAU:le,INFINITY:ae,RAD_PER_DEG:he,HALF_PI:ve,QUARTER_PI:ce,TWO_THIRDS_PI:fe,log10:_e,sign:Ce,niceNum:Se,_factorize:De,isNumber:ne,almostEquals:pe,almostWhole:de,_setMinAndMaxByKey:Te,toRadians:we,toDegrees:Ie,_decimalPlaces:te,getAngleFromPoint:oe,distanceBetweenPoints:ge,_angleDiff:Ae,_normalizeAngle:be,_angleBetween:$e,_limitValue:Me,_int16Range:Ve,_isBetween:Le,getRtlAdapter:Xt,overrideTextDirection:dn,restoreTextDirection:ie,_boundSegment:sr,_boundSegments:lr,_computeSegments:J});function us(w,S,x,A){const{controller:$,data:D,_sorted:R}=w,O=$._cachedMeta.iScale;if(O&&S===O.axis&&S!=="r"&&R&&D.length){const F=O._reversePixels?Fe:Ge;if(A){if($._sharedOptions){const U=D[0],K=typeof U.getRange=="function"&&U.getRange(S);if(K){const Q=F(D,S,x-K),ee=F(D,S,x+K);return{lo:Q.lo,hi:ee.hi}}}}else return F(D,S,x)}return{lo:0,hi:D.length-1}}function pn(w,S,x,A,$){const D=w.getSortedVisibleDatasetMetas(),R=x[S];for(let O=0,F=D.length;O<F;++O){const{index:U,data:K}=D[O],{lo:Q,hi:ee}=us(D[O],S,R,$);for(let se=Q;se<=ee;++se){const ue=K[se];ue.skip||A(ue,U,se)}}}function hs(w){const S=w.indexOf("x")!==-1,x=w.indexOf("y")!==-1;return function(A,$){const D=S?Math.abs(A.x-$.x):0,R=x?Math.abs(A.y-$.y):0;return Math.sqrt(Math.pow(D,2)+Math.pow(R,2))}}function hi(w,S,x,A,$){const D=[];return!$&&!w.isPointInArea(S)||pn(w,x,S,function(O,F,U){!$&&!nr(O,w.chartArea,0)||O.inRange(S.x,S.y,A)&&D.push({element:O,datasetIndex:F,index:U})},!0),D}function ds(w,S,x,A){let $=[];function D(R,O,F){const{startAngle:U,endAngle:K}=R.getProps(["startAngle","endAngle"],A),{angle:Q}=oe(R,{x:S.x,y:S.y});$e(Q,U,K)&&$.push({element:R,datasetIndex:O,index:F})}return pn(w,x,S,D),$}function fs(w,S,x,A,$,D){let R=[];const O=hs(x);let F=Number.POSITIVE_INFINITY;function U(K,Q,ee){const se=K.inRange(S.x,S.y,$);if(A&&!se)return;const ue=K.getCenterPoint($);if(!(!!D||w.isPointInArea(ue))&&!se)return;const ye=O(S,ue);ye<F?(R=[{element:K,datasetIndex:Q,index:ee}],F=ye):ye===F&&R.push({element:K,datasetIndex:Q,index:ee})}return pn(w,x,S,U),R}function di(w,S,x,A,$,D){return!D&&!w.isPointInArea(S)?[]:x==="r"&&!A?ds(w,S,x,$):fs(w,S,x,A,$,D)}function Hi(w,S,x,A,$){const D=[],R=x==="x"?"inXRange":"inYRange";let O=!1;return pn(w,x,S,(F,U,K)=>{F[R](S[x],$)&&(D.push({element:F,datasetIndex:U,index:K}),O=O||F.inRange(S.x,S.y,$))}),A&&!O?[]:D}var zi={evaluateInteractionItems:pn,modes:{index(w,S,x,A){const $=Ot(S,w),D=x.axis||"x",R=x.includeInvisible||!1,O=x.intersect?hi(w,$,D,A,R):di(w,$,D,!1,A,R),F=[];return O.length?(w.getSortedVisibleDatasetMetas().forEach(U=>{const K=O[0].index,Q=U.data[K];Q&&!Q.skip&&F.push({element:Q,datasetIndex:U.index,index:K})}),F):[]},dataset(w,S,x,A){const $=Ot(S,w),D=x.axis||"xy",R=x.includeInvisible||!1;let O=x.intersect?hi(w,$,D,A,R):di(w,$,D,!1,A,R);if(O.length>0){const F=O[0].datasetIndex,U=w.getDatasetMeta(F).data;O=[];for(let K=0;K<U.length;++K)O.push({element:U[K],datasetIndex:F,index:K})}return O},point(w,S,x,A){const $=Ot(S,w),D=x.axis||"xy",R=x.includeInvisible||!1;return hi(w,$,D,A,R)},nearest(w,S,x,A){const $=Ot(S,w),D=x.axis||"xy",R=x.includeInvisible||!1;return di(w,$,D,x.intersect,A,R)},x(w,S,x,A){const $=Ot(S,w);return Hi(w,$,"x",x.intersect,A)},y(w,S,x,A){const $=Ot(S,w);return Hi(w,$,"y",x.intersect,A)}}};const Gi=["left","top","right","bottom"];function vn(w,S){return w.filter(x=>x.pos===S)}function Ui(w,S){return w.filter(x=>Gi.indexOf(x.pos)===-1&&x.box.axis===S)}function gn(w,S){return w.sort((x,A)=>{const $=S?A:x,D=S?x:A;return $.weight===D.weight?$.index-D.index:$.weight-D.weight})}function ps(w){const S=[];let x,A,$,D,R,O;for(x=0,A=(w||[]).length;x<A;++x)$=w[x],{position:D,options:{stack:R,stackWeight:O=1}}=$,S.push({index:x,box:$,pos:D,horizontal:$.isHorizontal(),weight:$.weight,stack:R&&D+R,stackWeight:O});return S}function vs(w){const S={};for(const x of w){const{stack:A,pos:$,stackWeight:D}=x;if(!A||!Gi.includes($))continue;const R=S[A]||(S[A]={count:0,placed:0,weight:0,size:0});R.count++,R.weight+=D}return S}function gs(w,S){const x=vs(w),{vBoxMaxWidth:A,hBoxMaxHeight:$}=S;let D,R,O;for(D=0,R=w.length;D<R;++D){O=w[D];const{fullSize:F}=O.box,U=x[O.stack],K=U&&O.stackWeight/U.weight;O.horizontal?(O.width=K?K*A:F&&S.availableWidth,O.height=$):(O.width=A,O.height=K?K*$:F&&S.availableHeight)}return x}function ms(w){const S=ps(w),x=gn(S.filter(U=>U.box.fullSize),!0),A=gn(vn(S,"left"),!0),$=gn(vn(S,"right")),D=gn(vn(S,"top"),!0),R=gn(vn(S,"bottom")),O=Ui(S,"x"),F=Ui(S,"y");return{fullSize:x,leftAndTop:A.concat(D),rightAndBottom:$.concat(F).concat(R).concat(O),chartArea:vn(S,"chartArea"),vertical:A.concat($).concat(F),horizontal:D.concat(R).concat(O)}}function Wi(w,S,x,A){return Math.max(w[x],S[x])+Math.max(w[A],S[A])}function Yi(w,S){w.top=Math.max(w.top,S.top),w.left=Math.max(w.left,S.left),w.bottom=Math.max(w.bottom,S.bottom),w.right=Math.max(w.right,S.right)}function ys(w,S,x,A){const{pos:$,box:D}=x,R=w.maxPadding;if(!c($)){x.size&&(w[$]-=x.size);const Q=A[x.stack]||{size:0,count:1};Q.size=Math.max(Q.size,x.horizontal?D.height:D.width),x.size=Q.size/Q.count,w[$]+=x.size}D.getPadding&&Yi(R,D.getPadding());const O=Math.max(0,S.outerWidth-Wi(R,w,"left","right")),F=Math.max(0,S.outerHeight-Wi(R,w,"top","bottom")),U=O!==w.w,K=F!==w.h;return w.w=O,w.h=F,x.horizontal?{same:U,other:K}:{same:K,other:U}}function _s(w){const S=w.maxPadding;function x(A){const $=Math.max(S[A]-w[A],0);return w[A]+=$,$}w.y+=x("top"),w.x+=x("left"),x("right"),x("bottom")}function Ss(w,S){const x=S.maxPadding;function A($){const D={left:0,top:0,right:0,bottom:0};return $.forEach(R=>{D[R]=Math.max(S[R],x[R])}),D}return A(w?["left","right"]:["top","bottom"])}function mn(w,S,x,A){const $=[];let D,R,O,F,U,K;for(D=0,R=w.length,U=0;D<R;++D){O=w[D],F=O.box,F.update(O.width||S.w,O.height||S.h,Ss(O.horizontal,S));const{same:Q,other:ee}=ys(S,x,O,A);U|=Q&&$.length,K=K||ee,F.fullSize||$.push(O)}return U&&mn($,S,x,A)||K}function ua(w,S,x,A,$){w.top=x,w.left=S,w.right=S+A,w.bottom=x+$,w.width=A,w.height=$}function ji(w,S,x,A){const $=x.padding;let{x:D,y:R}=S;for(const O of w){const F=O.box,U=A[O.stack]||{count:1,placed:0,weight:1},K=O.stackWeight/U.weight||1;if(O.horizontal){const Q=S.w*K,ee=U.size||F.height;H(U.start)&&(R=U.start),F.fullSize?ua(F,$.left,R,x.outerWidth-$.right-$.left,ee):ua(F,S.left+U.placed,R,Q,ee),U.start=R,U.placed+=Q,R=F.bottom}else{const Q=S.h*K,ee=U.size||F.width;H(U.start)&&(D=U.start),F.fullSize?ua(F,D,$.top,ee,x.outerHeight-$.bottom-$.top):ua(F,D,S.top+U.placed,ee,Q),U.start=D,U.placed+=Q,D=F.right}}S.x=D,S.y=R}Qe.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var xt={addBox(w,S){w.boxes||(w.boxes=[]),S.fullSize=S.fullSize||!1,S.position=S.position||"top",S.weight=S.weight||0,S._layers=S._layers||function(){return[{z:0,draw(x){S.draw(x)}}]},w.boxes.push(S)},removeBox(w,S){const x=w.boxes?w.boxes.indexOf(S):-1;x!==-1&&w.boxes.splice(x,1)},configure(w,S,x){S.fullSize=x.fullSize,S.position=x.position,S.weight=x.weight},update(w,S,x,A){if(!w)return;const $=pt(w.options.layout.padding),D=Math.max(S-$.width,0),R=Math.max(x-$.height,0),O=ms(w.boxes),F=O.vertical,U=O.horizontal;_(w.boxes,me=>{typeof me.beforeLayout=="function"&&me.beforeLayout()});const K=F.reduce((me,ye)=>ye.box.options&&ye.box.options.display===!1?me:me+1,0)||1,Q=Object.freeze({outerWidth:S,outerHeight:x,padding:$,availableWidth:D,availableHeight:R,vBoxMaxWidth:D/2/K,hBoxMaxHeight:R/2}),ee=Object.assign({},$);Yi(ee,pt(A));const se=Object.assign({maxPadding:ee,w:D,h:R,x:$.left,y:$.top},$),ue=gs(F.concat(U),Q);mn(O.fullSize,se,Q,ue),mn(F,se,Q,ue),mn(U,se,Q,ue)&&mn(F,se,Q,ue),_s(se),ji(O.leftAndTop,se,Q,ue),se.x+=se.w,se.y+=se.h,ji(O.rightAndBottom,se,Q,ue),w.chartArea={left:se.left,top:se.top,right:se.left+se.w,bottom:se.top+se.h,height:se.h,width:se.w},_(O.chartArea,me=>{const ye=me.box;Object.assign(ye,w.chartArea),ye.update(se.w,se.h,{left:0,top:0,right:0,bottom:0})})}};class fi{acquireContext(S,x){}releaseContext(S){return!1}addEventListener(S,x,A){}removeEventListener(S,x,A){}getDevicePixelRatio(){return 1}getMaximumSize(S,x,A,$){return x=Math.max(0,x||S.width),A=A||S.height,{width:x,height:Math.max(0,$?Math.floor(x/$):A)}}isAttached(S){return!0}updateConfig(S){}}class Ki extends fi{acquireContext(S){return S&&S.getContext&&S.getContext("2d")||null}updateConfig(S){S.options.animation=!1}}const ha="$chartjs",bs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xi=w=>w===null||w==="";function xs(w,S){const x=w.style,A=w.getAttribute("height"),$=w.getAttribute("width");if(w[ha]={initial:{height:A,width:$,style:{display:x.display,height:x.height,width:x.width}}},x.display=x.display||"block",x.boxSizing=x.boxSizing||"border-box",Xi($)){const D=tn(w,"width");D!==void 0&&(w.width=D)}if(Xi(A))if(w.style.height==="")w.height=w.width/(S||2);else{const D=tn(w,"height");D!==void 0&&(w.height=D)}return w}const Zi=Hn?{passive:!0}:!1;function Ts(w,S,x){w.addEventListener(S,x,Zi)}function ws(w,S,x){w.canvas.removeEventListener(S,x,Zi)}function Cs(w,S){const x=bs[w.type]||w.type,{x:A,y:$}=Ot(w,S);return{type:x,chart:S,native:w,x:A!==void 0?A:null,y:$!==void 0?$:null}}function da(w,S){for(const x of w)if(x===S||x.contains(S))return!0}function As(w,S,x){const A=w.canvas,$=new MutationObserver(D=>{let R=!1;for(const O of D)R=R||da(O.addedNodes,A),R=R&&!da(O.removedNodes,A);R&&x()});return $.observe(document,{childList:!0,subtree:!0}),$}function Ps(w,S,x){const A=w.canvas,$=new MutationObserver(D=>{let R=!1;for(const O of D)R=R||da(O.removedNodes,A),R=R&&!da(O.addedNodes,A);R&&x()});return $.observe(document,{childList:!0,subtree:!0}),$}const yn=new Map;let qi=0;function Ji(){const w=window.devicePixelRatio;w!==qi&&(qi=w,yn.forEach((S,x)=>{x.currentDevicePixelRatio!==w&&S()}))}function Es(w,S){yn.size||window.addEventListener("resize",Ji),yn.set(w,S)}function $s(w){yn.delete(w),yn.size||window.removeEventListener("resize",Ji)}function Ms(w,S,x){const A=w.canvas,$=A&&Dr(A);if(!$)return;const D=St((O,F)=>{const U=$.clientWidth;x(O,F),U<$.clientWidth&&x()},window),R=new ResizeObserver(O=>{const F=O[0],U=F.contentRect.width,K=F.contentRect.height;U===0&&K===0||D(U,K)});return R.observe($),Es(w,D),R}function pi(w,S,x){x&&x.disconnect(),S==="resize"&&$s(w)}function Ds(w,S,x){const A=w.canvas,$=St(D=>{w.ctx!==null&&x(Cs(D,w))},w,D=>{const R=D[0];return[R,R.offsetX,R.offsetY]});return Ts(A,S,$),$}class Qi extends fi{acquireContext(S,x){const A=S&&S.getContext&&S.getContext("2d");return A&&A.canvas===S?(xs(S,x),A):null}releaseContext(S){const x=S.canvas;if(!x[ha])return!1;const A=x[ha].initial;["height","width"].forEach(D=>{const R=A[D];s(R)?x.removeAttribute(D):x.setAttribute(D,R)});const $=A.style||{};return Object.keys($).forEach(D=>{x.style[D]=$[D]}),x.width=x.width,delete x[ha],!0}addEventListener(S,x,A){this.removeEventListener(S,x);const $=S.$proxies||(S.$proxies={}),R={attach:As,detach:Ps,resize:Ms}[x]||Ds;$[x]=R(S,x,A)}removeEventListener(S,x){const A=S.$proxies||(S.$proxies={}),$=A[x];if(!$)return;({attach:pi,detach:pi,resize:pi}[x]||ws)(S,x,$),A[x]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(S,x,A,$){return Fn(S,x,A,$)}isAttached(S){const x=Dr(S);return!!(x&&x.isConnected)}}function eo(w){return!Jr()||typeof OffscreenCanvas<"u"&&w instanceof OffscreenCanvas?Ki:Qi}var to=Object.freeze({__proto__:null,_detectPlatform:eo,BasePlatform:fi,BasicPlatform:Ki,DomPlatform:Qi});const ro="transparent",Is={boolean(w,S,x){return x>.5?S:w},color(w,S,x){const A=Xr(w||ro),$=A.valid&&Xr(S||ro);return $&&$.valid?$.mix(A,x).hexString():S},number(w,S,x){return w+(S-w)*x}};class no{constructor(S,x,A,$){const D=x[A];$=Rt([S.to,$,D,S.from]);const R=Rt([S.from,D,$]);this._active=!0,this._fn=S.fn||Is[S.type||typeof R],this._easing=Kt[S.easing]||Kt.linear,this._start=Math.floor(Date.now()+(S.delay||0)),this._duration=this._total=Math.floor(S.duration),this._loop=!!S.loop,this._target=x,this._prop=A,this._from=R,this._to=$,this._promises=void 0}active(){return this._active}update(S,x,A){if(this._active){this._notify(!1);const $=this._target[this._prop],D=A-this._start,R=this._duration-D;this._start=A,this._duration=Math.floor(Math.max(R,S.duration)),this._total+=D,this._loop=!!S.loop,this._to=Rt([S.to,x,$,S.from]),this._from=Rt([S.from,$,x])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(S){const x=S-this._start,A=this._duration,$=this._prop,D=this._from,R=this._loop,O=this._to;let F;if(this._active=D!==O&&(R||x<A),!this._active){this._target[$]=O,this._notify(!0);return}if(x<0){this._target[$]=D;return}F=x/A%2,F=R&&F>1?2-F:F,F=this._easing(Math.min(1,Math.max(0,F))),this._target[$]=this._fn(D,O,F)}wait(){const S=this._promises||(this._promises=[]);return new Promise((x,A)=>{S.push({res:x,rej:A})})}_notify(S){const x=S?"res":"rej",A=this._promises||[];for(let $=0;$<A.length;$++)A[$][x]()}}const Rs=["x","y","borderWidth","radius","tension"],Ls=["color","borderColor","backgroundColor"];Qe.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const ks=Object.keys(Qe.animation);Qe.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:w=>w!=="onProgress"&&w!=="onComplete"&&w!=="fn"}),Qe.set("animations",{colors:{type:"color",properties:Ls},numbers:{type:"number",properties:Rs}}),Qe.describe("animations",{_fallback:"animation"}),Qe.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:w=>w|0}}}});class vi{constructor(S,x){this._chart=S,this._properties=new Map,this.configure(x)}configure(S){if(!c(S))return;const x=this._properties;Object.getOwnPropertyNames(S).forEach(A=>{const $=S[A];if(!c($))return;const D={};for(const R of ks)D[R]=$[R];(l($.properties)&&$.properties||[A]).forEach(R=>{(R===A||!x.has(R))&&x.set(R,D)})})}_animateOptions(S,x){const A=x.options,$=Ns(S,A);if(!$)return[];const D=this._createAnimations($,A);return A.$shared&&Os(S.options.$animations,A).then(()=>{S.options=A},()=>{}),D}_createAnimations(S,x){const A=this._properties,$=[],D=S.$animations||(S.$animations={}),R=Object.keys(x),O=Date.now();let F;for(F=R.length-1;F>=0;--F){const U=R[F];if(U.charAt(0)==="$")continue;if(U==="options"){$.push(...this._animateOptions(S,x));continue}const K=x[U];let Q=D[U];const ee=A.get(U);if(Q)if(ee&&Q.active()){Q.update(ee,K,O);continue}else Q.cancel();if(!ee||!ee.duration){S[U]=K;continue}D[U]=Q=new no(ee,S,U,K),$.push(Q)}return $}update(S,x){if(this._properties.size===0){Object.assign(S,x);return}const A=this._createAnimations(S,x);if(A.length)return Et.add(this._chart,A),!0}}function Os(w,S){const x=[],A=Object.keys(S);for(let $=0;$<A.length;$++){const D=w[A[$]];D&&D.active()&&x.push(D.wait())}return Promise.all(x)}function Ns(w,S){if(!S)return;let x=w.options;if(!x){w.options=S;return}return x.$shared&&(w.options=x=Object.assign({},x,{$shared:!1,$animations:{}})),x}function ao(w,S){const x=w&&w.options||{},A=x.reverse,$=x.min===void 0?S:0,D=x.max===void 0?S:0;return{start:A?D:$,end:A?$:D}}function Vs(w,S,x){if(x===!1)return!1;const A=ao(w,x),$=ao(S,x);return{top:$.end,right:A.end,bottom:$.start,left:A.start}}function Bs(w){let S,x,A,$;return c(w)?(S=w.top,x=w.right,A=w.bottom,$=w.left):S=x=A=$=w,{top:S,right:x,bottom:A,left:$,disabled:w===!1}}function io(w,S){const x=[],A=w._getSortedDatasetMetas(S);let $,D;for($=0,D=A.length;$<D;++$)x.push(A[$].index);return x}function oo(w,S,x,A={}){const $=w.keys,D=A.mode==="single";let R,O,F,U;if(S!==null){for(R=0,O=$.length;R<O;++R){if(F=+$[R],F===x){if(A.all)continue;break}U=w.values[F],u(U)&&(D||S===0||Ce(S)===Ce(U))&&(S+=U)}return S}}function Fs(w){const S=Object.keys(w),x=new Array(S.length);let A,$,D;for(A=0,$=S.length;A<$;++A)D=S[A],x[A]={x:D,y:w[D]};return x}function so(w,S){const x=w&&w.options.stacked;return x||x===void 0&&S.stack!==void 0}function Hs(w,S,x){return`${w.id}.${S.id}.${x.stack||x.type}`}function zs(w){const{min:S,max:x,minDefined:A,maxDefined:$}=w.getUserBounds();return{min:A?S:Number.NEGATIVE_INFINITY,max:$?x:Number.POSITIVE_INFINITY}}function Gs(w,S,x){const A=w[S]||(w[S]={});return A[x]||(A[x]={})}function lo(w,S,x,A){for(const $ of S.getMatchingVisibleMetas(A).reverse()){const D=w[$.index];if(x&&D>0||!x&&D<0)return $.index}return null}function co(w,S){const{chart:x,_cachedMeta:A}=w,$=x._stacks||(x._stacks={}),{iScale:D,vScale:R,index:O}=A,F=D.axis,U=R.axis,K=Hs(D,R,A),Q=S.length;let ee;for(let se=0;se<Q;++se){const ue=S[se],{[F]:me,[U]:ye}=ue,xe=ue._stacks||(ue._stacks={});ee=xe[U]=Gs($,K,me),ee[O]=ye,ee._top=lo(ee,R,!0,A.type),ee._bottom=lo(ee,R,!1,A.type)}}function gi(w,S){const x=w.scales;return Object.keys(x).filter(A=>x[A].axis===S).shift()}function Us(w,S){return Lt(w,{active:!1,dataset:void 0,datasetIndex:S,index:S,mode:"default",type:"dataset"})}function Ws(w,S,x){return Lt(w,{active:!1,dataIndex:S,parsed:void 0,raw:void 0,element:x,index:S,mode:"default",type:"data"})}function _n(w,S){const x=w.controller.index,A=w.vScale&&w.vScale.axis;if(A){S=S||w._parsed;for(const $ of S){const D=$._stacks;if(!D||D[A]===void 0||D[A][x]===void 0)return;delete D[A][x]}}}const mi=w=>w==="reset"||w==="none",uo=(w,S)=>S?w:Object.assign({},w),Ys=(w,S,x)=>w&&!S.hidden&&S._stacked&&{keys:io(x,!0),values:null};class Mt{constructor(S,x){this.chart=S,this._ctx=S.ctx,this.index=x,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const S=this._cachedMeta;this.configure(),this.linkScales(),S._stacked=so(S.vScale,S),this.addElements()}updateIndex(S){this.index!==S&&_n(this._cachedMeta),this.index=S}linkScales(){const S=this.chart,x=this._cachedMeta,A=this.getDataset(),$=(Q,ee,se,ue)=>Q==="x"?ee:Q==="r"?ue:se,D=x.xAxisID=f(A.xAxisID,gi(S,"x")),R=x.yAxisID=f(A.yAxisID,gi(S,"y")),O=x.rAxisID=f(A.rAxisID,gi(S,"r")),F=x.indexAxis,U=x.iAxisID=$(F,D,R,O),K=x.vAxisID=$(F,R,D,O);x.xScale=this.getScaleForId(D),x.yScale=this.getScaleForId(R),x.rScale=this.getScaleForId(O),x.iScale=this.getScaleForId(U),x.vScale=this.getScaleForId(K)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(S){return this.chart.scales[S]}_getOtherScale(S){const x=this._cachedMeta;return S===x.iScale?x.vScale:x.iScale}reset(){this._update("reset")}_destroy(){const S=this._cachedMeta;this._data&&it(this._data,this),S._stacked&&_n(S)}_dataCheck(){const S=this.getDataset(),x=S.data||(S.data=[]),A=this._data;if(c(x))this._data=Fs(x);else if(A!==x){if(A){it(A,this);const $=this._cachedMeta;_n($),$._parsed=[]}x&&Object.isExtensible(x)&&Je(x,this),this._syncList=[],this._data=x}}addElements(){const S=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(S.dataset=new this.datasetElementType)}buildOrUpdateElements(S){const x=this._cachedMeta,A=this.getDataset();let $=!1;this._dataCheck();const D=x._stacked;x._stacked=so(x.vScale,x),x.stack!==A.stack&&($=!0,_n(x),x.stack=A.stack),this._resyncElements(S),($||D!==x._stacked)&&co(this,x._parsed)}configure(){const S=this.chart.config,x=S.datasetScopeKeys(this._type),A=S.getOptionScopes(this.getDataset(),x,!0);this.options=S.createResolver(A,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(S,x){const{_cachedMeta:A,_data:$}=this,{iScale:D,_stacked:R}=A,O=D.axis;let F=S===0&&x===$.length?!0:A._sorted,U=S>0&&A._parsed[S-1],K,Q,ee;if(this._parsing===!1)A._parsed=$,A._sorted=!0,ee=$;else{l($[S])?ee=this.parseArrayData(A,$,S,x):c($[S])?ee=this.parseObjectData(A,$,S,x):ee=this.parsePrimitiveData(A,$,S,x);const se=()=>Q[O]===null||U&&Q[O]<U[O];for(K=0;K<x;++K)A._parsed[K+S]=Q=ee[K],F&&(se()&&(F=!1),U=Q);A._sorted=F}R&&co(this,ee)}parsePrimitiveData(S,x,A,$){const{iScale:D,vScale:R}=S,O=D.axis,F=R.axis,U=D.getLabels(),K=D===R,Q=new Array($);let ee,se,ue;for(ee=0,se=$;ee<se;++ee)ue=ee+A,Q[ee]={[O]:K||D.parse(U[ue],ue),[F]:R.parse(x[ue],ue)};return Q}parseArrayData(S,x,A,$){const{xScale:D,yScale:R}=S,O=new Array($);let F,U,K,Q;for(F=0,U=$;F<U;++F)K=F+A,Q=x[K],O[F]={x:D.parse(Q[0],K),y:R.parse(Q[1],K)};return O}parseObjectData(S,x,A,$){const{xScale:D,yScale:R}=S,{xAxisKey:O="x",yAxisKey:F="y"}=this._parsing,U=new Array($);let K,Q,ee,se;for(K=0,Q=$;K<Q;++K)ee=K+A,se=x[ee],U[K]={x:D.parse(V(se,O),ee),y:R.parse(V(se,F),ee)};return U}getParsed(S){return this._cachedMeta._parsed[S]}getDataElement(S){return this._cachedMeta.data[S]}applyStack(S,x,A){const $=this.chart,D=this._cachedMeta,R=x[S.axis],O={keys:io($,!0),values:x._stacks[S.axis]};return oo(O,R,D.index,{mode:A})}updateRangeFromParsed(S,x,A,$){const D=A[x.axis];let R=D===null?NaN:D;const O=$&&A._stacks[x.axis];$&&O&&($.values=O,R=oo($,D,this._cachedMeta.index)),S.min=Math.min(S.min,R),S.max=Math.max(S.max,R)}getMinMax(S,x){const A=this._cachedMeta,$=A._parsed,D=A._sorted&&S===A.iScale,R=$.length,O=this._getOtherScale(S),F=Ys(x,A,this.chart),U={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:K,max:Q}=zs(O);let ee,se;function ue(){se=$[ee];const me=se[O.axis];return!u(se[S.axis])||K>me||Q<me}for(ee=0;ee<R&&!(!ue()&&(this.updateRangeFromParsed(U,S,se,F),D));++ee);if(D){for(ee=R-1;ee>=0;--ee)if(!ue()){this.updateRangeFromParsed(U,S,se,F);break}}return U}getAllParsedValues(S){const x=this._cachedMeta._parsed,A=[];let $,D,R;for($=0,D=x.length;$<D;++$)R=x[$][S.axis],u(R)&&A.push(R);return A}getMaxOverflow(){return!1}getLabelAndValue(S){const x=this._cachedMeta,A=x.iScale,$=x.vScale,D=this.getParsed(S);return{label:A?""+A.getLabelForValue(D[A.axis]):"",value:$?""+$.getLabelForValue(D[$.axis]):""}}_update(S){const x=this._cachedMeta;this.update(S||"default"),x._clip=Bs(f(this.options.clip,Vs(x.xScale,x.yScale,this.getMaxOverflow())))}update(S){}draw(){const S=this._ctx,x=this.chart,A=this._cachedMeta,$=A.data||[],D=x.chartArea,R=[],O=this._drawStart||0,F=this._drawCount||$.length-O,U=this.options.drawActiveElementsOnTop;let K;for(A.dataset&&A.dataset.draw(S,D,O,F),K=O;K<O+F;++K){const Q=$[K];Q.hidden||(Q.active&&U?R.push(Q):Q.draw(S,D))}for(K=0;K<R.length;++K)R[K].draw(S,D)}getStyle(S,x){const A=x?"active":"default";return S===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(A):this.resolveDataElementOptions(S||0,A)}getContext(S,x,A){const $=this.getDataset();let D;if(S>=0&&S<this._cachedMeta.data.length){const R=this._cachedMeta.data[S];D=R.$context||(R.$context=Ws(this.getContext(),S,R)),D.parsed=this.getParsed(S),D.raw=$.data[S],D.index=D.dataIndex=S}else D=this.$context||(this.$context=Us(this.chart.getContext(),this.index)),D.dataset=$,D.index=D.datasetIndex=this.index;return D.active=!!x,D.mode=A,D}resolveDatasetElementOptions(S){return this._resolveElementOptions(this.datasetElementType.id,S)}resolveDataElementOptions(S,x){return this._resolveElementOptions(this.dataElementType.id,x,S)}_resolveElementOptions(S,x="default",A){const $=x==="active",D=this._cachedDataOpts,R=S+"-"+x,O=D[R],F=this.enableOptionSharing&&H(A);if(O)return uo(O,F);const U=this.chart.config,K=U.datasetElementScopeKeys(this._type,S),Q=$?[`${S}Hover`,"hover",S,""]:[S,""],ee=U.getOptionScopes(this.getDataset(),K),se=Object.keys(Qe.elements[S]),ue=()=>this.getContext(A,$),me=U.resolveNamedOptions(ee,se,ue,Q);return me.$shared&&(me.$shared=F,D[R]=Object.freeze(uo(me,F))),me}_resolveAnimations(S,x,A){const $=this.chart,D=this._cachedDataOpts,R=`animation-${x}`,O=D[R];if(O)return O;let F;if($.options.animation!==!1){const K=this.chart.config,Q=K.datasetAnimationScopeKeys(this._type,x),ee=K.getOptionScopes(this.getDataset(),Q);F=K.createResolver(ee,this.getContext(S,A,x))}const U=new vi($,F&&F.animations);return F&&F._cacheable&&(D[R]=Object.freeze(U)),U}getSharedOptions(S){if(S.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},S))}includeOptions(S,x){return!x||mi(S)||this.chart._animationsDisabled}_getSharedOptions(S,x){const A=this.resolveDataElementOptions(S,x),$=this._sharedOptions,D=this.getSharedOptions(A),R=this.includeOptions(x,D)||D!==$;return this.updateSharedOptions(D,x,A),{sharedOptions:D,includeOptions:R}}updateElement(S,x,A,$){mi($)?Object.assign(S,A):this._resolveAnimations(x,$).update(S,A)}updateSharedOptions(S,x,A){S&&!mi(x)&&this._resolveAnimations(void 0,x).update(S,A)}_setStyle(S,x,A,$){S.active=$;const D=this.getStyle(x,$);this._resolveAnimations(x,A,$).update(S,{options:!$&&this.getSharedOptions(D)||D})}removeHoverStyle(S,x,A){this._setStyle(S,A,"active",!1)}setHoverStyle(S,x,A){this._setStyle(S,A,"active",!0)}_removeDatasetHoverStyle(){const S=this._cachedMeta.dataset;S&&this._setStyle(S,void 0,"active",!1)}_setDatasetHoverStyle(){const S=this._cachedMeta.dataset;S&&this._setStyle(S,void 0,"active",!0)}_resyncElements(S){const x=this._data,A=this._cachedMeta.data;for(const[O,F,U]of this._syncList)this[O](F,U);this._syncList=[];const $=A.length,D=x.length,R=Math.min(D,$);R&&this.parse(0,R),D>$?this._insertElements($,D-$,S):D<$&&this._removeElements(D,$-D)}_insertElements(S,x,A=!0){const $=this._cachedMeta,D=$.data,R=S+x;let O;const F=U=>{for(U.length+=x,O=U.length-1;O>=R;O--)U[O]=U[O-x]};for(F(D),O=S;O<R;++O)D[O]=new this.dataElementType;this._parsing&&F($._parsed),this.parse(S,x),A&&this.updateElements(D,S,x,"reset")}updateElements(S,x,A,$){}_removeElements(S,x){const A=this._cachedMeta;if(this._parsing){const $=A._parsed.splice(S,x);A._stacked&&_n(A,$)}A.data.splice(S,x)}_sync(S){if(this._parsing)this._syncList.push(S);else{const[x,A,$]=S;this[x](A,$)}this.chart._dataChanges.push([this.index,...S])}_onDataPush(){const S=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-S,S])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(S,x){x&&this._sync(["_removeElements",S,x]);const A=arguments.length-2;A&&this._sync(["_insertElements",S,A])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Mt.defaults={},Mt.prototype.datasetElementType=null,Mt.prototype.dataElementType=null;class Dt{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(S){const{x,y:A}=this.getProps(["x","y"],S);return{x,y:A}}hasValue(){return ne(this.x)&&ne(this.y)}getProps(S,x){const A=this.$animations;if(!x||!A)return this;const $={};return S.forEach(D=>{$[D]=A[D]&&A[D].active()?A[D]._to:this[D]}),$}}Dt.defaults={},Dt.defaultRoutes=void 0;const ho={values(w){return l(w)?w:""+w},numeric(w,S,x){if(w===0)return"0";const A=this.chart.options.locale;let $,D=w;if(x.length>1){const U=Math.max(Math.abs(x[0].value),Math.abs(x[x.length-1].value));(U<1e-4||U>1e15)&&($="scientific"),D=js(w,x)}const R=_e(Math.abs(D)),O=Math.max(Math.min(-1*Math.floor(R),20),0),F={notation:$,minimumFractionDigits:O,maximumFractionDigits:O};return Object.assign(F,this.options.ticks.format),ir(w,A,F)},logarithmic(w,S,x){if(w===0)return"0";const A=w/Math.pow(10,Math.floor(_e(w)));return A===1||A===2||A===5?ho.numeric.call(this,w,S,x):""}};function js(w,S){let x=S.length>3?S[2].value-S[1].value:S[1].value-S[0].value;return Math.abs(x)>=1&&w!==Math.floor(w)&&(x=w-Math.floor(w)),x}var Sn={formatters:ho};Qe.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(w,S)=>S.lineWidth,tickColor:(w,S)=>S.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Sn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Qe.route("scale.ticks","color","","color"),Qe.route("scale.grid","color","","borderColor"),Qe.route("scale.grid","borderColor","","borderColor"),Qe.route("scale.title","color","","color"),Qe.describe("scale",{_fallback:!1,_scriptable:w=>!w.startsWith("before")&&!w.startsWith("after")&&w!=="callback"&&w!=="parser",_indexable:w=>w!=="borderDash"&&w!=="tickBorderDash"}),Qe.describe("scales",{_fallback:"scale"}),Qe.describe("scale.ticks",{_scriptable:w=>w!=="backdropPadding"&&w!=="callback",_indexable:w=>w!=="backdropPadding"});function Ks(w,S){const x=w.options.ticks,A=x.maxTicksLimit||Xs(w),$=x.major.enabled?qs(S):[],D=$.length,R=$[0],O=$[D-1],F=[];if(D>A)return Js(S,F,$,D/A),F;const U=Zs($,S,A);if(D>0){let K,Q;const ee=D>1?Math.round((O-R)/(D-1)):null;for(fa(S,F,U,s(ee)?0:R-ee,R),K=0,Q=D-1;K<Q;K++)fa(S,F,U,$[K],$[K+1]);return fa(S,F,U,O,s(ee)?S.length:O+ee),F}return fa(S,F,U),F}function Xs(w){const S=w.options.offset,x=w._tickSize(),A=w._length/x+(S?0:1),$=w._maxLength/x;return Math.floor(Math.min(A,$))}function Zs(w,S,x){const A=Qs(w),$=S.length/x;if(!A)return Math.max($,1);const D=De(A);for(let R=0,O=D.length-1;R<O;R++){const F=D[R];if(F>$)return F}return Math.max($,1)}function qs(w){const S=[];let x,A;for(x=0,A=w.length;x<A;x++)w[x].major&&S.push(x);return S}function Js(w,S,x,A){let $=0,D=x[0],R;for(A=Math.ceil(A),R=0;R<w.length;R++)R===D&&(S.push(w[R]),$++,D=x[$*A])}function fa(w,S,x,A,$){const D=f(A,0),R=Math.min(f($,w.length),w.length);let O=0,F,U,K;for(x=Math.ceil(x),$&&(F=$-A,x=F/Math.floor(F/x)),K=D;K<0;)O++,K=Math.round(D+O*x);for(U=Math.max(D,0);U<R;U++)U===K&&(S.push(w[U]),O++,K=Math.round(D+O*x))}function Qs(w){const S=w.length;let x,A;if(S<2)return!1;for(A=w[0],x=1;x<S;++x)if(w[x]-w[x-1]!==A)return!1;return A}const el=w=>w==="left"?"right":w==="right"?"left":w,fo=(w,S,x)=>S==="top"||S==="left"?w[S]+x:w[S]-x;function po(w,S){const x=[],A=w.length/S,$=w.length;let D=0;for(;D<$;D+=A)x.push(w[Math.floor(D)]);return x}function tl(w,S,x){const A=w.ticks.length,$=Math.min(S,A-1),D=w._startPixel,R=w._endPixel,O=1e-6;let F=w.getPixelForTick($),U;if(!(x&&(A===1?U=Math.max(F-D,R-F):S===0?U=(w.getPixelForTick(1)-F)/2:U=(F-w.getPixelForTick($-1))/2,F+=$<S?U:-U,F<D-O||F>R+O)))return F}function rl(w,S){_(w,x=>{const A=x.gc,$=A.length/2;let D;if($>S){for(D=0;D<$;++D)delete x.data[A[D]];A.splice(0,$)}})}function bn(w){return w.drawTicks?w.tickLength:0}function vo(w,S){if(!w.display)return 0;const x=ht(w.font,S),A=pt(w.padding);return(l(w.text)?w.text.length:1)*x.lineHeight+A.height}function nl(w,S){return Lt(w,{scale:S,type:"scale"})}function al(w,S,x){return Lt(w,{tick:x,index:S,type:"tick"})}function il(w,S,x){let A=Pt(w);return(x&&S!=="right"||!x&&S==="right")&&(A=el(A)),A}function ol(w,S,x,A){const{top:$,left:D,bottom:R,right:O,chart:F}=w,{chartArea:U,scales:K}=F;let Q=0,ee,se,ue;const me=R-$,ye=O-D;if(w.isHorizontal()){if(se=ut(A,D,O),c(x)){const xe=Object.keys(x)[0],Ee=x[xe];ue=K[xe].getPixelForValue(Ee)+me-S}else x==="center"?ue=(U.bottom+U.top)/2+me-S:ue=fo(w,x,S);ee=O-D}else{if(c(x)){const xe=Object.keys(x)[0],Ee=x[xe];se=K[xe].getPixelForValue(Ee)-ye+S}else x==="center"?se=(U.left+U.right)/2-ye+S:se=fo(w,x,S);ue=ut(A,R,$),Q=x==="left"?-ve:ve}return{titleX:se,titleY:ue,maxWidth:ee,rotation:Q}}class cr extends Dt{constructor(S){super(),this.id=S.id,this.type=S.type,this.options=void 0,this.ctx=S.ctx,this.chart=S.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(S){this.options=S.setContext(this.getContext()),this.axis=S.axis,this._userMin=this.parse(S.min),this._userMax=this.parse(S.max),this._suggestedMin=this.parse(S.suggestedMin),this._suggestedMax=this.parse(S.suggestedMax)}parse(S,x){return S}getUserBounds(){let{_userMin:S,_userMax:x,_suggestedMin:A,_suggestedMax:$}=this;return S=d(S,Number.POSITIVE_INFINITY),x=d(x,Number.NEGATIVE_INFINITY),A=d(A,Number.POSITIVE_INFINITY),$=d($,Number.NEGATIVE_INFINITY),{min:d(S,A),max:d(x,$),minDefined:u(S),maxDefined:u(x)}}getMinMax(S){let{min:x,max:A,minDefined:$,maxDefined:D}=this.getUserBounds(),R;if($&&D)return{min:x,max:A};const O=this.getMatchingVisibleMetas();for(let F=0,U=O.length;F<U;++F)R=O[F].controller.getMinMax(this,S),$||(x=Math.min(x,R.min)),D||(A=Math.max(A,R.max));return x=D&&x>A?A:x,A=$&&x>A?x:A,{min:d(x,d(A,x)),max:d(A,d(x,A))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const S=this.chart.data;return this.options.labels||(this.isHorizontal()?S.xLabels:S.yLabels)||S.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){y(this.options.beforeUpdate,[this])}update(S,x,A){const{beginAtZero:$,grace:D,ticks:R}=this.options,O=R.sampleSize;this.beforeUpdate(),this.maxWidth=S,this.maxHeight=x,this._margins=A=Object.assign({left:0,right:0,top:0,bottom:0},A),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+A.left+A.right:this.height+A.top+A.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tr(this,D,$),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const F=O<this.ticks.length;this._convertTicksToLabels(F?po(this.ticks,O):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),R.display&&(R.autoSkip||R.source==="auto")&&(this.ticks=Ks(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),F&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let S=this.options.reverse,x,A;this.isHorizontal()?(x=this.left,A=this.right):(x=this.top,A=this.bottom,S=!S),this._startPixel=x,this._endPixel=A,this._reversePixels=S,this._length=A-x,this._alignToPixels=this.options.alignToPixels}afterUpdate(){y(this.options.afterUpdate,[this])}beforeSetDimensions(){y(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){y(this.options.afterSetDimensions,[this])}_callHooks(S){this.chart.notifyPlugins(S,this.getContext()),y(this.options[S],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){y(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(S){const x=this.options.ticks;let A,$,D;for(A=0,$=S.length;A<$;A++)D=S[A],D.label=y(x.callback,[D.value,A,S],this)}afterTickToLabelConversion(){y(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){y(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const S=this.options,x=S.ticks,A=this.ticks.length,$=x.minRotation||0,D=x.maxRotation;let R=$,O,F,U;if(!this._isVisible()||!x.display||$>=D||A<=1||!this.isHorizontal()){this.labelRotation=$;return}const K=this._getLabelSizes(),Q=K.widest.width,ee=K.highest.height,se=Me(this.chart.width-Q,0,this.maxWidth);O=S.offset?this.maxWidth/A:se/(A-1),Q+6>O&&(O=se/(A-(S.offset?.5:1)),F=this.maxHeight-bn(S.grid)-x.padding-vo(S.title,this.chart.options.font),U=Math.sqrt(Q*Q+ee*ee),R=Ie(Math.min(Math.asin(Me((K.highest.height+6)/O,-1,1)),Math.asin(Me(F/U,-1,1))-Math.asin(Me(ee/U,-1,1)))),R=Math.max($,Math.min(D,R))),this.labelRotation=R}afterCalculateLabelRotation(){y(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){y(this.options.beforeFit,[this])}fit(){const S={width:0,height:0},{chart:x,options:{ticks:A,title:$,grid:D}}=this,R=this._isVisible(),O=this.isHorizontal();if(R){const F=vo($,x.options.font);if(O?(S.width=this.maxWidth,S.height=bn(D)+F):(S.height=this.maxHeight,S.width=bn(D)+F),A.display&&this.ticks.length){const{first:U,last:K,widest:Q,highest:ee}=this._getLabelSizes(),se=A.padding*2,ue=we(this.labelRotation),me=Math.cos(ue),ye=Math.sin(ue);if(O){const xe=A.mirror?0:ye*Q.width+me*ee.height;S.height=Math.min(this.maxHeight,S.height+xe+se)}else{const xe=A.mirror?0:me*Q.width+ye*ee.height;S.width=Math.min(this.maxWidth,S.width+xe+se)}this._calculatePadding(U,K,ye,me)}}this._handleMargins(),O?(this.width=this._length=x.width-this._margins.left-this._margins.right,this.height=S.height):(this.width=S.width,this.height=this._length=x.height-this._margins.top-this._margins.bottom)}_calculatePadding(S,x,A,$){const{ticks:{align:D,padding:R},position:O}=this.options,F=this.labelRotation!==0,U=O!=="top"&&this.axis==="x";if(this.isHorizontal()){const K=this.getPixelForTick(0)-this.left,Q=this.right-this.getPixelForTick(this.ticks.length-1);let ee=0,se=0;F?U?(ee=$*S.width,se=A*x.height):(ee=A*S.height,se=$*x.width):D==="start"?se=x.width:D==="end"?ee=S.width:D!=="inner"&&(ee=S.width/2,se=x.width/2),this.paddingLeft=Math.max((ee-K+R)*this.width/(this.width-K),0),this.paddingRight=Math.max((se-Q+R)*this.width/(this.width-Q),0)}else{let K=x.height/2,Q=S.height/2;D==="start"?(K=0,Q=S.height):D==="end"&&(K=x.height,Q=0),this.paddingTop=K+R,this.paddingBottom=Q+R}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){y(this.options.afterFit,[this])}isHorizontal(){const{axis:S,position:x}=this.options;return x==="top"||x==="bottom"||S==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(S){this.beforeTickToLabelConversion(),this.generateTickLabels(S);let x,A;for(x=0,A=S.length;x<A;x++)s(S[x].label)&&(S.splice(x,1),A--,x--);this.afterTickToLabelConversion()}_getLabelSizes(){let S=this._labelSizes;if(!S){const x=this.options.ticks.sampleSize;let A=this.ticks;x<A.length&&(A=po(A,x)),this._labelSizes=S=this._computeLabelSizes(A,A.length)}return S}_computeLabelSizes(S,x){const{ctx:A,_longestTextCache:$}=this,D=[],R=[];let O=0,F=0,U,K,Q,ee,se,ue,me,ye,xe,Ee,Ne;for(U=0;U<x;++U){if(ee=S[U].label,se=this._resolveTickFontOptions(U),A.font=ue=se.string,me=$[ue]=$[ue]||{data:{},gc:[]},ye=se.lineHeight,xe=Ee=0,!s(ee)&&!l(ee))xe=gr(A,me.data,me.gc,xe,ee),Ee=ye;else if(l(ee))for(K=0,Q=ee.length;K<Q;++K)Ne=ee[K],!s(Ne)&&!l(Ne)&&(xe=gr(A,me.data,me.gc,xe,Ne),Ee+=ye);D.push(xe),R.push(Ee),O=Math.max(xe,O),F=Math.max(Ee,F)}rl($,x);const Oe=D.indexOf(O),Re=R.indexOf(F),He=ze=>({width:D[ze]||0,height:R[ze]||0});return{first:He(0),last:He(x-1),widest:He(Oe),highest:He(Re),widths:D,heights:R}}getLabelForValue(S){return S}getPixelForValue(S,x){return NaN}getValueForPixel(S){}getPixelForTick(S){const x=this.ticks;return S<0||S>x.length-1?null:this.getPixelForValue(x[S].value)}getPixelForDecimal(S){this._reversePixels&&(S=1-S);const x=this._startPixel+S*this._length;return Ve(this._alignToPixels?Nt(this.chart,x,0):x)}getDecimalForPixel(S){const x=(S-this._startPixel)/this._length;return this._reversePixels?1-x:x}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:S,max:x}=this;return S<0&&x<0?x:S>0&&x>0?S:0}getContext(S){const x=this.ticks||[];if(S>=0&&S<x.length){const A=x[S];return A.$context||(A.$context=al(this.getContext(),S,A))}return this.$context||(this.$context=nl(this.chart.getContext(),this))}_tickSize(){const S=this.options.ticks,x=we(this.labelRotation),A=Math.abs(Math.cos(x)),$=Math.abs(Math.sin(x)),D=this._getLabelSizes(),R=S.autoSkipPadding||0,O=D?D.widest.width+R:0,F=D?D.highest.height+R:0;return this.isHorizontal()?F*A>O*$?O/A:F/$:F*$<O*A?F/A:O/$}_isVisible(){const S=this.options.display;return S!=="auto"?!!S:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(S){const x=this.axis,A=this.chart,$=this.options,{grid:D,position:R}=$,O=D.offset,F=this.isHorizontal(),K=this.ticks.length+(O?1:0),Q=bn(D),ee=[],se=D.setContext(this.getContext()),ue=se.drawBorder?se.borderWidth:0,me=ue/2,ye=function(qe){return Nt(A,qe,ue)};let xe,Ee,Ne,Oe,Re,He,ze,Xe,je,ot,st,at;if(R==="top")xe=ye(this.bottom),He=this.bottom-Q,Xe=xe-me,ot=ye(S.top)+me,at=S.bottom;else if(R==="bottom")xe=ye(this.top),ot=S.top,at=ye(S.bottom)-me,He=xe+me,Xe=this.top+Q;else if(R==="left")xe=ye(this.right),Re=this.right-Q,ze=xe-me,je=ye(S.left)+me,st=S.right;else if(R==="right")xe=ye(this.left),je=S.left,st=ye(S.right)-me,Re=xe+me,ze=this.left+Q;else if(x==="x"){if(R==="center")xe=ye((S.top+S.bottom)/2+.5);else if(c(R)){const qe=Object.keys(R)[0],gt=R[qe];xe=ye(this.chart.scales[qe].getPixelForValue(gt))}ot=S.top,at=S.bottom,He=xe+me,Xe=He+Q}else if(x==="y"){if(R==="center")xe=ye((S.left+S.right)/2);else if(c(R)){const qe=Object.keys(R)[0],gt=R[qe];xe=ye(this.chart.scales[qe].getPixelForValue(gt))}Re=xe-me,ze=Re-Q,je=S.left,st=S.right}const vt=f($.ticks.maxTicksLimit,K),wt=Math.max(1,Math.ceil(K/vt));for(Ee=0;Ee<K;Ee+=wt){const qe=D.setContext(this.getContext(Ee)),gt=qe.lineWidth,ft=qe.color,Ar=qe.borderDash||[],Ni=qe.borderDashOffset,Br=qe.tickWidth,Ra=qe.tickColor,Fr=qe.tickBorderDash||[],An=qe.tickBorderDashOffset;Ne=tl(this,Ee,O),Ne!==void 0&&(Oe=Nt(A,Ne,gt),F?Re=ze=je=st=Oe:He=Xe=ot=at=Oe,ee.push({tx1:Re,ty1:He,tx2:ze,ty2:Xe,x1:je,y1:ot,x2:st,y2:at,width:gt,color:ft,borderDash:Ar,borderDashOffset:Ni,tickWidth:Br,tickColor:Ra,tickBorderDash:Fr,tickBorderDashOffset:An}))}return this._ticksLength=K,this._borderValue=xe,ee}_computeLabelItems(S){const x=this.axis,A=this.options,{position:$,ticks:D}=A,R=this.isHorizontal(),O=this.ticks,{align:F,crossAlign:U,padding:K,mirror:Q}=D,ee=bn(A.grid),se=ee+K,ue=Q?-K:se,me=-we(this.labelRotation),ye=[];let xe,Ee,Ne,Oe,Re,He,ze,Xe,je,ot,st,at,vt="middle";if($==="top")He=this.bottom-ue,ze=this._getXAxisLabelAlignment();else if($==="bottom")He=this.top+ue,ze=this._getXAxisLabelAlignment();else if($==="left"){const qe=this._getYAxisLabelAlignment(ee);ze=qe.textAlign,Re=qe.x}else if($==="right"){const qe=this._getYAxisLabelAlignment(ee);ze=qe.textAlign,Re=qe.x}else if(x==="x"){if($==="center")He=(S.top+S.bottom)/2+se;else if(c($)){const qe=Object.keys($)[0],gt=$[qe];He=this.chart.scales[qe].getPixelForValue(gt)+se}ze=this._getXAxisLabelAlignment()}else if(x==="y"){if($==="center")Re=(S.left+S.right)/2-se;else if(c($)){const qe=Object.keys($)[0],gt=$[qe];Re=this.chart.scales[qe].getPixelForValue(gt)}ze=this._getYAxisLabelAlignment(ee).textAlign}x==="y"&&(F==="start"?vt="top":F==="end"&&(vt="bottom"));const wt=this._getLabelSizes();for(xe=0,Ee=O.length;xe<Ee;++xe){Ne=O[xe],Oe=Ne.label;const qe=D.setContext(this.getContext(xe));Xe=this.getPixelForTick(xe)+D.labelOffset,je=this._resolveTickFontOptions(xe),ot=je.lineHeight,st=l(Oe)?Oe.length:1;const gt=st/2,ft=qe.color,Ar=qe.textStrokeColor,Ni=qe.textStrokeWidth;let Br=ze;R?(Re=Xe,ze==="inner"&&(xe===Ee-1?Br=this.options.reverse?"left":"right":xe===0?Br=this.options.reverse?"right":"left":Br="center"),$==="top"?U==="near"||me!==0?at=-st*ot+ot/2:U==="center"?at=-wt.highest.height/2-gt*ot+ot:at=-wt.highest.height+ot/2:U==="near"||me!==0?at=ot/2:U==="center"?at=wt.highest.height/2-gt*ot:at=wt.highest.height-st*ot,Q&&(at*=-1)):(He=Xe,at=(1-st)*ot/2);let Ra;if(qe.showLabelBackdrop){const Fr=pt(qe.backdropPadding),An=wt.heights[xe],Vi=wt.widths[xe];let Bi=He+at-Fr.top,Fi=Re-Fr.left;switch(vt){case"middle":Bi-=An/2;break;case"bottom":Bi-=An;break}switch(ze){case"center":Fi-=Vi/2;break;case"right":Fi-=Vi;break}Ra={left:Fi,top:Bi,width:Vi+Fr.width,height:An+Fr.height,color:qe.backdropColor}}ye.push({rotation:me,label:Oe,font:je,color:ft,strokeColor:Ar,strokeWidth:Ni,textOffset:at,textAlign:Br,textBaseline:vt,translation:[Re,He],backdrop:Ra})}return ye}_getXAxisLabelAlignment(){const{position:S,ticks:x}=this.options;if(-we(this.labelRotation))return S==="top"?"left":"right";let $="center";return x.align==="start"?$="left":x.align==="end"?$="right":x.align==="inner"&&($="inner"),$}_getYAxisLabelAlignment(S){const{position:x,ticks:{crossAlign:A,mirror:$,padding:D}}=this.options,R=this._getLabelSizes(),O=S+D,F=R.widest.width;let U,K;return x==="left"?$?(K=this.right+D,A==="near"?U="left":A==="center"?(U="center",K+=F/2):(U="right",K+=F)):(K=this.right-O,A==="near"?U="right":A==="center"?(U="center",K-=F/2):(U="left",K=this.left)):x==="right"?$?(K=this.left+D,A==="near"?U="right":A==="center"?(U="center",K-=F/2):(U="left",K-=F)):(K=this.left+O,A==="near"?U="left":A==="center"?(U="center",K+=F/2):(U="right",K=this.right)):U="right",{textAlign:U,x:K}}_computeLabelArea(){if(this.options.ticks.mirror)return;const S=this.chart,x=this.options.position;if(x==="left"||x==="right")return{top:0,left:this.left,bottom:S.height,right:this.right};if(x==="top"||x==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:S.width}}drawBackground(){const{ctx:S,options:{backgroundColor:x},left:A,top:$,width:D,height:R}=this;x&&(S.save(),S.fillStyle=x,S.fillRect(A,$,D,R),S.restore())}getLineWidthForValue(S){const x=this.options.grid;if(!this._isVisible()||!x.display)return 0;const $=this.ticks.findIndex(D=>D.value===S);return $>=0?x.setContext(this.getContext($)).lineWidth:0}drawGrid(S){const x=this.options.grid,A=this.ctx,$=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(S));let D,R;const O=(F,U,K)=>{!K.width||!K.color||(A.save(),A.lineWidth=K.width,A.strokeStyle=K.color,A.setLineDash(K.borderDash||[]),A.lineDashOffset=K.borderDashOffset,A.beginPath(),A.moveTo(F.x,F.y),A.lineTo(U.x,U.y),A.stroke(),A.restore())};if(x.display)for(D=0,R=$.length;D<R;++D){const F=$[D];x.drawOnChartArea&&O({x:F.x1,y:F.y1},{x:F.x2,y:F.y2},F),x.drawTicks&&O({x:F.tx1,y:F.ty1},{x:F.tx2,y:F.ty2},{color:F.tickColor,width:F.tickWidth,borderDash:F.tickBorderDash,borderDashOffset:F.tickBorderDashOffset})}}drawBorder(){const{chart:S,ctx:x,options:{grid:A}}=this,$=A.setContext(this.getContext()),D=A.drawBorder?$.borderWidth:0;if(!D)return;const R=A.setContext(this.getContext(0)).lineWidth,O=this._borderValue;let F,U,K,Q;this.isHorizontal()?(F=Nt(S,this.left,D)-D/2,U=Nt(S,this.right,R)+R/2,K=Q=O):(K=Nt(S,this.top,D)-D/2,Q=Nt(S,this.bottom,R)+R/2,F=U=O),x.save(),x.lineWidth=$.borderWidth,x.strokeStyle=$.borderColor,x.beginPath(),x.moveTo(F,K),x.lineTo(U,Q),x.stroke(),x.restore()}drawLabels(S){if(!this.options.ticks.display)return;const A=this.ctx,$=this._computeLabelArea();$&&mr(A,$);const D=this._labelItems||(this._labelItems=this._computeLabelItems(S));let R,O;for(R=0,O=D.length;R<O;++R){const F=D[R],U=F.font,K=F.label;F.backdrop&&(A.fillStyle=F.backdrop.color,A.fillRect(F.backdrop.left,F.backdrop.top,F.backdrop.width,F.backdrop.height));let Q=F.textOffset;Bt(A,K,0,Q,U,F)}$&&Vt(A)}drawTitle(){const{ctx:S,options:{position:x,title:A,reverse:$}}=this;if(!A.display)return;const D=ht(A.font),R=pt(A.padding),O=A.align;let F=D.lineHeight/2;x==="bottom"||x==="center"||c(x)?(F+=R.bottom,l(A.text)&&(F+=D.lineHeight*(A.text.length-1))):F+=R.top;const{titleX:U,titleY:K,maxWidth:Q,rotation:ee}=ol(this,F,x,O);Bt(S,A.text,0,0,D,{color:A.color,maxWidth:Q,rotation:ee,textAlign:il(O,x,$),textBaseline:"middle",translation:[U,K]})}draw(S){this._isVisible()&&(this.drawBackground(),this.drawGrid(S),this.drawBorder(),this.drawTitle(),this.drawLabels(S))}_layers(){const S=this.options,x=S.ticks&&S.ticks.z||0,A=f(S.grid&&S.grid.z,-1);return!this._isVisible()||this.draw!==cr.prototype.draw?[{z:x,draw:$=>{this.draw($)}}]:[{z:A,draw:$=>{this.drawBackground(),this.drawGrid($),this.drawTitle()}},{z:A+1,draw:()=>{this.drawBorder()}},{z:x,draw:$=>{this.drawLabels($)}}]}getMatchingVisibleMetas(S){const x=this.chart.getSortedVisibleDatasetMetas(),A=this.axis+"AxisID",$=[];let D,R;for(D=0,R=x.length;D<R;++D){const O=x[D];O[A]===this.id&&(!S||O.type===S)&&$.push(O)}return $}_resolveTickFontOptions(S){const x=this.options.ticks.setContext(this.getContext(S));return ht(x.font)}_maxDigits(){const S=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/S}}class pa{constructor(S,x,A){this.type=S,this.scope=x,this.override=A,this.items=Object.create(null)}isForType(S){return Object.prototype.isPrototypeOf.call(this.type.prototype,S.prototype)}register(S){const x=Object.getPrototypeOf(S);let A;cl(x)&&(A=this.register(x));const $=this.items,D=S.id,R=this.scope+"."+D;if(!D)throw new Error("class does not have id: "+S);return D in $||($[D]=S,sl(S,R,A),this.override&&Qe.override(S.id,S.overrides)),R}get(S){return this.items[S]}unregister(S){const x=this.items,A=S.id,$=this.scope;A in x&&delete x[A],$&&A in Qe[$]&&(delete Qe[$][A],this.override&&delete Ut[A])}}function sl(w,S,x){const A=E(Object.create(null),[x?Qe.get(x):{},Qe.get(S),w.defaults]);Qe.set(S,A),w.defaultRoutes&&ll(S,w.defaultRoutes),w.descriptors&&Qe.describe(S,w.descriptors)}function ll(w,S){Object.keys(S).forEach(x=>{const A=x.split("."),$=A.pop(),D=[w].concat(A).join("."),R=S[x].split("."),O=R.pop(),F=R.join(".");Qe.route(D,$,F,O)})}function cl(w){return"id"in w&&"defaults"in w}class ul{constructor(){this.controllers=new pa(Mt,"datasets",!0),this.elements=new pa(Dt,"elements"),this.plugins=new pa(Object,"plugins"),this.scales=new pa(cr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...S){this._each("register",S)}remove(...S){this._each("unregister",S)}addControllers(...S){this._each("register",S,this.controllers)}addElements(...S){this._each("register",S,this.elements)}addPlugins(...S){this._each("register",S,this.plugins)}addScales(...S){this._each("register",S,this.scales)}getController(S){return this._get(S,this.controllers,"controller")}getElement(S){return this._get(S,this.elements,"element")}getPlugin(S){return this._get(S,this.plugins,"plugin")}getScale(S){return this._get(S,this.scales,"scale")}removeControllers(...S){this._each("unregister",S,this.controllers)}removeElements(...S){this._each("unregister",S,this.elements)}removePlugins(...S){this._each("unregister",S,this.plugins)}removeScales(...S){this._each("unregister",S,this.scales)}_each(S,x,A){[...x].forEach($=>{const D=A||this._getRegistryForType($);A||D.isForType($)||D===this.plugins&&$.id?this._exec(S,D,$):_($,R=>{const O=A||this._getRegistryForType(R);this._exec(S,O,R)})})}_exec(S,x,A){const $=G(S);y(A["before"+$],[],A),x[S](A),y(A["after"+$],[],A)}_getRegistryForType(S){for(let x=0;x<this._typedRegistries.length;x++){const A=this._typedRegistries[x];if(A.isForType(S))return A}return this.plugins}_get(S,x,A){const $=x.get(S);if($===void 0)throw new Error('"'+S+'" is not a registered '+A+".");return $}}var kt=new ul;class hl{constructor(){this._init=[]}notify(S,x,A,$){x==="beforeInit"&&(this._init=this._createDescriptors(S,!0),this._notify(this._init,S,"install"));const D=$?this._descriptors(S).filter($):this._descriptors(S),R=this._notify(D,S,x,A);return x==="afterDestroy"&&(this._notify(D,S,"stop"),this._notify(this._init,S,"uninstall")),R}_notify(S,x,A,$){$=$||{};for(const D of S){const R=D.plugin,O=R[A],F=[x,$,D.options];if(y(O,F,R)===!1&&$.cancelable)return!1}return!0}invalidate(){s(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(S){if(this._cache)return this._cache;const x=this._cache=this._createDescriptors(S);return this._notifyStateChanges(S),x}_createDescriptors(S,x){const A=S&&S.config,$=f(A.options&&A.options.plugins,{}),D=dl(A);return $===!1&&!x?[]:pl(S,D,$,x)}_notifyStateChanges(S){const x=this._oldCache||[],A=this._cache,$=(D,R)=>D.filter(O=>!R.some(F=>O.plugin.id===F.plugin.id));this._notify($(x,A),S,"stop"),this._notify($(A,x),S,"start")}}function dl(w){const S={},x=[],A=Object.keys(kt.plugins.items);for(let D=0;D<A.length;D++)x.push(kt.getPlugin(A[D]));const $=w.plugins||[];for(let D=0;D<$.length;D++){const R=$[D];x.indexOf(R)===-1&&(x.push(R),S[R.id]=!0)}return{plugins:x,localIds:S}}function fl(w,S){return!S&&w===!1?null:w===!0?{}:w}function pl(w,{plugins:S,localIds:x},A,$){const D=[],R=w.getContext();for(const O of S){const F=O.id,U=fl(A[F],$);U!==null&&D.push({plugin:O,options:vl(w.config,{plugin:O,local:x[F]},U,R)})}return D}function vl(w,{plugin:S,local:x},A,$){const D=w.pluginScopeKeys(S),R=w.getOptionScopes(A,D);return x&&S.defaults&&R.push(S.defaults),w.createResolver(R,$,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yi(w,S){const x=Qe.datasets[w]||{};return((S.datasets||{})[w]||{}).indexAxis||S.indexAxis||x.indexAxis||"x"}function gl(w,S){let x=w;return w==="_index_"?x=S:w==="_value_"&&(x=S==="x"?"y":"x"),x}function ml(w,S){return w===S?"_index_":"_value_"}function yl(w){if(w==="top"||w==="bottom")return"x";if(w==="left"||w==="right")return"y"}function _i(w,S){return w==="x"||w==="y"?w:S.axis||yl(S.position)||w.charAt(0).toLowerCase()}function _l(w,S){const x=Ut[w.type]||{scales:{}},A=S.scales||{},$=yi(w.type,S),D=Object.create(null),R=Object.create(null);return Object.keys(A).forEach(O=>{const F=A[O];if(!c(F))return console.error(`Invalid scale configuration for scale: ${O}`);if(F._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${O}`);const U=_i(O,F),K=ml(U,$),Q=x.scales||{};D[U]=D[U]||O,R[O]=M(Object.create(null),[{axis:U},F,Q[U],Q[K]])}),w.data.datasets.forEach(O=>{const F=O.type||w.type,U=O.indexAxis||yi(F,S),Q=(Ut[F]||{}).scales||{};Object.keys(Q).forEach(ee=>{const se=gl(ee,U),ue=O[se+"AxisID"]||D[se]||se;R[ue]=R[ue]||Object.create(null),M(R[ue],[{axis:se},A[ue],Q[ee]])})}),Object.keys(R).forEach(O=>{const F=R[O];M(F,[Qe.scales[F.type],Qe.scale])}),R}function go(w){const S=w.options||(w.options={});S.plugins=f(S.plugins,{}),S.scales=_l(w,S)}function mo(w){return w=w||{},w.datasets=w.datasets||[],w.labels=w.labels||[],w}function Sl(w){return w=w||{},w.data=mo(w.data),go(w),w}const yo=new Map,_o=new Set;function va(w,S){let x=yo.get(w);return x||(x=S(),yo.set(w,x),_o.add(x)),x}const xn=(w,S,x)=>{const A=V(S,x);A!==void 0&&w.add(A)};class bl{constructor(S){this._config=Sl(S),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(S){this._config.type=S}get data(){return this._config.data}set data(S){this._config.data=mo(S)}get options(){return this._config.options}set options(S){this._config.options=S}get plugins(){return this._config.plugins}update(){const S=this._config;this.clearCache(),go(S)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(S){return va(S,()=>[[`datasets.${S}`,""]])}datasetAnimationScopeKeys(S,x){return va(`${S}.transition.${x}`,()=>[[`datasets.${S}.transitions.${x}`,`transitions.${x}`],[`datasets.${S}`,""]])}datasetElementScopeKeys(S,x){return va(`${S}-${x}`,()=>[[`datasets.${S}.elements.${x}`,`datasets.${S}`,`elements.${x}`,""]])}pluginScopeKeys(S){const x=S.id,A=this.type;return va(`${A}-plugin-${x}`,()=>[[`plugins.${x}`,...S.additionalOptionScopes||[]]])}_cachedScopes(S,x){const A=this._scopeCache;let $=A.get(S);return(!$||x)&&($=new Map,A.set(S,$)),$}getOptionScopes(S,x,A){const{options:$,type:D}=this,R=this._cachedScopes(S,A),O=R.get(x);if(O)return O;const F=new Set;x.forEach(K=>{S&&(F.add(S),K.forEach(Q=>xn(F,S,Q))),K.forEach(Q=>xn(F,$,Q)),K.forEach(Q=>xn(F,Ut[D]||{},Q)),K.forEach(Q=>xn(F,Qe,Q)),K.forEach(Q=>xn(F,Zr,Q))});const U=Array.from(F);return U.length===0&&U.push(Object.create(null)),_o.has(x)&&R.set(x,U),U}chartOptionScopes(){const{options:S,type:x}=this;return[S,Ut[x]||{},Qe.datasets[x]||{},{type:x},Qe,Zr]}resolveNamedOptions(S,x,A,$=[""]){const D={$shared:!0},{resolver:R,subPrefixes:O}=So(this._resolverCache,S,$);let F=R;if(Tl(R,x)){D.$shared=!1,A=W(A)?A():A;const U=this.createResolver(S,A,O);F=Yt(R,A,U)}for(const U of x)D[U]=F[U];return D}createResolver(S,x,A=[""],$){const{resolver:D}=So(this._resolverCache,S,A);return c(x)?Yt(D,x,void 0,$):D}}function So(w,S,x){let A=w.get(S);A||(A=new Map,w.set(S,A));const $=x.join();let D=A.get($);return D||(D={resolver:yr(S,x),subPrefixes:x.filter(O=>!O.toLowerCase().includes("hover"))},A.set($,D)),D}const xl=w=>c(w)&&Object.getOwnPropertyNames(w).reduce((S,x)=>S||W(w[x]),!1);function Tl(w,S){const{isScriptable:x,isIndexable:A}=on(w);for(const $ of S){const D=x($),R=A($),O=(R||D)&&w[$];if(D&&(W(O)||xl(O))||R&&l(O))return!0}return!1}var wl="3.9.1";const Cl=["top","bottom","left","right","chartArea"];function bo(w,S){return w==="top"||w==="bottom"||Cl.indexOf(w)===-1&&S==="x"}function xo(w,S){return function(x,A){return x[w]===A[w]?x[S]-A[S]:x[w]-A[w]}}function To(w){const S=w.chart,x=S.options.animation;S.notifyPlugins("afterRender"),y(x&&x.onComplete,[w],S)}function Al(w){const S=w.chart,x=S.options.animation;y(x&&x.onProgress,[w],S)}function wo(w){return Jr()&&typeof w=="string"?w=document.getElementById(w):w&&w.length&&(w=w[0]),w&&w.canvas&&(w=w.canvas),w}const ga={},Co=w=>{const S=wo(w);return Object.values(ga).filter(x=>x.canvas===S).pop()};function Pl(w,S,x){const A=Object.keys(w);for(const $ of A){const D=+$;if(D>=S){const R=w[$];delete w[$],(x>0||D>S)&&(w[D+x]=R)}}}function El(w,S,x,A){return!x||w.type==="mouseout"?null:A?S:w}class dt{constructor(S,x){const A=this.config=new bl(x),$=wo(S),D=Co($);if(D)throw new Error("Canvas is already in use. Chart with ID '"+D.id+"' must be destroyed before the canvas with ID '"+D.canvas.id+"' can be reused.");const R=A.createResolver(A.chartOptionScopes(),this.getContext());this.platform=new(A.platform||eo($)),this.platform.updateConfig(A);const O=this.platform.acquireContext($,R.aspectRatio),F=O&&O.canvas,U=F&&F.height,K=F&&F.width;if(this.id=o(),this.ctx=O,this.canvas=F,this.width=K,this.height=U,this._options=R,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mt(Q=>this.update(Q),R.resizeDelay||0),this._dataChanges=[],ga[this.id]=this,!O||!F){console.error("Failed to create chart: can't acquire context from the given item");return}Et.listen(this,"complete",To),Et.listen(this,"progress",Al),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:S,maintainAspectRatio:x},width:A,height:$,_aspectRatio:D}=this;return s(S)?x&&D?D:$?A/$:null:S}get data(){return this.config.data}set data(S){this.config.data=S}get options(){return this._options}set options(S){this.config.options=S}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():en(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rn(this.canvas,this.ctx),this}stop(){return Et.stop(this),this}resize(S,x){Et.running(this)?this._resizeBeforeDraw={width:S,height:x}:this._resize(S,x)}_resize(S,x){const A=this.options,$=this.canvas,D=A.maintainAspectRatio&&this.aspectRatio,R=this.platform.getMaximumSize($,S,x,D),O=A.devicePixelRatio||this.platform.getDevicePixelRatio(),F=this.width?"resize":"attach";this.width=R.width,this.height=R.height,this._aspectRatio=this.aspectRatio,en(this,O,!0)&&(this.notifyPlugins("resize",{size:R}),y(A.onResize,[this,R],this),this.attached&&this._doResize(F)&&this.render())}ensureScalesHaveIDs(){const x=this.options.scales||{};_(x,(A,$)=>{A.id=$})}buildOrUpdateScales(){const S=this.options,x=S.scales,A=this.scales,$=Object.keys(A).reduce((R,O)=>(R[O]=!1,R),{});let D=[];x&&(D=D.concat(Object.keys(x).map(R=>{const O=x[R],F=_i(R,O),U=F==="r",K=F==="x";return{options:O,dposition:U?"chartArea":K?"bottom":"left",dtype:U?"radialLinear":K?"category":"linear"}}))),_(D,R=>{const O=R.options,F=O.id,U=_i(F,O),K=f(O.type,R.dtype);(O.position===void 0||bo(O.position,U)!==bo(R.dposition))&&(O.position=R.dposition),$[F]=!0;let Q=null;if(F in A&&A[F].type===K)Q=A[F];else{const ee=kt.getScale(K);Q=new ee({id:F,type:K,ctx:this.ctx,chart:this}),A[Q.id]=Q}Q.init(O,S)}),_($,(R,O)=>{R||delete A[O]}),_(A,R=>{xt.configure(this,R,R.options),xt.addBox(this,R)})}_updateMetasets(){const S=this._metasets,x=this.data.datasets.length,A=S.length;if(S.sort(($,D)=>$.index-D.index),A>x){for(let $=x;$<A;++$)this._destroyDatasetMeta($);S.splice(x,A-x)}this._sortedMetasets=S.slice(0).sort(xo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:S,data:{datasets:x}}=this;S.length>x.length&&delete this._stacks,S.forEach((A,$)=>{x.filter(D=>D===A._dataset).length===0&&this._destroyDatasetMeta($)})}buildOrUpdateControllers(){const S=[],x=this.data.datasets;let A,$;for(this._removeUnreferencedMetasets(),A=0,$=x.length;A<$;A++){const D=x[A];let R=this.getDatasetMeta(A);const O=D.type||this.config.type;if(R.type&&R.type!==O&&(this._destroyDatasetMeta(A),R=this.getDatasetMeta(A)),R.type=O,R.indexAxis=D.indexAxis||yi(O,this.options),R.order=D.order||0,R.index=A,R.label=""+D.label,R.visible=this.isDatasetVisible(A),R.controller)R.controller.updateIndex(A),R.controller.linkScales();else{const F=kt.getController(O),{datasetElementType:U,dataElementType:K}=Qe.datasets[O];Object.assign(F.prototype,{dataElementType:kt.getElement(K),datasetElementType:U&&kt.getElement(U)}),R.controller=new F(this,A),S.push(R.controller)}}return this._updateMetasets(),S}_resetElements(){_(this.data.datasets,(S,x)=>{this.getDatasetMeta(x).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(S){const x=this.config;x.update();const A=this._options=x.createResolver(x.chartOptionScopes(),this.getContext()),$=this._animationsDisabled=!A.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:S,cancelable:!0})===!1)return;const D=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let R=0;for(let U=0,K=this.data.datasets.length;U<K;U++){const{controller:Q}=this.getDatasetMeta(U),ee=!$&&D.indexOf(Q)===-1;Q.buildOrUpdateElements(ee),R=Math.max(+Q.getMaxOverflow(),R)}R=this._minPadding=A.layout.autoPadding?R:0,this._updateLayout(R),$||_(D,U=>{U.reset()}),this._updateDatasets(S),this.notifyPlugins("afterUpdate",{mode:S}),this._layers.sort(xo("z","_idx"));const{_active:O,_lastEvent:F}=this;F?this._eventHandler(F,!0):O.length&&this._updateHoverStyles(O,O,!0),this.render()}_updateScales(){_(this.scales,S=>{xt.removeBox(this,S)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const S=this.options,x=new Set(Object.keys(this._listeners)),A=new Set(S.events);(!j(x,A)||!!this._responsiveListeners!==S.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:S}=this,x=this._getUniformDataChanges()||[];for(const{method:A,start:$,count:D}of x){const R=A==="_removeElements"?-D:D;Pl(S,$,R)}}_getUniformDataChanges(){const S=this._dataChanges;if(!S||!S.length)return;this._dataChanges=[];const x=this.data.datasets.length,A=D=>new Set(S.filter(R=>R[0]===D).map((R,O)=>O+","+R.splice(1).join(","))),$=A(0);for(let D=1;D<x;D++)if(!j($,A(D)))return;return Array.from($).map(D=>D.split(",")).map(D=>({method:D[1],start:+D[2],count:+D[3]}))}_updateLayout(S){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xt.update(this,this.width,this.height,S);const x=this.chartArea,A=x.width<=0||x.height<=0;this._layers=[],_(this.boxes,$=>{A&&$.position==="chartArea"||($.configure&&$.configure(),this._layers.push(...$._layers()))},this),this._layers.forEach(($,D)=>{$._idx=D}),this.notifyPlugins("afterLayout")}_updateDatasets(S){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:S,cancelable:!0})!==!1){for(let x=0,A=this.data.datasets.length;x<A;++x)this.getDatasetMeta(x).controller.configure();for(let x=0,A=this.data.datasets.length;x<A;++x)this._updateDataset(x,W(S)?S({datasetIndex:x}):S);this.notifyPlugins("afterDatasetsUpdate",{mode:S})}}_updateDataset(S,x){const A=this.getDatasetMeta(S),$={meta:A,index:S,mode:x,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",$)!==!1&&(A.controller._update(x),$.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",$))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Et.has(this)?this.attached&&!Et.running(this)&&Et.start(this):(this.draw(),To({chart:this})))}draw(){let S;if(this._resizeBeforeDraw){const{width:A,height:$}=this._resizeBeforeDraw;this._resize(A,$),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const x=this._layers;for(S=0;S<x.length&&x[S].z<=0;++S)x[S].draw(this.chartArea);for(this._drawDatasets();S<x.length;++S)x[S].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(S){const x=this._sortedMetasets,A=[];let $,D;for($=0,D=x.length;$<D;++$){const R=x[$];(!S||R.visible)&&A.push(R)}return A}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const S=this.getSortedVisibleDatasetMetas();for(let x=S.length-1;x>=0;--x)this._drawDataset(S[x]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(S){const x=this.ctx,A=S._clip,$=!A.disabled,D=this.chartArea,R={meta:S,index:S.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",R)!==!1&&($&&mr(x,{left:A.left===!1?0:D.left-A.left,right:A.right===!1?this.width:D.right+A.right,top:A.top===!1?0:D.top-A.top,bottom:A.bottom===!1?this.height:D.bottom+A.bottom}),S.controller.draw(),$&&Vt(x),R.cancelable=!1,this.notifyPlugins("afterDatasetDraw",R))}isPointInArea(S){return nr(S,this.chartArea,this._minPadding)}getElementsAtEventForMode(S,x,A,$){const D=zi.modes[x];return typeof D=="function"?D(this,S,A,$):[]}getDatasetMeta(S){const x=this.data.datasets[S],A=this._metasets;let $=A.filter(D=>D&&D._dataset===x).pop();return $||($={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:x&&x.order||0,index:S,_dataset:x,_parsed:[],_sorted:!1},A.push($)),$}getContext(){return this.$context||(this.$context=Lt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(S){const x=this.data.datasets[S];if(!x)return!1;const A=this.getDatasetMeta(S);return typeof A.hidden=="boolean"?!A.hidden:!x.hidden}setDatasetVisibility(S,x){const A=this.getDatasetMeta(S);A.hidden=!x}toggleDataVisibility(S){this._hiddenIndices[S]=!this._hiddenIndices[S]}getDataVisibility(S){return!this._hiddenIndices[S]}_updateVisibility(S,x,A){const $=A?"show":"hide",D=this.getDatasetMeta(S),R=D.controller._resolveAnimations(void 0,$);H(x)?(D.data[x].hidden=!A,this.update()):(this.setDatasetVisibility(S,A),R.update(D,{visible:A}),this.update(O=>O.datasetIndex===S?$:void 0))}hide(S,x){this._updateVisibility(S,x,!1)}show(S,x){this._updateVisibility(S,x,!0)}_destroyDatasetMeta(S){const x=this._metasets[S];x&&x.controller&&x.controller._destroy(),delete this._metasets[S]}_stop(){let S,x;for(this.stop(),Et.remove(this),S=0,x=this.data.datasets.length;S<x;++S)this._destroyDatasetMeta(S)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:S,ctx:x}=this;this._stop(),this.config.clearCache(),S&&(this.unbindEvents(),rn(S,x),this.platform.releaseContext(x),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ga[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...S){return this.canvas.toDataURL(...S)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const S=this._listeners,x=this.platform,A=(D,R)=>{x.addEventListener(this,D,R),S[D]=R},$=(D,R,O)=>{D.offsetX=R,D.offsetY=O,this._eventHandler(D)};_(this.options.events,D=>A(D,$))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const S=this._responsiveListeners,x=this.platform,A=(F,U)=>{x.addEventListener(this,F,U),S[F]=U},$=(F,U)=>{S[F]&&(x.removeEventListener(this,F,U),delete S[F])},D=(F,U)=>{this.canvas&&this.resize(F,U)};let R;const O=()=>{$("attach",O),this.attached=!0,this.resize(),A("resize",D),A("detach",R)};R=()=>{this.attached=!1,$("resize",D),this._stop(),this._resize(0,0),A("attach",O)},x.isAttached(this.canvas)?O():R()}unbindEvents(){_(this._listeners,(S,x)=>{this.platform.removeEventListener(this,x,S)}),this._listeners={},_(this._responsiveListeners,(S,x)=>{this.platform.removeEventListener(this,x,S)}),this._responsiveListeners=void 0}updateHoverStyle(S,x,A){const $=A?"set":"remove";let D,R,O,F;for(x==="dataset"&&(D=this.getDatasetMeta(S[0].datasetIndex),D.controller["_"+$+"DatasetHoverStyle"]()),O=0,F=S.length;O<F;++O){R=S[O];const U=R&&this.getDatasetMeta(R.datasetIndex).controller;U&&U[$+"HoverStyle"](R.element,R.datasetIndex,R.index)}}getActiveElements(){return this._active||[]}setActiveElements(S){const x=this._active||[],A=S.map(({datasetIndex:D,index:R})=>{const O=this.getDatasetMeta(D);if(!O)throw new Error("No dataset found at index "+D);return{datasetIndex:D,element:O.data[R],index:R}});!b(A,x)&&(this._active=A,this._lastEvent=null,this._updateHoverStyles(A,x))}notifyPlugins(S,x,A){return this._plugins.notify(this,S,x,A)}_updateHoverStyles(S,x,A){const $=this.options.hover,D=(F,U)=>F.filter(K=>!U.some(Q=>K.datasetIndex===Q.datasetIndex&&K.index===Q.index)),R=D(x,S),O=A?S:D(S,x);R.length&&this.updateHoverStyle(R,$.mode,!1),O.length&&$.mode&&this.updateHoverStyle(O,$.mode,!0)}_eventHandler(S,x){const A={event:S,replay:x,cancelable:!0,inChartArea:this.isPointInArea(S)},$=R=>(R.options.events||this.options.events).includes(S.native.type);if(this.notifyPlugins("beforeEvent",A,$)===!1)return;const D=this._handleEvent(S,x,A.inChartArea);return A.cancelable=!1,this.notifyPlugins("afterEvent",A,$),(D||A.changed)&&this.render(),this}_handleEvent(S,x,A){const{_active:$=[],options:D}=this,R=x,O=this._getActiveElements(S,$,A,R),F=X(S),U=El(S,this._lastEvent,A,F);A&&(this._lastEvent=null,y(D.onHover,[S,O,this],this),F&&y(D.onClick,[S,O,this],this));const K=!b(O,$);return(K||x)&&(this._active=O,this._updateHoverStyles(O,$,x)),this._lastEvent=U,K}_getActiveElements(S,x,A,$){if(S.type==="mouseout")return[];if(!A)return x;const D=this.options.hover;return this.getElementsAtEventForMode(S,D.mode,D,$)}}const Ao=()=>_(dt.instances,w=>w._plugins.invalidate()),ur=!0;Object.defineProperties(dt,{defaults:{enumerable:ur,value:Qe},instances:{enumerable:ur,value:ga},overrides:{enumerable:ur,value:Ut},registry:{enumerable:ur,value:kt},version:{enumerable:ur,value:wl},getChart:{enumerable:ur,value:Co},register:{enumerable:ur,value:(...w)=>{kt.add(...w),Ao()}},unregister:{enumerable:ur,value:(...w)=>{kt.remove(...w),Ao()}}});function Cr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Si{constructor(S){this.options=S||{}}init(S){}formats(){return Cr()}parse(S,x){return Cr()}format(S,x){return Cr()}add(S,x,A){return Cr()}diff(S,x,A){return Cr()}startOf(S,x,A){return Cr()}endOf(S,x){return Cr()}}Si.override=function(w){Object.assign(Si.prototype,w)};var Po={_date:Si};function $l(w,S){if(!w._cache.$bar){const x=w.getMatchingVisibleMetas(S);let A=[];for(let $=0,D=x.length;$<D;$++)A=A.concat(x[$].controller.getAllParsedValues(w));w._cache.$bar=nt(A.sort(($,D)=>$-D))}return w._cache.$bar}function Ml(w){const S=w.iScale,x=$l(S,w.type);let A=S._length,$,D,R,O;const F=()=>{R===32767||R===-32768||(H(O)&&(A=Math.min(A,Math.abs(R-O)||A)),O=R)};for($=0,D=x.length;$<D;++$)R=S.getPixelForValue(x[$]),F();for(O=void 0,$=0,D=S.ticks.length;$<D;++$)R=S.getPixelForTick($),F();return A}function Dl(w,S,x,A){const $=x.barThickness;let D,R;return s($)?(D=S.min*x.categoryPercentage,R=x.barPercentage):(D=$*A,R=1),{chunk:D/A,ratio:R,start:S.pixels[w]-D/2}}function Il(w,S,x,A){const $=S.pixels,D=$[w];let R=w>0?$[w-1]:null,O=w<$.length-1?$[w+1]:null;const F=x.categoryPercentage;R===null&&(R=D-(O===null?S.end-S.start:O-D)),O===null&&(O=D+D-R);const U=D-(D-Math.min(R,O))/2*F;return{chunk:Math.abs(O-R)/2*F/A,ratio:x.barPercentage,start:U}}function Rl(w,S,x,A){const $=x.parse(w[0],A),D=x.parse(w[1],A),R=Math.min($,D),O=Math.max($,D);let F=R,U=O;Math.abs(R)>Math.abs(O)&&(F=O,U=R),S[x.axis]=U,S._custom={barStart:F,barEnd:U,start:$,end:D,min:R,max:O}}function Eo(w,S,x,A){return l(w)?Rl(w,S,x,A):S[x.axis]=x.parse(w,A),S}function $o(w,S,x,A){const $=w.iScale,D=w.vScale,R=$.getLabels(),O=$===D,F=[];let U,K,Q,ee;for(U=x,K=x+A;U<K;++U)ee=S[U],Q={},Q[$.axis]=O||$.parse(R[U],U),F.push(Eo(ee,Q,D,U));return F}function bi(w){return w&&w.barStart!==void 0&&w.barEnd!==void 0}function Ll(w,S,x){return w!==0?Ce(w):(S.isHorizontal()?1:-1)*(S.min>=x?1:-1)}function kl(w){let S,x,A,$,D;return w.horizontal?(S=w.base>w.x,x="left",A="right"):(S=w.base<w.y,x="bottom",A="top"),S?($="end",D="start"):($="start",D="end"),{start:x,end:A,reverse:S,top:$,bottom:D}}function Ol(w,S,x,A){let $=S.borderSkipped;const D={};if(!$){w.borderSkipped=D;return}if($===!0){w.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:R,end:O,reverse:F,top:U,bottom:K}=kl(w);$==="middle"&&x&&(w.enableBorderRadius=!0,(x._top||0)===A?$=U:(x._bottom||0)===A?$=K:(D[Mo(K,R,O,F)]=!0,$=U)),D[Mo($,R,O,F)]=!0,w.borderSkipped=D}function Mo(w,S,x,A){return A?(w=Nl(w,S,x),w=Do(w,x,S)):w=Do(w,S,x),w}function Nl(w,S,x){return w===S?x:w===x?S:w}function Do(w,S,x){return w==="start"?S:w==="end"?x:w}function Vl(w,{inflateAmount:S},x){w.inflateAmount=S==="auto"?x===1?.33:0:S}class ma extends Mt{parsePrimitiveData(S,x,A,$){return $o(S,x,A,$)}parseArrayData(S,x,A,$){return $o(S,x,A,$)}parseObjectData(S,x,A,$){const{iScale:D,vScale:R}=S,{xAxisKey:O="x",yAxisKey:F="y"}=this._parsing,U=D.axis==="x"?O:F,K=R.axis==="x"?O:F,Q=[];let ee,se,ue,me;for(ee=A,se=A+$;ee<se;++ee)me=x[ee],ue={},ue[D.axis]=D.parse(V(me,U),ee),Q.push(Eo(V(me,K),ue,R,ee));return Q}updateRangeFromParsed(S,x,A,$){super.updateRangeFromParsed(S,x,A,$);const D=A._custom;D&&x===this._cachedMeta.vScale&&(S.min=Math.min(S.min,D.min),S.max=Math.max(S.max,D.max))}getMaxOverflow(){return 0}getLabelAndValue(S){const x=this._cachedMeta,{iScale:A,vScale:$}=x,D=this.getParsed(S),R=D._custom,O=bi(R)?"["+R.start+", "+R.end+"]":""+$.getLabelForValue(D[$.axis]);return{label:""+A.getLabelForValue(D[A.axis]),value:O}}initialize(){this.enableOptionSharing=!0,super.initialize();const S=this._cachedMeta;S.stack=this.getDataset().stack}update(S){const x=this._cachedMeta;this.updateElements(x.data,0,x.data.length,S)}updateElements(S,x,A,$){const D=$==="reset",{index:R,_cachedMeta:{vScale:O}}=this,F=O.getBasePixel(),U=O.isHorizontal(),K=this._getRuler(),{sharedOptions:Q,includeOptions:ee}=this._getSharedOptions(x,$);for(let se=x;se<x+A;se++){const ue=this.getParsed(se),me=D||s(ue[O.axis])?{base:F,head:F}:this._calculateBarValuePixels(se),ye=this._calculateBarIndexPixels(se,K),xe=(ue._stacks||{})[O.axis],Ee={horizontal:U,base:me.base,enableBorderRadius:!xe||bi(ue._custom)||R===xe._top||R===xe._bottom,x:U?me.head:ye.center,y:U?ye.center:me.head,height:U?ye.size:Math.abs(me.size),width:U?Math.abs(me.size):ye.size};ee&&(Ee.options=Q||this.resolveDataElementOptions(se,S[se].active?"active":$));const Ne=Ee.options||S[se].options;Ol(Ee,Ne,xe,R),Vl(Ee,Ne,K.ratio),this.updateElement(S[se],se,Ee,$)}}_getStacks(S,x){const{iScale:A}=this._cachedMeta,$=A.getMatchingVisibleMetas(this._type).filter(F=>F.controller.options.grouped),D=A.options.stacked,R=[],O=F=>{const U=F.controller.getParsed(x),K=U&&U[F.vScale.axis];if(s(K)||isNaN(K))return!0};for(const F of $)if(!(x!==void 0&&O(F))&&((D===!1||R.indexOf(F.stack)===-1||D===void 0&&F.stack===void 0)&&R.push(F.stack),F.index===S))break;return R.length||R.push(void 0),R}_getStackCount(S){return this._getStacks(void 0,S).length}_getStackIndex(S,x,A){const $=this._getStacks(S,A),D=x!==void 0?$.indexOf(x):-1;return D===-1?$.length-1:D}_getRuler(){const S=this.options,x=this._cachedMeta,A=x.iScale,$=[];let D,R;for(D=0,R=x.data.length;D<R;++D)$.push(A.getPixelForValue(this.getParsed(D)[A.axis],D));const O=S.barThickness;return{min:O||Ml(x),pixels:$,start:A._startPixel,end:A._endPixel,stackCount:this._getStackCount(),scale:A,grouped:S.grouped,ratio:O?1:S.categoryPercentage*S.barPercentage}}_calculateBarValuePixels(S){const{_cachedMeta:{vScale:x,_stacked:A},options:{base:$,minBarLength:D}}=this,R=$||0,O=this.getParsed(S),F=O._custom,U=bi(F);let K=O[x.axis],Q=0,ee=A?this.applyStack(x,O,A):K,se,ue;ee!==K&&(Q=ee-K,ee=K),U&&(K=F.barStart,ee=F.barEnd-F.barStart,K!==0&&Ce(K)!==Ce(F.barEnd)&&(Q=0),Q+=K);const me=!s($)&&!U?$:Q;let ye=x.getPixelForValue(me);if(this.chart.getDataVisibility(S)?se=x.getPixelForValue(Q+ee):se=ye,ue=se-ye,Math.abs(ue)<D){ue=Ll(ue,x,R)*D,K===R&&(ye-=ue/2);const xe=x.getPixelForDecimal(0),Ee=x.getPixelForDecimal(1),Ne=Math.min(xe,Ee),Oe=Math.max(xe,Ee);ye=Math.max(Math.min(ye,Oe),Ne),se=ye+ue}if(ye===x.getPixelForValue(R)){const xe=Ce(ue)*x.getLineWidthForValue(R)/2;ye+=xe,ue-=xe}return{size:ue,base:ye,head:se,center:se+ue/2}}_calculateBarIndexPixels(S,x){const A=x.scale,$=this.options,D=$.skipNull,R=f($.maxBarThickness,1/0);let O,F;if(x.grouped){const U=D?this._getStackCount(S):x.stackCount,K=$.barThickness==="flex"?Il(S,x,$,U):Dl(S,x,$,U),Q=this._getStackIndex(this.index,this._cachedMeta.stack,D?S:void 0);O=K.start+K.chunk*Q+K.chunk/2,F=Math.min(R,K.chunk*K.ratio)}else O=A.getPixelForValue(this.getParsed(S)[A.axis],S),F=Math.min(R,x.min*x.ratio);return{base:O-F/2,head:O+F/2,center:O,size:F}}draw(){const S=this._cachedMeta,x=S.vScale,A=S.data,$=A.length;let D=0;for(;D<$;++D)this.getParsed(D)[x.axis]!==null&&A[D].draw(this._ctx)}}ma.id="bar",ma.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},ma.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class ya extends Mt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(S,x,A,$){const D=super.parsePrimitiveData(S,x,A,$);for(let R=0;R<D.length;R++)D[R]._custom=this.resolveDataElementOptions(R+A).radius;return D}parseArrayData(S,x,A,$){const D=super.parseArrayData(S,x,A,$);for(let R=0;R<D.length;R++){const O=x[A+R];D[R]._custom=f(O[2],this.resolveDataElementOptions(R+A).radius)}return D}parseObjectData(S,x,A,$){const D=super.parseObjectData(S,x,A,$);for(let R=0;R<D.length;R++){const O=x[A+R];D[R]._custom=f(O&&O.r&&+O.r,this.resolveDataElementOptions(R+A).radius)}return D}getMaxOverflow(){const S=this._cachedMeta.data;let x=0;for(let A=S.length-1;A>=0;--A)x=Math.max(x,S[A].size(this.resolveDataElementOptions(A))/2);return x>0&&x}getLabelAndValue(S){const x=this._cachedMeta,{xScale:A,yScale:$}=x,D=this.getParsed(S),R=A.getLabelForValue(D.x),O=$.getLabelForValue(D.y),F=D._custom;return{label:x.label,value:"("+R+", "+O+(F?", "+F:"")+")"}}update(S){const x=this._cachedMeta.data;this.updateElements(x,0,x.length,S)}updateElements(S,x,A,$){const D=$==="reset",{iScale:R,vScale:O}=this._cachedMeta,{sharedOptions:F,includeOptions:U}=this._getSharedOptions(x,$),K=R.axis,Q=O.axis;for(let ee=x;ee<x+A;ee++){const se=S[ee],ue=!D&&this.getParsed(ee),me={},ye=me[K]=D?R.getPixelForDecimal(.5):R.getPixelForValue(ue[K]),xe=me[Q]=D?O.getBasePixel():O.getPixelForValue(ue[Q]);me.skip=isNaN(ye)||isNaN(xe),U&&(me.options=F||this.resolveDataElementOptions(ee,se.active?"active":$),D&&(me.options.radius=0)),this.updateElement(se,ee,me,$)}}resolveDataElementOptions(S,x){const A=this.getParsed(S);let $=super.resolveDataElementOptions(S,x);$.$shared&&($=Object.assign({},$,{$shared:!1}));const D=$.radius;return x!=="active"&&($.radius=0),$.radius+=f(A&&A._custom,D),$}}ya.id="bubble",ya.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},ya.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function Bl(w,S,x){let A=1,$=1,D=0,R=0;if(S<q){const O=w,F=O+S,U=Math.cos(O),K=Math.sin(O),Q=Math.cos(F),ee=Math.sin(F),se=(Ne,Oe,Re)=>$e(Ne,O,F,!0)?1:Math.max(Oe,Oe*x,Re,Re*x),ue=(Ne,Oe,Re)=>$e(Ne,O,F,!0)?-1:Math.min(Oe,Oe*x,Re,Re*x),me=se(0,U,Q),ye=se(ve,K,ee),xe=ue(Z,U,Q),Ee=ue(Z+ve,K,ee);A=(me-xe)/2,$=(ye-Ee)/2,D=-(me+xe)/2,R=-(ye+Ee)/2}return{ratioX:A,ratioY:$,offsetX:D,offsetY:R}}class Nr extends Mt{constructor(S,x){super(S,x),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(S,x){const A=this.getDataset().data,$=this._cachedMeta;if(this._parsing===!1)$._parsed=A;else{let D=F=>+A[F];if(c(A[S])){const{key:F="value"}=this._parsing;D=U=>+V(A[U],F)}let R,O;for(R=S,O=S+x;R<O;++R)$._parsed[R]=D(R)}}_getRotation(){return we(this.options.rotation-90)}_getCircumference(){return we(this.options.circumference)}_getRotationExtents(){let S=q,x=-q;for(let A=0;A<this.chart.data.datasets.length;++A)if(this.chart.isDatasetVisible(A)){const $=this.chart.getDatasetMeta(A).controller,D=$._getRotation(),R=$._getCircumference();S=Math.min(S,D),x=Math.max(x,D+R)}return{rotation:S,circumference:x-S}}update(S){const x=this.chart,{chartArea:A}=x,$=this._cachedMeta,D=$.data,R=this.getMaxBorderWidth()+this.getMaxOffset(D)+this.options.spacing,O=Math.max((Math.min(A.width,A.height)-R)/2,0),F=Math.min(v(this.options.cutout,O),1),U=this._getRingWeight(this.index),{circumference:K,rotation:Q}=this._getRotationExtents(),{ratioX:ee,ratioY:se,offsetX:ue,offsetY:me}=Bl(Q,K,F),ye=(A.width-R)/ee,xe=(A.height-R)/se,Ee=Math.max(Math.min(ye,xe)/2,0),Ne=g(this.options.radius,Ee),Oe=Math.max(Ne*F,0),Re=(Ne-Oe)/this._getVisibleDatasetWeightTotal();this.offsetX=ue*Ne,this.offsetY=me*Ne,$.total=this.calculateTotal(),this.outerRadius=Ne-Re*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Re*U,0),this.updateElements(D,0,D.length,S)}_circumference(S,x){const A=this.options,$=this._cachedMeta,D=this._getCircumference();return x&&A.animation.animateRotate||!this.chart.getDataVisibility(S)||$._parsed[S]===null||$.data[S].hidden?0:this.calculateCircumference($._parsed[S]*D/q)}updateElements(S,x,A,$){const D=$==="reset",R=this.chart,O=R.chartArea,U=R.options.animation,K=(O.left+O.right)/2,Q=(O.top+O.bottom)/2,ee=D&&U.animateScale,se=ee?0:this.innerRadius,ue=ee?0:this.outerRadius,{sharedOptions:me,includeOptions:ye}=this._getSharedOptions(x,$);let xe=this._getRotation(),Ee;for(Ee=0;Ee<x;++Ee)xe+=this._circumference(Ee,D);for(Ee=x;Ee<x+A;++Ee){const Ne=this._circumference(Ee,D),Oe=S[Ee],Re={x:K+this.offsetX,y:Q+this.offsetY,startAngle:xe,endAngle:xe+Ne,circumference:Ne,outerRadius:ue,innerRadius:se};ye&&(Re.options=me||this.resolveDataElementOptions(Ee,Oe.active?"active":$)),xe+=Ne,this.updateElement(Oe,Ee,Re,$)}}calculateTotal(){const S=this._cachedMeta,x=S.data;let A=0,$;for($=0;$<x.length;$++){const D=S._parsed[$];D!==null&&!isNaN(D)&&this.chart.getDataVisibility($)&&!x[$].hidden&&(A+=Math.abs(D))}return A}calculateCircumference(S){const x=this._cachedMeta.total;return x>0&&!isNaN(S)?q*(Math.abs(S)/x):0}getLabelAndValue(S){const x=this._cachedMeta,A=this.chart,$=A.data.labels||[],D=ir(x._parsed[S],A.options.locale);return{label:$[S]||"",value:D}}getMaxBorderWidth(S){let x=0;const A=this.chart;let $,D,R,O,F;if(!S){for($=0,D=A.data.datasets.length;$<D;++$)if(A.isDatasetVisible($)){R=A.getDatasetMeta($),S=R.data,O=R.controller;break}}if(!S)return 0;for($=0,D=S.length;$<D;++$)F=O.resolveDataElementOptions($),F.borderAlign!=="inner"&&(x=Math.max(x,F.borderWidth||0,F.hoverBorderWidth||0));return x}getMaxOffset(S){let x=0;for(let A=0,$=S.length;A<$;++A){const D=this.resolveDataElementOptions(A);x=Math.max(x,D.offset||0,D.hoverOffset||0)}return x}_getRingWeightOffset(S){let x=0;for(let A=0;A<S;++A)this.chart.isDatasetVisible(A)&&(x+=this._getRingWeight(A));return x}_getRingWeight(S){return Math.max(f(this.chart.data.datasets[S].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Nr.id="doughnut",Nr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Nr.descriptors={_scriptable:w=>w!=="spacing",_indexable:w=>w!=="spacing"},Nr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(w){const S=w.data;if(S.labels.length&&S.datasets.length){const{labels:{pointStyle:x}}=w.legend.options;return S.labels.map((A,$)=>{const R=w.getDatasetMeta(0).controller.getStyle($);return{text:A,fillStyle:R.backgroundColor,strokeStyle:R.borderColor,lineWidth:R.borderWidth,pointStyle:x,hidden:!w.getDataVisibility($),index:$}})}return[]}},onClick(w,S,x){x.chart.toggleDataVisibility(S.index),x.chart.update()}},tooltip:{callbacks:{title(){return""},label(w){let S=w.label;const x=": "+w.formattedValue;return l(S)?(S=S.slice(),S[0]+=x):S+=x,S}}}}};class Sa extends Mt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(S){const x=this._cachedMeta,{dataset:A,data:$=[],_dataset:D}=x,R=this.chart._animationsDisabled;let{start:O,count:F}=bt(x,$,R);this._drawStart=O,this._drawCount=F,qt(x)&&(O=0,F=$.length),A._chart=this.chart,A._datasetIndex=this.index,A._decimated=!!D._decimated,A.points=$;const U=this.resolveDatasetElementOptions(S);this.options.showLine||(U.borderWidth=0),U.segment=this.options.segment,this.updateElement(A,void 0,{animated:!R,options:U},S),this.updateElements($,O,F,S)}updateElements(S,x,A,$){const D=$==="reset",{iScale:R,vScale:O,_stacked:F,_dataset:U}=this._cachedMeta,{sharedOptions:K,includeOptions:Q}=this._getSharedOptions(x,$),ee=R.axis,se=O.axis,{spanGaps:ue,segment:me}=this.options,ye=ne(ue)?ue:Number.POSITIVE_INFINITY,xe=this.chart._animationsDisabled||D||$==="none";let Ee=x>0&&this.getParsed(x-1);for(let Ne=x;Ne<x+A;++Ne){const Oe=S[Ne],Re=this.getParsed(Ne),He=xe?Oe:{},ze=s(Re[se]),Xe=He[ee]=R.getPixelForValue(Re[ee],Ne),je=He[se]=D||ze?O.getBasePixel():O.getPixelForValue(F?this.applyStack(O,Re,F):Re[se],Ne);He.skip=isNaN(Xe)||isNaN(je)||ze,He.stop=Ne>0&&Math.abs(Re[ee]-Ee[ee])>ye,me&&(He.parsed=Re,He.raw=U.data[Ne]),Q&&(He.options=K||this.resolveDataElementOptions(Ne,Oe.active?"active":$)),xe||this.updateElement(Oe,Ne,He,$),Ee=Re}}getMaxOverflow(){const S=this._cachedMeta,x=S.dataset,A=x.options&&x.options.borderWidth||0,$=S.data||[];if(!$.length)return A;const D=$[0].size(this.resolveDataElementOptions(0)),R=$[$.length-1].size(this.resolveDataElementOptions($.length-1));return Math.max(A,D,R)/2}draw(){const S=this._cachedMeta;S.dataset.updateControlPoints(this.chart.chartArea,S.iScale.axis),super.draw()}}Sa.id="line",Sa.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Sa.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class ba extends Mt{constructor(S,x){super(S,x),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(S){const x=this._cachedMeta,A=this.chart,$=A.data.labels||[],D=ir(x._parsed[S].r,A.options.locale);return{label:$[S]||"",value:D}}parseObjectData(S,x,A,$){return cn.bind(this)(S,x,A,$)}update(S){const x=this._cachedMeta.data;this._updateRadius(),this.updateElements(x,0,x.length,S)}getMinMax(){const S=this._cachedMeta,x={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return S.data.forEach((A,$)=>{const D=this.getParsed($).r;!isNaN(D)&&this.chart.getDataVisibility($)&&(D<x.min&&(x.min=D),D>x.max&&(x.max=D))}),x}_updateRadius(){const S=this.chart,x=S.chartArea,A=S.options,$=Math.min(x.right-x.left,x.bottom-x.top),D=Math.max($/2,0),R=Math.max(A.cutoutPercentage?D/100*A.cutoutPercentage:1,0),O=(D-R)/S.getVisibleDatasetCount();this.outerRadius=D-O*this.index,this.innerRadius=this.outerRadius-O}updateElements(S,x,A,$){const D=$==="reset",R=this.chart,F=R.options.animation,U=this._cachedMeta.rScale,K=U.xCenter,Q=U.yCenter,ee=U.getIndexAngle(0)-.5*Z;let se=ee,ue;const me=360/this.countVisibleElements();for(ue=0;ue<x;++ue)se+=this._computeAngle(ue,$,me);for(ue=x;ue<x+A;ue++){const ye=S[ue];let xe=se,Ee=se+this._computeAngle(ue,$,me),Ne=R.getDataVisibility(ue)?U.getDistanceFromCenterForValue(this.getParsed(ue).r):0;se=Ee,D&&(F.animateScale&&(Ne=0),F.animateRotate&&(xe=Ee=ee));const Oe={x:K,y:Q,innerRadius:0,outerRadius:Ne,startAngle:xe,endAngle:Ee,options:this.resolveDataElementOptions(ue,ye.active?"active":$)};this.updateElement(ye,ue,Oe,$)}}countVisibleElements(){const S=this._cachedMeta;let x=0;return S.data.forEach((A,$)=>{!isNaN(this.getParsed($).r)&&this.chart.getDataVisibility($)&&x++}),x}_computeAngle(S,x,A){return this.chart.getDataVisibility(S)?we(this.resolveDataElementOptions(S,x).angle||A):0}}ba.id="polarArea",ba.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},ba.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(w){const S=w.data;if(S.labels.length&&S.datasets.length){const{labels:{pointStyle:x}}=w.legend.options;return S.labels.map((A,$)=>{const R=w.getDatasetMeta(0).controller.getStyle($);return{text:A,fillStyle:R.backgroundColor,strokeStyle:R.borderColor,lineWidth:R.borderWidth,pointStyle:x,hidden:!w.getDataVisibility($),index:$}})}return[]}},onClick(w,S,x){x.chart.toggleDataVisibility(S.index),x.chart.update()}},tooltip:{callbacks:{title(){return""},label(w){return w.chart.data.labels[w.dataIndex]+": "+w.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class xi extends Nr{}xi.id="pie",xi.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class xa extends Mt{getLabelAndValue(S){const x=this._cachedMeta.vScale,A=this.getParsed(S);return{label:x.getLabels()[S],value:""+x.getLabelForValue(A[x.axis])}}parseObjectData(S,x,A,$){return cn.bind(this)(S,x,A,$)}update(S){const x=this._cachedMeta,A=x.dataset,$=x.data||[],D=x.iScale.getLabels();if(A.points=$,S!=="resize"){const R=this.resolveDatasetElementOptions(S);this.options.showLine||(R.borderWidth=0);const O={_loop:!0,_fullLoop:D.length===$.length,options:R};this.updateElement(A,void 0,O,S)}this.updateElements($,0,$.length,S)}updateElements(S,x,A,$){const D=this._cachedMeta.rScale,R=$==="reset";for(let O=x;O<x+A;O++){const F=S[O],U=this.resolveDataElementOptions(O,F.active?"active":$),K=D.getPointPositionForValue(O,this.getParsed(O).r),Q=R?D.xCenter:K.x,ee=R?D.yCenter:K.y,se={x:Q,y:ee,angle:K.angle,skip:isNaN(Q)||isNaN(ee),options:U};this.updateElement(F,O,se,$)}}}xa.id="radar",xa.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},xa.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Ta extends Mt{update(S){const x=this._cachedMeta,{data:A=[]}=x,$=this.chart._animationsDisabled;let{start:D,count:R}=bt(x,A,$);if(this._drawStart=D,this._drawCount=R,qt(x)&&(D=0,R=A.length),this.options.showLine){const{dataset:O,_dataset:F}=x;O._chart=this.chart,O._datasetIndex=this.index,O._decimated=!!F._decimated,O.points=A;const U=this.resolveDatasetElementOptions(S);U.segment=this.options.segment,this.updateElement(O,void 0,{animated:!$,options:U},S)}this.updateElements(A,D,R,S)}addElements(){const{showLine:S}=this.options;!this.datasetElementType&&S&&(this.datasetElementType=kt.getElement("line")),super.addElements()}updateElements(S,x,A,$){const D=$==="reset",{iScale:R,vScale:O,_stacked:F,_dataset:U}=this._cachedMeta,K=this.resolveDataElementOptions(x,$),Q=this.getSharedOptions(K),ee=this.includeOptions($,Q),se=R.axis,ue=O.axis,{spanGaps:me,segment:ye}=this.options,xe=ne(me)?me:Number.POSITIVE_INFINITY,Ee=this.chart._animationsDisabled||D||$==="none";let Ne=x>0&&this.getParsed(x-1);for(let Oe=x;Oe<x+A;++Oe){const Re=S[Oe],He=this.getParsed(Oe),ze=Ee?Re:{},Xe=s(He[ue]),je=ze[se]=R.getPixelForValue(He[se],Oe),ot=ze[ue]=D||Xe?O.getBasePixel():O.getPixelForValue(F?this.applyStack(O,He,F):He[ue],Oe);ze.skip=isNaN(je)||isNaN(ot)||Xe,ze.stop=Oe>0&&Math.abs(He[se]-Ne[se])>xe,ye&&(ze.parsed=He,ze.raw=U.data[Oe]),ee&&(ze.options=Q||this.resolveDataElementOptions(Oe,Re.active?"active":$)),Ee||this.updateElement(Re,Oe,ze,$),Ne=He}this.updateSharedOptions(Q,$,K)}getMaxOverflow(){const S=this._cachedMeta,x=S.data||[];if(!this.options.showLine){let O=0;for(let F=x.length-1;F>=0;--F)O=Math.max(O,x[F].size(this.resolveDataElementOptions(F))/2);return O>0&&O}const A=S.dataset,$=A.options&&A.options.borderWidth||0;if(!x.length)return $;const D=x[0].size(this.resolveDataElementOptions(0)),R=x[x.length-1].size(this.resolveDataElementOptions(x.length-1));return Math.max($,D,R)/2}}Ta.id="scatter",Ta.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Ta.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(w){return"("+w.label+", "+w.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Io=Object.freeze({__proto__:null,BarController:ma,BubbleController:ya,DoughnutController:Nr,LineController:Sa,PolarAreaController:ba,PieController:xi,RadarController:xa,ScatterController:Ta});function Ro(w,S,x){const{startAngle:A,pixelMargin:$,x:D,y:R,outerRadius:O,innerRadius:F}=S;let U=$/O;w.beginPath(),w.arc(D,R,O,A-U,x+U),F>$?(U=$/F,w.arc(D,R,F,x+U,A-U,!0)):w.arc(D,R,$,x+ve,A-ve),w.closePath(),w.clip()}function Fl(w){return xr(w,["outerStart","outerEnd","innerStart","innerEnd"])}function Hl(w,S,x,A){const $=Fl(w.options.borderRadius),D=(x-S)/2,R=Math.min(D,A*S/2),O=F=>{const U=(x-Math.min(D,F))*A/2;return Me(F,0,Math.min(D,U))};return{outerStart:O($.outerStart),outerEnd:O($.outerEnd),innerStart:Me($.innerStart,0,R),innerEnd:Me($.innerEnd,0,R)}}function Vr(w,S,x,A){return{x:x+w*Math.cos(S),y:A+w*Math.sin(S)}}function Ti(w,S,x,A,$,D){const{x:R,y:O,startAngle:F,pixelMargin:U,innerRadius:K}=S,Q=Math.max(S.outerRadius+A+x-U,0),ee=K>0?K+A+x+U:0;let se=0;const ue=$-F;if(A){const qe=K>0?K-A:0,gt=Q>0?Q-A:0,ft=(qe+gt)/2,Ar=ft!==0?ue*ft/(ft+A):ue;se=(ue-Ar)/2}const me=Math.max(.001,ue*Q-x/Z)/Q,ye=(ue-me)/2,xe=F+ye+se,Ee=$-ye-se,{outerStart:Ne,outerEnd:Oe,innerStart:Re,innerEnd:He}=Hl(S,ee,Q,Ee-xe),ze=Q-Ne,Xe=Q-Oe,je=xe+Ne/ze,ot=Ee-Oe/Xe,st=ee+Re,at=ee+He,vt=xe+Re/st,wt=Ee-He/at;if(w.beginPath(),D){if(w.arc(R,O,Q,je,ot),Oe>0){const ft=Vr(Xe,ot,R,O);w.arc(ft.x,ft.y,Oe,ot,Ee+ve)}const qe=Vr(at,Ee,R,O);if(w.lineTo(qe.x,qe.y),He>0){const ft=Vr(at,wt,R,O);w.arc(ft.x,ft.y,He,Ee+ve,wt+Math.PI)}if(w.arc(R,O,ee,Ee-He/ee,xe+Re/ee,!0),Re>0){const ft=Vr(st,vt,R,O);w.arc(ft.x,ft.y,Re,vt+Math.PI,xe-ve)}const gt=Vr(ze,xe,R,O);if(w.lineTo(gt.x,gt.y),Ne>0){const ft=Vr(ze,je,R,O);w.arc(ft.x,ft.y,Ne,xe-ve,je)}}else{w.moveTo(R,O);const qe=Math.cos(je)*Q+R,gt=Math.sin(je)*Q+O;w.lineTo(qe,gt);const ft=Math.cos(ot)*Q+R,Ar=Math.sin(ot)*Q+O;w.lineTo(ft,Ar)}w.closePath()}function zl(w,S,x,A,$){const{fullCircles:D,startAngle:R,circumference:O}=S;let F=S.endAngle;if(D){Ti(w,S,x,A,R+q,$);for(let U=0;U<D;++U)w.fill();isNaN(O)||(F=R+O%q,O%q===0&&(F+=q))}return Ti(w,S,x,A,F,$),w.fill(),F}function Gl(w,S,x){const{x:A,y:$,startAngle:D,pixelMargin:R,fullCircles:O}=S,F=Math.max(S.outerRadius-R,0),U=S.innerRadius+R;let K;for(x&&Ro(w,S,D+q),w.beginPath(),w.arc(A,$,U,D+q,D,!0),K=0;K<O;++K)w.stroke();for(w.beginPath(),w.arc(A,$,F,D,D+q),K=0;K<O;++K)w.stroke()}function Ul(w,S,x,A,$,D){const{options:R}=S,{borderWidth:O,borderJoinStyle:F}=R,U=R.borderAlign==="inner";O&&(U?(w.lineWidth=O*2,w.lineJoin=F||"round"):(w.lineWidth=O,w.lineJoin=F||"bevel"),S.fullCircles&&Gl(w,S,U),U&&Ro(w,S,$),Ti(w,S,x,A,$,D),w.stroke())}class wa extends Dt{constructor(S){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,S&&Object.assign(this,S)}inRange(S,x,A){const $=this.getProps(["x","y"],A),{angle:D,distance:R}=oe($,{x:S,y:x}),{startAngle:O,endAngle:F,innerRadius:U,outerRadius:K,circumference:Q}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],A),ee=this.options.spacing/2,ue=f(Q,F-O)>=q||$e(D,O,F),me=Le(R,U+ee,K+ee);return ue&&me}getCenterPoint(S){const{x,y:A,startAngle:$,endAngle:D,innerRadius:R,outerRadius:O}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],S),{offset:F,spacing:U}=this.options,K=($+D)/2,Q=(R+O+U+F)/2;return{x:x+Math.cos(K)*Q,y:A+Math.sin(K)*Q}}tooltipPosition(S){return this.getCenterPoint(S)}draw(S){const{options:x,circumference:A}=this,$=(x.offset||0)/2,D=(x.spacing||0)/2,R=x.circular;if(this.pixelMargin=x.borderAlign==="inner"?.33:0,this.fullCircles=A>q?Math.floor(A/q):0,A===0||this.innerRadius<0||this.outerRadius<0)return;S.save();let O=0;if($){O=$/2;const U=(this.startAngle+this.endAngle)/2;S.translate(Math.cos(U)*O,Math.sin(U)*O),this.circumference>=Z&&(O=$)}S.fillStyle=x.backgroundColor,S.strokeStyle=x.borderColor;const F=zl(S,this,O,D,R);Ul(S,this,O,D,F,R),S.restore()}}wa.id="arc",wa.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},wa.defaultRoutes={backgroundColor:"backgroundColor"};function Lo(w,S,x=S){w.lineCap=f(x.borderCapStyle,S.borderCapStyle),w.setLineDash(f(x.borderDash,S.borderDash)),w.lineDashOffset=f(x.borderDashOffset,S.borderDashOffset),w.lineJoin=f(x.borderJoinStyle,S.borderJoinStyle),w.lineWidth=f(x.borderWidth,S.borderWidth),w.strokeStyle=f(x.borderColor,S.borderColor)}function Wl(w,S,x){w.lineTo(x.x,x.y)}function Yl(w){return w.stepped?an:w.tension||w.cubicInterpolationMode==="monotone"?Gn:Wl}function ko(w,S,x={}){const A=w.length,{start:$=0,end:D=A-1}=x,{start:R,end:O}=S,F=Math.max($,R),U=Math.min(D,O),K=$<R&&D<R||$>O&&D>O;return{count:A,start:F,loop:S.loop,ilen:U<F&&!K?A+U-F:U-F}}function jl(w,S,x,A){const{points:$,options:D}=S,{count:R,start:O,loop:F,ilen:U}=ko($,x,A),K=Yl(D);let{move:Q=!0,reverse:ee}=A||{},se,ue,me;for(se=0;se<=U;++se)ue=$[(O+(ee?U-se:se))%R],!ue.skip&&(Q?(w.moveTo(ue.x,ue.y),Q=!1):K(w,me,ue,ee,D.stepped),me=ue);return F&&(ue=$[(O+(ee?U:0))%R],K(w,me,ue,ee,D.stepped)),!!F}function Kl(w,S,x,A){const $=S.points,{count:D,start:R,ilen:O}=ko($,x,A),{move:F=!0,reverse:U}=A||{};let K=0,Q=0,ee,se,ue,me,ye,xe;const Ee=Oe=>(R+(U?O-Oe:Oe))%D,Ne=()=>{me!==ye&&(w.lineTo(K,ye),w.lineTo(K,me),w.lineTo(K,xe))};for(F&&(se=$[Ee(0)],w.moveTo(se.x,se.y)),ee=0;ee<=O;++ee){if(se=$[Ee(ee)],se.skip)continue;const Oe=se.x,Re=se.y,He=Oe|0;He===ue?(Re<me?me=Re:Re>ye&&(ye=Re),K=(Q*K+Oe)/++Q):(Ne(),w.lineTo(Oe,Re),ue=He,Q=0,me=ye=Re),xe=Re}Ne()}function wi(w){const S=w.options,x=S.borderDash&&S.borderDash.length;return!w._decimated&&!w._loop&&!S.tension&&S.cubicInterpolationMode!=="monotone"&&!S.stepped&&!x?Kl:jl}function Xl(w){return w.stepped?un:w.tension||w.cubicInterpolationMode==="monotone"?oa:Ft}function Zl(w,S,x,A){let $=S._path;$||($=S._path=new Path2D,S.path($,x,A)&&$.closePath()),Lo(w,S.options),w.stroke($)}function ql(w,S,x,A){const{segments:$,options:D}=S,R=wi(S);for(const O of $)Lo(w,D,O.style),w.beginPath(),R(w,S,O,{start:x,end:x+A-1})&&w.closePath(),w.stroke()}const Jl=typeof Path2D=="function";function Ql(w,S,x,A){Jl&&!S.options.segment?Zl(w,S,x,A):ql(w,S,x,A)}class hr extends Dt{constructor(S){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,S&&Object.assign(this,S)}updateControlPoints(S,x){const A=this.options;if((A.tension||A.cubicInterpolationMode==="monotone")&&!A.stepped&&!this._pointsUpdated){const $=A.spanGaps?this._loop:this._fullLoop;na(this._points,A,S,$,x),this._pointsUpdated=!0}}set points(S){this._points=S,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=J(this,this.options.segment))}first(){const S=this.segments,x=this.points;return S.length&&x[S[0].start]}last(){const S=this.segments,x=this.points,A=S.length;return A&&x[S[A-1].end]}interpolate(S,x){const A=this.options,$=S[x],D=this.points,R=lr(this,{property:x,start:$,end:$});if(!R.length)return;const O=[],F=Xl(A);let U,K;for(U=0,K=R.length;U<K;++U){const{start:Q,end:ee}=R[U],se=D[Q],ue=D[ee];if(se===ue){O.push(se);continue}const me=Math.abs(($-se[x])/(ue[x]-se[x])),ye=F(se,ue,me,A.stepped);ye[x]=S[x],O.push(ye)}return O.length===1?O[0]:O}pathSegment(S,x,A){return wi(this)(S,this,x,A)}path(S,x,A){const $=this.segments,D=wi(this);let R=this._loop;x=x||0,A=A||this.points.length-x;for(const O of $)R&=D(S,this,O,{start:x,end:x+A-1});return!!R}draw(S,x,A,$){const D=this.options||{};(this.points||[]).length&&D.borderWidth&&(S.save(),Ql(S,this,A,$),S.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}hr.id="line",hr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},hr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},hr.descriptors={_scriptable:!0,_indexable:w=>w!=="borderDash"&&w!=="fill"};function Oo(w,S,x,A){const $=w.options,{[x]:D}=w.getProps([x],A);return Math.abs(S-D)<$.radius+$.hitRadius}class Ca extends Dt{constructor(S){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,S&&Object.assign(this,S)}inRange(S,x,A){const $=this.options,{x:D,y:R}=this.getProps(["x","y"],A);return Math.pow(S-D,2)+Math.pow(x-R,2)<Math.pow($.hitRadius+$.radius,2)}inXRange(S,x){return Oo(this,S,"x",x)}inYRange(S,x){return Oo(this,S,"y",x)}getCenterPoint(S){const{x,y:A}=this.getProps(["x","y"],S);return{x,y:A}}size(S){S=S||this.options||{};let x=S.radius||0;x=Math.max(x,x&&S.hoverRadius||0);const A=x&&S.borderWidth||0;return(x+A)*2}draw(S,x){const A=this.options;this.skip||A.radius<.1||!nr(this,x,this.size(A)/2)||(S.strokeStyle=A.borderColor,S.lineWidth=A.borderWidth,S.fillStyle=A.backgroundColor,Lr(S,A,this.x,this.y))}getRange(){const S=this.options||{};return S.radius+S.hitRadius}}Ca.id="point",Ca.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ca.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function No(w,S){const{x,y:A,base:$,width:D,height:R}=w.getProps(["x","y","base","width","height"],S);let O,F,U,K,Q;return w.horizontal?(Q=R/2,O=Math.min(x,$),F=Math.max(x,$),U=A-Q,K=A+Q):(Q=D/2,O=x-Q,F=x+Q,U=Math.min(A,$),K=Math.max(A,$)),{left:O,top:U,right:F,bottom:K}}function dr(w,S,x,A){return w?0:Me(S,x,A)}function ec(w,S,x){const A=w.options.borderWidth,$=w.borderSkipped,D=Or(A);return{t:dr($.top,D.top,0,x),r:dr($.right,D.right,0,S),b:dr($.bottom,D.bottom,0,x),l:dr($.left,D.left,0,S)}}function tc(w,S,x){const{enableBorderRadius:A}=w.getProps(["enableBorderRadius"]),$=w.options.borderRadius,D=Ht($),R=Math.min(S,x),O=w.borderSkipped,F=A||c($);return{topLeft:dr(!F||O.top||O.left,D.topLeft,0,R),topRight:dr(!F||O.top||O.right,D.topRight,0,R),bottomLeft:dr(!F||O.bottom||O.left,D.bottomLeft,0,R),bottomRight:dr(!F||O.bottom||O.right,D.bottomRight,0,R)}}function rc(w){const S=No(w),x=S.right-S.left,A=S.bottom-S.top,$=ec(w,x/2,A/2),D=tc(w,x/2,A/2);return{outer:{x:S.left,y:S.top,w:x,h:A,radius:D},inner:{x:S.left+$.l,y:S.top+$.t,w:x-$.l-$.r,h:A-$.t-$.b,radius:{topLeft:Math.max(0,D.topLeft-Math.max($.t,$.l)),topRight:Math.max(0,D.topRight-Math.max($.t,$.r)),bottomLeft:Math.max(0,D.bottomLeft-Math.max($.b,$.l)),bottomRight:Math.max(0,D.bottomRight-Math.max($.b,$.r))}}}}function Ci(w,S,x,A){const $=S===null,D=x===null,O=w&&!($&&D)&&No(w,A);return O&&($||Le(S,O.left,O.right))&&(D||Le(x,O.top,O.bottom))}function nc(w){return w.topLeft||w.topRight||w.bottomLeft||w.bottomRight}function ac(w,S){w.rect(S.x,S.y,S.w,S.h)}function Ai(w,S,x={}){const A=w.x!==x.x?-S:0,$=w.y!==x.y?-S:0,D=(w.x+w.w!==x.x+x.w?S:0)-A,R=(w.y+w.h!==x.y+x.h?S:0)-$;return{x:w.x+A,y:w.y+$,w:w.w+D,h:w.h+R,radius:w.radius}}class Aa extends Dt{constructor(S){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,S&&Object.assign(this,S)}draw(S){const{inflateAmount:x,options:{borderColor:A,backgroundColor:$}}=this,{inner:D,outer:R}=rc(this),O=nc(R.radius)?ar:ac;S.save(),(R.w!==D.w||R.h!==D.h)&&(S.beginPath(),O(S,Ai(R,x,D)),S.clip(),O(S,Ai(D,-x,R)),S.fillStyle=A,S.fill("evenodd")),S.beginPath(),O(S,Ai(D,x)),S.fillStyle=$,S.fill(),S.restore()}inRange(S,x,A){return Ci(this,S,x,A)}inXRange(S,x){return Ci(this,S,null,x)}inYRange(S,x){return Ci(this,null,S,x)}getCenterPoint(S){const{x,y:A,base:$,horizontal:D}=this.getProps(["x","y","base","horizontal"],S);return{x:D?(x+$)/2:x,y:D?A:(A+$)/2}}getRange(S){return S==="x"?this.width/2:this.height/2}}Aa.id="bar",Aa.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Aa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Pi=Object.freeze({__proto__:null,ArcElement:wa,LineElement:hr,PointElement:Ca,BarElement:Aa});function ic(w,S,x,A,$){const D=$.samples||A;if(D>=x)return w.slice(S,S+x);const R=[],O=(x-2)/(D-2);let F=0;const U=S+x-1;let K=S,Q,ee,se,ue,me;for(R[F++]=w[K],Q=0;Q<D-2;Q++){let ye=0,xe=0,Ee;const Ne=Math.floor((Q+1)*O)+1+S,Oe=Math.min(Math.floor((Q+2)*O)+1,x)+S,Re=Oe-Ne;for(Ee=Ne;Ee<Oe;Ee++)ye+=w[Ee].x,xe+=w[Ee].y;ye/=Re,xe/=Re;const He=Math.floor(Q*O)+1+S,ze=Math.min(Math.floor((Q+1)*O)+1,x)+S,{x:Xe,y:je}=w[K];for(se=ue=-1,Ee=He;Ee<ze;Ee++)ue=.5*Math.abs((Xe-ye)*(w[Ee].y-je)-(Xe-w[Ee].x)*(xe-je)),ue>se&&(se=ue,ee=w[Ee],me=Ee);R[F++]=ee,K=me}return R[F++]=w[U],R}function oc(w,S,x,A){let $=0,D=0,R,O,F,U,K,Q,ee,se,ue,me;const ye=[],xe=S+x-1,Ee=w[S].x,Oe=w[xe].x-Ee;for(R=S;R<S+x;++R){O=w[R],F=(O.x-Ee)/Oe*A,U=O.y;const Re=F|0;if(Re===K)U<ue?(ue=U,Q=R):U>me&&(me=U,ee=R),$=(D*$+O.x)/++D;else{const He=R-1;if(!s(Q)&&!s(ee)){const ze=Math.min(Q,ee),Xe=Math.max(Q,ee);ze!==se&&ze!==He&&ye.push({...w[ze],x:$}),Xe!==se&&Xe!==He&&ye.push({...w[Xe],x:$})}R>0&&He!==se&&ye.push(w[He]),ye.push(O),K=Re,D=0,ue=me=U,Q=ee=se=R}}return ye}function Vo(w){if(w._decimated){const S=w._data;delete w._decimated,delete w._data,Object.defineProperty(w,"data",{value:S})}}function Bo(w){w.data.datasets.forEach(S=>{Vo(S)})}function sc(w,S){const x=S.length;let A=0,$;const{iScale:D}=w,{min:R,max:O,minDefined:F,maxDefined:U}=D.getUserBounds();return F&&(A=Me(Ge(S,D.axis,R).lo,0,x-1)),U?$=Me(Ge(S,D.axis,O).hi+1,A,x)-A:$=x-A,{start:A,count:$}}var lc={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(w,S,x)=>{if(!x.enabled){Bo(w);return}const A=w.width;w.data.datasets.forEach(($,D)=>{const{_data:R,indexAxis:O}=$,F=w.getDatasetMeta(D),U=R||$.data;if(Rt([O,w.options.indexAxis])==="y"||!F.controller.supportsDecimation)return;const K=w.scales[F.xAxisID];if(K.type!=="linear"&&K.type!=="time"||w.options.parsing)return;let{start:Q,count:ee}=sc(F,U);const se=x.threshold||4*A;if(ee<=se){Vo($);return}s(R)&&($._data=U,delete $.data,Object.defineProperty($,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(me){this._data=me}}));let ue;switch(x.algorithm){case"lttb":ue=ic(U,Q,ee,A,x);break;case"min-max":ue=oc(U,Q,ee,A);break;default:throw new Error(`Unsupported decimation algorithm '${x.algorithm}'`)}$._decimated=ue})},destroy(w){Bo(w)}};function cc(w,S,x){const A=w.segments,$=w.points,D=S.points,R=[];for(const O of A){let{start:F,end:U}=O;U=$i(F,U,$);const K=Ei(x,$[F],$[U],O.loop);if(!S.segments){R.push({source:O,target:K,start:$[F],end:$[U]});continue}const Q=lr(S,K);for(const ee of Q){const se=Ei(x,D[ee.start],D[ee.end],ee.loop),ue=sr(O,$,se);for(const me of ue)R.push({source:me,target:ee,start:{[x]:Fo(K,se,"start",Math.max)},end:{[x]:Fo(K,se,"end",Math.min)}})}}return R}function Ei(w,S,x,A){if(A)return;let $=S[w],D=x[w];return w==="angle"&&($=be($),D=be(D)),{property:w,start:$,end:D}}function uc(w,S){const{x=null,y:A=null}=w||{},$=S.points,D=[];return S.segments.forEach(({start:R,end:O})=>{O=$i(R,O,$);const F=$[R],U=$[O];A!==null?(D.push({x:F.x,y:A}),D.push({x:U.x,y:A})):x!==null&&(D.push({x,y:F.y}),D.push({x,y:U.y}))}),D}function $i(w,S,x){for(;S>w;S--){const A=x[S];if(!isNaN(A.x)&&!isNaN(A.y))break}return S}function Fo(w,S,x,A){return w&&S?A(w[x],S[x]):w?w[x]:S?S[x]:0}function Ho(w,S){let x=[],A=!1;return l(w)?(A=!0,x=w):x=uc(w,S),x.length?new hr({points:x,options:{tension:0},_loop:A,_fullLoop:A}):null}function zo(w){return w&&w.fill!==!1}function hc(w,S,x){let $=w[S].fill;const D=[S];let R;if(!x)return $;for(;$!==!1&&D.indexOf($)===-1;){if(!u($))return $;if(R=w[$],!R)return!1;if(R.visible)return $;D.push($),$=R.fill}return!1}function dc(w,S,x){const A=gc(w);if(c(A))return isNaN(A.value)?!1:A;let $=parseFloat(A);return u($)&&Math.floor($)===$?fc(A[0],S,$,x):["origin","start","end","stack","shape"].indexOf(A)>=0&&A}function fc(w,S,x,A){return(w==="-"||w==="+")&&(x=S+x),x===S||x<0||x>=A?!1:x}function pc(w,S){let x=null;return w==="start"?x=S.bottom:w==="end"?x=S.top:c(w)?x=S.getPixelForValue(w.value):S.getBasePixel&&(x=S.getBasePixel()),x}function vc(w,S,x){let A;return w==="start"?A=x:w==="end"?A=S.options.reverse?S.min:S.max:c(w)?A=w.value:A=S.getBaseValue(),A}function gc(w){const S=w.options,x=S.fill;let A=f(x&&x.target,x);return A===void 0&&(A=!!S.backgroundColor),A===!1||A===null?!1:A===!0?"origin":A}function mc(w){const{scale:S,index:x,line:A}=w,$=[],D=A.segments,R=A.points,O=yc(S,x);O.push(Ho({x:null,y:S.bottom},A));for(let F=0;F<D.length;F++){const U=D[F];for(let K=U.start;K<=U.end;K++)Sc($,R[K],O)}return new hr({points:$,options:{}})}function yc(w,S){const x=[],A=w.getMatchingVisibleMetas("line");for(let $=0;$<A.length;$++){const D=A[$];if(D.index===S)break;D.hidden||x.unshift(D.dataset)}return x}function Sc(w,S,x){const A=[];for(let $=0;$<x.length;$++){const D=x[$],{first:R,last:O,point:F}=bc(D,S,"x");if(!(!F||R&&O)){if(R)A.unshift(F);else if(w.push(F),!O)break}}w.push(...A)}function bc(w,S,x){const A=w.interpolate(S,x);if(!A)return{};const $=A[x],D=w.segments,R=w.points;let O=!1,F=!1;for(let U=0;U<D.length;U++){const K=D[U],Q=R[K.start][x],ee=R[K.end][x];if(Le($,Q,ee)){O=$===Q,F=$===ee;break}}return{first:O,last:F,point:A}}class Go{constructor(S){this.x=S.x,this.y=S.y,this.radius=S.radius}pathSegment(S,x,A){const{x:$,y:D,radius:R}=this;return x=x||{start:0,end:q},S.arc($,D,R,x.end,x.start,!0),!A.bounds}interpolate(S){const{x,y:A,radius:$}=this,D=S.angle;return{x:x+Math.cos(D)*$,y:A+Math.sin(D)*$,angle:D}}}function xc(w){const{chart:S,fill:x,line:A}=w;if(u(x))return Tc(S,x);if(x==="stack")return mc(w);if(x==="shape")return!0;const $=wc(w);return $ instanceof Go?$:Ho($,A)}function Tc(w,S){const x=w.getDatasetMeta(S);return x&&w.isDatasetVisible(S)?x.dataset:null}function wc(w){return(w.scale||{}).getPointPositionForValue?Ac(w):Cc(w)}function Cc(w){const{scale:S={},fill:x}=w,A=pc(x,S);if(u(A)){const $=S.isHorizontal();return{x:$?A:null,y:$?null:A}}return null}function Ac(w){const{scale:S,fill:x}=w,A=S.options,$=S.getLabels().length,D=A.reverse?S.max:S.min,R=vc(x,S,D),O=[];if(A.grid.circular){const F=S.getPointPositionForValue(0,D);return new Go({x:F.x,y:F.y,radius:S.getDistanceFromCenterForValue(R)})}for(let F=0;F<$;++F)O.push(S.getPointPositionForValue(F,R));return O}function Mi(w,S,x){const A=xc(S),{line:$,scale:D,axis:R}=S,O=$.options,F=O.fill,U=O.backgroundColor,{above:K=U,below:Q=U}=F||{};A&&$.points.length&&(mr(w,x),Pc(w,{line:$,target:A,above:K,below:Q,area:x,scale:D,axis:R}),Vt(w))}function Pc(w,S){const{line:x,target:A,above:$,below:D,area:R,scale:O}=S,F=x._loop?"angle":S.axis;w.save(),F==="x"&&D!==$&&(Uo(w,A,R.top),Wo(w,{line:x,target:A,color:$,scale:O,property:F}),w.restore(),w.save(),Uo(w,A,R.bottom)),Wo(w,{line:x,target:A,color:D,scale:O,property:F}),w.restore()}function Uo(w,S,x){const{segments:A,points:$}=S;let D=!0,R=!1;w.beginPath();for(const O of A){const{start:F,end:U}=O,K=$[F],Q=$[$i(F,U,$)];D?(w.moveTo(K.x,K.y),D=!1):(w.lineTo(K.x,x),w.lineTo(K.x,K.y)),R=!!S.pathSegment(w,O,{move:R}),R?w.closePath():w.lineTo(Q.x,x)}w.lineTo(S.first().x,x),w.closePath(),w.clip()}function Wo(w,S){const{line:x,target:A,property:$,color:D,scale:R}=S,O=cc(x,A,$);for(const{source:F,target:U,start:K,end:Q}of O){const{style:{backgroundColor:ee=D}={}}=F,se=A!==!0;w.save(),w.fillStyle=ee,Ec(w,R,se&&Ei($,K,Q)),w.beginPath();const ue=!!x.pathSegment(w,F);let me;if(se){ue?w.closePath():Yo(w,A,Q,$);const ye=!!A.pathSegment(w,U,{move:ue,reverse:!0});me=ue&&ye,me||Yo(w,A,K,$)}w.closePath(),w.fill(me?"evenodd":"nonzero"),w.restore()}}function Ec(w,S,x){const{top:A,bottom:$}=S.chart.chartArea,{property:D,start:R,end:O}=x||{};D==="x"&&(w.beginPath(),w.rect(R,A,O-R,$-A),w.clip())}function Yo(w,S,x,A){const $=S.interpolate(x,A);$&&w.lineTo($.x,$.y)}var $c={id:"filler",afterDatasetsUpdate(w,S,x){const A=(w.data.datasets||[]).length,$=[];let D,R,O,F;for(R=0;R<A;++R)D=w.getDatasetMeta(R),O=D.dataset,F=null,O&&O.options&&O instanceof hr&&(F={visible:w.isDatasetVisible(R),index:R,fill:dc(O,R,A),chart:w,axis:D.controller.options.indexAxis,scale:D.vScale,line:O}),D.$filler=F,$.push(F);for(R=0;R<A;++R)F=$[R],!(!F||F.fill===!1)&&(F.fill=hc($,R,x.propagate))},beforeDraw(w,S,x){const A=x.drawTime==="beforeDraw",$=w.getSortedVisibleDatasetMetas(),D=w.chartArea;for(let R=$.length-1;R>=0;--R){const O=$[R].$filler;O&&(O.line.updateControlPoints(D,O.axis),A&&O.fill&&Mi(w.ctx,O,D))}},beforeDatasetsDraw(w,S,x){if(x.drawTime!=="beforeDatasetsDraw")return;const A=w.getSortedVisibleDatasetMetas();for(let $=A.length-1;$>=0;--$){const D=A[$].$filler;zo(D)&&Mi(w.ctx,D,w.chartArea)}},beforeDatasetDraw(w,S,x){const A=S.meta.$filler;!zo(A)||x.drawTime!=="beforeDatasetDraw"||Mi(w.ctx,A,w.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jo=(w,S)=>{let{boxHeight:x=S,boxWidth:A=S}=w;return w.usePointStyle&&(x=Math.min(x,S),A=w.pointStyleWidth||Math.min(A,S)),{boxWidth:A,boxHeight:x,itemHeight:Math.max(S,x)}},Mc=(w,S)=>w!==null&&S!==null&&w.datasetIndex===S.datasetIndex&&w.index===S.index;class Ko extends Dt{constructor(S){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=S.chart,this.options=S.options,this.ctx=S.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(S,x,A){this.maxWidth=S,this.maxHeight=x,this._margins=A,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const S=this.options.labels||{};let x=y(S.generateLabels,[this.chart],this)||[];S.filter&&(x=x.filter(A=>S.filter(A,this.chart.data))),S.sort&&(x=x.sort((A,$)=>S.sort(A,$,this.chart.data))),this.options.reverse&&x.reverse(),this.legendItems=x}fit(){const{options:S,ctx:x}=this;if(!S.display){this.width=this.height=0;return}const A=S.labels,$=ht(A.font),D=$.size,R=this._computeTitleHeight(),{boxWidth:O,itemHeight:F}=jo(A,D);let U,K;x.font=$.string,this.isHorizontal()?(U=this.maxWidth,K=this._fitRows(R,D,O,F)+10):(K=this.maxHeight,U=this._fitCols(R,D,O,F)+10),this.width=Math.min(U,S.maxWidth||this.maxWidth),this.height=Math.min(K,S.maxHeight||this.maxHeight)}_fitRows(S,x,A,$){const{ctx:D,maxWidth:R,options:{labels:{padding:O}}}=this,F=this.legendHitBoxes=[],U=this.lineWidths=[0],K=$+O;let Q=S;D.textAlign="left",D.textBaseline="middle";let ee=-1,se=-K;return this.legendItems.forEach((ue,me)=>{const ye=A+x/2+D.measureText(ue.text).width;(me===0||U[U.length-1]+ye+2*O>R)&&(Q+=K,U[U.length-(me>0?0:1)]=0,se+=K,ee++),F[me]={left:0,top:se,row:ee,width:ye,height:$},U[U.length-1]+=ye+O}),Q}_fitCols(S,x,A,$){const{ctx:D,maxHeight:R,options:{labels:{padding:O}}}=this,F=this.legendHitBoxes=[],U=this.columnSizes=[],K=R-S;let Q=O,ee=0,se=0,ue=0,me=0;return this.legendItems.forEach((ye,xe)=>{const Ee=A+x/2+D.measureText(ye.text).width;xe>0&&se+$+2*O>K&&(Q+=ee+O,U.push({width:ee,height:se}),ue+=ee+O,me++,ee=se=0),F[xe]={left:ue,top:se,col:me,width:Ee,height:$},ee=Math.max(ee,Ee),se+=$+O}),Q+=ee,U.push({width:ee,height:se}),Q}adjustHitBoxes(){if(!this.options.display)return;const S=this._computeTitleHeight(),{legendHitBoxes:x,options:{align:A,labels:{padding:$},rtl:D}}=this,R=Xt(D,this.left,this.width);if(this.isHorizontal()){let O=0,F=ut(A,this.left+$,this.right-this.lineWidths[O]);for(const U of x)O!==U.row&&(O=U.row,F=ut(A,this.left+$,this.right-this.lineWidths[O])),U.top+=this.top+S+$,U.left=R.leftForLtr(R.x(F),U.width),F+=U.width+$}else{let O=0,F=ut(A,this.top+S+$,this.bottom-this.columnSizes[O].height);for(const U of x)U.col!==O&&(O=U.col,F=ut(A,this.top+S+$,this.bottom-this.columnSizes[O].height)),U.top=F,U.left+=this.left+$,U.left=R.leftForLtr(R.x(U.left),U.width),F+=U.height+$}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const S=this.ctx;mr(S,this),this._draw(),Vt(S)}}_draw(){const{options:S,columnSizes:x,lineWidths:A,ctx:$}=this,{align:D,labels:R}=S,O=Qe.color,F=Xt(S.rtl,this.left,this.width),U=ht(R.font),{color:K,padding:Q}=R,ee=U.size,se=ee/2;let ue;this.drawTitle(),$.textAlign=F.textAlign("left"),$.textBaseline="middle",$.lineWidth=.5,$.font=U.string;const{boxWidth:me,boxHeight:ye,itemHeight:xe}=jo(R,ee),Ee=function(ze,Xe,je){if(isNaN(me)||me<=0||isNaN(ye)||ye<0)return;$.save();const ot=f(je.lineWidth,1);if($.fillStyle=f(je.fillStyle,O),$.lineCap=f(je.lineCap,"butt"),$.lineDashOffset=f(je.lineDashOffset,0),$.lineJoin=f(je.lineJoin,"miter"),$.lineWidth=ot,$.strokeStyle=f(je.strokeStyle,O),$.setLineDash(f(je.lineDash,[])),R.usePointStyle){const st={radius:ye*Math.SQRT2/2,pointStyle:je.pointStyle,rotation:je.rotation,borderWidth:ot},at=F.xPlus(ze,me/2),vt=Xe+se;nn($,st,at,vt,R.pointStyleWidth&&me)}else{const st=Xe+Math.max((ee-ye)/2,0),at=F.leftForLtr(ze,me),vt=Ht(je.borderRadius);$.beginPath(),Object.values(vt).some(wt=>wt!==0)?ar($,{x:at,y:st,w:me,h:ye,radius:vt}):$.rect(at,st,me,ye),$.fill(),ot!==0&&$.stroke()}$.restore()},Ne=function(ze,Xe,je){Bt($,je.text,ze,Xe+xe/2,U,{strikethrough:je.hidden,textAlign:F.textAlign(je.textAlign)})},Oe=this.isHorizontal(),Re=this._computeTitleHeight();Oe?ue={x:ut(D,this.left+Q,this.right-A[0]),y:this.top+Q+Re,line:0}:ue={x:this.left+Q,y:ut(D,this.top+Re+Q,this.bottom-x[0].height),line:0},dn(this.ctx,S.textDirection);const He=xe+Q;this.legendItems.forEach((ze,Xe)=>{$.strokeStyle=ze.fontColor||K,$.fillStyle=ze.fontColor||K;const je=$.measureText(ze.text).width,ot=F.textAlign(ze.textAlign||(ze.textAlign=R.textAlign)),st=me+se+je;let at=ue.x,vt=ue.y;F.setWidth(this.width),Oe?Xe>0&&at+st+Q>this.right&&(vt=ue.y+=He,ue.line++,at=ue.x=ut(D,this.left+Q,this.right-A[ue.line])):Xe>0&&vt+He>this.bottom&&(at=ue.x=at+x[ue.line].width+Q,ue.line++,vt=ue.y=ut(D,this.top+Re+Q,this.bottom-x[ue.line].height));const wt=F.x(at);Ee(wt,vt,ze),at=yt(ot,at+me+se,Oe?at+st:this.right,S.rtl),Ne(F.x(at),vt,ze),Oe?ue.x+=st+Q:ue.y+=He}),ie(this.ctx,S.textDirection)}drawTitle(){const S=this.options,x=S.title,A=ht(x.font),$=pt(x.padding);if(!x.display)return;const D=Xt(S.rtl,this.left,this.width),R=this.ctx,O=x.position,F=A.size/2,U=$.top+F;let K,Q=this.left,ee=this.width;if(this.isHorizontal())ee=Math.max(...this.lineWidths),K=this.top+U,Q=ut(S.align,Q,this.right-ee);else{const ue=this.columnSizes.reduce((me,ye)=>Math.max(me,ye.height),0);K=U+ut(S.align,this.top,this.bottom-ue-S.labels.padding-this._computeTitleHeight())}const se=ut(O,Q,Q+ee);R.textAlign=D.textAlign(Pt(O)),R.textBaseline="middle",R.strokeStyle=x.color,R.fillStyle=x.color,R.font=A.string,Bt(R,x.text,se,K,A)}_computeTitleHeight(){const S=this.options.title,x=ht(S.font),A=pt(S.padding);return S.display?x.lineHeight+A.height:0}_getLegendItemAt(S,x){let A,$,D;if(Le(S,this.left,this.right)&&Le(x,this.top,this.bottom)){for(D=this.legendHitBoxes,A=0;A<D.length;++A)if($=D[A],Le(S,$.left,$.left+$.width)&&Le(x,$.top,$.top+$.height))return this.legendItems[A]}return null}handleEvent(S){const x=this.options;if(!Dc(S.type,x))return;const A=this._getLegendItemAt(S.x,S.y);if(S.type==="mousemove"||S.type==="mouseout"){const $=this._hoveredItem,D=Mc($,A);$&&!D&&y(x.onLeave,[S,$,this],this),this._hoveredItem=A,A&&!D&&y(x.onHover,[S,A,this],this)}else A&&y(x.onClick,[S,A,this],this)}}function Dc(w,S){return!!((w==="mousemove"||w==="mouseout")&&(S.onHover||S.onLeave)||S.onClick&&(w==="click"||w==="mouseup"))}var Ic={id:"legend",_element:Ko,start(w,S,x){const A=w.legend=new Ko({ctx:w.ctx,options:x,chart:w});xt.configure(w,A,x),xt.addBox(w,A)},stop(w){xt.removeBox(w,w.legend),delete w.legend},beforeUpdate(w,S,x){const A=w.legend;xt.configure(w,A,x),A.options=x},afterUpdate(w){const S=w.legend;S.buildLabels(),S.adjustHitBoxes()},afterEvent(w,S){S.replay||w.legend.handleEvent(S.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(w,S,x){const A=S.datasetIndex,$=x.chart;$.isDatasetVisible(A)?($.hide(A),S.hidden=!0):($.show(A),S.hidden=!1)},onHover:null,onLeave:null,labels:{color:w=>w.chart.options.color,boxWidth:40,padding:10,generateLabels(w){const S=w.data.datasets,{labels:{usePointStyle:x,pointStyle:A,textAlign:$,color:D}}=w.legend.options;return w._getSortedDatasetMetas().map(R=>{const O=R.controller.getStyle(x?0:void 0),F=pt(O.borderWidth);return{text:S[R.index].label,fillStyle:O.backgroundColor,fontColor:D,hidden:!R.visible,lineCap:O.borderCapStyle,lineDash:O.borderDash,lineDashOffset:O.borderDashOffset,lineJoin:O.borderJoinStyle,lineWidth:(F.width+F.height)/4,strokeStyle:O.borderColor,pointStyle:A||O.pointStyle,rotation:O.rotation,textAlign:$||O.textAlign,borderRadius:0,datasetIndex:R.index}},this)}},title:{color:w=>w.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:w=>!w.startsWith("on"),labels:{_scriptable:w=>!["generateLabels","filter","sort"].includes(w)}}};class Di extends Dt{constructor(S){super(),this.chart=S.chart,this.options=S.options,this.ctx=S.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(S,x){const A=this.options;if(this.left=0,this.top=0,!A.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=S,this.height=this.bottom=x;const $=l(A.text)?A.text.length:1;this._padding=pt(A.padding);const D=$*ht(A.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=D:this.width=D}isHorizontal(){const S=this.options.position;return S==="top"||S==="bottom"}_drawArgs(S){const{top:x,left:A,bottom:$,right:D,options:R}=this,O=R.align;let F=0,U,K,Q;return this.isHorizontal()?(K=ut(O,A,D),Q=x+S,U=D-A):(R.position==="left"?(K=A+S,Q=ut(O,$,x),F=Z*-.5):(K=D-S,Q=ut(O,x,$),F=Z*.5),U=$-x),{titleX:K,titleY:Q,maxWidth:U,rotation:F}}draw(){const S=this.ctx,x=this.options;if(!x.display)return;const A=ht(x.font),D=A.lineHeight/2+this._padding.top,{titleX:R,titleY:O,maxWidth:F,rotation:U}=this._drawArgs(D);Bt(S,x.text,0,0,A,{color:x.color,maxWidth:F,rotation:U,textAlign:Pt(x.align),textBaseline:"middle",translation:[R,O]})}}function Rc(w,S){const x=new Di({ctx:w.ctx,options:S,chart:w});xt.configure(w,x,S),xt.addBox(w,x),w.titleBlock=x}var Lc={id:"title",_element:Di,start(w,S,x){Rc(w,x)},stop(w){const S=w.titleBlock;xt.removeBox(w,S),delete w.titleBlock},beforeUpdate(w,S,x){const A=w.titleBlock;xt.configure(w,A,x),A.options=x},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pa=new WeakMap;var kc={id:"subtitle",start(w,S,x){const A=new Di({ctx:w.ctx,options:x,chart:w});xt.configure(w,A,x),xt.addBox(w,A),Pa.set(w,A)},stop(w){xt.removeBox(w,Pa.get(w)),Pa.delete(w)},beforeUpdate(w,S,x){const A=Pa.get(w);xt.configure(w,A,x),A.options=x},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tn={average(w){if(!w.length)return!1;let S,x,A=0,$=0,D=0;for(S=0,x=w.length;S<x;++S){const R=w[S].element;if(R&&R.hasValue()){const O=R.tooltipPosition();A+=O.x,$+=O.y,++D}}return{x:A/D,y:$/D}},nearest(w,S){if(!w.length)return!1;let x=S.x,A=S.y,$=Number.POSITIVE_INFINITY,D,R,O;for(D=0,R=w.length;D<R;++D){const F=w[D].element;if(F&&F.hasValue()){const U=F.getCenterPoint(),K=ge(S,U);K<$&&($=K,O=F)}}if(O){const F=O.tooltipPosition();x=F.x,A=F.y}return{x,y:A}}};function Gt(w,S){return S&&(l(S)?Array.prototype.push.apply(w,S):w.push(S)),w}function Zt(w){return(typeof w=="string"||w instanceof String)&&w.indexOf(`
`)>-1?w.split(`
`):w}function Oc(w,S){const{element:x,datasetIndex:A,index:$}=S,D=w.getDatasetMeta(A).controller,{label:R,value:O}=D.getLabelAndValue($);return{chart:w,label:R,parsed:D.getParsed($),raw:w.data.datasets[A].data[$],formattedValue:O,dataset:D.getDataset(),dataIndex:$,datasetIndex:A,element:x}}function Xo(w,S){const x=w.chart.ctx,{body:A,footer:$,title:D}=w,{boxWidth:R,boxHeight:O}=S,F=ht(S.bodyFont),U=ht(S.titleFont),K=ht(S.footerFont),Q=D.length,ee=$.length,se=A.length,ue=pt(S.padding);let me=ue.height,ye=0,xe=A.reduce((Oe,Re)=>Oe+Re.before.length+Re.lines.length+Re.after.length,0);if(xe+=w.beforeBody.length+w.afterBody.length,Q&&(me+=Q*U.lineHeight+(Q-1)*S.titleSpacing+S.titleMarginBottom),xe){const Oe=S.displayColors?Math.max(O,F.lineHeight):F.lineHeight;me+=se*Oe+(xe-se)*F.lineHeight+(xe-1)*S.bodySpacing}ee&&(me+=S.footerMarginTop+ee*K.lineHeight+(ee-1)*S.footerSpacing);let Ee=0;const Ne=function(Oe){ye=Math.max(ye,x.measureText(Oe).width+Ee)};return x.save(),x.font=U.string,_(w.title,Ne),x.font=F.string,_(w.beforeBody.concat(w.afterBody),Ne),Ee=S.displayColors?R+2+S.boxPadding:0,_(A,Oe=>{_(Oe.before,Ne),_(Oe.lines,Ne),_(Oe.after,Ne)}),Ee=0,x.font=K.string,_(w.footer,Ne),x.restore(),ye+=ue.width,{width:ye,height:me}}function Nc(w,S){const{y:x,height:A}=S;return x<A/2?"top":x>w.height-A/2?"bottom":"center"}function Vc(w,S,x,A){const{x:$,width:D}=A,R=x.caretSize+x.caretPadding;if(w==="left"&&$+D+R>S.width||w==="right"&&$-D-R<0)return!0}function Bc(w,S,x,A){const{x:$,width:D}=x,{width:R,chartArea:{left:O,right:F}}=w;let U="center";return A==="center"?U=$<=(O+F)/2?"left":"right":$<=D/2?U="left":$>=R-D/2&&(U="right"),Vc(U,w,S,x)&&(U="center"),U}function Zo(w,S,x){const A=x.yAlign||S.yAlign||Nc(w,x);return{xAlign:x.xAlign||S.xAlign||Bc(w,S,x,A),yAlign:A}}function Fc(w,S){let{x,width:A}=w;return S==="right"?x-=A:S==="center"&&(x-=A/2),x}function Hc(w,S,x){let{y:A,height:$}=w;return S==="top"?A+=x:S==="bottom"?A-=$+x:A-=$/2,A}function qo(w,S,x,A){const{caretSize:$,caretPadding:D,cornerRadius:R}=w,{xAlign:O,yAlign:F}=x,U=$+D,{topLeft:K,topRight:Q,bottomLeft:ee,bottomRight:se}=Ht(R);let ue=Fc(S,O);const me=Hc(S,F,U);return F==="center"?O==="left"?ue+=U:O==="right"&&(ue-=U):O==="left"?ue-=Math.max(K,ee)+$:O==="right"&&(ue+=Math.max(Q,se)+$),{x:Me(ue,0,A.width-S.width),y:Me(me,0,A.height-S.height)}}function Ea(w,S,x){const A=pt(x.padding);return S==="center"?w.x+w.width/2:S==="right"?w.x+w.width-A.right:w.x+A.left}function Jo(w){return Gt([],Zt(w))}function zc(w,S,x){return Lt(w,{tooltip:S,tooltipItems:x,type:"tooltip"})}function Qo(w,S){const x=S&&S.dataset&&S.dataset.tooltip&&S.dataset.tooltip.callbacks;return x?w.override(x):w}class Ii extends Dt{constructor(S){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=S.chart||S._chart,this._chart=this.chart,this.options=S.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(S){this.options=S,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const S=this._cachedAnimations;if(S)return S;const x=this.chart,A=this.options.setContext(this.getContext()),$=A.enabled&&x.options.animation&&A.animations,D=new vi(this.chart,$);return $._cacheable&&(this._cachedAnimations=Object.freeze(D)),D}getContext(){return this.$context||(this.$context=zc(this.chart.getContext(),this,this._tooltipItems))}getTitle(S,x){const{callbacks:A}=x,$=A.beforeTitle.apply(this,[S]),D=A.title.apply(this,[S]),R=A.afterTitle.apply(this,[S]);let O=[];return O=Gt(O,Zt($)),O=Gt(O,Zt(D)),O=Gt(O,Zt(R)),O}getBeforeBody(S,x){return Jo(x.callbacks.beforeBody.apply(this,[S]))}getBody(S,x){const{callbacks:A}=x,$=[];return _(S,D=>{const R={before:[],lines:[],after:[]},O=Qo(A,D);Gt(R.before,Zt(O.beforeLabel.call(this,D))),Gt(R.lines,O.label.call(this,D)),Gt(R.after,Zt(O.afterLabel.call(this,D))),$.push(R)}),$}getAfterBody(S,x){return Jo(x.callbacks.afterBody.apply(this,[S]))}getFooter(S,x){const{callbacks:A}=x,$=A.beforeFooter.apply(this,[S]),D=A.footer.apply(this,[S]),R=A.afterFooter.apply(this,[S]);let O=[];return O=Gt(O,Zt($)),O=Gt(O,Zt(D)),O=Gt(O,Zt(R)),O}_createItems(S){const x=this._active,A=this.chart.data,$=[],D=[],R=[];let O=[],F,U;for(F=0,U=x.length;F<U;++F)O.push(Oc(this.chart,x[F]));return S.filter&&(O=O.filter((K,Q,ee)=>S.filter(K,Q,ee,A))),S.itemSort&&(O=O.sort((K,Q)=>S.itemSort(K,Q,A))),_(O,K=>{const Q=Qo(S.callbacks,K);$.push(Q.labelColor.call(this,K)),D.push(Q.labelPointStyle.call(this,K)),R.push(Q.labelTextColor.call(this,K))}),this.labelColors=$,this.labelPointStyles=D,this.labelTextColors=R,this.dataPoints=O,O}update(S,x){const A=this.options.setContext(this.getContext()),$=this._active;let D,R=[];if(!$.length)this.opacity!==0&&(D={opacity:0});else{const O=Tn[A.position].call(this,$,this._eventPosition);R=this._createItems(A),this.title=this.getTitle(R,A),this.beforeBody=this.getBeforeBody(R,A),this.body=this.getBody(R,A),this.afterBody=this.getAfterBody(R,A),this.footer=this.getFooter(R,A);const F=this._size=Xo(this,A),U=Object.assign({},O,F),K=Zo(this.chart,A,U),Q=qo(A,U,K,this.chart);this.xAlign=K.xAlign,this.yAlign=K.yAlign,D={opacity:1,x:Q.x,y:Q.y,width:F.width,height:F.height,caretX:O.x,caretY:O.y}}this._tooltipItems=R,this.$context=void 0,D&&this._resolveAnimations().update(this,D),S&&A.external&&A.external.call(this,{chart:this.chart,tooltip:this,replay:x})}drawCaret(S,x,A,$){const D=this.getCaretPosition(S,A,$);x.lineTo(D.x1,D.y1),x.lineTo(D.x2,D.y2),x.lineTo(D.x3,D.y3)}getCaretPosition(S,x,A){const{xAlign:$,yAlign:D}=this,{caretSize:R,cornerRadius:O}=A,{topLeft:F,topRight:U,bottomLeft:K,bottomRight:Q}=Ht(O),{x:ee,y:se}=S,{width:ue,height:me}=x;let ye,xe,Ee,Ne,Oe,Re;return D==="center"?(Oe=se+me/2,$==="left"?(ye=ee,xe=ye-R,Ne=Oe+R,Re=Oe-R):(ye=ee+ue,xe=ye+R,Ne=Oe-R,Re=Oe+R),Ee=ye):($==="left"?xe=ee+Math.max(F,K)+R:$==="right"?xe=ee+ue-Math.max(U,Q)-R:xe=this.caretX,D==="top"?(Ne=se,Oe=Ne-R,ye=xe-R,Ee=xe+R):(Ne=se+me,Oe=Ne+R,ye=xe+R,Ee=xe-R),Re=Ne),{x1:ye,x2:xe,x3:Ee,y1:Ne,y2:Oe,y3:Re}}drawTitle(S,x,A){const $=this.title,D=$.length;let R,O,F;if(D){const U=Xt(A.rtl,this.x,this.width);for(S.x=Ea(this,A.titleAlign,A),x.textAlign=U.textAlign(A.titleAlign),x.textBaseline="middle",R=ht(A.titleFont),O=A.titleSpacing,x.fillStyle=A.titleColor,x.font=R.string,F=0;F<D;++F)x.fillText($[F],U.x(S.x),S.y+R.lineHeight/2),S.y+=R.lineHeight+O,F+1===D&&(S.y+=A.titleMarginBottom-O)}}_drawColorBox(S,x,A,$,D){const R=this.labelColors[A],O=this.labelPointStyles[A],{boxHeight:F,boxWidth:U,boxPadding:K}=D,Q=ht(D.bodyFont),ee=Ea(this,"left",D),se=$.x(ee),ue=F<Q.lineHeight?(Q.lineHeight-F)/2:0,me=x.y+ue;if(D.usePointStyle){const ye={radius:Math.min(U,F)/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:1},xe=$.leftForLtr(se,U)+U/2,Ee=me+F/2;S.strokeStyle=D.multiKeyBackground,S.fillStyle=D.multiKeyBackground,Lr(S,ye,xe,Ee),S.strokeStyle=R.borderColor,S.fillStyle=R.backgroundColor,Lr(S,ye,xe,Ee)}else{S.lineWidth=c(R.borderWidth)?Math.max(...Object.values(R.borderWidth)):R.borderWidth||1,S.strokeStyle=R.borderColor,S.setLineDash(R.borderDash||[]),S.lineDashOffset=R.borderDashOffset||0;const ye=$.leftForLtr(se,U-K),xe=$.leftForLtr($.xPlus(se,1),U-K-2),Ee=Ht(R.borderRadius);Object.values(Ee).some(Ne=>Ne!==0)?(S.beginPath(),S.fillStyle=D.multiKeyBackground,ar(S,{x:ye,y:me,w:U,h:F,radius:Ee}),S.fill(),S.stroke(),S.fillStyle=R.backgroundColor,S.beginPath(),ar(S,{x:xe,y:me+1,w:U-2,h:F-2,radius:Ee}),S.fill()):(S.fillStyle=D.multiKeyBackground,S.fillRect(ye,me,U,F),S.strokeRect(ye,me,U,F),S.fillStyle=R.backgroundColor,S.fillRect(xe,me+1,U-2,F-2))}S.fillStyle=this.labelTextColors[A]}drawBody(S,x,A){const{body:$}=this,{bodySpacing:D,bodyAlign:R,displayColors:O,boxHeight:F,boxWidth:U,boxPadding:K}=A,Q=ht(A.bodyFont);let ee=Q.lineHeight,se=0;const ue=Xt(A.rtl,this.x,this.width),me=function(Xe){x.fillText(Xe,ue.x(S.x+se),S.y+ee/2),S.y+=ee+D},ye=ue.textAlign(R);let xe,Ee,Ne,Oe,Re,He,ze;for(x.textAlign=R,x.textBaseline="middle",x.font=Q.string,S.x=Ea(this,ye,A),x.fillStyle=A.bodyColor,_(this.beforeBody,me),se=O&&ye!=="right"?R==="center"?U/2+K:U+2+K:0,Oe=0,He=$.length;Oe<He;++Oe){for(xe=$[Oe],Ee=this.labelTextColors[Oe],x.fillStyle=Ee,_(xe.before,me),Ne=xe.lines,O&&Ne.length&&(this._drawColorBox(x,S,Oe,ue,A),ee=Math.max(Q.lineHeight,F)),Re=0,ze=Ne.length;Re<ze;++Re)me(Ne[Re]),ee=Q.lineHeight;_(xe.after,me)}se=0,ee=Q.lineHeight,_(this.afterBody,me),S.y-=D}drawFooter(S,x,A){const $=this.footer,D=$.length;let R,O;if(D){const F=Xt(A.rtl,this.x,this.width);for(S.x=Ea(this,A.footerAlign,A),S.y+=A.footerMarginTop,x.textAlign=F.textAlign(A.footerAlign),x.textBaseline="middle",R=ht(A.footerFont),x.fillStyle=A.footerColor,x.font=R.string,O=0;O<D;++O)x.fillText($[O],F.x(S.x),S.y+R.lineHeight/2),S.y+=R.lineHeight+A.footerSpacing}}drawBackground(S,x,A,$){const{xAlign:D,yAlign:R}=this,{x:O,y:F}=S,{width:U,height:K}=A,{topLeft:Q,topRight:ee,bottomLeft:se,bottomRight:ue}=Ht($.cornerRadius);x.fillStyle=$.backgroundColor,x.strokeStyle=$.borderColor,x.lineWidth=$.borderWidth,x.beginPath(),x.moveTo(O+Q,F),R==="top"&&this.drawCaret(S,x,A,$),x.lineTo(O+U-ee,F),x.quadraticCurveTo(O+U,F,O+U,F+ee),R==="center"&&D==="right"&&this.drawCaret(S,x,A,$),x.lineTo(O+U,F+K-ue),x.quadraticCurveTo(O+U,F+K,O+U-ue,F+K),R==="bottom"&&this.drawCaret(S,x,A,$),x.lineTo(O+se,F+K),x.quadraticCurveTo(O,F+K,O,F+K-se),R==="center"&&D==="left"&&this.drawCaret(S,x,A,$),x.lineTo(O,F+Q),x.quadraticCurveTo(O,F,O+Q,F),x.closePath(),x.fill(),$.borderWidth>0&&x.stroke()}_updateAnimationTarget(S){const x=this.chart,A=this.$animations,$=A&&A.x,D=A&&A.y;if($||D){const R=Tn[S.position].call(this,this._active,this._eventPosition);if(!R)return;const O=this._size=Xo(this,S),F=Object.assign({},R,this._size),U=Zo(x,S,F),K=qo(S,F,U,x);($._to!==K.x||D._to!==K.y)&&(this.xAlign=U.xAlign,this.yAlign=U.yAlign,this.width=O.width,this.height=O.height,this.caretX=R.x,this.caretY=R.y,this._resolveAnimations().update(this,K))}}_willRender(){return!!this.opacity}draw(S){const x=this.options.setContext(this.getContext());let A=this.opacity;if(!A)return;this._updateAnimationTarget(x);const $={width:this.width,height:this.height},D={x:this.x,y:this.y};A=Math.abs(A)<.001?0:A;const R=pt(x.padding),O=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;x.enabled&&O&&(S.save(),S.globalAlpha=A,this.drawBackground(D,S,$,x),dn(S,x.textDirection),D.y+=R.top,this.drawTitle(D,S,x),this.drawBody(D,S,x),this.drawFooter(D,S,x),ie(S,x.textDirection),S.restore())}getActiveElements(){return this._active||[]}setActiveElements(S,x){const A=this._active,$=S.map(({datasetIndex:O,index:F})=>{const U=this.chart.getDatasetMeta(O);if(!U)throw new Error("Cannot find a dataset at index "+O);return{datasetIndex:O,element:U.data[F],index:F}}),D=!b(A,$),R=this._positionChanged($,x);(D||R)&&(this._active=$,this._eventPosition=x,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(S,x,A=!0){if(x&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const $=this.options,D=this._active||[],R=this._getActiveElements(S,D,x,A),O=this._positionChanged(R,S),F=x||!b(R,D)||O;return F&&(this._active=R,($.enabled||$.external)&&(this._eventPosition={x:S.x,y:S.y},this.update(!0,x))),F}_getActiveElements(S,x,A,$){const D=this.options;if(S.type==="mouseout")return[];if(!$)return x;const R=this.chart.getElementsAtEventForMode(S,D.mode,D,A);return D.reverse&&R.reverse(),R}_positionChanged(S,x){const{caretX:A,caretY:$,options:D}=this,R=Tn[D.position].call(this,S,x);return R!==!1&&(A!==R.x||$!==R.y)}}Ii.positioners=Tn;var Gc={id:"tooltip",_element:Ii,positioners:Tn,afterInit(w,S,x){x&&(w.tooltip=new Ii({chart:w,options:x}))},beforeUpdate(w,S,x){w.tooltip&&w.tooltip.initialize(x)},reset(w,S,x){w.tooltip&&w.tooltip.initialize(x)},afterDraw(w){const S=w.tooltip;if(S&&S._willRender()){const x={tooltip:S};if(w.notifyPlugins("beforeTooltipDraw",x)===!1)return;S.draw(w.ctx),w.notifyPlugins("afterTooltipDraw",x)}},afterEvent(w,S){if(w.tooltip){const x=S.replay;w.tooltip.handleEvent(S.event,x,S.inChartArea)&&(S.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(w,S)=>S.bodyFont.size,boxWidth:(w,S)=>S.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:a,title(w){if(w.length>0){const S=w[0],x=S.chart.data.labels,A=x?x.length:0;if(this&&this.options&&this.options.mode==="dataset")return S.dataset.label||"";if(S.label)return S.label;if(A>0&&S.dataIndex<A)return x[S.dataIndex]}return""},afterTitle:a,beforeBody:a,beforeLabel:a,label(w){if(this&&this.options&&this.options.mode==="dataset")return w.label+": "+w.formattedValue||w.formattedValue;let S=w.dataset.label||"";S&&(S+=": ");const x=w.formattedValue;return s(x)||(S+=x),S},labelColor(w){const x=w.chart.getDatasetMeta(w.datasetIndex).controller.getStyle(w.dataIndex);return{borderColor:x.borderColor,backgroundColor:x.backgroundColor,borderWidth:x.borderWidth,borderDash:x.borderDash,borderDashOffset:x.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(w){const x=w.chart.getDatasetMeta(w.datasetIndex).controller.getStyle(w.dataIndex);return{pointStyle:x.pointStyle,rotation:x.rotation}},afterLabel:a,afterBody:a,beforeFooter:a,footer:a,afterFooter:a}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:w=>w!=="filter"&&w!=="itemSort"&&w!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},es=Object.freeze({__proto__:null,Decimation:lc,Filler:$c,Legend:Ic,SubTitle:kc,Title:Lc,Tooltip:Gc});const Uc=(w,S,x,A)=>(typeof S=="string"?(x=w.push(S)-1,A.unshift({index:x,label:S})):isNaN(S)&&(x=null),x);function Wc(w,S,x,A){const $=w.indexOf(S);if($===-1)return Uc(w,S,x,A);const D=w.lastIndexOf(S);return $!==D?x:$}const Yc=(w,S)=>w===null?null:Me(Math.round(w),0,S);class $a extends cr{constructor(S){super(S),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(S){const x=this._addedLabels;if(x.length){const A=this.getLabels();for(const{index:$,label:D}of x)A[$]===D&&A.splice($,1);this._addedLabels=[]}super.init(S)}parse(S,x){if(s(S))return null;const A=this.getLabels();return x=isFinite(x)&&A[x]===S?x:Wc(A,S,f(x,S),this._addedLabels),Yc(x,A.length-1)}determineDataLimits(){const{minDefined:S,maxDefined:x}=this.getUserBounds();let{min:A,max:$}=this.getMinMax(!0);this.options.bounds==="ticks"&&(S||(A=0),x||($=this.getLabels().length-1)),this.min=A,this.max=$}buildTicks(){const S=this.min,x=this.max,A=this.options.offset,$=[];let D=this.getLabels();D=S===0&&x===D.length-1?D:D.slice(S,x+1),this._valueRange=Math.max(D.length-(A?0:1),1),this._startValue=this.min-(A?.5:0);for(let R=S;R<=x;R++)$.push({value:R});return $}getLabelForValue(S){const x=this.getLabels();return S>=0&&S<x.length?x[S]:S}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(S){return typeof S!="number"&&(S=this.parse(S)),S===null?NaN:this.getPixelForDecimal((S-this._startValue)/this._valueRange)}getPixelForTick(S){const x=this.ticks;return S<0||S>x.length-1?null:this.getPixelForValue(x[S].value)}getValueForPixel(S){return Math.round(this._startValue+this.getDecimalForPixel(S)*this._valueRange)}getBasePixel(){return this.bottom}}$a.id="category",$a.defaults={ticks:{callback:$a.prototype.getLabelForValue}};function jc(w,S){const x=[],{bounds:$,step:D,min:R,max:O,precision:F,count:U,maxTicks:K,maxDigits:Q,includeBounds:ee}=w,se=D||1,ue=K-1,{min:me,max:ye}=S,xe=!s(R),Ee=!s(O),Ne=!s(U),Oe=(ye-me)/(Q+1);let Re=Se((ye-me)/ue/se)*se,He,ze,Xe,je;if(Re<1e-14&&!xe&&!Ee)return[{value:me},{value:ye}];je=Math.ceil(ye/Re)-Math.floor(me/Re),je>ue&&(Re=Se(je*Re/ue/se)*se),s(F)||(He=Math.pow(10,F),Re=Math.ceil(Re*He)/He),$==="ticks"?(ze=Math.floor(me/Re)*Re,Xe=Math.ceil(ye/Re)*Re):(ze=me,Xe=ye),xe&&Ee&&D&&de((O-R)/D,Re/1e3)?(je=Math.round(Math.min((O-R)/Re,K)),Re=(O-R)/je,ze=R,Xe=O):Ne?(ze=xe?R:ze,Xe=Ee?O:Xe,je=U-1,Re=(Xe-ze)/je):(je=(Xe-ze)/Re,pe(je,Math.round(je),Re/1e3)?je=Math.round(je):je=Math.ceil(je));const ot=Math.max(te(Re),te(ze));He=Math.pow(10,s(F)?ot:F),ze=Math.round(ze*He)/He,Xe=Math.round(Xe*He)/He;let st=0;for(xe&&(ee&&ze!==R?(x.push({value:R}),ze<R&&st++,pe(Math.round((ze+st*Re)*He)/He,R,ts(R,Oe,w))&&st++):ze<R&&st++);st<je;++st)x.push({value:Math.round((ze+st*Re)*He)/He});return Ee&&ee&&Xe!==O?x.length&&pe(x[x.length-1].value,O,ts(O,Oe,w))?x[x.length-1].value=O:x.push({value:O}):(!Ee||Xe===O)&&x.push({value:Xe}),x}function ts(w,S,{horizontal:x,minRotation:A}){const $=we(A),D=(x?Math.sin($):Math.cos($))||.001,R=.75*S*(""+w).length;return Math.min(S/D,R)}class Ma extends cr{constructor(S){super(S),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(S,x){return s(S)||(typeof S=="number"||S instanceof Number)&&!isFinite(+S)?null:+S}handleTickRangeOptions(){const{beginAtZero:S}=this.options,{minDefined:x,maxDefined:A}=this.getUserBounds();let{min:$,max:D}=this;const R=F=>$=x?$:F,O=F=>D=A?D:F;if(S){const F=Ce($),U=Ce(D);F<0&&U<0?O(0):F>0&&U>0&&R(0)}if($===D){let F=1;(D>=Number.MAX_SAFE_INTEGER||$<=Number.MIN_SAFE_INTEGER)&&(F=Math.abs(D*.05)),O(D+F),S||R($-F)}this.min=$,this.max=D}getTickLimit(){const S=this.options.ticks;let{maxTicksLimit:x,stepSize:A}=S,$;return A?($=Math.ceil(this.max/A)-Math.floor(this.min/A)+1,$>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${A} would result generating up to ${$} ticks. Limiting to 1000.`),$=1e3)):($=this.computeTickLimit(),x=x||11),x&&($=Math.min(x,$)),$}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const S=this.options,x=S.ticks;let A=this.getTickLimit();A=Math.max(2,A);const $={maxTicks:A,bounds:S.bounds,min:S.min,max:S.max,precision:x.precision,step:x.stepSize,count:x.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:x.minRotation||0,includeBounds:x.includeBounds!==!1},D=this._range||this,R=jc($,D);return S.bounds==="ticks"&&Te(R,this,"value"),S.reverse?(R.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),R}configure(){const S=this.ticks;let x=this.min,A=this.max;if(super.configure(),this.options.offset&&S.length){const $=(A-x)/Math.max(S.length-1,1)/2;x-=$,A+=$}this._startValue=x,this._endValue=A,this._valueRange=A-x}getLabelForValue(S){return ir(S,this.chart.options.locale,this.options.ticks.format)}}class Ri extends Ma{determineDataLimits(){const{min:S,max:x}=this.getMinMax(!0);this.min=u(S)?S:0,this.max=u(x)?x:1,this.handleTickRangeOptions()}computeTickLimit(){const S=this.isHorizontal(),x=S?this.width:this.height,A=we(this.options.ticks.minRotation),$=(S?Math.sin(A):Math.cos(A))||.001,D=this._resolveTickFontOptions(0);return Math.ceil(x/Math.min(40,D.lineHeight/$))}getPixelForValue(S){return S===null?NaN:this.getPixelForDecimal((S-this._startValue)/this._valueRange)}getValueForPixel(S){return this._startValue+this.getDecimalForPixel(S)*this._valueRange}}Ri.id="linear",Ri.defaults={ticks:{callback:Sn.formatters.numeric}};function rs(w){return w/Math.pow(10,Math.floor(_e(w)))===1}function Kc(w,S){const x=Math.floor(_e(S.max)),A=Math.ceil(S.max/Math.pow(10,x)),$=[];let D=d(w.min,Math.pow(10,Math.floor(_e(S.min)))),R=Math.floor(_e(D)),O=Math.floor(D/Math.pow(10,R)),F=R<0?Math.pow(10,Math.abs(R)):1;do $.push({value:D,major:rs(D)}),++O,O===10&&(O=1,++R,F=R>=0?1:F),D=Math.round(O*Math.pow(10,R)*F)/F;while(R<x||R===x&&O<A);const U=d(w.max,D);return $.push({value:U,major:rs(D)}),$}class Li extends cr{constructor(S){super(S),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(S,x){const A=Ma.prototype.parse.apply(this,[S,x]);if(A===0){this._zero=!0;return}return u(A)&&A>0?A:null}determineDataLimits(){const{min:S,max:x}=this.getMinMax(!0);this.min=u(S)?Math.max(0,S):null,this.max=u(x)?Math.max(0,x):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:S,maxDefined:x}=this.getUserBounds();let A=this.min,$=this.max;const D=F=>A=S?A:F,R=F=>$=x?$:F,O=(F,U)=>Math.pow(10,Math.floor(_e(F))+U);A===$&&(A<=0?(D(1),R(10)):(D(O(A,-1)),R(O($,1)))),A<=0&&D(O($,-1)),$<=0&&R(O(A,1)),this._zero&&this.min!==this._suggestedMin&&A===O(this.min,0)&&D(O(A,-1)),this.min=A,this.max=$}buildTicks(){const S=this.options,x={min:this._userMin,max:this._userMax},A=Kc(x,this);return S.bounds==="ticks"&&Te(A,this,"value"),S.reverse?(A.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),A}getLabelForValue(S){return S===void 0?"0":ir(S,this.chart.options.locale,this.options.ticks.format)}configure(){const S=this.min;super.configure(),this._startValue=_e(S),this._valueRange=_e(this.max)-_e(S)}getPixelForValue(S){return(S===void 0||S===0)&&(S=this.min),S===null||isNaN(S)?NaN:this.getPixelForDecimal(S===this.min?0:(_e(S)-this._startValue)/this._valueRange)}getValueForPixel(S){const x=this.getDecimalForPixel(S);return Math.pow(10,this._startValue+x*this._valueRange)}}Li.id="logarithmic",Li.defaults={ticks:{callback:Sn.formatters.logarithmic,major:{enabled:!0}}};function ki(w){const S=w.ticks;if(S.display&&w.display){const x=pt(S.backdropPadding);return f(S.font&&S.font.size,Qe.font.size)+x.height}return 0}function Xc(w,S,x){return x=l(x)?x:[x],{w:Rr(w,S.string,x),h:x.length*S.lineHeight}}function ns(w,S,x,A,$){return w===A||w===$?{start:S-x/2,end:S+x/2}:w<A||w>$?{start:S-x,end:S}:{start:S,end:S+x}}function Zc(w){const S={l:w.left+w._padding.left,r:w.right-w._padding.right,t:w.top+w._padding.top,b:w.bottom-w._padding.bottom},x=Object.assign({},S),A=[],$=[],D=w._pointLabels.length,R=w.options.pointLabels,O=R.centerPointLabels?Z/D:0;for(let F=0;F<D;F++){const U=R.setContext(w.getPointLabelContext(F));$[F]=U.padding;const K=w.getPointPosition(F,w.drawingArea+$[F],O),Q=ht(U.font),ee=Xc(w.ctx,Q,w._pointLabels[F]);A[F]=ee;const se=be(w.getIndexAngle(F)+O),ue=Math.round(Ie(se)),me=ns(ue,K.x,ee.w,0,180),ye=ns(ue,K.y,ee.h,90,270);qc(x,S,se,me,ye)}w.setCenterPoint(S.l-x.l,x.r-S.r,S.t-x.t,x.b-S.b),w._pointLabelItems=Jc(w,A,$)}function qc(w,S,x,A,$){const D=Math.abs(Math.sin(x)),R=Math.abs(Math.cos(x));let O=0,F=0;A.start<S.l?(O=(S.l-A.start)/D,w.l=Math.min(w.l,S.l-O)):A.end>S.r&&(O=(A.end-S.r)/D,w.r=Math.max(w.r,S.r+O)),$.start<S.t?(F=(S.t-$.start)/R,w.t=Math.min(w.t,S.t-F)):$.end>S.b&&(F=($.end-S.b)/R,w.b=Math.max(w.b,S.b+F))}function Jc(w,S,x){const A=[],$=w._pointLabels.length,D=w.options,R=ki(D)/2,O=w.drawingArea,F=D.pointLabels.centerPointLabels?Z/$:0;for(let U=0;U<$;U++){const K=w.getPointPosition(U,O+R+x[U],F),Q=Math.round(Ie(be(K.angle+ve))),ee=S[U],se=tu(K.y,ee.h,Q),ue=Qc(Q),me=eu(K.x,ee.w,ue);A.push({x:K.x,y:se,textAlign:ue,left:me,top:se,right:me+ee.w,bottom:se+ee.h})}return A}function Qc(w){return w===0||w===180?"center":w<180?"left":"right"}function eu(w,S,x){return x==="right"?w-=S:x==="center"&&(w-=S/2),w}function tu(w,S,x){return x===90||x===270?w-=S/2:(x>270||x<90)&&(w-=S),w}function ru(w,S){const{ctx:x,options:{pointLabels:A}}=w;for(let $=S-1;$>=0;$--){const D=A.setContext(w.getPointLabelContext($)),R=ht(D.font),{x:O,y:F,textAlign:U,left:K,top:Q,right:ee,bottom:se}=w._pointLabelItems[$],{backdropColor:ue}=D;if(!s(ue)){const me=Ht(D.borderRadius),ye=pt(D.backdropPadding);x.fillStyle=ue;const xe=K-ye.left,Ee=Q-ye.top,Ne=ee-K+ye.width,Oe=se-Q+ye.height;Object.values(me).some(Re=>Re!==0)?(x.beginPath(),ar(x,{x:xe,y:Ee,w:Ne,h:Oe,radius:me}),x.fill()):x.fillRect(xe,Ee,Ne,Oe)}Bt(x,w._pointLabels[$],O,F+R.lineHeight/2,R,{color:D.color,textAlign:U,textBaseline:"middle"})}}function as(w,S,x,A){const{ctx:$}=w;if(x)$.arc(w.xCenter,w.yCenter,S,0,q);else{let D=w.getPointPosition(0,S);$.moveTo(D.x,D.y);for(let R=1;R<A;R++)D=w.getPointPosition(R,S),$.lineTo(D.x,D.y)}}function nu(w,S,x,A){const $=w.ctx,D=S.circular,{color:R,lineWidth:O}=S;!D&&!A||!R||!O||x<0||($.save(),$.strokeStyle=R,$.lineWidth=O,$.setLineDash(S.borderDash),$.lineDashOffset=S.borderDashOffset,$.beginPath(),as(w,x,D,A),$.closePath(),$.stroke(),$.restore())}function au(w,S,x){return Lt(w,{label:x,index:S,type:"pointLabel"})}class wn extends Ma{constructor(S){super(S),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const S=this._padding=pt(ki(this.options)/2),x=this.width=this.maxWidth-S.width,A=this.height=this.maxHeight-S.height;this.xCenter=Math.floor(this.left+x/2+S.left),this.yCenter=Math.floor(this.top+A/2+S.top),this.drawingArea=Math.floor(Math.min(x,A)/2)}determineDataLimits(){const{min:S,max:x}=this.getMinMax(!1);this.min=u(S)&&!isNaN(S)?S:0,this.max=u(x)&&!isNaN(x)?x:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ki(this.options))}generateTickLabels(S){Ma.prototype.generateTickLabels.call(this,S),this._pointLabels=this.getLabels().map((x,A)=>{const $=y(this.options.pointLabels.callback,[x,A],this);return $||$===0?$:""}).filter((x,A)=>this.chart.getDataVisibility(A))}fit(){const S=this.options;S.display&&S.pointLabels.display?Zc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(S,x,A,$){this.xCenter+=Math.floor((S-x)/2),this.yCenter+=Math.floor((A-$)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(S,x,A,$))}getIndexAngle(S){const x=q/(this._pointLabels.length||1),A=this.options.startAngle||0;return be(S*x+we(A))}getDistanceFromCenterForValue(S){if(s(S))return NaN;const x=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-S)*x:(S-this.min)*x}getValueForDistanceFromCenter(S){if(s(S))return NaN;const x=S/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-x:this.min+x}getPointLabelContext(S){const x=this._pointLabels||[];if(S>=0&&S<x.length){const A=x[S];return au(this.getContext(),S,A)}}getPointPosition(S,x,A=0){const $=this.getIndexAngle(S)-ve+A;return{x:Math.cos($)*x+this.xCenter,y:Math.sin($)*x+this.yCenter,angle:$}}getPointPositionForValue(S,x){return this.getPointPosition(S,this.getDistanceFromCenterForValue(x))}getBasePosition(S){return this.getPointPositionForValue(S||0,this.getBaseValue())}getPointLabelPosition(S){const{left:x,top:A,right:$,bottom:D}=this._pointLabelItems[S];return{left:x,top:A,right:$,bottom:D}}drawBackground(){const{backgroundColor:S,grid:{circular:x}}=this.options;if(S){const A=this.ctx;A.save(),A.beginPath(),as(this,this.getDistanceFromCenterForValue(this._endValue),x,this._pointLabels.length),A.closePath(),A.fillStyle=S,A.fill(),A.restore()}}drawGrid(){const S=this.ctx,x=this.options,{angleLines:A,grid:$}=x,D=this._pointLabels.length;let R,O,F;if(x.pointLabels.display&&ru(this,D),$.display&&this.ticks.forEach((U,K)=>{if(K!==0){O=this.getDistanceFromCenterForValue(U.value);const Q=$.setContext(this.getContext(K-1));nu(this,Q,O,D)}}),A.display){for(S.save(),R=D-1;R>=0;R--){const U=A.setContext(this.getPointLabelContext(R)),{color:K,lineWidth:Q}=U;!Q||!K||(S.lineWidth=Q,S.strokeStyle=K,S.setLineDash(U.borderDash),S.lineDashOffset=U.borderDashOffset,O=this.getDistanceFromCenterForValue(x.ticks.reverse?this.min:this.max),F=this.getPointPosition(R,O),S.beginPath(),S.moveTo(this.xCenter,this.yCenter),S.lineTo(F.x,F.y),S.stroke())}S.restore()}}drawBorder(){}drawLabels(){const S=this.ctx,x=this.options,A=x.ticks;if(!A.display)return;const $=this.getIndexAngle(0);let D,R;S.save(),S.translate(this.xCenter,this.yCenter),S.rotate($),S.textAlign="center",S.textBaseline="middle",this.ticks.forEach((O,F)=>{if(F===0&&!x.reverse)return;const U=A.setContext(this.getContext(F)),K=ht(U.font);if(D=this.getDistanceFromCenterForValue(this.ticks[F].value),U.showLabelBackdrop){S.font=K.string,R=S.measureText(O.label).width,S.fillStyle=U.backdropColor;const Q=pt(U.backdropPadding);S.fillRect(-R/2-Q.left,-D-K.size/2-Q.top,R+Q.width,K.size+Q.height)}Bt(S,O.label,0,-D,K,{color:U.color})}),S.restore()}drawTitle(){}}wn.id="radialLinear",wn.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Sn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(w){return w},padding:5,centerPointLabels:!1}},wn.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},wn.descriptors={angleLines:{_fallback:"grid"}};const Da={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},At=Object.keys(Da);function iu(w,S){return w-S}function is(w,S){if(s(S))return null;const x=w._adapter,{parser:A,round:$,isoWeekday:D}=w._parseOpts;let R=S;return typeof A=="function"&&(R=A(R)),u(R)||(R=typeof A=="string"?x.parse(R,A):x.parse(R)),R===null?null:($&&(R=$==="week"&&(ne(D)||D===!0)?x.startOf(R,"isoWeek",D):x.startOf(R,$)),+R)}function os(w,S,x,A){const $=At.length;for(let D=At.indexOf(w);D<$-1;++D){const R=Da[At[D]],O=R.steps?R.steps:Number.MAX_SAFE_INTEGER;if(R.common&&Math.ceil((x-S)/(O*R.size))<=A)return At[D]}return At[$-1]}function ou(w,S,x,A,$){for(let D=At.length-1;D>=At.indexOf(x);D--){const R=At[D];if(Da[R].common&&w._adapter.diff($,A,R)>=S-1)return R}return At[x?At.indexOf(x):0]}function su(w){for(let S=At.indexOf(w)+1,x=At.length;S<x;++S)if(Da[At[S]].common)return At[S]}function ss(w,S,x){if(!x)w[S]=!0;else if(x.length){const{lo:A,hi:$}=ke(x,S),D=x[A]>=S?x[A]:x[$];w[D]=!0}}function lu(w,S,x,A){const $=w._adapter,D=+$.startOf(S[0].value,A),R=S[S.length-1].value;let O,F;for(O=D;O<=R;O=+$.add(O,1,A))F=x[O],F>=0&&(S[F].major=!0);return S}function ls(w,S,x){const A=[],$={},D=S.length;let R,O;for(R=0;R<D;++R)O=S[R],$[O]=R,A.push({value:O,major:!1});return D===0||!x?A:lu(w,A,$,x)}class Cn extends cr{constructor(S){super(S),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(S,x){const A=S.time||(S.time={}),$=this._adapter=new Po._date(S.adapters.date);$.init(x),M(A.displayFormats,$.formats()),this._parseOpts={parser:A.parser,round:A.round,isoWeekday:A.isoWeekday},super.init(S),this._normalized=x.normalized}parse(S,x){return S===void 0?null:is(this,S)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const S=this.options,x=this._adapter,A=S.time.unit||"day";let{min:$,max:D,minDefined:R,maxDefined:O}=this.getUserBounds();function F(U){!R&&!isNaN(U.min)&&($=Math.min($,U.min)),!O&&!isNaN(U.max)&&(D=Math.max(D,U.max))}(!R||!O)&&(F(this._getLabelBounds()),(S.bounds!=="ticks"||S.ticks.source!=="labels")&&F(this.getMinMax(!1))),$=u($)&&!isNaN($)?$:+x.startOf(Date.now(),A),D=u(D)&&!isNaN(D)?D:+x.endOf(Date.now(),A)+1,this.min=Math.min($,D-1),this.max=Math.max($+1,D)}_getLabelBounds(){const S=this.getLabelTimestamps();let x=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY;return S.length&&(x=S[0],A=S[S.length-1]),{min:x,max:A}}buildTicks(){const S=this.options,x=S.time,A=S.ticks,$=A.source==="labels"?this.getLabelTimestamps():this._generate();S.bounds==="ticks"&&$.length&&(this.min=this._userMin||$[0],this.max=this._userMax||$[$.length-1]);const D=this.min,R=this.max,O=We($,D,R);return this._unit=x.unit||(A.autoSkip?os(x.minUnit,this.min,this.max,this._getLabelCapacity(D)):ou(this,O.length,x.minUnit,this.min,this.max)),this._majorUnit=!A.major.enabled||this._unit==="year"?void 0:su(this._unit),this.initOffsets($),S.reverse&&O.reverse(),ls(this,O,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(S=>+S.value))}initOffsets(S){let x=0,A=0,$,D;this.options.offset&&S.length&&($=this.getDecimalForValue(S[0]),S.length===1?x=1-$:x=(this.getDecimalForValue(S[1])-$)/2,D=this.getDecimalForValue(S[S.length-1]),S.length===1?A=D:A=(D-this.getDecimalForValue(S[S.length-2]))/2);const R=S.length<3?.5:.25;x=Me(x,0,R),A=Me(A,0,R),this._offsets={start:x,end:A,factor:1/(x+1+A)}}_generate(){const S=this._adapter,x=this.min,A=this.max,$=this.options,D=$.time,R=D.unit||os(D.minUnit,x,A,this._getLabelCapacity(x)),O=f(D.stepSize,1),F=R==="week"?D.isoWeekday:!1,U=ne(F)||F===!0,K={};let Q=x,ee,se;if(U&&(Q=+S.startOf(Q,"isoWeek",F)),Q=+S.startOf(Q,U?"day":R),S.diff(A,x,R)>1e5*O)throw new Error(x+" and "+A+" are too far apart with stepSize of "+O+" "+R);const ue=$.ticks.source==="data"&&this.getDataTimestamps();for(ee=Q,se=0;ee<A;ee=+S.add(ee,O,R),se++)ss(K,ee,ue);return(ee===A||$.bounds==="ticks"||se===1)&&ss(K,ee,ue),Object.keys(K).sort((me,ye)=>me-ye).map(me=>+me)}getLabelForValue(S){const x=this._adapter,A=this.options.time;return A.tooltipFormat?x.format(S,A.tooltipFormat):x.format(S,A.displayFormats.datetime)}_tickFormatFunction(S,x,A,$){const D=this.options,R=D.time.displayFormats,O=this._unit,F=this._majorUnit,U=O&&R[O],K=F&&R[F],Q=A[x],ee=F&&K&&Q&&Q.major,se=this._adapter.format(S,$||(ee?K:U)),ue=D.ticks.callback;return ue?y(ue,[se,x,A],this):se}generateTickLabels(S){let x,A,$;for(x=0,A=S.length;x<A;++x)$=S[x],$.label=this._tickFormatFunction($.value,x,S)}getDecimalForValue(S){return S===null?NaN:(S-this.min)/(this.max-this.min)}getPixelForValue(S){const x=this._offsets,A=this.getDecimalForValue(S);return this.getPixelForDecimal((x.start+A)*x.factor)}getValueForPixel(S){const x=this._offsets,A=this.getDecimalForPixel(S)/x.factor-x.end;return this.min+A*(this.max-this.min)}_getLabelSize(S){const x=this.options.ticks,A=this.ctx.measureText(S).width,$=we(this.isHorizontal()?x.maxRotation:x.minRotation),D=Math.cos($),R=Math.sin($),O=this._resolveTickFontOptions(0).size;return{w:A*D+O*R,h:A*R+O*D}}_getLabelCapacity(S){const x=this.options.time,A=x.displayFormats,$=A[x.unit]||A.millisecond,D=this._tickFormatFunction(S,0,ls(this,[S],this._majorUnit),$),R=this._getLabelSize(D),O=Math.floor(this.isHorizontal()?this.width/R.w:this.height/R.h)-1;return O>0?O:1}getDataTimestamps(){let S=this._cache.data||[],x,A;if(S.length)return S;const $=this.getMatchingVisibleMetas();if(this._normalized&&$.length)return this._cache.data=$[0].controller.getAllParsedValues(this);for(x=0,A=$.length;x<A;++x)S=S.concat($[x].controller.getAllParsedValues(this));return this._cache.data=this.normalize(S)}getLabelTimestamps(){const S=this._cache.labels||[];let x,A;if(S.length)return S;const $=this.getLabels();for(x=0,A=$.length;x<A;++x)S.push(is(this,$[x]));return this._cache.labels=this._normalized?S:this.normalize(S)}normalize(S){return nt(S.sort(iu))}}Cn.id="time",Cn.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Ia(w,S,x){let A=0,$=w.length-1,D,R,O,F;x?(S>=w[A].pos&&S<=w[$].pos&&({lo:A,hi:$}=Ge(w,"pos",S)),{pos:D,time:O}=w[A],{pos:R,time:F}=w[$]):(S>=w[A].time&&S<=w[$].time&&({lo:A,hi:$}=Ge(w,"time",S)),{time:D,pos:O}=w[A],{time:R,pos:F}=w[$]);const U=R-D;return U?O+(F-O)*(S-D)/U:O}class Oi extends Cn{constructor(S){super(S),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const S=this._getTimestampsForTable(),x=this._table=this.buildLookupTable(S);this._minPos=Ia(x,this.min),this._tableRange=Ia(x,this.max)-this._minPos,super.initOffsets(S)}buildLookupTable(S){const{min:x,max:A}=this,$=[],D=[];let R,O,F,U,K;for(R=0,O=S.length;R<O;++R)U=S[R],U>=x&&U<=A&&$.push(U);if($.length<2)return[{time:x,pos:0},{time:A,pos:1}];for(R=0,O=$.length;R<O;++R)K=$[R+1],F=$[R-1],U=$[R],Math.round((K+F)/2)!==U&&D.push({time:U,pos:R/(O-1)});return D}_getTimestampsForTable(){let S=this._cache.all||[];if(S.length)return S;const x=this.getDataTimestamps(),A=this.getLabelTimestamps();return x.length&&A.length?S=this.normalize(x.concat(A)):S=x.length?x:A,S=this._cache.all=S,S}getDecimalForValue(S){return(Ia(this._table,S)-this._minPos)/this._tableRange}getValueForPixel(S){const x=this._offsets,A=this.getDecimalForPixel(S)/x.factor-x.end;return Ia(this._table,A*this._tableRange+this._minPos,!0)}}Oi.id="timeseries",Oi.defaults=Cn.defaults;var cs=Object.freeze({__proto__:null,CategoryScale:$a,LinearScale:Ri,LogarithmicScale:Li,RadialLinearScale:wn,TimeScale:Cn,TimeSeriesScale:Oi});return dt.register(Io,cs,Pi,es),dt.helpers={...wr},dt._adapters=Po,dt.Animation=no,dt.Animations=vi,dt.animator=Et,dt.controllers=kt.controllers.items,dt.DatasetController=Mt,dt.Element=Dt,dt.elements=Pi,dt.Interaction=zi,dt.layouts=xt,dt.platforms=to,dt.Scale=cr,dt.Ticks=Sn,Object.assign(dt,Io,cs,Pi,es,to),dt.Chart=dt,typeof window<"u"&&(window.Chart=dt),dt})})(chart);var chartExports=chart.exports;const _hoisted_1$8={class:"progress"},_hoisted_2$8={class:"info-card chart-container"},_hoisted_3$7={class:"info-card chart-container"},_hoisted_4$7={class:"progress-chart2"},_sfc_main$8=defineComponent({__name:"ProgressPage",setup(r){const n=reactive({progressData:[15,28,36,45,52,68]}),a=useRouter(),o=()=>{a.push("/")},s=ref(null);let l=null;const c=ref(null);let u=null;const d=()=>{if(!s.value)return;l=init$1(s.value);const f={xAxis:{type:"category",data:["周一","周二","周三","周四","周五","周六"]},yAxis:{type:"value",name:"进度（米）"},series:[{data:n.progressData,type:"line",smooth:!0,areaStyle:{}}]};l.setOption(f)};return onMounted(()=>{d(),window.addEventListener("resize",()=>l==null?void 0:l.resize())}),onMounted(()=>{if(c.value){const f=c.value.getContext("2d");f&&(u=new chartExports.Chart(f,{type:"bar",data:{labels:["周一","周二","周三","周四","周五"],datasets:[{label:"日推进环数",data:[14,16,12,15,13],backgroundColor:"#2E86C1",borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"环数"}}}}}))}}),onUnmounted(()=>{u&&u.destroy()}),(f,v)=>{const g=resolveComponent("van-nav-bar");return openBlock(),createElementBlock("div",_hoisted_1$8,[createVNode$1(g,{class:"fixed-nav-bar",title:"进度汇总","left-text":"返回","left-arrow":"",onClickLeft:o}),createBaseVNode("div",_hoisted_2$8,[v[0]||(v[0]=createBaseVNode("h3",null,"施工进度",-1)),createBaseVNode("div",{ref_key:"chartEl",ref:s,class:"progress-chart"},null,512)]),createBaseVNode("div",_hoisted_3$7,[v[1]||(v[1]=createBaseVNode("h3",null,"日拼装数量",-1)),createBaseVNode("div",_hoisted_4$7,[createBaseVNode("canvas",{ref_key:"chartCanvas",ref:c},null,512)])])])}}}),ProgressPage=_export_sfc(_sfc_main$8,[["__scopeId","data-v-c37fbbc0"]]),METHOD_NAMES=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function usePublicAPI(r){function n(o){return(...s)=>{if(!r.value)throw new Error("ECharts is not initialized yet.");return r.value[o].apply(r.value,s)}}function a(){const o=Object.create(null);return METHOD_NAMES.forEach(s=>{o[s]=n(s)}),o}return a()}function useAutoresize(r,n,a){watch([a,r,n],([o,s,l],c,u)=>{let d=null;if(o&&s&&l){const{offsetWidth:f,offsetHeight:v}=o,g=l===!0?{}:l,{throttle:y=100,onResize:_}=g;let b=!1;const T=()=>{s.resize(),_==null||_()},C=y?throttle(T,y):T;d=new ResizeObserver(()=>{!b&&(b=!0,o.offsetWidth===f&&o.offsetHeight===v)||C()}),d.observe(o)}u(()=>{d&&(d.disconnect(),d=null)})})}const autoresizeProps={autoresize:[Boolean,Object]},onRE=/^on[^a-z]/,isOn=r=>onRE.test(r);function omitOn(r){const n={};for(const a in r)isOn(a)||(n[a]=r[a]);return n}function unwrapInjected(r,n){const a=isRef(r)?unref(r):r;return a&&typeof a=="object"&&"value"in a?a.value||n:a||n}const LOADING_OPTIONS_KEY="ecLoadingOptions";function useLoading(r,n,a){const o=inject(LOADING_OPTIONS_KEY,{}),s=computed(()=>({...unwrapInjected(o,{}),...a==null?void 0:a.value}));watchEffect(()=>{const l=r.value;l&&(n.value?l.showLoading(s.value):l.hideLoading())})}const loadingProps={loading:Boolean,loadingOptions:Object};let registered=null;const TAG_NAME="x-vue-echarts";function register(){if(registered!=null)return registered;if(typeof HTMLElement>"u"||typeof customElements>"u")return registered=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(TAG_NAME)}catch{return registered=!1}return registered=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const wcRegistered=register(),THEME_KEY="ecTheme",INIT_OPTIONS_KEY="ecInitOptions",UPDATE_OPTIONS_KEY="ecUpdateOptions",NATIVE_EVENT_RE=/(^&?~?!?)native:/;var ECharts=defineComponent({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...autoresizeProps,...loadingProps},emits:{},inheritAttrs:!1,setup(r,{attrs:n}){const a=shallowRef(),o=shallowRef(),s=shallowRef(),l=inject(THEME_KEY,null),c=inject(INIT_OPTIONS_KEY,null),u=inject(UPDATE_OPTIONS_KEY,null),{autoresize:d,manualUpdate:f,loading:v,loadingOptions:g}=toRefs(r),y=computed(()=>s.value||r.option||null),_=computed(()=>r.theme||unwrapInjected(l,{})),b=computed(()=>r.initOptions||unwrapInjected(c,{})),T=computed(()=>r.updateOptions||unwrapInjected(u,{})),C=computed(()=>omitOn(n)),P={},E=getCurrentInstance().proxy.$listeners,M={};E?Object.keys(E).forEach(z=>{NATIVE_EVENT_RE.test(z)?P[z.replace(NATIVE_EVENT_RE,"$1")]=E[z]:M[z]=E[z]}):Object.keys(n).filter(z=>isOn(z)).forEach(z=>{let G=z.charAt(2).toLowerCase()+z.slice(3);if(G.indexOf("native:")===0){const H=`on${G.charAt(7).toUpperCase()}${G.slice(8)}`;P[H]=n[z];return}G.substring(G.length-4)==="Once"&&(G=`~${G.substring(0,G.length-4)}`),M[G]=n[z]});function I(z){if(!a.value)return;const G=o.value=init$1(a.value,_.value,b.value);r.group&&(G.group=r.group),Object.keys(M).forEach(j=>{let X=M[j];if(!X)return;let Z=j.toLowerCase();Z.charAt(0)==="~"&&(Z=Z.substring(1),X.__once__=!0);let q=G;if(Z.indexOf("zr:")===0&&(q=G.getZr(),Z=Z.substring(3)),X.__once__){delete X.__once__;const le=X;X=(...ae)=>{le(...ae),q.off(Z,X)}}q.on(Z,X)});function H(){G&&!G.isDisposed()&&G.resize()}function W(){const j=z||y.value;j&&G.setOption(j,T.value)}d.value?nextTick(()=>{H(),W()}):W()}function L(z,G){r.manualUpdate&&(s.value=z),o.value?o.value.setOption(z,G||{}):I(z)}function N(){o.value&&(o.value.dispose(),o.value=void 0)}let V=null;watch(f,z=>{typeof V=="function"&&(V(),V=null),z||(V=watch(()=>r.option,(G,H)=>{G&&(o.value?o.value.setOption(G,{notMerge:G!==H,...T.value}):I())},{deep:!0}))},{immediate:!0}),watch([_,b],()=>{N(),I()},{deep:!0}),watchEffect(()=>{r.group&&o.value&&(o.value.group=r.group)});const B=usePublicAPI(o);return useLoading(o,v,g),useAutoresize(o,d,a),onMounted(()=>{I()}),onBeforeUnmount(()=>{wcRegistered&&a.value?a.value.__dispose=N:N()}),{chart:o,root:a,setOption:L,nonEventAttrs:C,nativeListeners:P,...B}},render(){const r={...this.nonEventAttrs,...this.nativeListeners};return r.ref="root",r.class=r.class?["echarts"].concat(r.class):"echarts",h(TAG_NAME,r)}}),mock={exports:{}};(function(module,exports){(function(n,a){module.exports=a()})(commonjsGlobal,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return r[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}return a.m=r,a.c=n,a.p="",a(0)}([function(r,n,a){var o=a(1),s=a(3),l=a(5),c=a(20),u=a(23),d=a(25),f;typeof window<"u"&&(f=a(27));/*!
    Mock - 模拟请求 & 模拟数据
    https://github.com/nuysoft/Mock
    墨智 mozhi.gyy@taobao.com nuysoft@gmail.com
*/var v={Handler:o,Random:l,Util:s,XHR:f,RE:c,toJSONSchema:u,valid:d,heredoc:s.heredoc,setup:function(g){return f.setup(g)},_mocked:{}};v.version="1.0.1-beta3",f&&(f.Mock=v),v.mock=function(g,y,_){return arguments.length===1?o.gen(g):(arguments.length===2&&(_=y,y=void 0),f&&(window.XMLHttpRequest=f),v._mocked[g+(y||"")]={rurl:g,rtype:y,template:_},v)},r.exports=v},function(module,exports,__webpack_require__){var Constant=__webpack_require__(2),Util=__webpack_require__(3),Parser=__webpack_require__(4),Random=__webpack_require__(5),RE=__webpack_require__(20),Handler={extend:Util.extend};Handler.gen=function(r,n,a){n=n==null?"":n+"",a=a||{},a={path:a.path||[Constant.GUID],templatePath:a.templatePath||[Constant.GUID++],currentContext:a.currentContext,templateCurrentContext:a.templateCurrentContext||r,root:a.root||a.currentContext,templateRoot:a.templateRoot||a.templateCurrentContext||r};var o=Parser.parse(n),s=Util.type(r),l;return Handler[s]?(l=Handler[s]({type:s,template:r,name:n,parsedName:n&&n.replace(Constant.RE_KEY,"$1"),rule:o,context:a}),a.root||(a.root=l),l):r},Handler.extend({array:function(r){var n=[],a,o;if(r.template.length===0)return n;if(r.rule.parameters)if(r.rule.min===1&&r.rule.max===void 0)r.context.path.push(r.name),r.context.templatePath.push(r.name),n=Random.pick(Handler.gen(r.template,void 0,{path:r.context.path,templatePath:r.context.templatePath,currentContext:n,templateCurrentContext:r.template,root:r.context.root||n,templateRoot:r.context.templateRoot||r.template})),r.context.path.pop(),r.context.templatePath.pop();else if(r.rule.parameters[2])r.template.__order_index=r.template.__order_index||0,r.context.path.push(r.name),r.context.templatePath.push(r.name),n=Handler.gen(r.template,void 0,{path:r.context.path,templatePath:r.context.templatePath,currentContext:n,templateCurrentContext:r.template,root:r.context.root||n,templateRoot:r.context.templateRoot||r.template})[r.template.__order_index%r.template.length],r.template.__order_index+=+r.rule.parameters[2],r.context.path.pop(),r.context.templatePath.pop();else for(a=0;a<r.rule.count;a++)for(o=0;o<r.template.length;o++)r.context.path.push(n.length),r.context.templatePath.push(o),n.push(Handler.gen(r.template[o],n.length,{path:r.context.path,templatePath:r.context.templatePath,currentContext:n,templateCurrentContext:r.template,root:r.context.root||n,templateRoot:r.context.templateRoot||r.template})),r.context.path.pop(),r.context.templatePath.pop();else for(a=0;a<r.template.length;a++)r.context.path.push(a),r.context.templatePath.push(a),n.push(Handler.gen(r.template[a],a,{path:r.context.path,templatePath:r.context.templatePath,currentContext:n,templateCurrentContext:r.template,root:r.context.root||n,templateRoot:r.context.templateRoot||r.template})),r.context.path.pop(),r.context.templatePath.pop();return n},object:function(r){var n={},a,o,s,l,c,u;if(r.rule.min!=null)for(a=Util.keys(r.template),a=Random.shuffle(a),a=a.slice(0,r.rule.count),u=0;u<a.length;u++)s=a[u],l=s.replace(Constant.RE_KEY,"$1"),r.context.path.push(l),r.context.templatePath.push(s),n[l]=Handler.gen(r.template[s],s,{path:r.context.path,templatePath:r.context.templatePath,currentContext:n,templateCurrentContext:r.template,root:r.context.root||n,templateRoot:r.context.templateRoot||r.template}),r.context.path.pop(),r.context.templatePath.pop();else{a=[],o=[];for(s in r.template)(typeof r.template[s]=="function"?o:a).push(s);for(a=a.concat(o),u=0;u<a.length;u++)s=a[u],l=s.replace(Constant.RE_KEY,"$1"),r.context.path.push(l),r.context.templatePath.push(s),n[l]=Handler.gen(r.template[s],s,{path:r.context.path,templatePath:r.context.templatePath,currentContext:n,templateCurrentContext:r.template,root:r.context.root||n,templateRoot:r.context.templateRoot||r.template}),r.context.path.pop(),r.context.templatePath.pop(),c=s.match(Constant.RE_KEY),c&&c[2]&&Util.type(r.template[s])==="number"&&(r.template[s]+=parseInt(c[2],10))}return n},number:function(r){var n,a;if(r.rule.decimal){for(r.template+="",a=r.template.split("."),a[0]=r.rule.range?r.rule.count:a[0],a[1]=(a[1]||"").slice(0,r.rule.dcount);a[1].length<r.rule.dcount;)a[1]+=a[1].length<r.rule.dcount-1?Random.character("number"):Random.character("123456789");n=parseFloat(a.join("."),10)}else n=r.rule.range&&!r.rule.parameters[2]?r.rule.count:r.template;return n},boolean:function(r){var n;return n=r.rule.parameters?Random.bool(r.rule.min,r.rule.max,r.template):r.template,n},string:function(r){var n="",a,o,s,l;if(r.template.length){for(r.rule.count==null&&(n+=r.template),a=0;a<r.rule.count;a++)n+=r.template;for(o=n.match(Constant.RE_PLACEHOLDER)||[],a=0;a<o.length;a++){if(s=o[a],/^\\/.test(s)){o.splice(a--,1);continue}if(l=Handler.placeholder(s,r.context.currentContext,r.context.templateCurrentContext,r),o.length===1&&s===n&&typeof l!=typeof n){n=l;break}n=n.replace(s,l)}}else n=r.rule.range?Random.string(r.rule.count):r.template;return n},function:function(r){return r.template.call(r.context.currentContext,r)},regexp:function(r){var n="";r.rule.count==null&&(n+=r.template.source);for(var a=0;a<r.rule.count;a++)n+=r.template.source;return RE.Handler.gen(RE.Parser.parse(n))}}),Handler.extend({_all:function(){var r={};for(var n in Random)r[n.toLowerCase()]=n;return r},placeholder:function(placeholder,obj,templateContext,options){Constant.RE_PLACEHOLDER.exec("");var parts=Constant.RE_PLACEHOLDER.exec(placeholder),key=parts&&parts[1],lkey=key&&key.toLowerCase(),okey=this._all()[lkey],params=parts&&parts[2]||"",pathParts=this.splitPathToArray(key);try{params=eval("(function(){ return [].splice.call(arguments, 0 ) })("+params+")")}catch(r){params=parts[2].split(/,\s*/)}if(obj&&key in obj)return obj[key];if(key.charAt(0)==="/"||pathParts.length>1)return this.getValueByKeyPath(key,options);if(templateContext&&typeof templateContext=="object"&&key in templateContext&&placeholder!==templateContext[key])return templateContext[key]=Handler.gen(templateContext[key],key,{currentContext:obj,templateCurrentContext:templateContext}),templateContext[key];if(!(key in Random)&&!(lkey in Random)&&!(okey in Random))return placeholder;for(var i=0;i<params.length;i++)Constant.RE_PLACEHOLDER.exec(""),Constant.RE_PLACEHOLDER.test(params[i])&&(params[i]=Handler.placeholder(params[i],obj,templateContext,options));var handle=Random[key]||Random[lkey]||Random[okey];switch(Util.type(handle)){case"array":return Random.pick(handle);case"function":handle.options=options;var re=handle.apply(Random,params);return re===void 0&&(re=""),delete handle.options,re}},getValueByKeyPath:function(r,n){var a=r,o=this.splitPathToArray(r),s=[];r.charAt(0)==="/"?s=[n.context.path[0]].concat(this.normalizePath(o)):o.length>1&&(s=n.context.path.slice(0),s.pop(),s=this.normalizePath(s.concat(o)));try{r=o[o.length-1];for(var l=n.context.root,c=n.context.templateRoot,u=1;u<s.length-1;u++)l=l[s[u]],c=c[s[u]];if(l&&r in l)return l[r];if(c&&typeof c=="object"&&r in c&&a!==c[r])return c[r]=Handler.gen(c[r],r,{currentContext:l,templateCurrentContext:c}),c[r]}catch{}return"@"+o.join("/")},normalizePath:function(r){for(var n=[],a=0;a<r.length;a++)switch(r[a]){case"..":n.pop();break;case".":break;default:n.push(r[a])}return n},splitPathToArray:function(r){var n=r.split(/\/+/);return n[n.length-1]||(n=n.slice(0,-1)),n[0]||(n=n.slice(1)),n}}),module.exports=Handler},function(r,n){r.exports={GUID:1,RE_KEY:/(.+)\|(?:\+(\d+)|([\+\-]?\d+-?[\+\-]?\d*)?(?:\.(\d+-?\d*))?)/,RE_RANGE:/([\+\-]?\d+)-?([\+\-]?\d+)?/,RE_PLACEHOLDER:/\\*@([^@#%&()\?\s]+)(?:\((.*?)\))?/g}},function(r,n){var a={};a.extend=function(){var s=arguments[0]||{},l=1,c=arguments.length,u,d,f,v,g;for(c===1&&(s=this,l=0);l<c;l++)if(u=arguments[l],!!u)for(d in u)f=s[d],v=u[d],s!==v&&v!==void 0&&(a.isArray(v)||a.isObject(v)?(a.isArray(v)&&(g=f&&a.isArray(f)?f:[]),a.isObject(v)&&(g=f&&a.isObject(f)?f:{}),s[d]=a.extend(g,v)):s[d]=v);return s},a.each=function(s,l,c){var u,d;if(this.type(s)==="number")for(u=0;u<s;u++)l(u,u);else if(s.length===+s.length)for(u=0;u<s.length&&l.call(c,s[u],u,s)!==!1;u++);else for(d in s)if(l.call(c,s[d],d,s)===!1)break},a.type=function(s){return s==null?String(s):Object.prototype.toString.call(s).match(/\[object (\w+)\]/)[1].toLowerCase()},a.each("String Object Array RegExp Function".split(" "),function(o){a["is"+o]=function(s){return a.type(s)===o.toLowerCase()}}),a.isObjectOrArray=function(o){return a.isObject(o)||a.isArray(o)},a.isNumeric=function(o){return!isNaN(parseFloat(o))&&isFinite(o)},a.keys=function(o){var s=[];for(var l in o)o.hasOwnProperty(l)&&s.push(l);return s},a.values=function(o){var s=[];for(var l in o)o.hasOwnProperty(l)&&s.push(o[l]);return s},a.heredoc=function(s){return s.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},a.noop=function(){},r.exports=a},function(r,n,a){var o=a(2),s=a(5);r.exports={parse:function(l){l=l==null?"":l+"";var c=(l||"").match(o.RE_KEY),u=c&&c[3]&&c[3].match(o.RE_RANGE),d=u&&u[1]&&parseInt(u[1],10),f=u&&u[2]&&parseInt(u[2],10),v=u?u[2]?s.integer(d,f):parseInt(u[1],10):void 0,g=c&&c[4]&&c[4].match(o.RE_RANGE),y=g&&g[1]&&parseInt(g[1],10),_=g&&g[2]&&parseInt(g[2],10),b=g?!g[2]&&parseInt(g[1],10)||s.integer(y,_):void 0,T={parameters:c,range:u,min:d,max:f,count:v,decimal:g,dmin:y,dmax:_,dcount:b};for(var C in T)if(T[C]!=null)return T;return{}}}},function(r,n,a){var o=a(3),s={extend:o.extend};s.extend(a(6)),s.extend(a(7)),s.extend(a(8)),s.extend(a(10)),s.extend(a(13)),s.extend(a(15)),s.extend(a(16)),s.extend(a(17)),s.extend(a(14)),s.extend(a(19)),r.exports=s},function(r,n){r.exports={boolean:function(a,o,s){return s!==void 0?(a=typeof a<"u"&&!isNaN(a)?parseInt(a,10):1,o=typeof o<"u"&&!isNaN(o)?parseInt(o,10):1,Math.random()>1/(a+o)*a?!s:s):Math.random()>=.5},bool:function(a,o,s){return this.boolean(a,o,s)},natural:function(a,o){return a=typeof a<"u"?parseInt(a,10):0,o=typeof o<"u"?parseInt(o,10):9007199254740992,Math.round(Math.random()*(o-a))+a},integer:function(a,o){return a=typeof a<"u"?parseInt(a,10):-9007199254740992,o=typeof o<"u"?parseInt(o,10):9007199254740992,Math.round(Math.random()*(o-a))+a},int:function(a,o){return this.integer(a,o)},float:function(a,o,s,l){s=s===void 0?0:s,s=Math.max(Math.min(s,17),0),l=l===void 0?17:l,l=Math.max(Math.min(l,17),0);for(var c=this.integer(a,o)+".",u=0,d=this.natural(s,l);u<d;u++)c+=u<d-1?this.character("number"):this.character("123456789");return parseFloat(c,10)},character:function(a){var o={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"!@#$%^&*()[]"};return o.alpha=o.lower+o.upper,o.undefined=o.lower+o.upper+o.number+o.symbol,a=o[(""+a).toLowerCase()]||a,a.charAt(this.natural(0,a.length-1))},char:function(a){return this.character(a)},string:function(a,o,s){var l;switch(arguments.length){case 0:l=this.natural(3,7);break;case 1:l=a,a=void 0;break;case 2:typeof arguments[0]=="string"?l=o:(l=this.natural(a,o),a=void 0);break;case 3:l=this.natural(o,s);break}for(var c="",u=0;u<l;u++)c+=this.character(a);return c},str:function(){return this.string.apply(this,arguments)},range:function(a,o,s){arguments.length<=1&&(o=a||0,a=0),s=arguments[2]||1,a=+a,o=+o,s=+s;for(var l=Math.max(Math.ceil((o-a)/s),0),c=0,u=new Array(l);c<l;)u[c++]=a,a+=s;return u}}},function(r,n){var a={yyyy:"getFullYear",yy:function(o){return(""+o.getFullYear()).slice(2)},y:"yy",MM:function(o){var s=o.getMonth()+1;return s<10?"0"+s:s},M:function(o){return o.getMonth()+1},dd:function(o){var s=o.getDate();return s<10?"0"+s:s},d:"getDate",HH:function(o){var s=o.getHours();return s<10?"0"+s:s},H:"getHours",hh:function(o){var s=o.getHours()%12;return s<10?"0"+s:s},h:function(o){return o.getHours()%12},mm:function(o){var s=o.getMinutes();return s<10?"0"+s:s},m:"getMinutes",ss:function(o){var s=o.getSeconds();return s<10?"0"+s:s},s:"getSeconds",SS:function(o){var s=o.getMilliseconds();return s<10&&"00"+s||s<100&&"0"+s||s},S:"getMilliseconds",A:function(o){return o.getHours()<12?"AM":"PM"},a:function(o){return o.getHours()<12?"am":"pm"},T:"getTime"};r.exports={_patternLetters:a,_rformat:new RegExp(function(){var o=[];for(var s in a)o.push(s);return"("+o.join("|")+")"}(),"g"),_formatDate:function(o,s){return s.replace(this._rformat,function l(c,u){return typeof a[u]=="function"?a[u](o):a[u]in a?l(c,a[u]):o[a[u]]()})},_randomDate:function(o,s){return o=o===void 0?new Date(0):o,s=s===void 0?new Date:s,new Date(Math.random()*(s.getTime()-o.getTime()))},date:function(o){return o=o||"yyyy-MM-dd",this._formatDate(this._randomDate(),o)},time:function(o){return o=o||"HH:mm:ss",this._formatDate(this._randomDate(),o)},datetime:function(o){return o=o||"yyyy-MM-dd HH:mm:ss",this._formatDate(this._randomDate(),o)},now:function(o,s){arguments.length===1&&(/year|month|day|hour|minute|second|week/.test(o)||(s=o,o="")),o=(o||"").toLowerCase(),s=s||"yyyy-MM-dd HH:mm:ss";var l=new Date;switch(o){case"year":l.setMonth(0);case"month":l.setDate(1);case"week":case"day":l.setHours(0);case"hour":l.setMinutes(0);case"minute":l.setSeconds(0);case"second":l.setMilliseconds(0)}switch(o){case"week":l.setDate(l.getDate()-l.getDay())}return this._formatDate(l,s)}}},function(r,n,a){(function(o){o.exports={_adSize:["300x250","250x250","240x400","336x280","180x150","720x300","468x60","234x60","88x31","120x90","120x60","120x240","125x125","728x90","160x600","120x600","300x600"],_screenSize:["320x200","320x240","640x480","800x480","800x480","1024x600","1024x768","1280x800","1440x900","1920x1200","2560x1600"],_videoSize:["720x480","768x576","1280x720","1920x1080"],image:function(s,l,c,u,d){return arguments.length===4&&(d=u,u=void 0),arguments.length===3&&(d=c,c=void 0),s||(s=this.pick(this._adSize)),l&&~l.indexOf("#")&&(l=l.slice(1)),c&&~c.indexOf("#")&&(c=c.slice(1)),"http://dummyimage.com/"+s+(l?"/"+l:"")+(c?"/"+c:"")+(u?"."+u:"")+(d?"&text="+d:"")},img:function(){return this.image.apply(this,arguments)},_brandColors:{"4ormat":"#fb0a2a","500px":"#02adea","About.me (blue)":"#00405d","About.me (yellow)":"#ffcc33",Addvocate:"#ff6138",Adobe:"#ff0000",Aim:"#fcd20b",Amazon:"#e47911",Android:"#a4c639","Angie's List":"#7fbb00",AOL:"#0060a3",Atlassian:"#003366",Behance:"#053eff","Big Cartel":"#97b538",bitly:"#ee6123",Blogger:"#fc4f08",Boeing:"#0039a6","Booking.com":"#003580",Carbonmade:"#613854",Cheddar:"#ff7243","Code School":"#3d4944",Delicious:"#205cc0",Dell:"#3287c1",Designmoo:"#e54a4f",Deviantart:"#4e6252","Designer News":"#2d72da",Devour:"#fd0001",DEWALT:"#febd17","Disqus (blue)":"#59a3fc","Disqus (orange)":"#db7132",Dribbble:"#ea4c89",Dropbox:"#3d9ae8",Drupal:"#0c76ab",Dunked:"#2a323a",eBay:"#89c507",Ember:"#f05e1b",Engadget:"#00bdf6",Envato:"#528036",Etsy:"#eb6d20",Evernote:"#5ba525","Fab.com":"#dd0017",Facebook:"#3b5998",Firefox:"#e66000","Flickr (blue)":"#0063dc","Flickr (pink)":"#ff0084",Forrst:"#5b9a68",Foursquare:"#25a0ca",Garmin:"#007cc3",GetGlue:"#2d75a2",Gimmebar:"#f70078",GitHub:"#171515","Google Blue":"#0140ca","Google Green":"#16a61e","Google Red":"#dd1812","Google Yellow":"#fcca03","Google+":"#dd4b39",Grooveshark:"#f77f00",Groupon:"#82b548","Hacker News":"#ff6600",HelloWallet:"#0085ca","Heroku (light)":"#c7c5e6","Heroku (dark)":"#6567a5",HootSuite:"#003366",Houzz:"#73ba37",HTML5:"#ec6231",IKEA:"#ffcc33",IMDb:"#f3ce13",Instagram:"#3f729b",Intel:"#0071c5",Intuit:"#365ebf",Kickstarter:"#76cc1e",kippt:"#e03500",Kodery:"#00af81",LastFM:"#c3000d",LinkedIn:"#0e76a8",Livestream:"#cf0005",Lumo:"#576396",Mixpanel:"#a086d3",Meetup:"#e51937",Nokia:"#183693",NVIDIA:"#76b900",Opera:"#cc0f16",Path:"#e41f11","PayPal (dark)":"#1e477a","PayPal (light)":"#3b7bbf",Pinboard:"#0000e6",Pinterest:"#c8232c",PlayStation:"#665cbe",Pocket:"#ee4056",Prezi:"#318bff",Pusha:"#0f71b4",Quora:"#a82400","QUOTE.fm":"#66ceff",Rdio:"#008fd5",Readability:"#9c0000","Red Hat":"#cc0000",Resource:"#7eb400",Rockpack:"#0ba6ab",Roon:"#62b0d9",RSS:"#ee802f",Salesforce:"#1798c1",Samsung:"#0c4da2",Shopify:"#96bf48",Skype:"#00aff0",Snagajob:"#f47a20",Softonic:"#008ace",SoundCloud:"#ff7700","Space Box":"#f86960",Spotify:"#81b71a",Sprint:"#fee100",Squarespace:"#121212",StackOverflow:"#ef8236",Staples:"#cc0000","Status Chart":"#d7584f",Stripe:"#008cdd",StudyBlue:"#00afe1",StumbleUpon:"#f74425","T-Mobile":"#ea0a8e",Technorati:"#40a800","The Next Web":"#ef4423",Treehouse:"#5cb868",Trulia:"#5eab1f",Tumblr:"#34526f","Twitch.tv":"#6441a5",Twitter:"#00acee",TYPO3:"#ff8700",Ubuntu:"#dd4814",Ustream:"#3388ff",Verizon:"#ef1d1d",Vimeo:"#86c9ef",Vine:"#00a478",Virb:"#06afd8","Virgin Media":"#cc0000",Wooga:"#5b009c","WordPress (blue)":"#21759b","WordPress (orange)":"#d54e21","WordPress (grey)":"#464646",Wunderlist:"#2b88d9",XBOX:"#9bc848",XING:"#126567","Yahoo!":"#720e9e",Yandex:"#ffcc00",Yelp:"#c41200",YouTube:"#c4302b",Zalongo:"#5498dc",Zendesk:"#78a300",Zerply:"#9dcc7a",Zootool:"#5e8b1d"},_brandNames:function(){var s=[];for(var l in this._brandColors)s.push(l);return s},dataImage:function(s,l){var c;if(typeof document<"u")c=document.createElement("canvas");else{var u=o.require("canvas");c=new u}var d=c&&c.getContext&&c.getContext("2d");if(!c||!d)return"";s||(s=this.pick(this._adSize)),l=l!==void 0?l:s,s=s.split("x");var f=parseInt(s[0],10),v=parseInt(s[1],10),g=this._brandColors[this.pick(this._brandNames())],y="#FFF",_=14,b="sans-serif";return c.width=f,c.height=v,d.textAlign="center",d.textBaseline="middle",d.fillStyle=g,d.fillRect(0,0,f,v),d.fillStyle=y,d.font="bold "+_+"px "+b,d.fillText(l,f/2,v/2,f),c.toDataURL("image/png")}}}).call(n,a(9)(r))},function(r,n){r.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(r,n,a){var o=a(11),s=a(12);r.exports={color:function(l){return l||s[l]?s[l].nicer:this.hex()},hex:function(){var l=this._goldenRatioColor(),c=o.hsv2rgb(l),u=o.rgb2hex(c[0],c[1],c[2]);return u},rgb:function(){var l=this._goldenRatioColor(),c=o.hsv2rgb(l);return"rgb("+parseInt(c[0],10)+", "+parseInt(c[1],10)+", "+parseInt(c[2],10)+")"},rgba:function(){var l=this._goldenRatioColor(),c=o.hsv2rgb(l);return"rgba("+parseInt(c[0],10)+", "+parseInt(c[1],10)+", "+parseInt(c[2],10)+", "+Math.random().toFixed(2)+")"},hsl:function(){var l=this._goldenRatioColor(),c=o.hsv2hsl(l);return"hsl("+parseInt(c[0],10)+", "+parseInt(c[1],10)+", "+parseInt(c[2],10)+")"},_goldenRatioColor:function(l,c){return this._goldenRatio=.618033988749895,this._hue=this._hue||Math.random(),this._hue+=this._goldenRatio,this._hue%=1,typeof l!="number"&&(l=.5),typeof c!="number"&&(c=.95),[this._hue*360,l*100,c*100]}}},function(r,n){r.exports={rgb2hsl:function(o){var s=o[0]/255,l=o[1]/255,c=o[2]/255,u=Math.min(s,l,c),d=Math.max(s,l,c),f=d-u,v,g,y;return d==u?v=0:s==d?v=(l-c)/f:l==d?v=2+(c-s)/f:c==d&&(v=4+(s-l)/f),v=Math.min(v*60,360),v<0&&(v+=360),y=(u+d)/2,d==u?g=0:y<=.5?g=f/(d+u):g=f/(2-d-u),[v,g*100,y*100]},rgb2hsv:function(o){var s=o[0],l=o[1],c=o[2],u=Math.min(s,l,c),d=Math.max(s,l,c),f=d-u,v,g,y;return d===0?g=0:g=f/d*1e3/10,d==u?v=0:s==d?v=(l-c)/f:l==d?v=2+(c-s)/f:c==d&&(v=4+(s-l)/f),v=Math.min(v*60,360),v<0&&(v+=360),y=d/255*1e3/10,[v,g,y]},hsl2rgb:function(o){var s=o[0]/360,l=o[1]/100,c=o[2]/100,u,d,f,v,g;if(l===0)return g=c*255,[g,g,g];c<.5?d=c*(1+l):d=c+l-c*l,u=2*c-d,v=[0,0,0];for(var y=0;y<3;y++)f=s+1/3*-(y-1),f<0&&f++,f>1&&f--,6*f<1?g=u+(d-u)*6*f:2*f<1?g=d:3*f<2?g=u+(d-u)*(2/3-f)*6:g=u,v[y]=g*255;return v},hsl2hsv:function(o){var s=o[0],l=o[1]/100,c=o[2]/100,u,d;return c*=2,l*=c<=1?c:2-c,d=(c+l)/2,u=2*l/(c+l),[s,u*100,d*100]},hsv2rgb:function(o){var s=o[0]/60,l=o[1]/100,c=o[2]/100,u=Math.floor(s)%6,d=s-Math.floor(s),f=255*c*(1-l),v=255*c*(1-l*d),g=255*c*(1-l*(1-d));switch(c=255*c,u){case 0:return[c,g,f];case 1:return[v,c,f];case 2:return[f,c,g];case 3:return[f,v,c];case 4:return[g,f,c];case 5:return[c,f,v]}},hsv2hsl:function(o){var s=o[0],l=o[1]/100,c=o[2]/100,u,d;return d=(2-l)*c,u=l*c,u/=d<=1?d:2-d,d/=2,[s,u*100,d*100]},rgb2hex:function(a,o,s){return"#"+((256+a<<8|o)<<8|s).toString(16).slice(1)},hex2rgb:function(a){return a="0x"+a.slice(1).replace(a.length>4?a:/./g,"$&$&")|0,[a>>16,a>>8&255,a&255]}}},function(r,n){r.exports={navy:{value:"#000080",nicer:"#001F3F"},blue:{value:"#0000ff",nicer:"#0074D9"},aqua:{value:"#00ffff",nicer:"#7FDBFF"},teal:{value:"#008080",nicer:"#39CCCC"},olive:{value:"#008000",nicer:"#3D9970"},green:{value:"#008000",nicer:"#2ECC40"},lime:{value:"#00ff00",nicer:"#01FF70"},yellow:{value:"#ffff00",nicer:"#FFDC00"},orange:{value:"#ffa500",nicer:"#FF851B"},red:{value:"#ff0000",nicer:"#FF4136"},maroon:{value:"#800000",nicer:"#85144B"},fuchsia:{value:"#ff00ff",nicer:"#F012BE"},purple:{value:"#800080",nicer:"#B10DC9"},silver:{value:"#c0c0c0",nicer:"#DDDDDD"},gray:{value:"#808080",nicer:"#AAAAAA"},black:{value:"#000000",nicer:"#111111"},white:{value:"#FFFFFF",nicer:"#FFFFFF"}}},function(r,n,a){var o=a(6),s=a(14);function l(c,u,d,f){return d===void 0?o.natural(c,u):f===void 0?d:o.natural(parseInt(d,10),parseInt(f,10))}r.exports={paragraph:function(c,u){for(var d=l(3,7,c,u),f=[],v=0;v<d;v++)f.push(this.sentence());return f.join(" ")},cparagraph:function(c,u){for(var d=l(3,7,c,u),f=[],v=0;v<d;v++)f.push(this.csentence());return f.join("")},sentence:function(c,u){for(var d=l(12,18,c,u),f=[],v=0;v<d;v++)f.push(this.word());return s.capitalize(f.join(" "))+"."},csentence:function(c,u){for(var d=l(12,18,c,u),f=[],v=0;v<d;v++)f.push(this.cword());return f.join("")+"。"},word:function(c,u){for(var d=l(3,10,c,u),f="",v=0;v<d;v++)f+=o.character("lower");return f},cword:function(c,u,d){var f="的一是在不了有和人这中大为上个国我以要他时来用们生到作地于出就分对成会可主发年动同工也能下过子说产种面而方后多定行学法所民得经十三之进着等部度家电力里如水化高自二理起小物现实加量都两体制机当使点从业本去把性好应开它合还因由其些然前外天政四日那社义事平形相全表间样与关各重新线内数正心反你明看原又么利比或但质气第向道命此变条只没结解问意建月公无系军很情者最立代想已通并提直题党程展五果料象员革位入常文总次品式活设及管特件长求老头基资边流路级少图山统接知较将组见计别她手角期根论运农指几九区强放决西被干做必战先回则任取据处队南给色光门即保治北造百规热领七海口东导器压志世金增争济阶油思术极交受联什认六共权收证改清己美再采转更单风切打白教速花带安场身车例真务具万每目至达走积示议声报斗完类八离华名确才科张信马节话米整空元况今集温传土许步群广石记需段研界拉林律叫且究观越织装影算低持音众书布复容儿须际商非验连断深难近矿千周委素技备半办青省列习响约支般史感劳便团往酸历市克何除消构府称太准精值号率族维划选标写存候毛亲快效斯院查江型眼王按格养易置派层片始却专状育厂京识适属圆包火住调满县局照参红细引听该铁价严龙飞",v;switch(arguments.length){case 0:c=f,v=1;break;case 1:typeof arguments[0]=="string"?v=1:(v=c,c=f);break;case 2:typeof arguments[0]=="string"?v=u:(v=this.natural(c,u),c=f);break;case 3:v=this.natural(u,d);break}for(var g="",y=0;y<v;y++)g+=c.charAt(this.natural(0,c.length-1));return g},title:function(c,u){for(var d=l(3,7,c,u),f=[],v=0;v<d;v++)f.push(this.capitalize(this.word()));return f.join(" ")},ctitle:function(c,u){for(var d=l(3,7,c,u),f=[],v=0;v<d;v++)f.push(this.cword());return f.join("")}}},function(r,n,a){var o=a(3);r.exports={capitalize:function(s){return(s+"").charAt(0).toUpperCase()+(s+"").substr(1)},upper:function(s){return(s+"").toUpperCase()},lower:function(s){return(s+"").toLowerCase()},pick:function(l,c,u){return o.isArray(l)?(c===void 0&&(c=1),u===void 0&&(u=c)):(l=[].slice.call(arguments),c=1,u=1),c===1&&u===1?l[this.natural(0,l.length-1)]:this.shuffle(l,c,u)},shuffle:function(l,c,u){l=l||[];for(var d=l.slice(0),f=[],v=0,g=d.length,y=0;y<g;y++)v=this.natural(0,d.length-1),f.push(d[v]),d.splice(v,1);switch(arguments.length){case 0:case 1:return f;case 2:u=c;case 3:return c=parseInt(c,10),u=parseInt(u,10),f.slice(0,this.natural(c,u))}},order:function s(l){s.cache=s.cache||{},arguments.length>1&&(l=[].slice.call(arguments,0));var c=s.options,u=c.context.templatePath.join("."),d=s.cache[u]=s.cache[u]||{index:0,array:l};return d.array[d.index++%d.array.length]}}},function(r,n){r.exports={first:function(){var a=["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric"].concat(["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna"]);return this.pick(a)},last:function(){var a=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen"];return this.pick(a)},name:function(a){return this.first()+" "+(a?this.first()+" ":"")+this.last()},cfirst:function(){var a="王 李 张 刘 陈 杨 赵 黄 周 吴 徐 孙 胡 朱 高 林 何 郭 马 罗 梁 宋 郑 谢 韩 唐 冯 于 董 萧 程 曹 袁 邓 许 傅 沈 曾 彭 吕 苏 卢 蒋 蔡 贾 丁 魏 薛 叶 阎 余 潘 杜 戴 夏 锺 汪 田 任 姜 范 方 石 姚 谭 廖 邹 熊 金 陆 郝 孔 白 崔 康 毛 邱 秦 江 史 顾 侯 邵 孟 龙 万 段 雷 钱 汤 尹 黎 易 常 武 乔 贺 赖 龚 文".split(" ");return this.pick(a)},clast:function(){var a="伟 芳 娜 秀英 敏 静 丽 强 磊 军 洋 勇 艳 杰 娟 涛 明 超 秀兰 霞 平 刚 桂英".split(" ");return this.pick(a)},cname:function(){return this.cfirst()+this.clast()}}},function(r,n){r.exports={url:function(a,o){return(a||this.protocol())+"://"+(o||this.domain())+"/"+this.word()},protocol:function(){return this.pick("http ftp gopher mailto mid cid news nntp prospero telnet rlogin tn3270 wais".split(" "))},domain:function(a){return this.word()+"."+(a||this.tld())},tld:function(){return this.pick("com net org edu gov int mil cn com.cn net.cn gov.cn org.cn 中国 中国互联.公司 中国互联.网络 tel biz cc tv info name hk mobi asia cd travel pro museum coop aero ad ae af ag ai al am an ao aq ar as at au aw az ba bb bd be bf bg bh bi bj bm bn bo br bs bt bv bw by bz ca cc cf cg ch ci ck cl cm cn co cq cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh es et ev fi fj fk fm fo fr ga gb gd ge gf gh gi gl gm gn gp gr gt gu gw gy hk hm hn hr ht hu id ie il in io iq ir is it jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md mg mh ml mm mn mo mp mq mr ms mt mv mw mx my mz na nc ne nf ng ni nl no np nr nt nu nz om qa pa pe pf pg ph pk pl pm pn pr pt pw py re ro ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr st su sy sz tc td tf tg th tj tk tm tn to tp tr tt tv tw tz ua ug uk us uy va vc ve vg vn vu wf ws ye yu za zm zr zw".split(" "))},email:function(a){return this.character("lower")+"."+this.word()+"@"+(a||this.word()+"."+this.tld())},ip:function(){return this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)}}},function(r,n,a){var o=a(18),s=["东北","华北","华东","华中","华南","西南","西北"];r.exports={region:function(){return this.pick(s)},province:function(){return this.pick(o).name},city:function(l){var c=this.pick(o),u=this.pick(c.children);return l?[c.name,u.name].join(" "):u.name},county:function(l){var c=this.pick(o),u=this.pick(c.children),d=this.pick(u.children)||{name:"-"};return l?[c.name,u.name,d.name].join(" "):d.name},zip:function(l){for(var c="",u=0;u<(l||6);u++)c+=this.natural(0,9);return c}}},function(r,n){var a={11e4:"北京",110100:"北京市",110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110228:"密云县",110229:"延庆县",110230:"其它区",12e4:"天津",120100:"天津市",120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区",120106:"红桥区",120110:"东丽区",120111:"西青区",120112:"津南区",120113:"北辰区",120114:"武清区",120115:"宝坻区",120116:"滨海新区",120221:"宁河县",120223:"静海县",120225:"蓟县",120226:"其它区",13e4:"河北省",130100:"石家庄市",130102:"长安区",130103:"桥东区",130104:"桥西区",130105:"新华区",130107:"井陉矿区",130108:"裕华区",130121:"井陉县",130123:"正定县",130124:"栾城县",130125:"行唐县",130126:"灵寿县",130127:"高邑县",130128:"深泽县",130129:"赞皇县",130130:"无极县",130131:"平山县",130132:"元氏县",130133:"赵县",130181:"辛集市",130182:"藁城市",130183:"晋州市",130184:"新乐市",130185:"鹿泉市",130186:"其它区",130200:"唐山市",130202:"路南区",130203:"路北区",130204:"古冶区",130205:"开平区",130207:"丰南区",130208:"丰润区",130223:"滦县",130224:"滦南县",130225:"乐亭县",130227:"迁西县",130229:"玉田县",130230:"曹妃甸区",130281:"遵化市",130283:"迁安市",130284:"其它区",130300:"秦皇岛市",130302:"海港区",130303:"山海关区",130304:"北戴河区",130321:"青龙满族自治县",130322:"昌黎县",130323:"抚宁县",130324:"卢龙县",130398:"其它区",130400:"邯郸市",130402:"邯山区",130403:"丛台区",130404:"复兴区",130406:"峰峰矿区",130421:"邯郸县",130423:"临漳县",130424:"成安县",130425:"大名县",130426:"涉县",130427:"磁县",130428:"肥乡县",130429:"永年县",130430:"邱县",130431:"鸡泽县",130432:"广平县",130433:"馆陶县",130434:"魏县",130435:"曲周县",130481:"武安市",130482:"其它区",130500:"邢台市",130502:"桥东区",130503:"桥西区",130521:"邢台县",130522:"临城县",130523:"内丘县",130524:"柏乡县",130525:"隆尧县",130526:"任县",130527:"南和县",130528:"宁晋县",130529:"巨鹿县",130530:"新河县",130531:"广宗县",130532:"平乡县",130533:"威县",130534:"清河县",130535:"临西县",130581:"南宫市",130582:"沙河市",130583:"其它区",130600:"保定市",130602:"新市区",130603:"北市区",130604:"南市区",130621:"满城县",130622:"清苑县",130623:"涞水县",130624:"阜平县",130625:"徐水县",130626:"定兴县",130627:"唐县",130628:"高阳县",130629:"容城县",130630:"涞源县",130631:"望都县",130632:"安新县",130633:"易县",130634:"曲阳县",130635:"蠡县",130636:"顺平县",130637:"博野县",130638:"雄县",130681:"涿州市",130682:"定州市",130683:"安国市",130684:"高碑店市",130699:"其它区",130700:"张家口市",130702:"桥东区",130703:"桥西区",130705:"宣化区",130706:"下花园区",130721:"宣化县",130722:"张北县",130723:"康保县",130724:"沽源县",130725:"尚义县",130726:"蔚县",130727:"阳原县",130728:"怀安县",130729:"万全县",130730:"怀来县",130731:"涿鹿县",130732:"赤城县",130733:"崇礼县",130734:"其它区",130800:"承德市",130802:"双桥区",130803:"双滦区",130804:"鹰手营子矿区",130821:"承德县",130822:"兴隆县",130823:"平泉县",130824:"滦平县",130825:"隆化县",130826:"丰宁满族自治县",130827:"宽城满族自治县",130828:"围场满族蒙古族自治县",130829:"其它区",130900:"沧州市",130902:"新华区",130903:"运河区",130921:"沧县",130922:"青县",130923:"东光县",130924:"海兴县",130925:"盐山县",130926:"肃宁县",130927:"南皮县",130928:"吴桥县",130929:"献县",130930:"孟村回族自治县",130981:"泊头市",130982:"任丘市",130983:"黄骅市",130984:"河间市",130985:"其它区",131e3:"廊坊市",131002:"安次区",131003:"广阳区",131022:"固安县",131023:"永清县",131024:"香河县",131025:"大城县",131026:"文安县",131028:"大厂回族自治县",131081:"霸州市",131082:"三河市",131083:"其它区",131100:"衡水市",131102:"桃城区",131121:"枣强县",131122:"武邑县",131123:"武强县",131124:"饶阳县",131125:"安平县",131126:"故城县",131127:"景县",131128:"阜城县",131181:"冀州市",131182:"深州市",131183:"其它区",14e4:"山西省",140100:"太原市",140105:"小店区",140106:"迎泽区",140107:"杏花岭区",140108:"尖草坪区",140109:"万柏林区",140110:"晋源区",140121:"清徐县",140122:"阳曲县",140123:"娄烦县",140181:"古交市",140182:"其它区",140200:"大同市",140202:"城区",140203:"矿区",140211:"南郊区",140212:"新荣区",140221:"阳高县",140222:"天镇县",140223:"广灵县",140224:"灵丘县",140225:"浑源县",140226:"左云县",140227:"大同县",140228:"其它区",140300:"阳泉市",140302:"城区",140303:"矿区",140311:"郊区",140321:"平定县",140322:"盂县",140323:"其它区",140400:"长治市",140421:"长治县",140423:"襄垣县",140424:"屯留县",140425:"平顺县",140426:"黎城县",140427:"壶关县",140428:"长子县",140429:"武乡县",140430:"沁县",140431:"沁源县",140481:"潞城市",140482:"城区",140483:"郊区",140485:"其它区",140500:"晋城市",140502:"城区",140521:"沁水县",140522:"阳城县",140524:"陵川县",140525:"泽州县",140581:"高平市",140582:"其它区",140600:"朔州市",140602:"朔城区",140603:"平鲁区",140621:"山阴县",140622:"应县",140623:"右玉县",140624:"怀仁县",140625:"其它区",140700:"晋中市",140702:"榆次区",140721:"榆社县",140722:"左权县",140723:"和顺县",140724:"昔阳县",140725:"寿阳县",140726:"太谷县",140727:"祁县",140728:"平遥县",140729:"灵石县",140781:"介休市",140782:"其它区",140800:"运城市",140802:"盐湖区",140821:"临猗县",140822:"万荣县",140823:"闻喜县",140824:"稷山县",140825:"新绛县",140826:"绛县",140827:"垣曲县",140828:"夏县",140829:"平陆县",140830:"芮城县",140881:"永济市",140882:"河津市",140883:"其它区",140900:"忻州市",140902:"忻府区",140921:"定襄县",140922:"五台县",140923:"代县",140924:"繁峙县",140925:"宁武县",140926:"静乐县",140927:"神池县",140928:"五寨县",140929:"岢岚县",140930:"河曲县",140931:"保德县",140932:"偏关县",140981:"原平市",140982:"其它区",141e3:"临汾市",141002:"尧都区",141021:"曲沃县",141022:"翼城县",141023:"襄汾县",141024:"洪洞县",141025:"古县",141026:"安泽县",141027:"浮山县",141028:"吉县",141029:"乡宁县",141030:"大宁县",141031:"隰县",141032:"永和县",141033:"蒲县",141034:"汾西县",141081:"侯马市",141082:"霍州市",141083:"其它区",141100:"吕梁市",141102:"离石区",141121:"文水县",141122:"交城县",141123:"兴县",141124:"临县",141125:"柳林县",141126:"石楼县",141127:"岚县",141128:"方山县",141129:"中阳县",141130:"交口县",141181:"孝义市",141182:"汾阳市",141183:"其它区",15e4:"内蒙古自治区",150100:"呼和浩特市",150102:"新城区",150103:"回民区",150104:"玉泉区",150105:"赛罕区",150121:"土默特左旗",150122:"托克托县",150123:"和林格尔县",150124:"清水河县",150125:"武川县",150126:"其它区",150200:"包头市",150202:"东河区",150203:"昆都仑区",150204:"青山区",150205:"石拐区",150206:"白云鄂博矿区",150207:"九原区",150221:"土默特右旗",150222:"固阳县",150223:"达尔罕茂明安联合旗",150224:"其它区",150300:"乌海市",150302:"海勃湾区",150303:"海南区",150304:"乌达区",150305:"其它区",150400:"赤峰市",150402:"红山区",150403:"元宝山区",150404:"松山区",150421:"阿鲁科尔沁旗",150422:"巴林左旗",150423:"巴林右旗",150424:"林西县",150425:"克什克腾旗",150426:"翁牛特旗",150428:"喀喇沁旗",150429:"宁城县",150430:"敖汉旗",150431:"其它区",150500:"通辽市",150502:"科尔沁区",150521:"科尔沁左翼中旗",150522:"科尔沁左翼后旗",150523:"开鲁县",150524:"库伦旗",150525:"奈曼旗",150526:"扎鲁特旗",150581:"霍林郭勒市",150582:"其它区",150600:"鄂尔多斯市",150602:"东胜区",150621:"达拉特旗",150622:"准格尔旗",150623:"鄂托克前旗",150624:"鄂托克旗",150625:"杭锦旗",150626:"乌审旗",150627:"伊金霍洛旗",150628:"其它区",150700:"呼伦贝尔市",150702:"海拉尔区",150703:"扎赉诺尔区",150721:"阿荣旗",150722:"莫力达瓦达斡尔族自治旗",150723:"鄂伦春自治旗",150724:"鄂温克族自治旗",150725:"陈巴尔虎旗",150726:"新巴尔虎左旗",150727:"新巴尔虎右旗",150781:"满洲里市",150782:"牙克石市",150783:"扎兰屯市",150784:"额尔古纳市",150785:"根河市",150786:"其它区",150800:"巴彦淖尔市",150802:"临河区",150821:"五原县",150822:"磴口县",150823:"乌拉特前旗",150824:"乌拉特中旗",150825:"乌拉特后旗",150826:"杭锦后旗",150827:"其它区",150900:"乌兰察布市",150902:"集宁区",150921:"卓资县",150922:"化德县",150923:"商都县",150924:"兴和县",150925:"凉城县",150926:"察哈尔右翼前旗",150927:"察哈尔右翼中旗",150928:"察哈尔右翼后旗",150929:"四子王旗",150981:"丰镇市",150982:"其它区",152200:"兴安盟",152201:"乌兰浩特市",152202:"阿尔山市",152221:"科尔沁右翼前旗",152222:"科尔沁右翼中旗",152223:"扎赉特旗",152224:"突泉县",152225:"其它区",152500:"锡林郭勒盟",152501:"二连浩特市",152502:"锡林浩特市",152522:"阿巴嘎旗",152523:"苏尼特左旗",152524:"苏尼特右旗",152525:"东乌珠穆沁旗",152526:"西乌珠穆沁旗",152527:"太仆寺旗",152528:"镶黄旗",152529:"正镶白旗",152530:"正蓝旗",152531:"多伦县",152532:"其它区",152900:"阿拉善盟",152921:"阿拉善左旗",152922:"阿拉善右旗",152923:"额济纳旗",152924:"其它区",21e4:"辽宁省",210100:"沈阳市",210102:"和平区",210103:"沈河区",210104:"大东区",210105:"皇姑区",210106:"铁西区",210111:"苏家屯区",210112:"东陵区",210113:"新城子区",210114:"于洪区",210122:"辽中县",210123:"康平县",210124:"法库县",210181:"新民市",210184:"沈北新区",210185:"其它区",210200:"大连市",210202:"中山区",210203:"西岗区",210204:"沙河口区",210211:"甘井子区",210212:"旅顺口区",210213:"金州区",210224:"长海县",210281:"瓦房店市",210282:"普兰店市",210283:"庄河市",210298:"其它区",210300:"鞍山市",210302:"铁东区",210303:"铁西区",210304:"立山区",210311:"千山区",210321:"台安县",210323:"岫岩满族自治县",210381:"海城市",210382:"其它区",210400:"抚顺市",210402:"新抚区",210403:"东洲区",210404:"望花区",210411:"顺城区",210421:"抚顺县",210422:"新宾满族自治县",210423:"清原满族自治县",210424:"其它区",210500:"本溪市",210502:"平山区",210503:"溪湖区",210504:"明山区",210505:"南芬区",210521:"本溪满族自治县",210522:"桓仁满族自治县",210523:"其它区",210600:"丹东市",210602:"元宝区",210603:"振兴区",210604:"振安区",210624:"宽甸满族自治县",210681:"东港市",210682:"凤城市",210683:"其它区",210700:"锦州市",210702:"古塔区",210703:"凌河区",210711:"太和区",210726:"黑山县",210727:"义县",210781:"凌海市",210782:"北镇市",210783:"其它区",210800:"营口市",210802:"站前区",210803:"西市区",210804:"鲅鱼圈区",210811:"老边区",210881:"盖州市",210882:"大石桥市",210883:"其它区",210900:"阜新市",210902:"海州区",210903:"新邱区",210904:"太平区",210905:"清河门区",210911:"细河区",210921:"阜新蒙古族自治县",210922:"彰武县",210923:"其它区",211e3:"辽阳市",211002:"白塔区",211003:"文圣区",211004:"宏伟区",211005:"弓长岭区",211011:"太子河区",211021:"辽阳县",211081:"灯塔市",211082:"其它区",211100:"盘锦市",211102:"双台子区",211103:"兴隆台区",211121:"大洼县",211122:"盘山县",211123:"其它区",211200:"铁岭市",211202:"银州区",211204:"清河区",211221:"铁岭县",211223:"西丰县",211224:"昌图县",211281:"调兵山市",211282:"开原市",211283:"其它区",211300:"朝阳市",211302:"双塔区",211303:"龙城区",211321:"朝阳县",211322:"建平县",211324:"喀喇沁左翼蒙古族自治县",211381:"北票市",211382:"凌源市",211383:"其它区",211400:"葫芦岛市",211402:"连山区",211403:"龙港区",211404:"南票区",211421:"绥中县",211422:"建昌县",211481:"兴城市",211482:"其它区",22e4:"吉林省",220100:"长春市",220102:"南关区",220103:"宽城区",220104:"朝阳区",220105:"二道区",220106:"绿园区",220112:"双阳区",220122:"农安县",220181:"九台市",220182:"榆树市",220183:"德惠市",220188:"其它区",220200:"吉林市",220202:"昌邑区",220203:"龙潭区",220204:"船营区",220211:"丰满区",220221:"永吉县",220281:"蛟河市",220282:"桦甸市",220283:"舒兰市",220284:"磐石市",220285:"其它区",220300:"四平市",220302:"铁西区",220303:"铁东区",220322:"梨树县",220323:"伊通满族自治县",220381:"公主岭市",220382:"双辽市",220383:"其它区",220400:"辽源市",220402:"龙山区",220403:"西安区",220421:"东丰县",220422:"东辽县",220423:"其它区",220500:"通化市",220502:"东昌区",220503:"二道江区",220521:"通化县",220523:"辉南县",220524:"柳河县",220581:"梅河口市",220582:"集安市",220583:"其它区",220600:"白山市",220602:"浑江区",220621:"抚松县",220622:"靖宇县",220623:"长白朝鲜族自治县",220625:"江源区",220681:"临江市",220682:"其它区",220700:"松原市",220702:"宁江区",220721:"前郭尔罗斯蒙古族自治县",220722:"长岭县",220723:"乾安县",220724:"扶余市",220725:"其它区",220800:"白城市",220802:"洮北区",220821:"镇赉县",220822:"通榆县",220881:"洮南市",220882:"大安市",220883:"其它区",222400:"延边朝鲜族自治州",222401:"延吉市",222402:"图们市",222403:"敦化市",222404:"珲春市",222405:"龙井市",222406:"和龙市",222424:"汪清县",222426:"安图县",222427:"其它区",23e4:"黑龙江省",230100:"哈尔滨市",230102:"道里区",230103:"南岗区",230104:"道外区",230106:"香坊区",230108:"平房区",230109:"松北区",230111:"呼兰区",230123:"依兰县",230124:"方正县",230125:"宾县",230126:"巴彦县",230127:"木兰县",230128:"通河县",230129:"延寿县",230181:"阿城区",230182:"双城市",230183:"尚志市",230184:"五常市",230186:"其它区",230200:"齐齐哈尔市",230202:"龙沙区",230203:"建华区",230204:"铁锋区",230205:"昂昂溪区",230206:"富拉尔基区",230207:"碾子山区",230208:"梅里斯达斡尔族区",230221:"龙江县",230223:"依安县",230224:"泰来县",230225:"甘南县",230227:"富裕县",230229:"克山县",230230:"克东县",230231:"拜泉县",230281:"讷河市",230282:"其它区",230300:"鸡西市",230302:"鸡冠区",230303:"恒山区",230304:"滴道区",230305:"梨树区",230306:"城子河区",230307:"麻山区",230321:"鸡东县",230381:"虎林市",230382:"密山市",230383:"其它区",230400:"鹤岗市",230402:"向阳区",230403:"工农区",230404:"南山区",230405:"兴安区",230406:"东山区",230407:"兴山区",230421:"萝北县",230422:"绥滨县",230423:"其它区",230500:"双鸭山市",230502:"尖山区",230503:"岭东区",230505:"四方台区",230506:"宝山区",230521:"集贤县",230522:"友谊县",230523:"宝清县",230524:"饶河县",230525:"其它区",230600:"大庆市",230602:"萨尔图区",230603:"龙凤区",230604:"让胡路区",230605:"红岗区",230606:"大同区",230621:"肇州县",230622:"肇源县",230623:"林甸县",230624:"杜尔伯特蒙古族自治县",230625:"其它区",230700:"伊春市",230702:"伊春区",230703:"南岔区",230704:"友好区",230705:"西林区",230706:"翠峦区",230707:"新青区",230708:"美溪区",230709:"金山屯区",230710:"五营区",230711:"乌马河区",230712:"汤旺河区",230713:"带岭区",230714:"乌伊岭区",230715:"红星区",230716:"上甘岭区",230722:"嘉荫县",230781:"铁力市",230782:"其它区",230800:"佳木斯市",230803:"向阳区",230804:"前进区",230805:"东风区",230811:"郊区",230822:"桦南县",230826:"桦川县",230828:"汤原县",230833:"抚远县",230881:"同江市",230882:"富锦市",230883:"其它区",230900:"七台河市",230902:"新兴区",230903:"桃山区",230904:"茄子河区",230921:"勃利县",230922:"其它区",231e3:"牡丹江市",231002:"东安区",231003:"阳明区",231004:"爱民区",231005:"西安区",231024:"东宁县",231025:"林口县",231081:"绥芬河市",231083:"海林市",231084:"宁安市",231085:"穆棱市",231086:"其它区",231100:"黑河市",231102:"爱辉区",231121:"嫩江县",231123:"逊克县",231124:"孙吴县",231181:"北安市",231182:"五大连池市",231183:"其它区",231200:"绥化市",231202:"北林区",231221:"望奎县",231222:"兰西县",231223:"青冈县",231224:"庆安县",231225:"明水县",231226:"绥棱县",231281:"安达市",231282:"肇东市",231283:"海伦市",231284:"其它区",232700:"大兴安岭地区",232702:"松岭区",232703:"新林区",232704:"呼中区",232721:"呼玛县",232722:"塔河县",232723:"漠河县",232724:"加格达奇区",232725:"其它区",31e4:"上海",310100:"上海市",310101:"黄浦区",310104:"徐汇区",310105:"长宁区",310106:"静安区",310107:"普陀区",310108:"闸北区",310109:"虹口区",310110:"杨浦区",310112:"闵行区",310113:"宝山区",310114:"嘉定区",310115:"浦东新区",310116:"金山区",310117:"松江区",310118:"青浦区",310120:"奉贤区",310230:"崇明县",310231:"其它区",32e4:"江苏省",320100:"南京市",320102:"玄武区",320104:"秦淮区",320105:"建邺区",320106:"鼓楼区",320111:"浦口区",320113:"栖霞区",320114:"雨花台区",320115:"江宁区",320116:"六合区",320124:"溧水区",320125:"高淳区",320126:"其它区",320200:"无锡市",320202:"崇安区",320203:"南长区",320204:"北塘区",320205:"锡山区",320206:"惠山区",320211:"滨湖区",320281:"江阴市",320282:"宜兴市",320297:"其它区",320300:"徐州市",320302:"鼓楼区",320303:"云龙区",320305:"贾汪区",320311:"泉山区",320321:"丰县",320322:"沛县",320323:"铜山区",320324:"睢宁县",320381:"新沂市",320382:"邳州市",320383:"其它区",320400:"常州市",320402:"天宁区",320404:"钟楼区",320405:"戚墅堰区",320411:"新北区",320412:"武进区",320481:"溧阳市",320482:"金坛市",320483:"其它区",320500:"苏州市",320505:"虎丘区",320506:"吴中区",320507:"相城区",320508:"姑苏区",320581:"常熟市",320582:"张家港市",320583:"昆山市",320584:"吴江区",320585:"太仓市",320596:"其它区",320600:"南通市",320602:"崇川区",320611:"港闸区",320612:"通州区",320621:"海安县",320623:"如东县",320681:"启东市",320682:"如皋市",320684:"海门市",320694:"其它区",320700:"连云港市",320703:"连云区",320705:"新浦区",320706:"海州区",320721:"赣榆县",320722:"东海县",320723:"灌云县",320724:"灌南县",320725:"其它区",320800:"淮安市",320802:"清河区",320803:"淮安区",320804:"淮阴区",320811:"清浦区",320826:"涟水县",320829:"洪泽县",320830:"盱眙县",320831:"金湖县",320832:"其它区",320900:"盐城市",320902:"亭湖区",320903:"盐都区",320921:"响水县",320922:"滨海县",320923:"阜宁县",320924:"射阳县",320925:"建湖县",320981:"东台市",320982:"大丰市",320983:"其它区",321e3:"扬州市",321002:"广陵区",321003:"邗江区",321023:"宝应县",321081:"仪征市",321084:"高邮市",321088:"江都区",321093:"其它区",321100:"镇江市",321102:"京口区",321111:"润州区",321112:"丹徒区",321181:"丹阳市",321182:"扬中市",321183:"句容市",321184:"其它区",321200:"泰州市",321202:"海陵区",321203:"高港区",321281:"兴化市",321282:"靖江市",321283:"泰兴市",321284:"姜堰区",321285:"其它区",321300:"宿迁市",321302:"宿城区",321311:"宿豫区",321322:"沭阳县",321323:"泗阳县",321324:"泗洪县",321325:"其它区",33e4:"浙江省",330100:"杭州市",330102:"上城区",330103:"下城区",330104:"江干区",330105:"拱墅区",330106:"西湖区",330108:"滨江区",330109:"萧山区",330110:"余杭区",330122:"桐庐县",330127:"淳安县",330182:"建德市",330183:"富阳市",330185:"临安市",330186:"其它区",330200:"宁波市",330203:"海曙区",330204:"江东区",330205:"江北区",330206:"北仑区",330211:"镇海区",330212:"鄞州区",330225:"象山县",330226:"宁海县",330281:"余姚市",330282:"慈溪市",330283:"奉化市",330284:"其它区",330300:"温州市",330302:"鹿城区",330303:"龙湾区",330304:"瓯海区",330322:"洞头县",330324:"永嘉县",330326:"平阳县",330327:"苍南县",330328:"文成县",330329:"泰顺县",330381:"瑞安市",330382:"乐清市",330383:"其它区",330400:"嘉兴市",330402:"南湖区",330411:"秀洲区",330421:"嘉善县",330424:"海盐县",330481:"海宁市",330482:"平湖市",330483:"桐乡市",330484:"其它区",330500:"湖州市",330502:"吴兴区",330503:"南浔区",330521:"德清县",330522:"长兴县",330523:"安吉县",330524:"其它区",330600:"绍兴市",330602:"越城区",330621:"绍兴县",330624:"新昌县",330681:"诸暨市",330682:"上虞市",330683:"嵊州市",330684:"其它区",330700:"金华市",330702:"婺城区",330703:"金东区",330723:"武义县",330726:"浦江县",330727:"磐安县",330781:"兰溪市",330782:"义乌市",330783:"东阳市",330784:"永康市",330785:"其它区",330800:"衢州市",330802:"柯城区",330803:"衢江区",330822:"常山县",330824:"开化县",330825:"龙游县",330881:"江山市",330882:"其它区",330900:"舟山市",330902:"定海区",330903:"普陀区",330921:"岱山县",330922:"嵊泗县",330923:"其它区",331e3:"台州市",331002:"椒江区",331003:"黄岩区",331004:"路桥区",331021:"玉环县",331022:"三门县",331023:"天台县",331024:"仙居县",331081:"温岭市",331082:"临海市",331083:"其它区",331100:"丽水市",331102:"莲都区",331121:"青田县",331122:"缙云县",331123:"遂昌县",331124:"松阳县",331125:"云和县",331126:"庆元县",331127:"景宁畲族自治县",331181:"龙泉市",331182:"其它区",34e4:"安徽省",340100:"合肥市",340102:"瑶海区",340103:"庐阳区",340104:"蜀山区",340111:"包河区",340121:"长丰县",340122:"肥东县",340123:"肥西县",340192:"其它区",340200:"芜湖市",340202:"镜湖区",340203:"弋江区",340207:"鸠江区",340208:"三山区",340221:"芜湖县",340222:"繁昌县",340223:"南陵县",340224:"其它区",340300:"蚌埠市",340302:"龙子湖区",340303:"蚌山区",340304:"禹会区",340311:"淮上区",340321:"怀远县",340322:"五河县",340323:"固镇县",340324:"其它区",340400:"淮南市",340402:"大通区",340403:"田家庵区",340404:"谢家集区",340405:"八公山区",340406:"潘集区",340421:"凤台县",340422:"其它区",340500:"马鞍山市",340503:"花山区",340504:"雨山区",340506:"博望区",340521:"当涂县",340522:"其它区",340600:"淮北市",340602:"杜集区",340603:"相山区",340604:"烈山区",340621:"濉溪县",340622:"其它区",340700:"铜陵市",340702:"铜官山区",340703:"狮子山区",340711:"郊区",340721:"铜陵县",340722:"其它区",340800:"安庆市",340802:"迎江区",340803:"大观区",340811:"宜秀区",340822:"怀宁县",340823:"枞阳县",340824:"潜山县",340825:"太湖县",340826:"宿松县",340827:"望江县",340828:"岳西县",340881:"桐城市",340882:"其它区",341e3:"黄山市",341002:"屯溪区",341003:"黄山区",341004:"徽州区",341021:"歙县",341022:"休宁县",341023:"黟县",341024:"祁门县",341025:"其它区",341100:"滁州市",341102:"琅琊区",341103:"南谯区",341122:"来安县",341124:"全椒县",341125:"定远县",341126:"凤阳县",341181:"天长市",341182:"明光市",341183:"其它区",341200:"阜阳市",341202:"颍州区",341203:"颍东区",341204:"颍泉区",341221:"临泉县",341222:"太和县",341225:"阜南县",341226:"颍上县",341282:"界首市",341283:"其它区",341300:"宿州市",341302:"埇桥区",341321:"砀山县",341322:"萧县",341323:"灵璧县",341324:"泗县",341325:"其它区",341400:"巢湖市",341421:"庐江县",341422:"无为县",341423:"含山县",341424:"和县",341500:"六安市",341502:"金安区",341503:"裕安区",341521:"寿县",341522:"霍邱县",341523:"舒城县",341524:"金寨县",341525:"霍山县",341526:"其它区",341600:"亳州市",341602:"谯城区",341621:"涡阳县",341622:"蒙城县",341623:"利辛县",341624:"其它区",341700:"池州市",341702:"贵池区",341721:"东至县",341722:"石台县",341723:"青阳县",341724:"其它区",341800:"宣城市",341802:"宣州区",341821:"郎溪县",341822:"广德县",341823:"泾县",341824:"绩溪县",341825:"旌德县",341881:"宁国市",341882:"其它区",35e4:"福建省",350100:"福州市",350102:"鼓楼区",350103:"台江区",350104:"仓山区",350105:"马尾区",350111:"晋安区",350121:"闽侯县",350122:"连江县",350123:"罗源县",350124:"闽清县",350125:"永泰县",350128:"平潭县",350181:"福清市",350182:"长乐市",350183:"其它区",350200:"厦门市",350203:"思明区",350205:"海沧区",350206:"湖里区",350211:"集美区",350212:"同安区",350213:"翔安区",350214:"其它区",350300:"莆田市",350302:"城厢区",350303:"涵江区",350304:"荔城区",350305:"秀屿区",350322:"仙游县",350323:"其它区",350400:"三明市",350402:"梅列区",350403:"三元区",350421:"明溪县",350423:"清流县",350424:"宁化县",350425:"大田县",350426:"尤溪县",350427:"沙县",350428:"将乐县",350429:"泰宁县",350430:"建宁县",350481:"永安市",350482:"其它区",350500:"泉州市",350502:"鲤城区",350503:"丰泽区",350504:"洛江区",350505:"泉港区",350521:"惠安县",350524:"安溪县",350525:"永春县",350526:"德化县",350527:"金门县",350581:"石狮市",350582:"晋江市",350583:"南安市",350584:"其它区",350600:"漳州市",350602:"芗城区",350603:"龙文区",350622:"云霄县",350623:"漳浦县",350624:"诏安县",350625:"长泰县",350626:"东山县",350627:"南靖县",350628:"平和县",350629:"华安县",350681:"龙海市",350682:"其它区",350700:"南平市",350702:"延平区",350721:"顺昌县",350722:"浦城县",350723:"光泽县",350724:"松溪县",350725:"政和县",350781:"邵武市",350782:"武夷山市",350783:"建瓯市",350784:"建阳市",350785:"其它区",350800:"龙岩市",350802:"新罗区",350821:"长汀县",350822:"永定县",350823:"上杭县",350824:"武平县",350825:"连城县",350881:"漳平市",350882:"其它区",350900:"宁德市",350902:"蕉城区",350921:"霞浦县",350922:"古田县",350923:"屏南县",350924:"寿宁县",350925:"周宁县",350926:"柘荣县",350981:"福安市",350982:"福鼎市",350983:"其它区",36e4:"江西省",360100:"南昌市",360102:"东湖区",360103:"西湖区",360104:"青云谱区",360105:"湾里区",360111:"青山湖区",360121:"南昌县",360122:"新建县",360123:"安义县",360124:"进贤县",360128:"其它区",360200:"景德镇市",360202:"昌江区",360203:"珠山区",360222:"浮梁县",360281:"乐平市",360282:"其它区",360300:"萍乡市",360302:"安源区",360313:"湘东区",360321:"莲花县",360322:"上栗县",360323:"芦溪县",360324:"其它区",360400:"九江市",360402:"庐山区",360403:"浔阳区",360421:"九江县",360423:"武宁县",360424:"修水县",360425:"永修县",360426:"德安县",360427:"星子县",360428:"都昌县",360429:"湖口县",360430:"彭泽县",360481:"瑞昌市",360482:"其它区",360483:"共青城市",360500:"新余市",360502:"渝水区",360521:"分宜县",360522:"其它区",360600:"鹰潭市",360602:"月湖区",360622:"余江县",360681:"贵溪市",360682:"其它区",360700:"赣州市",360702:"章贡区",360721:"赣县",360722:"信丰县",360723:"大余县",360724:"上犹县",360725:"崇义县",360726:"安远县",360727:"龙南县",360728:"定南县",360729:"全南县",360730:"宁都县",360731:"于都县",360732:"兴国县",360733:"会昌县",360734:"寻乌县",360735:"石城县",360781:"瑞金市",360782:"南康市",360783:"其它区",360800:"吉安市",360802:"吉州区",360803:"青原区",360821:"吉安县",360822:"吉水县",360823:"峡江县",360824:"新干县",360825:"永丰县",360826:"泰和县",360827:"遂川县",360828:"万安县",360829:"安福县",360830:"永新县",360881:"井冈山市",360882:"其它区",360900:"宜春市",360902:"袁州区",360921:"奉新县",360922:"万载县",360923:"上高县",360924:"宜丰县",360925:"靖安县",360926:"铜鼓县",360981:"丰城市",360982:"樟树市",360983:"高安市",360984:"其它区",361e3:"抚州市",361002:"临川区",361021:"南城县",361022:"黎川县",361023:"南丰县",361024:"崇仁县",361025:"乐安县",361026:"宜黄县",361027:"金溪县",361028:"资溪县",361029:"东乡县",361030:"广昌县",361031:"其它区",361100:"上饶市",361102:"信州区",361121:"上饶县",361122:"广丰县",361123:"玉山县",361124:"铅山县",361125:"横峰县",361126:"弋阳县",361127:"余干县",361128:"鄱阳县",361129:"万年县",361130:"婺源县",361181:"德兴市",361182:"其它区",37e4:"山东省",370100:"济南市",370102:"历下区",370103:"市中区",370104:"槐荫区",370105:"天桥区",370112:"历城区",370113:"长清区",370124:"平阴县",370125:"济阳县",370126:"商河县",370181:"章丘市",370182:"其它区",370200:"青岛市",370202:"市南区",370203:"市北区",370211:"黄岛区",370212:"崂山区",370213:"李沧区",370214:"城阳区",370281:"胶州市",370282:"即墨市",370283:"平度市",370285:"莱西市",370286:"其它区",370300:"淄博市",370302:"淄川区",370303:"张店区",370304:"博山区",370305:"临淄区",370306:"周村区",370321:"桓台县",370322:"高青县",370323:"沂源县",370324:"其它区",370400:"枣庄市",370402:"市中区",370403:"薛城区",370404:"峄城区",370405:"台儿庄区",370406:"山亭区",370481:"滕州市",370482:"其它区",370500:"东营市",370502:"东营区",370503:"河口区",370521:"垦利县",370522:"利津县",370523:"广饶县",370591:"其它区",370600:"烟台市",370602:"芝罘区",370611:"福山区",370612:"牟平区",370613:"莱山区",370634:"长岛县",370681:"龙口市",370682:"莱阳市",370683:"莱州市",370684:"蓬莱市",370685:"招远市",370686:"栖霞市",370687:"海阳市",370688:"其它区",370700:"潍坊市",370702:"潍城区",370703:"寒亭区",370704:"坊子区",370705:"奎文区",370724:"临朐县",370725:"昌乐县",370781:"青州市",370782:"诸城市",370783:"寿光市",370784:"安丘市",370785:"高密市",370786:"昌邑市",370787:"其它区",370800:"济宁市",370802:"市中区",370811:"任城区",370826:"微山县",370827:"鱼台县",370828:"金乡县",370829:"嘉祥县",370830:"汶上县",370831:"泗水县",370832:"梁山县",370881:"曲阜市",370882:"兖州市",370883:"邹城市",370884:"其它区",370900:"泰安市",370902:"泰山区",370903:"岱岳区",370921:"宁阳县",370923:"东平县",370982:"新泰市",370983:"肥城市",370984:"其它区",371e3:"威海市",371002:"环翠区",371081:"文登市",371082:"荣成市",371083:"乳山市",371084:"其它区",371100:"日照市",371102:"东港区",371103:"岚山区",371121:"五莲县",371122:"莒县",371123:"其它区",371200:"莱芜市",371202:"莱城区",371203:"钢城区",371204:"其它区",371300:"临沂市",371302:"兰山区",371311:"罗庄区",371312:"河东区",371321:"沂南县",371322:"郯城县",371323:"沂水县",371324:"苍山县",371325:"费县",371326:"平邑县",371327:"莒南县",371328:"蒙阴县",371329:"临沭县",371330:"其它区",371400:"德州市",371402:"德城区",371421:"陵县",371422:"宁津县",371423:"庆云县",371424:"临邑县",371425:"齐河县",371426:"平原县",371427:"夏津县",371428:"武城县",371481:"乐陵市",371482:"禹城市",371483:"其它区",371500:"聊城市",371502:"东昌府区",371521:"阳谷县",371522:"莘县",371523:"茌平县",371524:"东阿县",371525:"冠县",371526:"高唐县",371581:"临清市",371582:"其它区",371600:"滨州市",371602:"滨城区",371621:"惠民县",371622:"阳信县",371623:"无棣县",371624:"沾化县",371625:"博兴县",371626:"邹平县",371627:"其它区",371700:"菏泽市",371702:"牡丹区",371721:"曹县",371722:"单县",371723:"成武县",371724:"巨野县",371725:"郓城县",371726:"鄄城县",371727:"定陶县",371728:"东明县",371729:"其它区",41e4:"河南省",410100:"郑州市",410102:"中原区",410103:"二七区",410104:"管城回族区",410105:"金水区",410106:"上街区",410108:"惠济区",410122:"中牟县",410181:"巩义市",410182:"荥阳市",410183:"新密市",410184:"新郑市",410185:"登封市",410188:"其它区",410200:"开封市",410202:"龙亭区",410203:"顺河回族区",410204:"鼓楼区",410205:"禹王台区",410211:"金明区",410221:"杞县",410222:"通许县",410223:"尉氏县",410224:"开封县",410225:"兰考县",410226:"其它区",410300:"洛阳市",410302:"老城区",410303:"西工区",410304:"瀍河回族区",410305:"涧西区",410306:"吉利区",410307:"洛龙区",410322:"孟津县",410323:"新安县",410324:"栾川县",410325:"嵩县",410326:"汝阳县",410327:"宜阳县",410328:"洛宁县",410329:"伊川县",410381:"偃师市",410400:"平顶山市",410402:"新华区",410403:"卫东区",410404:"石龙区",410411:"湛河区",410421:"宝丰县",410422:"叶县",410423:"鲁山县",410425:"郏县",410481:"舞钢市",410482:"汝州市",410483:"其它区",410500:"安阳市",410502:"文峰区",410503:"北关区",410505:"殷都区",410506:"龙安区",410522:"安阳县",410523:"汤阴县",410526:"滑县",410527:"内黄县",410581:"林州市",410582:"其它区",410600:"鹤壁市",410602:"鹤山区",410603:"山城区",410611:"淇滨区",410621:"浚县",410622:"淇县",410623:"其它区",410700:"新乡市",410702:"红旗区",410703:"卫滨区",410704:"凤泉区",410711:"牧野区",410721:"新乡县",410724:"获嘉县",410725:"原阳县",410726:"延津县",410727:"封丘县",410728:"长垣县",410781:"卫辉市",410782:"辉县市",410783:"其它区",410800:"焦作市",410802:"解放区",410803:"中站区",410804:"马村区",410811:"山阳区",410821:"修武县",410822:"博爱县",410823:"武陟县",410825:"温县",410881:"济源市",410882:"沁阳市",410883:"孟州市",410884:"其它区",410900:"濮阳市",410902:"华龙区",410922:"清丰县",410923:"南乐县",410926:"范县",410927:"台前县",410928:"濮阳县",410929:"其它区",411e3:"许昌市",411002:"魏都区",411023:"许昌县",411024:"鄢陵县",411025:"襄城县",411081:"禹州市",411082:"长葛市",411083:"其它区",411100:"漯河市",411102:"源汇区",411103:"郾城区",411104:"召陵区",411121:"舞阳县",411122:"临颍县",411123:"其它区",411200:"三门峡市",411202:"湖滨区",411221:"渑池县",411222:"陕县",411224:"卢氏县",411281:"义马市",411282:"灵宝市",411283:"其它区",411300:"南阳市",411302:"宛城区",411303:"卧龙区",411321:"南召县",411322:"方城县",411323:"西峡县",411324:"镇平县",411325:"内乡县",411326:"淅川县",411327:"社旗县",411328:"唐河县",411329:"新野县",411330:"桐柏县",411381:"邓州市",411382:"其它区",411400:"商丘市",411402:"梁园区",411403:"睢阳区",411421:"民权县",411422:"睢县",411423:"宁陵县",411424:"柘城县",411425:"虞城县",411426:"夏邑县",411481:"永城市",411482:"其它区",411500:"信阳市",411502:"浉河区",411503:"平桥区",411521:"罗山县",411522:"光山县",411523:"新县",411524:"商城县",411525:"固始县",411526:"潢川县",411527:"淮滨县",411528:"息县",411529:"其它区",411600:"周口市",411602:"川汇区",411621:"扶沟县",411622:"西华县",411623:"商水县",411624:"沈丘县",411625:"郸城县",411626:"淮阳县",411627:"太康县",411628:"鹿邑县",411681:"项城市",411682:"其它区",411700:"驻马店市",411702:"驿城区",411721:"西平县",411722:"上蔡县",411723:"平舆县",411724:"正阳县",411725:"确山县",411726:"泌阳县",411727:"汝南县",411728:"遂平县",411729:"新蔡县",411730:"其它区",42e4:"湖北省",420100:"武汉市",420102:"江岸区",420103:"江汉区",420104:"硚口区",420105:"汉阳区",420106:"武昌区",420107:"青山区",420111:"洪山区",420112:"东西湖区",420113:"汉南区",420114:"蔡甸区",420115:"江夏区",420116:"黄陂区",420117:"新洲区",420118:"其它区",420200:"黄石市",420202:"黄石港区",420203:"西塞山区",420204:"下陆区",420205:"铁山区",420222:"阳新县",420281:"大冶市",420282:"其它区",420300:"十堰市",420302:"茅箭区",420303:"张湾区",420321:"郧县",420322:"郧西县",420323:"竹山县",420324:"竹溪县",420325:"房县",420381:"丹江口市",420383:"其它区",420500:"宜昌市",420502:"西陵区",420503:"伍家岗区",420504:"点军区",420505:"猇亭区",420506:"夷陵区",420525:"远安县",420526:"兴山县",420527:"秭归县",420528:"长阳土家族自治县",420529:"五峰土家族自治县",420581:"宜都市",420582:"当阳市",420583:"枝江市",420584:"其它区",420600:"襄阳市",420602:"襄城区",420606:"樊城区",420607:"襄州区",420624:"南漳县",420625:"谷城县",420626:"保康县",420682:"老河口市",420683:"枣阳市",420684:"宜城市",420685:"其它区",420700:"鄂州市",420702:"梁子湖区",420703:"华容区",420704:"鄂城区",420705:"其它区",420800:"荆门市",420802:"东宝区",420804:"掇刀区",420821:"京山县",420822:"沙洋县",420881:"钟祥市",420882:"其它区",420900:"孝感市",420902:"孝南区",420921:"孝昌县",420922:"大悟县",420923:"云梦县",420981:"应城市",420982:"安陆市",420984:"汉川市",420985:"其它区",421e3:"荆州市",421002:"沙市区",421003:"荆州区",421022:"公安县",421023:"监利县",421024:"江陵县",421081:"石首市",421083:"洪湖市",421087:"松滋市",421088:"其它区",421100:"黄冈市",421102:"黄州区",421121:"团风县",421122:"红安县",421123:"罗田县",421124:"英山县",421125:"浠水县",421126:"蕲春县",421127:"黄梅县",421181:"麻城市",421182:"武穴市",421183:"其它区",421200:"咸宁市",421202:"咸安区",421221:"嘉鱼县",421222:"通城县",421223:"崇阳县",421224:"通山县",421281:"赤壁市",421283:"其它区",421300:"随州市",421302:"曾都区",421321:"随县",421381:"广水市",421382:"其它区",422800:"恩施土家族苗族自治州",422801:"恩施市",422802:"利川市",422822:"建始县",422823:"巴东县",422825:"宣恩县",422826:"咸丰县",422827:"来凤县",422828:"鹤峰县",422829:"其它区",429004:"仙桃市",429005:"潜江市",429006:"天门市",429021:"神农架林区",43e4:"湖南省",430100:"长沙市",430102:"芙蓉区",430103:"天心区",430104:"岳麓区",430105:"开福区",430111:"雨花区",430121:"长沙县",430122:"望城区",430124:"宁乡县",430181:"浏阳市",430182:"其它区",430200:"株洲市",430202:"荷塘区",430203:"芦淞区",430204:"石峰区",430211:"天元区",430221:"株洲县",430223:"攸县",430224:"茶陵县",430225:"炎陵县",430281:"醴陵市",430282:"其它区",430300:"湘潭市",430302:"雨湖区",430304:"岳塘区",430321:"湘潭县",430381:"湘乡市",430382:"韶山市",430383:"其它区",430400:"衡阳市",430405:"珠晖区",430406:"雁峰区",430407:"石鼓区",430408:"蒸湘区",430412:"南岳区",430421:"衡阳县",430422:"衡南县",430423:"衡山县",430424:"衡东县",430426:"祁东县",430481:"耒阳市",430482:"常宁市",430483:"其它区",430500:"邵阳市",430502:"双清区",430503:"大祥区",430511:"北塔区",430521:"邵东县",430522:"新邵县",430523:"邵阳县",430524:"隆回县",430525:"洞口县",430527:"绥宁县",430528:"新宁县",430529:"城步苗族自治县",430581:"武冈市",430582:"其它区",430600:"岳阳市",430602:"岳阳楼区",430603:"云溪区",430611:"君山区",430621:"岳阳县",430623:"华容县",430624:"湘阴县",430626:"平江县",430681:"汨罗市",430682:"临湘市",430683:"其它区",430700:"常德市",430702:"武陵区",430703:"鼎城区",430721:"安乡县",430722:"汉寿县",430723:"澧县",430724:"临澧县",430725:"桃源县",430726:"石门县",430781:"津市市",430782:"其它区",430800:"张家界市",430802:"永定区",430811:"武陵源区",430821:"慈利县",430822:"桑植县",430823:"其它区",430900:"益阳市",430902:"资阳区",430903:"赫山区",430921:"南县",430922:"桃江县",430923:"安化县",430981:"沅江市",430982:"其它区",431e3:"郴州市",431002:"北湖区",431003:"苏仙区",431021:"桂阳县",431022:"宜章县",431023:"永兴县",431024:"嘉禾县",431025:"临武县",431026:"汝城县",431027:"桂东县",431028:"安仁县",431081:"资兴市",431082:"其它区",431100:"永州市",431102:"零陵区",431103:"冷水滩区",431121:"祁阳县",431122:"东安县",431123:"双牌县",431124:"道县",431125:"江永县",431126:"宁远县",431127:"蓝山县",431128:"新田县",431129:"江华瑶族自治县",431130:"其它区",431200:"怀化市",431202:"鹤城区",431221:"中方县",431222:"沅陵县",431223:"辰溪县",431224:"溆浦县",431225:"会同县",431226:"麻阳苗族自治县",431227:"新晃侗族自治县",431228:"芷江侗族自治县",431229:"靖州苗族侗族自治县",431230:"通道侗族自治县",431281:"洪江市",431282:"其它区",431300:"娄底市",431302:"娄星区",431321:"双峰县",431322:"新化县",431381:"冷水江市",431382:"涟源市",431383:"其它区",433100:"湘西土家族苗族自治州",433101:"吉首市",433122:"泸溪县",433123:"凤凰县",433124:"花垣县",433125:"保靖县",433126:"古丈县",433127:"永顺县",433130:"龙山县",433131:"其它区",44e4:"广东省",440100:"广州市",440103:"荔湾区",440104:"越秀区",440105:"海珠区",440106:"天河区",440111:"白云区",440112:"黄埔区",440113:"番禺区",440114:"花都区",440115:"南沙区",440116:"萝岗区",440183:"增城市",440184:"从化市",440189:"其它区",440200:"韶关市",440203:"武江区",440204:"浈江区",440205:"曲江区",440222:"始兴县",440224:"仁化县",440229:"翁源县",440232:"乳源瑶族自治县",440233:"新丰县",440281:"乐昌市",440282:"南雄市",440283:"其它区",440300:"深圳市",440303:"罗湖区",440304:"福田区",440305:"南山区",440306:"宝安区",440307:"龙岗区",440308:"盐田区",440309:"其它区",440320:"光明新区",440321:"坪山新区",440322:"大鹏新区",440323:"龙华新区",440400:"珠海市",440402:"香洲区",440403:"斗门区",440404:"金湾区",440488:"其它区",440500:"汕头市",440507:"龙湖区",440511:"金平区",440512:"濠江区",440513:"潮阳区",440514:"潮南区",440515:"澄海区",440523:"南澳县",440524:"其它区",440600:"佛山市",440604:"禅城区",440605:"南海区",440606:"顺德区",440607:"三水区",440608:"高明区",440609:"其它区",440700:"江门市",440703:"蓬江区",440704:"江海区",440705:"新会区",440781:"台山市",440783:"开平市",440784:"鹤山市",440785:"恩平市",440786:"其它区",440800:"湛江市",440802:"赤坎区",440803:"霞山区",440804:"坡头区",440811:"麻章区",440823:"遂溪县",440825:"徐闻县",440881:"廉江市",440882:"雷州市",440883:"吴川市",440884:"其它区",440900:"茂名市",440902:"茂南区",440903:"茂港区",440923:"电白县",440981:"高州市",440982:"化州市",440983:"信宜市",440984:"其它区",441200:"肇庆市",441202:"端州区",441203:"鼎湖区",441223:"广宁县",441224:"怀集县",441225:"封开县",441226:"德庆县",441283:"高要市",441284:"四会市",441285:"其它区",441300:"惠州市",441302:"惠城区",441303:"惠阳区",441322:"博罗县",441323:"惠东县",441324:"龙门县",441325:"其它区",441400:"梅州市",441402:"梅江区",441421:"梅县",441422:"大埔县",441423:"丰顺县",441424:"五华县",441426:"平远县",441427:"蕉岭县",441481:"兴宁市",441482:"其它区",441500:"汕尾市",441502:"城区",441521:"海丰县",441523:"陆河县",441581:"陆丰市",441582:"其它区",441600:"河源市",441602:"源城区",441621:"紫金县",441622:"龙川县",441623:"连平县",441624:"和平县",441625:"东源县",441626:"其它区",441700:"阳江市",441702:"江城区",441721:"阳西县",441723:"阳东县",441781:"阳春市",441782:"其它区",441800:"清远市",441802:"清城区",441821:"佛冈县",441823:"阳山县",441825:"连山壮族瑶族自治县",441826:"连南瑶族自治县",441827:"清新区",441881:"英德市",441882:"连州市",441883:"其它区",441900:"东莞市",442e3:"中山市",442101:"东沙群岛",445100:"潮州市",445102:"湘桥区",445121:"潮安区",445122:"饶平县",445186:"其它区",445200:"揭阳市",445202:"榕城区",445221:"揭东区",445222:"揭西县",445224:"惠来县",445281:"普宁市",445285:"其它区",445300:"云浮市",445302:"云城区",445321:"新兴县",445322:"郁南县",445323:"云安县",445381:"罗定市",445382:"其它区",45e4:"广西壮族自治区",450100:"南宁市",450102:"兴宁区",450103:"青秀区",450105:"江南区",450107:"西乡塘区",450108:"良庆区",450109:"邕宁区",450122:"武鸣县",450123:"隆安县",450124:"马山县",450125:"上林县",450126:"宾阳县",450127:"横县",450128:"其它区",450200:"柳州市",450202:"城中区",450203:"鱼峰区",450204:"柳南区",450205:"柳北区",450221:"柳江县",450222:"柳城县",450223:"鹿寨县",450224:"融安县",450225:"融水苗族自治县",450226:"三江侗族自治县",450227:"其它区",450300:"桂林市",450302:"秀峰区",450303:"叠彩区",450304:"象山区",450305:"七星区",450311:"雁山区",450321:"阳朔县",450322:"临桂区",450323:"灵川县",450324:"全州县",450325:"兴安县",450326:"永福县",450327:"灌阳县",450328:"龙胜各族自治县",450329:"资源县",450330:"平乐县",450331:"荔浦县",450332:"恭城瑶族自治县",450333:"其它区",450400:"梧州市",450403:"万秀区",450405:"长洲区",450406:"龙圩区",450421:"苍梧县",450422:"藤县",450423:"蒙山县",450481:"岑溪市",450482:"其它区",450500:"北海市",450502:"海城区",450503:"银海区",450512:"铁山港区",450521:"合浦县",450522:"其它区",450600:"防城港市",450602:"港口区",450603:"防城区",450621:"上思县",450681:"东兴市",450682:"其它区",450700:"钦州市",450702:"钦南区",450703:"钦北区",450721:"灵山县",450722:"浦北县",450723:"其它区",450800:"贵港市",450802:"港北区",450803:"港南区",450804:"覃塘区",450821:"平南县",450881:"桂平市",450882:"其它区",450900:"玉林市",450902:"玉州区",450903:"福绵区",450921:"容县",450922:"陆川县",450923:"博白县",450924:"兴业县",450981:"北流市",450982:"其它区",451e3:"百色市",451002:"右江区",451021:"田阳县",451022:"田东县",451023:"平果县",451024:"德保县",451025:"靖西县",451026:"那坡县",451027:"凌云县",451028:"乐业县",451029:"田林县",451030:"西林县",451031:"隆林各族自治县",451032:"其它区",451100:"贺州市",451102:"八步区",451119:"平桂管理区",451121:"昭平县",451122:"钟山县",451123:"富川瑶族自治县",451124:"其它区",451200:"河池市",451202:"金城江区",451221:"南丹县",451222:"天峨县",451223:"凤山县",451224:"东兰县",451225:"罗城仫佬族自治县",451226:"环江毛南族自治县",451227:"巴马瑶族自治县",451228:"都安瑶族自治县",451229:"大化瑶族自治县",451281:"宜州市",451282:"其它区",451300:"来宾市",451302:"兴宾区",451321:"忻城县",451322:"象州县",451323:"武宣县",451324:"金秀瑶族自治县",451381:"合山市",451382:"其它区",451400:"崇左市",451402:"江州区",451421:"扶绥县",451422:"宁明县",451423:"龙州县",451424:"大新县",451425:"天等县",451481:"凭祥市",451482:"其它区",46e4:"海南省",460100:"海口市",460105:"秀英区",460106:"龙华区",460107:"琼山区",460108:"美兰区",460109:"其它区",460200:"三亚市",460300:"三沙市",460321:"西沙群岛",460322:"南沙群岛",460323:"中沙群岛的岛礁及其海域",469001:"五指山市",469002:"琼海市",469003:"儋州市",469005:"文昌市",469006:"万宁市",469007:"东方市",469025:"定安县",469026:"屯昌县",469027:"澄迈县",469028:"临高县",469030:"白沙黎族自治县",469031:"昌江黎族自治县",469033:"乐东黎族自治县",469034:"陵水黎族自治县",469035:"保亭黎族苗族自治县",469036:"琼中黎族苗族自治县",471005:"其它区",5e5:"重庆",500100:"重庆市",500101:"万州区",500102:"涪陵区",500103:"渝中区",500104:"大渡口区",500105:"江北区",500106:"沙坪坝区",500107:"九龙坡区",500108:"南岸区",500109:"北碚区",500110:"万盛区",500111:"双桥区",500112:"渝北区",500113:"巴南区",500114:"黔江区",500115:"长寿区",500222:"綦江区",500223:"潼南县",500224:"铜梁县",500225:"大足区",500226:"荣昌县",500227:"璧山县",500228:"梁平县",500229:"城口县",500230:"丰都县",500231:"垫江县",500232:"武隆县",500233:"忠县",500234:"开县",500235:"云阳县",500236:"奉节县",500237:"巫山县",500238:"巫溪县",500240:"石柱土家族自治县",500241:"秀山土家族苗族自治县",500242:"酉阳土家族苗族自治县",500243:"彭水苗族土家族自治县",500381:"江津区",500382:"合川区",500383:"永川区",500384:"南川区",500385:"其它区",51e4:"四川省",510100:"成都市",510104:"锦江区",510105:"青羊区",510106:"金牛区",510107:"武侯区",510108:"成华区",510112:"龙泉驿区",510113:"青白江区",510114:"新都区",510115:"温江区",510121:"金堂县",510122:"双流县",510124:"郫县",510129:"大邑县",510131:"蒲江县",510132:"新津县",510181:"都江堰市",510182:"彭州市",510183:"邛崃市",510184:"崇州市",510185:"其它区",510300:"自贡市",510302:"自流井区",510303:"贡井区",510304:"大安区",510311:"沿滩区",510321:"荣县",510322:"富顺县",510323:"其它区",510400:"攀枝花市",510402:"东区",510403:"西区",510411:"仁和区",510421:"米易县",510422:"盐边县",510423:"其它区",510500:"泸州市",510502:"江阳区",510503:"纳溪区",510504:"龙马潭区",510521:"泸县",510522:"合江县",510524:"叙永县",510525:"古蔺县",510526:"其它区",510600:"德阳市",510603:"旌阳区",510623:"中江县",510626:"罗江县",510681:"广汉市",510682:"什邡市",510683:"绵竹市",510684:"其它区",510700:"绵阳市",510703:"涪城区",510704:"游仙区",510722:"三台县",510723:"盐亭县",510724:"安县",510725:"梓潼县",510726:"北川羌族自治县",510727:"平武县",510781:"江油市",510782:"其它区",510800:"广元市",510802:"利州区",510811:"昭化区",510812:"朝天区",510821:"旺苍县",510822:"青川县",510823:"剑阁县",510824:"苍溪县",510825:"其它区",510900:"遂宁市",510903:"船山区",510904:"安居区",510921:"蓬溪县",510922:"射洪县",510923:"大英县",510924:"其它区",511e3:"内江市",511002:"市中区",511011:"东兴区",511024:"威远县",511025:"资中县",511028:"隆昌县",511029:"其它区",511100:"乐山市",511102:"市中区",511111:"沙湾区",511112:"五通桥区",511113:"金口河区",511123:"犍为县",511124:"井研县",511126:"夹江县",511129:"沐川县",511132:"峨边彝族自治县",511133:"马边彝族自治县",511181:"峨眉山市",511182:"其它区",511300:"南充市",511302:"顺庆区",511303:"高坪区",511304:"嘉陵区",511321:"南部县",511322:"营山县",511323:"蓬安县",511324:"仪陇县",511325:"西充县",511381:"阆中市",511382:"其它区",511400:"眉山市",511402:"东坡区",511421:"仁寿县",511422:"彭山县",511423:"洪雅县",511424:"丹棱县",511425:"青神县",511426:"其它区",511500:"宜宾市",511502:"翠屏区",511521:"宜宾县",511522:"南溪区",511523:"江安县",511524:"长宁县",511525:"高县",511526:"珙县",511527:"筠连县",511528:"兴文县",511529:"屏山县",511530:"其它区",511600:"广安市",511602:"广安区",511603:"前锋区",511621:"岳池县",511622:"武胜县",511623:"邻水县",511681:"华蓥市",511683:"其它区",511700:"达州市",511702:"通川区",511721:"达川区",511722:"宣汉县",511723:"开江县",511724:"大竹县",511725:"渠县",511781:"万源市",511782:"其它区",511800:"雅安市",511802:"雨城区",511821:"名山区",511822:"荥经县",511823:"汉源县",511824:"石棉县",511825:"天全县",511826:"芦山县",511827:"宝兴县",511828:"其它区",511900:"巴中市",511902:"巴州区",511903:"恩阳区",511921:"通江县",511922:"南江县",511923:"平昌县",511924:"其它区",512e3:"资阳市",512002:"雁江区",512021:"安岳县",512022:"乐至县",512081:"简阳市",512082:"其它区",513200:"阿坝藏族羌族自治州",513221:"汶川县",513222:"理县",513223:"茂县",513224:"松潘县",513225:"九寨沟县",513226:"金川县",513227:"小金县",513228:"黑水县",513229:"马尔康县",513230:"壤塘县",513231:"阿坝县",513232:"若尔盖县",513233:"红原县",513234:"其它区",513300:"甘孜藏族自治州",513321:"康定县",513322:"泸定县",513323:"丹巴县",513324:"九龙县",513325:"雅江县",513326:"道孚县",513327:"炉霍县",513328:"甘孜县",513329:"新龙县",513330:"德格县",513331:"白玉县",513332:"石渠县",513333:"色达县",513334:"理塘县",513335:"巴塘县",513336:"乡城县",513337:"稻城县",513338:"得荣县",513339:"其它区",513400:"凉山彝族自治州",513401:"西昌市",513422:"木里藏族自治县",513423:"盐源县",513424:"德昌县",513425:"会理县",513426:"会东县",513427:"宁南县",513428:"普格县",513429:"布拖县",513430:"金阳县",513431:"昭觉县",513432:"喜德县",513433:"冕宁县",513434:"越西县",513435:"甘洛县",513436:"美姑县",513437:"雷波县",513438:"其它区",52e4:"贵州省",520100:"贵阳市",520102:"南明区",520103:"云岩区",520111:"花溪区",520112:"乌当区",520113:"白云区",520121:"开阳县",520122:"息烽县",520123:"修文县",520151:"观山湖区",520181:"清镇市",520182:"其它区",520200:"六盘水市",520201:"钟山区",520203:"六枝特区",520221:"水城县",520222:"盘县",520223:"其它区",520300:"遵义市",520302:"红花岗区",520303:"汇川区",520321:"遵义县",520322:"桐梓县",520323:"绥阳县",520324:"正安县",520325:"道真仡佬族苗族自治县",520326:"务川仡佬族苗族自治县",520327:"凤冈县",520328:"湄潭县",520329:"余庆县",520330:"习水县",520381:"赤水市",520382:"仁怀市",520383:"其它区",520400:"安顺市",520402:"西秀区",520421:"平坝县",520422:"普定县",520423:"镇宁布依族苗族自治县",520424:"关岭布依族苗族自治县",520425:"紫云苗族布依族自治县",520426:"其它区",522200:"铜仁市",522201:"碧江区",522222:"江口县",522223:"玉屏侗族自治县",522224:"石阡县",522225:"思南县",522226:"印江土家族苗族自治县",522227:"德江县",522228:"沿河土家族自治县",522229:"松桃苗族自治县",522230:"万山区",522231:"其它区",522300:"黔西南布依族苗族自治州",522301:"兴义市",522322:"兴仁县",522323:"普安县",522324:"晴隆县",522325:"贞丰县",522326:"望谟县",522327:"册亨县",522328:"安龙县",522329:"其它区",522400:"毕节市",522401:"七星关区",522422:"大方县",522423:"黔西县",522424:"金沙县",522425:"织金县",522426:"纳雍县",522427:"威宁彝族回族苗族自治县",522428:"赫章县",522429:"其它区",522600:"黔东南苗族侗族自治州",522601:"凯里市",522622:"黄平县",522623:"施秉县",522624:"三穗县",522625:"镇远县",522626:"岑巩县",522627:"天柱县",522628:"锦屏县",522629:"剑河县",522630:"台江县",522631:"黎平县",522632:"榕江县",522633:"从江县",522634:"雷山县",522635:"麻江县",522636:"丹寨县",522637:"其它区",522700:"黔南布依族苗族自治州",522701:"都匀市",522702:"福泉市",522722:"荔波县",522723:"贵定县",522725:"瓮安县",522726:"独山县",522727:"平塘县",522728:"罗甸县",522729:"长顺县",522730:"龙里县",522731:"惠水县",522732:"三都水族自治县",522733:"其它区",53e4:"云南省",530100:"昆明市",530102:"五华区",530103:"盘龙区",530111:"官渡区",530112:"西山区",530113:"东川区",530121:"呈贡区",530122:"晋宁县",530124:"富民县",530125:"宜良县",530126:"石林彝族自治县",530127:"嵩明县",530128:"禄劝彝族苗族自治县",530129:"寻甸回族彝族自治县",530181:"安宁市",530182:"其它区",530300:"曲靖市",530302:"麒麟区",530321:"马龙县",530322:"陆良县",530323:"师宗县",530324:"罗平县",530325:"富源县",530326:"会泽县",530328:"沾益县",530381:"宣威市",530382:"其它区",530400:"玉溪市",530402:"红塔区",530421:"江川县",530422:"澄江县",530423:"通海县",530424:"华宁县",530425:"易门县",530426:"峨山彝族自治县",530427:"新平彝族傣族自治县",530428:"元江哈尼族彝族傣族自治县",530429:"其它区",530500:"保山市",530502:"隆阳区",530521:"施甸县",530522:"腾冲县",530523:"龙陵县",530524:"昌宁县",530525:"其它区",530600:"昭通市",530602:"昭阳区",530621:"鲁甸县",530622:"巧家县",530623:"盐津县",530624:"大关县",530625:"永善县",530626:"绥江县",530627:"镇雄县",530628:"彝良县",530629:"威信县",530630:"水富县",530631:"其它区",530700:"丽江市",530702:"古城区",530721:"玉龙纳西族自治县",530722:"永胜县",530723:"华坪县",530724:"宁蒗彝族自治县",530725:"其它区",530800:"普洱市",530802:"思茅区",530821:"宁洱哈尼族彝族自治县",530822:"墨江哈尼族自治县",530823:"景东彝族自治县",530824:"景谷傣族彝族自治县",530825:"镇沅彝族哈尼族拉祜族自治县",530826:"江城哈尼族彝族自治县",530827:"孟连傣族拉祜族佤族自治县",530828:"澜沧拉祜族自治县",530829:"西盟佤族自治县",530830:"其它区",530900:"临沧市",530902:"临翔区",530921:"凤庆县",530922:"云县",530923:"永德县",530924:"镇康县",530925:"双江拉祜族佤族布朗族傣族自治县",530926:"耿马傣族佤族自治县",530927:"沧源佤族自治县",530928:"其它区",532300:"楚雄彝族自治州",532301:"楚雄市",532322:"双柏县",532323:"牟定县",532324:"南华县",532325:"姚安县",532326:"大姚县",532327:"永仁县",532328:"元谋县",532329:"武定县",532331:"禄丰县",532332:"其它区",532500:"红河哈尼族彝族自治州",532501:"个旧市",532502:"开远市",532522:"蒙自市",532523:"屏边苗族自治县",532524:"建水县",532525:"石屏县",532526:"弥勒市",532527:"泸西县",532528:"元阳县",532529:"红河县",532530:"金平苗族瑶族傣族自治县",532531:"绿春县",532532:"河口瑶族自治县",532533:"其它区",532600:"文山壮族苗族自治州",532621:"文山市",532622:"砚山县",532623:"西畴县",532624:"麻栗坡县",532625:"马关县",532626:"丘北县",532627:"广南县",532628:"富宁县",532629:"其它区",532800:"西双版纳傣族自治州",532801:"景洪市",532822:"勐海县",532823:"勐腊县",532824:"其它区",532900:"大理白族自治州",532901:"大理市",532922:"漾濞彝族自治县",532923:"祥云县",532924:"宾川县",532925:"弥渡县",532926:"南涧彝族自治县",532927:"巍山彝族回族自治县",532928:"永平县",532929:"云龙县",532930:"洱源县",532931:"剑川县",532932:"鹤庆县",532933:"其它区",533100:"德宏傣族景颇族自治州",533102:"瑞丽市",533103:"芒市",533122:"梁河县",533123:"盈江县",533124:"陇川县",533125:"其它区",533300:"怒江傈僳族自治州",533321:"泸水县",533323:"福贡县",533324:"贡山独龙族怒族自治县",533325:"兰坪白族普米族自治县",533326:"其它区",533400:"迪庆藏族自治州",533421:"香格里拉县",533422:"德钦县",533423:"维西傈僳族自治县",533424:"其它区",54e4:"西藏自治区",540100:"拉萨市",540102:"城关区",540121:"林周县",540122:"当雄县",540123:"尼木县",540124:"曲水县",540125:"堆龙德庆县",540126:"达孜县",540127:"墨竹工卡县",540128:"其它区",542100:"昌都地区",542121:"昌都县",542122:"江达县",542123:"贡觉县",542124:"类乌齐县",542125:"丁青县",542126:"察雅县",542127:"八宿县",542128:"左贡县",542129:"芒康县",542132:"洛隆县",542133:"边坝县",542134:"其它区",542200:"山南地区",542221:"乃东县",542222:"扎囊县",542223:"贡嘎县",542224:"桑日县",542225:"琼结县",542226:"曲松县",542227:"措美县",542228:"洛扎县",542229:"加查县",542231:"隆子县",542232:"错那县",542233:"浪卡子县",542234:"其它区",542300:"日喀则地区",542301:"日喀则市",542322:"南木林县",542323:"江孜县",542324:"定日县",542325:"萨迦县",542326:"拉孜县",542327:"昂仁县",542328:"谢通门县",542329:"白朗县",542330:"仁布县",542331:"康马县",542332:"定结县",542333:"仲巴县",542334:"亚东县",542335:"吉隆县",542336:"聂拉木县",542337:"萨嘎县",542338:"岗巴县",542339:"其它区",542400:"那曲地区",542421:"那曲县",542422:"嘉黎县",542423:"比如县",542424:"聂荣县",542425:"安多县",542426:"申扎县",542427:"索县",542428:"班戈县",542429:"巴青县",542430:"尼玛县",542431:"其它区",542432:"双湖县",542500:"阿里地区",542521:"普兰县",542522:"札达县",542523:"噶尔县",542524:"日土县",542525:"革吉县",542526:"改则县",542527:"措勤县",542528:"其它区",542600:"林芝地区",542621:"林芝县",542622:"工布江达县",542623:"米林县",542624:"墨脱县",542625:"波密县",542626:"察隅县",542627:"朗县",542628:"其它区",61e4:"陕西省",610100:"西安市",610102:"新城区",610103:"碑林区",610104:"莲湖区",610111:"灞桥区",610112:"未央区",610113:"雁塔区",610114:"阎良区",610115:"临潼区",610116:"长安区",610122:"蓝田县",610124:"周至县",610125:"户县",610126:"高陵县",610127:"其它区",610200:"铜川市",610202:"王益区",610203:"印台区",610204:"耀州区",610222:"宜君县",610223:"其它区",610300:"宝鸡市",610302:"渭滨区",610303:"金台区",610304:"陈仓区",610322:"凤翔县",610323:"岐山县",610324:"扶风县",610326:"眉县",610327:"陇县",610328:"千阳县",610329:"麟游县",610330:"凤县",610331:"太白县",610332:"其它区",610400:"咸阳市",610402:"秦都区",610403:"杨陵区",610404:"渭城区",610422:"三原县",610423:"泾阳县",610424:"乾县",610425:"礼泉县",610426:"永寿县",610427:"彬县",610428:"长武县",610429:"旬邑县",610430:"淳化县",610431:"武功县",610481:"兴平市",610482:"其它区",610500:"渭南市",610502:"临渭区",610521:"华县",610522:"潼关县",610523:"大荔县",610524:"合阳县",610525:"澄城县",610526:"蒲城县",610527:"白水县",610528:"富平县",610581:"韩城市",610582:"华阴市",610583:"其它区",610600:"延安市",610602:"宝塔区",610621:"延长县",610622:"延川县",610623:"子长县",610624:"安塞县",610625:"志丹县",610626:"吴起县",610627:"甘泉县",610628:"富县",610629:"洛川县",610630:"宜川县",610631:"黄龙县",610632:"黄陵县",610633:"其它区",610700:"汉中市",610702:"汉台区",610721:"南郑县",610722:"城固县",610723:"洋县",610724:"西乡县",610725:"勉县",610726:"宁强县",610727:"略阳县",610728:"镇巴县",610729:"留坝县",610730:"佛坪县",610731:"其它区",610800:"榆林市",610802:"榆阳区",610821:"神木县",610822:"府谷县",610823:"横山县",610824:"靖边县",610825:"定边县",610826:"绥德县",610827:"米脂县",610828:"佳县",610829:"吴堡县",610830:"清涧县",610831:"子洲县",610832:"其它区",610900:"安康市",610902:"汉滨区",610921:"汉阴县",610922:"石泉县",610923:"宁陕县",610924:"紫阳县",610925:"岚皋县",610926:"平利县",610927:"镇坪县",610928:"旬阳县",610929:"白河县",610930:"其它区",611e3:"商洛市",611002:"商州区",611021:"洛南县",611022:"丹凤县",611023:"商南县",611024:"山阳县",611025:"镇安县",611026:"柞水县",611027:"其它区",62e4:"甘肃省",620100:"兰州市",620102:"城关区",620103:"七里河区",620104:"西固区",620105:"安宁区",620111:"红古区",620121:"永登县",620122:"皋兰县",620123:"榆中县",620124:"其它区",620200:"嘉峪关市",620300:"金昌市",620302:"金川区",620321:"永昌县",620322:"其它区",620400:"白银市",620402:"白银区",620403:"平川区",620421:"靖远县",620422:"会宁县",620423:"景泰县",620424:"其它区",620500:"天水市",620502:"秦州区",620503:"麦积区",620521:"清水县",620522:"秦安县",620523:"甘谷县",620524:"武山县",620525:"张家川回族自治县",620526:"其它区",620600:"武威市",620602:"凉州区",620621:"民勤县",620622:"古浪县",620623:"天祝藏族自治县",620624:"其它区",620700:"张掖市",620702:"甘州区",620721:"肃南裕固族自治县",620722:"民乐县",620723:"临泽县",620724:"高台县",620725:"山丹县",620726:"其它区",620800:"平凉市",620802:"崆峒区",620821:"泾川县",620822:"灵台县",620823:"崇信县",620824:"华亭县",620825:"庄浪县",620826:"静宁县",620827:"其它区",620900:"酒泉市",620902:"肃州区",620921:"金塔县",620922:"瓜州县",620923:"肃北蒙古族自治县",620924:"阿克塞哈萨克族自治县",620981:"玉门市",620982:"敦煌市",620983:"其它区",621e3:"庆阳市",621002:"西峰区",621021:"庆城县",621022:"环县",621023:"华池县",621024:"合水县",621025:"正宁县",621026:"宁县",621027:"镇原县",621028:"其它区",621100:"定西市",621102:"安定区",621121:"通渭县",621122:"陇西县",621123:"渭源县",621124:"临洮县",621125:"漳县",621126:"岷县",621127:"其它区",621200:"陇南市",621202:"武都区",621221:"成县",621222:"文县",621223:"宕昌县",621224:"康县",621225:"西和县",621226:"礼县",621227:"徽县",621228:"两当县",621229:"其它区",622900:"临夏回族自治州",622901:"临夏市",622921:"临夏县",622922:"康乐县",622923:"永靖县",622924:"广河县",622925:"和政县",622926:"东乡族自治县",622927:"积石山保安族东乡族撒拉族自治县",622928:"其它区",623e3:"甘南藏族自治州",623001:"合作市",623021:"临潭县",623022:"卓尼县",623023:"舟曲县",623024:"迭部县",623025:"玛曲县",623026:"碌曲县",623027:"夏河县",623028:"其它区",63e4:"青海省",630100:"西宁市",630102:"城东区",630103:"城中区",630104:"城西区",630105:"城北区",630121:"大通回族土族自治县",630122:"湟中县",630123:"湟源县",630124:"其它区",632100:"海东市",632121:"平安县",632122:"民和回族土族自治县",632123:"乐都区",632126:"互助土族自治县",632127:"化隆回族自治县",632128:"循化撒拉族自治县",632129:"其它区",632200:"海北藏族自治州",632221:"门源回族自治县",632222:"祁连县",632223:"海晏县",632224:"刚察县",632225:"其它区",632300:"黄南藏族自治州",632321:"同仁县",632322:"尖扎县",632323:"泽库县",632324:"河南蒙古族自治县",632325:"其它区",632500:"海南藏族自治州",632521:"共和县",632522:"同德县",632523:"贵德县",632524:"兴海县",632525:"贵南县",632526:"其它区",632600:"果洛藏族自治州",632621:"玛沁县",632622:"班玛县",632623:"甘德县",632624:"达日县",632625:"久治县",632626:"玛多县",632627:"其它区",632700:"玉树藏族自治州",632721:"玉树市",632722:"杂多县",632723:"称多县",632724:"治多县",632725:"囊谦县",632726:"曲麻莱县",632727:"其它区",632800:"海西蒙古族藏族自治州",632801:"格尔木市",632802:"德令哈市",632821:"乌兰县",632822:"都兰县",632823:"天峻县",632824:"其它区",64e4:"宁夏回族自治区",640100:"银川市",640104:"兴庆区",640105:"西夏区",640106:"金凤区",640121:"永宁县",640122:"贺兰县",640181:"灵武市",640182:"其它区",640200:"石嘴山市",640202:"大武口区",640205:"惠农区",640221:"平罗县",640222:"其它区",640300:"吴忠市",640302:"利通区",640303:"红寺堡区",640323:"盐池县",640324:"同心县",640381:"青铜峡市",640382:"其它区",640400:"固原市",640402:"原州区",640422:"西吉县",640423:"隆德县",640424:"泾源县",640425:"彭阳县",640426:"其它区",640500:"中卫市",640502:"沙坡头区",640521:"中宁县",640522:"海原县",640523:"其它区",65e4:"新疆维吾尔自治区",650100:"乌鲁木齐市",650102:"天山区",650103:"沙依巴克区",650104:"新市区",650105:"水磨沟区",650106:"头屯河区",650107:"达坂城区",650109:"米东区",650121:"乌鲁木齐县",650122:"其它区",650200:"克拉玛依市",650202:"独山子区",650203:"克拉玛依区",650204:"白碱滩区",650205:"乌尔禾区",650206:"其它区",652100:"吐鲁番地区",652101:"吐鲁番市",652122:"鄯善县",652123:"托克逊县",652124:"其它区",652200:"哈密地区",652201:"哈密市",652222:"巴里坤哈萨克自治县",652223:"伊吾县",652224:"其它区",652300:"昌吉回族自治州",652301:"昌吉市",652302:"阜康市",652323:"呼图壁县",652324:"玛纳斯县",652325:"奇台县",652327:"吉木萨尔县",652328:"木垒哈萨克自治县",652329:"其它区",652700:"博尔塔拉蒙古自治州",652701:"博乐市",652702:"阿拉山口市",652722:"精河县",652723:"温泉县",652724:"其它区",652800:"巴音郭楞蒙古自治州",652801:"库尔勒市",652822:"轮台县",652823:"尉犁县",652824:"若羌县",652825:"且末县",652826:"焉耆回族自治县",652827:"和静县",652828:"和硕县",652829:"博湖县",652830:"其它区",652900:"阿克苏地区",652901:"阿克苏市",652922:"温宿县",652923:"库车县",652924:"沙雅县",652925:"新和县",652926:"拜城县",652927:"乌什县",652928:"阿瓦提县",652929:"柯坪县",652930:"其它区",653e3:"克孜勒苏柯尔克孜自治州",653001:"阿图什市",653022:"阿克陶县",653023:"阿合奇县",653024:"乌恰县",653025:"其它区",653100:"喀什地区",653101:"喀什市",653121:"疏附县",653122:"疏勒县",653123:"英吉沙县",653124:"泽普县",653125:"莎车县",653126:"叶城县",653127:"麦盖提县",653128:"岳普湖县",653129:"伽师县",653130:"巴楚县",653131:"塔什库尔干塔吉克自治县",653132:"其它区",653200:"和田地区",653201:"和田市",653221:"和田县",653222:"墨玉县",653223:"皮山县",653224:"洛浦县",653225:"策勒县",653226:"于田县",653227:"民丰县",653228:"其它区",654e3:"伊犁哈萨克自治州",654002:"伊宁市",654003:"奎屯市",654021:"伊宁县",654022:"察布查尔锡伯自治县",654023:"霍城县",654024:"巩留县",654025:"新源县",654026:"昭苏县",654027:"特克斯县",654028:"尼勒克县",654029:"其它区",654200:"塔城地区",654201:"塔城市",654202:"乌苏市",654221:"额敏县",654223:"沙湾县",654224:"托里县",654225:"裕民县",654226:"和布克赛尔蒙古自治县",654227:"其它区",654300:"阿勒泰地区",654301:"阿勒泰市",654321:"布尔津县",654322:"富蕴县",654323:"福海县",654324:"哈巴河县",654325:"青河县",654326:"吉木乃县",654327:"其它区",659001:"石河子市",659002:"阿拉尔市",659003:"图木舒克市",659004:"五家渠市",71e4:"台湾",710100:"台北市",710101:"中正区",710102:"大同区",710103:"中山区",710104:"松山区",710105:"大安区",710106:"万华区",710107:"信义区",710108:"士林区",710109:"北投区",710110:"内湖区",710111:"南港区",710112:"文山区",710113:"其它区",710200:"高雄市",710201:"新兴区",710202:"前金区",710203:"芩雅区",710204:"盐埕区",710205:"鼓山区",710206:"旗津区",710207:"前镇区",710208:"三民区",710209:"左营区",710210:"楠梓区",710211:"小港区",710212:"其它区",710241:"苓雅区",710242:"仁武区",710243:"大社区",710244:"冈山区",710245:"路竹区",710246:"阿莲区",710247:"田寮区",710248:"燕巢区",710249:"桥头区",710250:"梓官区",710251:"弥陀区",710252:"永安区",710253:"湖内区",710254:"凤山区",710255:"大寮区",710256:"林园区",710257:"鸟松区",710258:"大树区",710259:"旗山区",710260:"美浓区",710261:"六龟区",710262:"内门区",710263:"杉林区",710264:"甲仙区",710265:"桃源区",710266:"那玛夏区",710267:"茂林区",710268:"茄萣区",710300:"台南市",710301:"中西区",710302:"东区",710303:"南区",710304:"北区",710305:"安平区",710306:"安南区",710307:"其它区",710339:"永康区",710340:"归仁区",710341:"新化区",710342:"左镇区",710343:"玉井区",710344:"楠西区",710345:"南化区",710346:"仁德区",710347:"关庙区",710348:"龙崎区",710349:"官田区",710350:"麻豆区",710351:"佳里区",710352:"西港区",710353:"七股区",710354:"将军区",710355:"学甲区",710356:"北门区",710357:"新营区",710358:"后壁区",710359:"白河区",710360:"东山区",710361:"六甲区",710362:"下营区",710363:"柳营区",710364:"盐水区",710365:"善化区",710366:"大内区",710367:"山上区",710368:"新市区",710369:"安定区",710400:"台中市",710401:"中区",710402:"东区",710403:"南区",710404:"西区",710405:"北区",710406:"北屯区",710407:"西屯区",710408:"南屯区",710409:"其它区",710431:"太平区",710432:"大里区",710433:"雾峰区",710434:"乌日区",710435:"丰原区",710436:"后里区",710437:"石冈区",710438:"东势区",710439:"和平区",710440:"新社区",710441:"潭子区",710442:"大雅区",710443:"神冈区",710444:"大肚区",710445:"沙鹿区",710446:"龙井区",710447:"梧栖区",710448:"清水区",710449:"大甲区",710450:"外埔区",710451:"大安区",710500:"金门县",710507:"金沙镇",710508:"金湖镇",710509:"金宁乡",710510:"金城镇",710511:"烈屿乡",710512:"乌坵乡",710600:"南投县",710614:"南投市",710615:"中寮乡",710616:"草屯镇",710617:"国姓乡",710618:"埔里镇",710619:"仁爱乡",710620:"名间乡",710621:"集集镇",710622:"水里乡",710623:"鱼池乡",710624:"信义乡",710625:"竹山镇",710626:"鹿谷乡",710700:"基隆市",710701:"仁爱区",710702:"信义区",710703:"中正区",710704:"中山区",710705:"安乐区",710706:"暖暖区",710707:"七堵区",710708:"其它区",710800:"新竹市",710801:"东区",710802:"北区",710803:"香山区",710804:"其它区",710900:"嘉义市",710901:"东区",710902:"西区",710903:"其它区",711100:"新北市",711130:"万里区",711131:"金山区",711132:"板桥区",711133:"汐止区",711134:"深坑区",711135:"石碇区",711136:"瑞芳区",711137:"平溪区",711138:"双溪区",711139:"贡寮区",711140:"新店区",711141:"坪林区",711142:"乌来区",711143:"永和区",711144:"中和区",711145:"土城区",711146:"三峡区",711147:"树林区",711148:"莺歌区",711149:"三重区",711150:"新庄区",711151:"泰山区",711152:"林口区",711153:"芦洲区",711154:"五股区",711155:"八里区",711156:"淡水区",711157:"三芝区",711158:"石门区",711200:"宜兰县",711214:"宜兰市",711215:"头城镇",711216:"礁溪乡",711217:"壮围乡",711218:"员山乡",711219:"罗东镇",711220:"三星乡",711221:"大同乡",711222:"五结乡",711223:"冬山乡",711224:"苏澳镇",711225:"南澳乡",711226:"钓鱼台",711300:"新竹县",711314:"竹北市",711315:"湖口乡",711316:"新丰乡",711317:"新埔镇",711318:"关西镇",711319:"芎林乡",711320:"宝山乡",711321:"竹东镇",711322:"五峰乡",711323:"横山乡",711324:"尖石乡",711325:"北埔乡",711326:"峨眉乡",711400:"桃园县",711414:"中坜市",711415:"平镇市",711416:"龙潭乡",711417:"杨梅市",711418:"新屋乡",711419:"观音乡",711420:"桃园市",711421:"龟山乡",711422:"八德市",711423:"大溪镇",711424:"复兴乡",711425:"大园乡",711426:"芦竹乡",711500:"苗栗县",711519:"竹南镇",711520:"头份镇",711521:"三湾乡",711522:"南庄乡",711523:"狮潭乡",711524:"后龙镇",711525:"通霄镇",711526:"苑里镇",711527:"苗栗市",711528:"造桥乡",711529:"头屋乡",711530:"公馆乡",711531:"大湖乡",711532:"泰安乡",711533:"铜锣乡",711534:"三义乡",711535:"西湖乡",711536:"卓兰镇",711700:"彰化县",711727:"彰化市",711728:"芬园乡",711729:"花坛乡",711730:"秀水乡",711731:"鹿港镇",711732:"福兴乡",711733:"线西乡",711734:"和美镇",711735:"伸港乡",711736:"员林镇",711737:"社头乡",711738:"永靖乡",711739:"埔心乡",711740:"溪湖镇",711741:"大村乡",711742:"埔盐乡",711743:"田中镇",711744:"北斗镇",711745:"田尾乡",711746:"埤头乡",711747:"溪州乡",711748:"竹塘乡",711749:"二林镇",711750:"大城乡",711751:"芳苑乡",711752:"二水乡",711900:"嘉义县",711919:"番路乡",711920:"梅山乡",711921:"竹崎乡",711922:"阿里山乡",711923:"中埔乡",711924:"大埔乡",711925:"水上乡",711926:"鹿草乡",711927:"太保市",711928:"朴子市",711929:"东石乡",711930:"六脚乡",711931:"新港乡",711932:"民雄乡",711933:"大林镇",711934:"溪口乡",711935:"义竹乡",711936:"布袋镇",712100:"云林县",712121:"斗南镇",712122:"大埤乡",712123:"虎尾镇",712124:"土库镇",712125:"褒忠乡",712126:"东势乡",712127:"台西乡",712128:"仑背乡",712129:"麦寮乡",712130:"斗六市",712131:"林内乡",712132:"古坑乡",712133:"莿桐乡",712134:"西螺镇",712135:"二仑乡",712136:"北港镇",712137:"水林乡",712138:"口湖乡",712139:"四湖乡",712140:"元长乡",712400:"屏东县",712434:"屏东市",712435:"三地门乡",712436:"雾台乡",712437:"玛家乡",712438:"九如乡",712439:"里港乡",712440:"高树乡",712441:"盐埔乡",712442:"长治乡",712443:"麟洛乡",712444:"竹田乡",712445:"内埔乡",712446:"万丹乡",712447:"潮州镇",712448:"泰武乡",712449:"来义乡",712450:"万峦乡",712451:"崁顶乡",712452:"新埤乡",712453:"南州乡",712454:"林边乡",712455:"东港镇",712456:"琉球乡",712457:"佳冬乡",712458:"新园乡",712459:"枋寮乡",712460:"枋山乡",712461:"春日乡",712462:"狮子乡",712463:"车城乡",712464:"牡丹乡",712465:"恒春镇",712466:"满州乡",712500:"台东县",712517:"台东市",712518:"绿岛乡",712519:"兰屿乡",712520:"延平乡",712521:"卑南乡",712522:"鹿野乡",712523:"关山镇",712524:"海端乡",712525:"池上乡",712526:"东河乡",712527:"成功镇",712528:"长滨乡",712529:"金峰乡",712530:"大武乡",712531:"达仁乡",712532:"太麻里乡",712600:"花莲县",712615:"花莲市",712616:"新城乡",712617:"太鲁阁",712618:"秀林乡",712619:"吉安乡",712620:"寿丰乡",712621:"凤林镇",712622:"光复乡",712623:"丰滨乡",712624:"瑞穗乡",712625:"万荣乡",712626:"玉里镇",712627:"卓溪乡",712628:"富里乡",712700:"澎湖县",712707:"马公市",712708:"西屿乡",712709:"望安乡",712710:"七美乡",712711:"白沙乡",712712:"湖西乡",712800:"连江县",712805:"南竿乡",712806:"北竿乡",712807:"莒光乡",712808:"东引乡",81e4:"香港特别行政区",810100:"香港岛",810101:"中西区",810102:"湾仔",810103:"东区",810104:"南区",810200:"九龙",810201:"九龙城区",810202:"油尖旺区",810203:"深水埗区",810204:"黄大仙区",810205:"观塘区",810300:"新界",810301:"北区",810302:"大埔区",810303:"沙田区",810304:"西贡区",810305:"元朗区",810306:"屯门区",810307:"荃湾区",810308:"葵青区",810309:"离岛区",82e4:"澳门特别行政区",820100:"澳门半岛",820200:"离岛",99e4:"海外",990100:"海外"};function o(l){for(var c={},u=0,d;u<l.length;u++)d=l[u],!(!d||!d.id)&&(c[d.id]=d);for(var f=[],v=0;v<l.length;v++)if(d=l[v],!!d){if(d.pid==null&&d.parentId==null){f.push(d);continue}var g=c[d.pid]||c[d.parentId];g&&(g.children||(g.children=[]),g.children.push(d))}return f}var s=function(){var l=[];for(var c in a){var u=c.slice(2,6)==="0000"?void 0:c.slice(4,6)=="00"?c.slice(0,2)+"0000":c.slice(0,4)+"00";l.push({id:c,pid:u,name:a[c]})}return o(l)}();r.exports=s},function(r,n,a){var o=a(18);r.exports={d4:function(){return this.natural(1,4)},d6:function(){return this.natural(1,6)},d8:function(){return this.natural(1,8)},d12:function(){return this.natural(1,12)},d20:function(){return this.natural(1,20)},d100:function(){return this.natural(1,100)},guid:function(){var s="abcdefABCDEF1234567890",l=this.string(s,8)+"-"+this.string(s,4)+"-"+this.string(s,4)+"-"+this.string(s,4)+"-"+this.string(s,12);return l},uuid:function(){return this.guid()},id:function(){var s,l=0,c=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],u=["1","0","X","9","8","7","6","5","4","3","2"];s=this.pick(o).id+this.date("yyyyMMdd")+this.string("number",3);for(var d=0;d<s.length;d++)l+=s[d]*c[d];return s+=u[l%11],s},increment:function(){var s=0;return function(l){return s+=+l||1}}(),inc:function(s){return this.increment(s)}}},function(r,n,a){var o=a(21),s=a(22);r.exports={Parser:o,Handler:s}},function(r,n){function a(I){this.type=I,this.offset=a.offset(),this.text=a.text()}function o(I,L){a.call(this,"alternate"),this.left=I,this.right=L}function s(I){a.call(this,"match"),this.body=I.filter(Boolean)}function l(I,L){a.call(this,I),this.body=L}function c(I){l.call(this,"capture-group"),this.index=M[this.offset]||(M[this.offset]=E++),this.body=I}function u(I,L){a.call(this,"quantified"),this.body=I,this.quantifier=L}function d(I,L){a.call(this,"quantifier"),this.min=I,this.max=L,this.greedy=!0}function f(I,L){a.call(this,"charset"),this.invert=I,this.body=L}function v(I,L){a.call(this,"range"),this.start=I,this.end=L}function g(I){a.call(this,"literal"),this.body=I,this.escaped=this.body!=this.text}function y(I){a.call(this,"unicode"),this.code=I.toUpperCase()}function _(I){a.call(this,"hex"),this.code=I.toUpperCase()}function b(I){a.call(this,"octal"),this.code=I.toUpperCase()}function T(I){a.call(this,"back-reference"),this.code=I.toUpperCase()}function C(I){a.call(this,"control-character"),this.code=I.toUpperCase()}var P=function(){function I(V,B){function z(){this.constructor=V}z.prototype=B.prototype,V.prototype=new z}function L(V,B,z,G,H){function W(j,X){function Z(ae){function he(ve){return ve.charCodeAt(0).toString(16).toUpperCase()}return ae.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ve){return"\\x0"+he(ve)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ve){return"\\x"+he(ve)}).replace(/[\u0180-\u0FFF]/g,function(ve){return"\\u0"+he(ve)}).replace(/[\u1080-\uFFFF]/g,function(ve){return"\\u"+he(ve)})}var q,le;switch(j.length){case 0:q="end of input";break;case 1:q=j[0];break;default:q=j.slice(0,-1).join(", ")+" or "+j[j.length-1]}return le=X?'"'+Z(X)+'"':"end of input","Expected "+q+" but "+le+" found."}this.expected=V,this.found=B,this.offset=z,this.line=G,this.column=H,this.name="SyntaxError",this.message=W(V,B)}function N(V){function B(){return V.substring(Ke,ie)}function z(){return Ke}function G(Y){function J(Pe,Ue,et){var zt,wr;for(zt=Ue;et>zt;zt++)wr=V.charAt(zt),wr===`
`?(Pe.seenCR||Pe.line++,Pe.column=1,Pe.seenCR=!1):wr==="\r"||wr==="\u2028"||wr==="\u2029"?(Pe.line++,Pe.column=1,Pe.seenCR=!0):(Pe.column++,Pe.seenCR=!1)}return or!==Y&&(or>Y&&(or=0,fn={line:1,column:1,seenCR:!1}),J(fn,or,Y),or=Y),fn}function H(Y){sr>ie||(ie>sr&&(sr=ie,lr=[]),lr.push(Y))}function W(Y){var J=0;for(Y.sort();J<Y.length;)Y[J-1]===Y[J]?Y.splice(J,1):J++}function j(){var Y,J,Pe,Ue,et;return Y=ie,J=X(),J!==null?(Pe=ie,V.charCodeAt(ie)===124?(Ue=La,ie++):(Ue=null,Be===0&&H(Pr)),Ue!==null?(et=j(),et!==null?(Ue=[Ue,et],Pe=Ue):(ie=Pe,Pe=Ye)):(ie=Pe,Pe=Ye),Pe===null&&(Pe=er),Pe!==null?(Ke=Y,J=ka(J,Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function X(){var Y,J,Pe,Ue,et;if(Y=ie,J=q(),J===null&&(J=er),J!==null)if(Pe=ie,Be++,Ue=he(),Be--,Ue===null?Pe=er:(ie=Pe,Pe=Ye),Pe!==null){for(Ue=[],et=ae(),et===null&&(et=Z());et!==null;)Ue.push(et),et=ae(),et===null&&(et=Z());Ue!==null?(et=le(),et===null&&(et=er),et!==null?(Ke=Y,J=Oa(J,Ue,et),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)}else ie=Y,Y=Ye;else ie=Y,Y=Ye;return Y}function Z(){var Y;return Y=de(),Y===null&&(Y=oe(),Y===null&&(Y=Me())),Y}function q(){var Y,J;return Y=ie,V.charCodeAt(ie)===94?(J=En,ie++):(J=null,Be===0&&H($n)),J!==null&&(Ke=Y,J=Na()),J===null&&(ie=Y),Y=J,Y}function le(){var Y,J;return Y=ie,V.charCodeAt(ie)===36?(J=Mn,ie++):(J=null,Be===0&&H(Va)),J!==null&&(Ke=Y,J=Ba()),J===null&&(ie=Y),Y=J,Y}function ae(){var Y,J,Pe;return Y=ie,J=Z(),J!==null?(Pe=he(),Pe!==null?(Ke=Y,J=Fa(J,Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function he(){var Y,J,Pe;return Be++,Y=ie,J=ve(),J!==null?(Pe=ne(),Pe===null&&(Pe=er),Pe!==null?(Ke=Y,J=Gr(J,Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Be--,Y===null&&(J=null,Be===0&&H(zr)),Y}function ve(){var Y;return Y=ce(),Y===null&&(Y=fe(),Y===null&&(Y=_e(),Y===null&&(Y=Ce(),Y===null&&(Y=Se(),Y===null&&(Y=De()))))),Y}function ce(){var Y,J,Pe,Ue,et,zt;return Y=ie,V.charCodeAt(ie)===123?(J=fr,ie++):(J=null,Be===0&&H(Ur)),J!==null?(Pe=pe(),Pe!==null?(V.charCodeAt(ie)===44?(Ue=Ha,ie++):(Ue=null,Be===0&&H(Dn)),Ue!==null?(et=pe(),et!==null?(V.charCodeAt(ie)===125?(zt=In,ie++):(zt=null,Be===0&&H(Rn)),zt!==null?(Ke=Y,J=za(Pe,et),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function fe(){var Y,J,Pe,Ue;return Y=ie,V.charCodeAt(ie)===123?(J=fr,ie++):(J=null,Be===0&&H(Ur)),J!==null?(Pe=pe(),Pe!==null?(V.substr(ie,2)===Wr?(Ue=Wr,ie+=2):(Ue=null,Be===0&&H(Ln)),Ue!==null?(Ke=Y,J=Ga(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function _e(){var Y,J,Pe,Ue;return Y=ie,V.charCodeAt(ie)===123?(J=fr,ie++):(J=null,Be===0&&H(Ur)),J!==null?(Pe=pe(),Pe!==null?(V.charCodeAt(ie)===125?(Ue=In,ie++):(Ue=null,Be===0&&H(Rn)),Ue!==null?(Ke=Y,J=Er(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function Ce(){var Y,J;return Y=ie,V.charCodeAt(ie)===43?(J=Ua,ie++):(J=null,Be===0&&H(Wa)),J!==null&&(Ke=Y,J=Ya()),J===null&&(ie=Y),Y=J,Y}function Se(){var Y,J;return Y=ie,V.charCodeAt(ie)===42?(J=ja,ie++):(J=null,Be===0&&H(Yr)),J!==null&&(Ke=Y,J=tr()),J===null&&(ie=Y),Y=J,Y}function De(){var Y,J;return Y=ie,V.charCodeAt(ie)===63?(J=kn,ie++):(J=null,Be===0&&H(pr)),J!==null&&(Ke=Y,J=On()),J===null&&(ie=Y),Y=J,Y}function ne(){var Y;return V.charCodeAt(ie)===63?(Y=kn,ie++):(Y=null,Be===0&&H(pr)),Y}function pe(){var Y,J,Pe;if(Y=ie,J=[],jr.test(V.charAt(ie))?(Pe=V.charAt(ie),ie++):(Pe=null,Be===0&&H(Nn)),Pe!==null)for(;Pe!==null;)J.push(Pe),jr.test(V.charAt(ie))?(Pe=V.charAt(ie),ie++):(Pe=null,Be===0&&H(Nn));else J=Ye;return J!==null&&(Ke=Y,J=$r(J)),J===null&&(ie=Y),Y=J,Y}function de(){var Y,J,Pe,Ue;return Y=ie,V.charCodeAt(ie)===40?(J=Vn,ie++):(J=null,Be===0&&H(Kr)),J!==null?(Pe=Ie(),Pe===null&&(Pe=te(),Pe===null&&(Pe=we(),Pe===null&&(Pe=Te()))),Pe!==null?(V.charCodeAt(ie)===41?(Ue=Xr,ie++):(Ue=null,Be===0&&H(Mr)),Ue!==null?(Ke=Y,J=Ut(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function Te(){var Y,J;return Y=ie,J=j(),J!==null&&(Ke=Y,J=Zr(J)),J===null&&(ie=Y),Y=J,Y}function we(){var Y,J,Pe;return Y=ie,V.substr(ie,2)===rr?(J=rr,ie+=2):(J=null,Be===0&&H(qr)),J!==null?(Pe=j(),Pe!==null?(Ke=Y,J=Ka(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function Ie(){var Y,J,Pe;return Y=ie,V.substr(ie,2)===Qe?(J=Qe,ie+=2):(J=null,Be===0&&H(Jr)),J!==null?(Pe=j(),Pe!==null?(Ke=Y,J=Dr(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function te(){var Y,J,Pe;return Y=ie,V.substr(ie,2)===vr?(J=vr,ie+=2):(J=null,Be===0&&H(Ir)),J!==null?(Pe=j(),Pe!==null?(Ke=Y,J=Bn(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function oe(){var Y,J,Pe,Ue,et;if(Be++,Y=ie,V.charCodeAt(ie)===91?(J=Wt,ie++):(J=null,Be===0&&H(Za)),J!==null)if(V.charCodeAt(ie)===94?(Pe=En,ie++):(Pe=null,Be===0&&H($n)),Pe===null&&(Pe=er),Pe!==null){for(Ue=[],et=ge(),et===null&&(et=Ae());et!==null;)Ue.push(et),et=ge(),et===null&&(et=Ae());Ue!==null?(V.charCodeAt(ie)===93?(et=qa,ie++):(et=null,Be===0&&H(Ot)),et!==null?(Ke=Y,J=Ja(Pe,Ue),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)}else ie=Y,Y=Ye;else ie=Y,Y=Ye;return Be--,Y===null&&(J=null,Be===0&&H(Xa)),Y}function ge(){var Y,J,Pe,Ue;return Be++,Y=ie,J=Ae(),J!==null?(V.charCodeAt(ie)===45?(Pe=Fn,ie++):(Pe=null,Be===0&&H(en)),Pe!==null?(Ue=Ae(),Ue!==null?(Ke=Y,J=Hn(J,Ue),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Be--,Y===null&&(J=null,Be===0&&H(Qr)),Y}function Ae(){var Y;return Be++,Y=$e(),Y===null&&(Y=be()),Be--,Y===null&&Be===0&&H(tn),Y}function be(){var Y,J;return Y=ie,zn.test(V.charAt(ie))?(J=V.charAt(ie),ie++):(J=null,Be===0&&H(gr)),J!==null&&(Ke=Y,J=Rr(J)),J===null&&(ie=Y),Y=J,Y}function $e(){var Y;return Y=Ge(),Y===null&&(Y=bt(),Y===null&&(Y=Ze(),Y===null&&(Y=Je(),Y===null&&(Y=it(),Y===null&&(Y=nt(),Y===null&&(Y=_t(),Y===null&&(Y=ct(),Y===null&&(Y=St(),Y===null&&(Y=mt(),Y===null&&(Y=Pt(),Y===null&&(Y=ut(),Y===null&&(Y=yt(),Y===null&&(Y=Pn(),Y===null&&(Y=Et(),Y===null&&(Y=Jt(),Y===null&&(Y=It(),Y===null&&(Y=Qt()))))))))))))))))),Y}function Me(){var Y;return Y=Ve(),Y===null&&(Y=ke(),Y===null&&(Y=Le())),Y}function Ve(){var Y,J;return Y=ie,V.charCodeAt(ie)===46?(J=Nt,ie++):(J=null,Be===0&&H(rn)),J!==null&&(Ke=Y,J=Lr()),J===null&&(ie=Y),Y=J,Y}function Le(){var Y,J;return Be++,Y=ie,nr.test(V.charAt(ie))?(J=V.charAt(ie),ie++):(J=null,Be===0&&H(mr)),J!==null&&(Ke=Y,J=Rr(J)),J===null&&(ie=Y),Y=J,Be--,Y===null&&(J=null,Be===0&&H(nn)),Y}function ke(){var Y;return Y=Fe(),Y===null&&(Y=We(),Y===null&&(Y=bt(),Y===null&&(Y=Ze(),Y===null&&(Y=Je(),Y===null&&(Y=it(),Y===null&&(Y=nt(),Y===null&&(Y=_t(),Y===null&&(Y=ct(),Y===null&&(Y=St(),Y===null&&(Y=mt(),Y===null&&(Y=Pt(),Y===null&&(Y=ut(),Y===null&&(Y=yt(),Y===null&&(Y=qt(),Y===null&&(Y=Pn(),Y===null&&(Y=Et(),Y===null&&(Y=Jt(),Y===null&&(Y=It(),Y===null&&(Y=Qt()))))))))))))))))))),Y}function Ge(){var Y,J;return Y=ie,V.substr(ie,2)===Vt?(J=Vt,ie+=2):(J=null,Be===0&&H(an)),J!==null&&(Ke=Y,J=Gn()),J===null&&(ie=Y),Y=J,Y}function Fe(){var Y,J;return Y=ie,V.substr(ie,2)===Vt?(J=Vt,ie+=2):(J=null,Be===0&&H(an)),J!==null&&(Ke=Y,J=Bt()),J===null&&(ie=Y),Y=J,Y}function We(){var Y,J;return Y=ie,V.substr(ie,2)===Un?(J=Un,ie+=2):(J=null,Be===0&&H(Qa)),J!==null&&(Ke=Y,J=ar()),J===null&&(ie=Y),Y=J,Y}function Ze(){var Y,J;return Y=ie,V.substr(ie,2)===yr?(J=yr,ie+=2):(J=null,Be===0&&H(Yt)),J!==null&&(Ke=Y,J=on()),J===null&&(ie=Y),Y=J,Y}function Je(){var Y,J;return Y=ie,V.substr(ie,2)===Wn?(J=Wn,ie+=2):(J=null,Be===0&&H(sn)),J!==null&&(Ke=Y,J=Yn()),J===null&&(ie=Y),Y=J,Y}function it(){var Y,J;return Y=ie,V.substr(ie,2)===jn?(J=jn,ie+=2):(J=null,Be===0&&H(ei)),J!==null&&(Ke=Y,J=ti()),J===null&&(ie=Y),Y=J,Y}function nt(){var Y,J;return Y=ie,V.substr(ie,2)===ln?(J=ln,ie+=2):(J=null,Be===0&&H(ri)),J!==null&&(Ke=Y,J=ni()),J===null&&(ie=Y),Y=J,Y}function _t(){var Y,J;return Y=ie,V.substr(ie,2)===kr?(J=kr,ie+=2):(J=null,Be===0&&H(Kn)),J!==null&&(Ke=Y,J=ai()),J===null&&(ie=Y),Y=J,Y}function ct(){var Y,J;return Y=ie,V.substr(ie,2)===Xn?(J=Xn,ie+=2):(J=null,Be===0&&H(Zn)),J!==null&&(Ke=Y,J=qn()),J===null&&(ie=Y),Y=J,Y}function St(){var Y,J;return Y=ie,V.substr(ie,2)===Jn?(J=Jn,ie+=2):(J=null,Be===0&&H(cn)),J!==null&&(Ke=Y,J=ii()),J===null&&(ie=Y),Y=J,Y}function mt(){var Y,J;return Y=ie,V.substr(ie,2)===jt?(J=jt,ie+=2):(J=null,Be===0&&H(Qn)),J!==null&&(Ke=Y,J=ea()),J===null&&(ie=Y),Y=J,Y}function Pt(){var Y,J;return Y=ie,V.substr(ie,2)===ta?(J=ta,ie+=2):(J=null,Be===0&&H(oi)),J!==null&&(Ke=Y,J=ra()),J===null&&(ie=Y),Y=J,Y}function ut(){var Y,J;return Y=ie,V.substr(ie,2)===_r?(J=_r,ie+=2):(J=null,Be===0&&H(si)),J!==null&&(Ke=Y,J=na()),J===null&&(ie=Y),Y=J,Y}function yt(){var Y,J;return Y=ie,V.substr(ie,2)===Sr?(J=Sr,ie+=2):(J=null,Be===0&&H(aa)),J!==null&&(Ke=Y,J=ia()),J===null&&(ie=Y),Y=J,Y}function bt(){var Y,J,Pe;return Y=ie,V.substr(ie,2)===Kt?(J=Kt,ie+=2):(J=null,Be===0&&H(Ft)),J!==null?(V.length>ie?(Pe=V.charAt(ie),ie++):(Pe=null,Be===0&&H(un)),Pe!==null?(Ke=Y,J=oa(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function qt(){var Y,J,Pe;return Y=ie,V.charCodeAt(ie)===92?(J=hn,ie++):(J=null,Be===0&&H(sa)),J!==null?(ir.test(V.charAt(ie))?(Pe=V.charAt(ie),ie++):(Pe=null,Be===0&&H(li)),Pe!==null?(Ke=Y,J=ci(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}function Pn(){var Y,J,Pe,Ue;if(Y=ie,V.substr(ie,2)===br?(J=br,ie+=2):(J=null,Be===0&&H(la)),J!==null){if(Pe=[],xr.test(V.charAt(ie))?(Ue=V.charAt(ie),ie++):(Ue=null,Be===0&&H(Or)),Ue!==null)for(;Ue!==null;)Pe.push(Ue),xr.test(V.charAt(ie))?(Ue=V.charAt(ie),ie++):(Ue=null,Be===0&&H(Or));else Pe=Ye;Pe!==null?(Ke=Y,J=Ht(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)}else ie=Y,Y=Ye;return Y}function Et(){var Y,J,Pe,Ue;if(Y=ie,V.substr(ie,2)===pt?(J=pt,ie+=2):(J=null,Be===0&&H(ht)),J!==null){if(Pe=[],Rt.test(V.charAt(ie))?(Ue=V.charAt(ie),ie++):(Ue=null,Be===0&&H(Tr)),Ue!==null)for(;Ue!==null;)Pe.push(Ue),Rt.test(V.charAt(ie))?(Ue=V.charAt(ie),ie++):(Ue=null,Be===0&&H(Tr));else Pe=Ye;Pe!==null?(Ke=Y,J=Lt(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)}else ie=Y,Y=Ye;return Y}function Jt(){var Y,J,Pe,Ue;if(Y=ie,V.substr(ie,2)===ca?(J=ca,ie+=2):(J=null,Be===0&&H(ui)),J!==null){if(Pe=[],Rt.test(V.charAt(ie))?(Ue=V.charAt(ie),ie++):(Ue=null,Be===0&&H(Tr)),Ue!==null)for(;Ue!==null;)Pe.push(Ue),Rt.test(V.charAt(ie))?(Ue=V.charAt(ie),ie++):(Ue=null,Be===0&&H(Tr));else Pe=Ye;Pe!==null?(Ke=Y,J=Xt(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)}else ie=Y,Y=Ye;return Y}function It(){var Y,J;return Y=ie,V.substr(ie,2)===br?(J=br,ie+=2):(J=null,Be===0&&H(la)),J!==null&&(Ke=Y,J=dn()),J===null&&(ie=Y),Y=J,Y}function Qt(){var Y,J,Pe;return Y=ie,V.charCodeAt(ie)===92?(J=hn,ie++):(J=null,Be===0&&H(sa)),J!==null?(V.length>ie?(Pe=V.charAt(ie),ie++):(Pe=null,Be===0&&H(un)),Pe!==null?(Ke=Y,J=Rr(Pe),J===null&&(ie=Y),Y=J):(ie=Y,Y=Ye)):(ie=Y,Y=Ye),Y}var $t,Ct=arguments.length>1?arguments[1]:{},Hr={regexp:j},Tt=j,Ye=null,er="",La="|",Pr='"|"',ka=function(Y,J){return J?new o(Y,J[1]):Y},Oa=function(Y,J,Pe){return new s([Y].concat(J).concat([Pe]))},En="^",$n='"^"',Na=function(){return new a("start")},Mn="$",Va='"$"',Ba=function(){return new a("end")},Fa=function(Y,J){return new u(Y,J)},zr="Quantifier",Gr=function(Y,J){return J&&(Y.greedy=!1),Y},fr="{",Ur='"{"',Ha=",",Dn='","',In="}",Rn='"}"',za=function(Y,J){return new d(Y,J)},Wr=",}",Ln='",}"',Ga=function(Y){return new d(Y,1/0)},Er=function(Y){return new d(Y,Y)},Ua="+",Wa='"+"',Ya=function(){return new d(1,1/0)},ja="*",Yr='"*"',tr=function(){return new d(0,1/0)},kn="?",pr='"?"',On=function(){return new d(0,1)},jr=/^[0-9]/,Nn="[0-9]",$r=function(Y){return+Y.join("")},Vn="(",Kr='"("',Xr=")",Mr='")"',Ut=function(Y){return Y},Zr=function(Y){return new c(Y)},rr="?:",qr='"?:"',Ka=function(Y){return new l("non-capture-group",Y)},Qe="?=",Jr='"?="',Dr=function(Y){return new l("positive-lookahead",Y)},vr="?!",Ir='"?!"',Bn=function(Y){return new l("negative-lookahead",Y)},Xa="CharacterSet",Wt="[",Za='"["',qa="]",Ot='"]"',Ja=function(Y,J){return new f(!!Y,J)},Qr="CharacterRange",Fn="-",en='"-"',Hn=function(Y,J){return new v(Y,J)},tn="Character",zn=/^[^\\\]]/,gr="[^\\\\\\]]",Rr=function(Y){return new g(Y)},Nt=".",rn='"."',Lr=function(){return new a("any-character")},nn="Literal",nr=/^[^|\\\/.[()?+*$\^]/,mr="[^|\\\\\\/.[()?+*$\\^]",Vt="\\b",an='"\\\\b"',Gn=function(){return new a("backspace")},Bt=function(){return new a("word-boundary")},Un="\\B",Qa='"\\\\B"',ar=function(){return new a("non-word-boundary")},yr="\\d",Yt='"\\\\d"',on=function(){return new a("digit")},Wn="\\D",sn='"\\\\D"',Yn=function(){return new a("non-digit")},jn="\\f",ei='"\\\\f"',ti=function(){return new a("form-feed")},ln="\\n",ri='"\\\\n"',ni=function(){return new a("line-feed")},kr="\\r",Kn='"\\\\r"',ai=function(){return new a("carriage-return")},Xn="\\s",Zn='"\\\\s"',qn=function(){return new a("white-space")},Jn="\\S",cn='"\\\\S"',ii=function(){return new a("non-white-space")},jt="\\t",Qn='"\\\\t"',ea=function(){return new a("tab")},ta="\\v",oi='"\\\\v"',ra=function(){return new a("vertical-tab")},_r="\\w",si='"\\\\w"',na=function(){return new a("word")},Sr="\\W",aa='"\\\\W"',ia=function(){return new a("non-word")},Kt="\\c",Ft='"\\\\c"',un="any character",oa=function(Y){return new C(Y)},hn="\\",sa='"\\\\"',ir=/^[1-9]/,li="[1-9]",ci=function(Y){return new T(Y)},br="\\0",la='"\\\\0"',xr=/^[0-7]/,Or="[0-7]",Ht=function(Y){return new b(Y.join(""))},pt="\\x",ht='"\\\\x"',Rt=/^[0-9a-fA-F]/,Tr="[0-9a-fA-F]",Lt=function(Y){return new _(Y.join(""))},ca="\\u",ui='"\\\\u"',Xt=function(Y){return new y(Y.join(""))},dn=function(){return new a("null-character")},ie=0,Ke=0,or=0,fn={line:1,column:1,seenCR:!1},sr=0,lr=[],Be=0;if("startRule"in Ct){if(!(Ct.startRule in Hr))throw new Error(`Can't start parsing from rule "`+Ct.startRule+'".');Tt=Hr[Ct.startRule]}if(a.offset=z,a.text=B,$t=Tt(),$t!==null&&ie===V.length)return $t;throw W(lr),Ke=Math.max(ie,sr),new L(lr,Ke<V.length?V.charAt(Ke):null,Ke,G(Ke).line,G(Ke).column)}return I(L,Error),{SyntaxError:L,parse:N}}(),E=1,M={};r.exports=P},function(r,n,a){var o=a(3),s=a(5),l={extend:o.extend},c=_(97,122),u=_(65,90),d=_(48,57),f=_(32,47)+_(58,64)+_(91,96)+_(123,126),v=_(32,126),g=` \f
\r	\v \u2028\u2029`,y={"\\w":c+u+d+"_","\\W":f.replace("_",""),"\\s":g,"\\S":function(){for(var b=v,T=0;T<g.length;T++)b=b.replace(g[T],"");return b}(),"\\d":d,"\\D":c+u+f};function _(b,T){for(var C="",P=b;P<=T;P++)C+=String.fromCharCode(P);return C}l.gen=function(b,T,C){return C=C||{guid:1},l[b.type]?l[b.type](b,T,C):l.token(b,T,C)},l.extend({token:function(b,T,C){switch(b.type){case"start":case"end":return"";case"any-character":return s.character();case"backspace":return"";case"word-boundary":return"";case"non-word-boundary":break;case"digit":return s.pick(d.split(""));case"non-digit":return s.pick((c+u+f).split(""));case"form-feed":break;case"line-feed":return b.body||b.text;case"carriage-return":break;case"white-space":return s.pick(g.split(""));case"non-white-space":return s.pick((c+u+d).split(""));case"tab":break;case"vertical-tab":break;case"word":return s.pick((c+u+d).split(""));case"non-word":return s.pick(f.replace("_","").split(""))}return b.body||b.text},alternate:function(b,T,C){return this.gen(s.boolean()?b.left:b.right,T,C)},match:function(b,T,C){T="";for(var P=0;P<b.body.length;P++)T+=this.gen(b.body[P],T,C);return T},"capture-group":function(b,T,C){return T=this.gen(b.body,T,C),C[C.guid++]=T,T},"non-capture-group":function(b,T,C){return this.gen(b.body,T,C)},"positive-lookahead":function(b,T,C){return this.gen(b.body,T,C)},"negative-lookahead":function(b,T,C){return""},quantified:function(b,T,C){T="";for(var P=this.quantifier(b.quantifier),E=0;E<P;E++)T+=this.gen(b.body,T,C);return T},quantifier:function(b,T,C){var P=Math.max(b.min,0),E=isFinite(b.max)?b.max:P+s.integer(3,7);return s.integer(P,E)},charset:function(b,T,C){if(b.invert)return this["invert-charset"](b,T,C);var P=s.pick(b.body);return this.gen(P,T,C)},"invert-charset":function(b,T,C){for(var P=v,E=0,M;E<b.body.length;E++)switch(M=b.body[E],M.type){case"literal":P=P.replace(M.body,"");break;case"range":for(var I=this.gen(M.start,T,C).charCodeAt(),L=this.gen(M.end,T,C).charCodeAt(),N=I;N<=L;N++)P=P.replace(String.fromCharCode(N),"");default:var V=y[M.text];if(V)for(var B=0;B<=V.length;B++)P=P.replace(V[B],"")}return s.pick(P.split(""))},range:function(b,T,C){var P=this.gen(b.start,T,C).charCodeAt(),E=this.gen(b.end,T,C).charCodeAt();return String.fromCharCode(s.integer(P,E))},literal:function(b,T,C){return b.escaped?b.body:b.text},unicode:function(b,T,C){return String.fromCharCode(parseInt(b.code,16))},hex:function(b,T,C){return String.fromCharCode(parseInt(b.code,16))},octal:function(b,T,C){return String.fromCharCode(parseInt(b.code,8))},"back-reference":function(b,T,C){return C[b.code]||""},CONTROL_CHARACTER_MAP:function(){for(var b="@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \\ ] ^ _".split(" "),T=`\0       \x07 \b 	 
 \v \f \r              \x1B    `.split(" "),C={},P=0;P<b.length;P++)C[b[P]]=T[P];return C}(),"control-character":function(b,T,C){return this.CONTROL_CHARACTER_MAP[b.code]}}),r.exports=l},function(r,n,a){r.exports=a(24)},function(r,n,a){var o=a(2),s=a(3),l=a(4);function c(u,d,f){f=f||[];var v={name:typeof d=="string"?d.replace(o.RE_KEY,"$1"):d,template:u,type:s.type(u),rule:l.parse(d)};switch(v.path=f.slice(0),v.path.push(d===void 0?"ROOT":v.name),v.type){case"array":v.items=[],s.each(u,function(g,y){v.items.push(c(g,y,v.path))});break;case"object":v.properties=[],s.each(u,function(g,y){v.properties.push(c(g,y,v.path))});break}return v}r.exports=c},function(r,n,a){r.exports=a(26)},function(r,n,a){var o=a(2),s=a(3),l=a(23);function c(f,v){for(var g=l(f),y=u.diff(g,v),_=0;_<y.length;_++);return y}var u={diff:function(v,g,y){var _=[];return this.name(v,g,y,_)&&this.type(v,g,y,_)&&(this.value(v,g,y,_),this.properties(v,g,y,_),this.items(v,g,y,_)),_},name:function(f,v,g,y){var _=y.length;return d.equal("name",f.path,g+"",f.name+"",y),y.length===_},type:function(f,v,g,y){var _=y.length;switch(f.type){case"string":if(f.template.match(o.RE_PLACEHOLDER))return!0;break;case"array":if(f.rule.parameters&&(f.rule.min!==void 0&&f.rule.max===void 0&&f.rule.count===1||f.rule.parameters[2]))return!0;break;case"function":return!0}return d.equal("type",f.path,s.type(v),f.type,y),y.length===_},value:function(f,v,g,y){var _=y.length,b=f.rule,T=f.type;if(T==="object"||T==="array"||T==="function")return!0;if(!b.parameters){switch(T){case"regexp":return d.match("value",f.path,v,f.template,y),y.length===_;case"string":if(f.template.match(o.RE_PLACEHOLDER))return y.length===_;break}return d.equal("value",f.path,v,f.template,y),y.length===_}var C;switch(T){case"number":var P=(v+"").split(".");P[0]=+P[0],b.min!==void 0&&b.max!==void 0&&(d.greaterThanOrEqualTo("value",f.path,P[0],Math.min(b.min,b.max),y),d.lessThanOrEqualTo("value",f.path,P[0],Math.max(b.min,b.max),y)),b.min!==void 0&&b.max===void 0&&d.equal("value",f.path,P[0],b.min,y,"[value] "+g),b.decimal&&(b.dmin!==void 0&&b.dmax!==void 0&&(d.greaterThanOrEqualTo("value",f.path,P[1].length,b.dmin,y),d.lessThanOrEqualTo("value",f.path,P[1].length,b.dmax,y)),b.dmin!==void 0&&b.dmax===void 0&&d.equal("value",f.path,P[1].length,b.dmin,y));break;case"boolean":break;case"string":C=v.match(new RegExp(f.template,"g")),C=C?C.length:0,b.min!==void 0&&b.max!==void 0&&(d.greaterThanOrEqualTo("repeat count",f.path,C,b.min,y),d.lessThanOrEqualTo("repeat count",f.path,C,b.max,y)),b.min!==void 0&&b.max===void 0&&d.equal("repeat count",f.path,C,b.min,y);break;case"regexp":C=v.match(new RegExp(f.template.source.replace(/^\^|\$$/g,""),"g")),C=C?C.length:0,b.min!==void 0&&b.max!==void 0&&(d.greaterThanOrEqualTo("repeat count",f.path,C,b.min,y),d.lessThanOrEqualTo("repeat count",f.path,C,b.max,y)),b.min!==void 0&&b.max===void 0&&d.equal("repeat count",f.path,C,b.min,y);break}return y.length===_},properties:function(f,v,g,y){var _=y.length,b=f.rule,T=s.keys(v);if(f.properties){if(f.rule.parameters?(b.min!==void 0&&b.max!==void 0&&(d.greaterThanOrEqualTo("properties length",f.path,T.length,Math.min(b.min,b.max),y),d.lessThanOrEqualTo("properties length",f.path,T.length,Math.max(b.min,b.max),y)),b.min!==void 0&&b.max===void 0&&b.count!==1&&d.equal("properties length",f.path,T.length,b.min,y)):d.equal("properties length",f.path,T.length,f.properties.length,y),y.length!==_)return!1;for(var C=0;C<T.length;C++)y.push.apply(y,this.diff(function(){var P;return s.each(f.properties,function(E){E.name===T[C]&&(P=E)}),P||f.properties[C]}(),v[T[C]],T[C]));return y.length===_}},items:function(f,v,g,y){var _=y.length;if(f.items){var b=f.rule;if(!f.rule.parameters)d.equal("items length",f.path,v.length,f.items.length,y);else{if(b.min!==void 0&&b.max!==void 0&&(d.greaterThanOrEqualTo("items",f.path,v.length,Math.min(b.min,b.max)*f.items.length,y,"[{utype}] array is too short: {path} must have at least {expected} elements but instance has {actual} elements"),d.lessThanOrEqualTo("items",f.path,v.length,Math.max(b.min,b.max)*f.items.length,y,"[{utype}] array is too long: {path} must have at most {expected} elements but instance has {actual} elements")),b.min!==void 0&&b.max===void 0){if(b.count===1)return y.length===_;d.equal("items length",f.path,v.length,b.min*f.items.length,y)}if(b.parameters[2])return y.length===_}if(y.length!==_)return!1;for(var T=0;T<v.length;T++)y.push.apply(y,this.diff(f.items[T%f.items.length],v[T],T%f.items.length));return y.length===_}}},d={message:function(f){return(f.message||"[{utype}] Expect {path}'{ltype} {action} {expected}, but is {actual}").replace("{utype}",f.type.toUpperCase()).replace("{ltype}",f.type.toLowerCase()).replace("{path}",s.isArray(f.path)&&f.path.join(".")||f.path).replace("{action}",f.action).replace("{expected}",f.expected).replace("{actual}",f.actual)},equal:function(f,v,g,y,_,b){if(g===y)return!0;switch(f){case"type":if(y==="regexp"&&g==="string")return!0;break}var T={path:v,type:f,actual:g,expected:y,action:"is equal to",message:b};return T.message=d.message(T),_.push(T),!1},match:function(f,v,g,y,_,b){if(y.test(g))return!0;var T={path:v,type:f,actual:g,expected:y,action:"matches",message:b};return T.message=d.message(T),_.push(T),!1},notEqual:function(f,v,g,y,_,b){if(g!==y)return!0;var T={path:v,type:f,actual:g,expected:y,action:"is not equal to",message:b};return T.message=d.message(T),_.push(T),!1},greaterThan:function(f,v,g,y,_,b){if(g>y)return!0;var T={path:v,type:f,actual:g,expected:y,action:"is greater than",message:b};return T.message=d.message(T),_.push(T),!1},lessThan:function(f,v,g,y,_,b){if(g<y)return!0;var T={path:v,type:f,actual:g,expected:y,action:"is less to",message:b};return T.message=d.message(T),_.push(T),!1},greaterThanOrEqualTo:function(f,v,g,y,_,b){if(g>=y)return!0;var T={path:v,type:f,actual:g,expected:y,action:"is greater than or equal to",message:b};return T.message=d.message(T),_.push(T),!1},lessThanOrEqualTo:function(f,v,g,y,_,b){if(g<=y)return!0;var T={path:v,type:f,actual:g,expected:y,action:"is less than or equal to",message:b};return T.message=d.message(T),_.push(T),!1}};c.Diff=u,c.Assert=d,r.exports=c},function(r,n,a){r.exports=a(28)},function(r,n,a){var o=a(3);window._XMLHttpRequest=window.XMLHttpRequest,window._ActiveXObject=window.ActiveXObject;try{new window.Event("custom")}catch{window.Event=function(b,T,C,P){var E=document.createEvent("CustomEvent");return E.initCustomEvent(b,T,C,P),E}}var s={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l="readystatechange loadstart progress abort error load timeout loadend".split(" "),c="timeout withCredentials".split(" "),u="readyState responseURL status statusText responseType response responseText responseXML".split(" "),d={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function f(){this.custom={events:{},requestHeaders:{},responseHeaders:{}}}f._settings={timeout:"10-100"},f.setup=function(_){return o.extend(f._settings,_),f._settings},o.extend(f,s),o.extend(f.prototype,s),f.prototype.mock=!0,f.prototype.match=!1,o.extend(f.prototype,{open:function(_,b,T,C,P){var E=this;o.extend(this.custom,{method:_,url:b,async:typeof T=="boolean"?T:!0,username:C,password:P,options:{url:b,type:_}}),this.custom.timeout=function(B){if(typeof B=="number")return B;if(typeof B=="string"&&!~B.indexOf("-"))return parseInt(B,10);if(typeof B=="string"&&~B.indexOf("-")){var z=B.split("-"),G=parseInt(z[0],10),H=parseInt(z[1],10);return Math.round(Math.random()*(H-G))+G}}(f._settings.timeout);var M=g(this.custom.options);function I(B){for(var z=0;z<u.length;z++)try{E[u[z]]=L[u[z]]}catch{}E.dispatchEvent(new Event(B.type))}if(!M){var L=v();this.custom.xhr=L;for(var N=0;N<l.length;N++)L.addEventListener(l[N],I);C?L.open(_,b,T,C,P):L.open(_,b,T);for(var V=0;V<c.length;V++)try{L[c[V]]=E[c[V]]}catch{}return}this.match=!0,this.custom.template=M,this.readyState=f.OPENED,this.dispatchEvent(new Event("readystatechange"))},setRequestHeader:function(_,b){if(!this.match){this.custom.xhr.setRequestHeader(_,b);return}var T=this.custom.requestHeaders;T[_]?T[_]+=","+b:T[_]=b},timeout:0,withCredentials:!1,upload:{},send:function(b){var T=this;if(this.custom.options.body=b,!this.match){this.custom.xhr.send(b);return}this.setRequestHeader("X-Requested-With","MockXMLHttpRequest"),this.dispatchEvent(new Event("loadstart")),this.custom.async?setTimeout(C,this.custom.timeout):C();function C(){T.readyState=f.HEADERS_RECEIVED,T.dispatchEvent(new Event("readystatechange")),T.readyState=f.LOADING,T.dispatchEvent(new Event("readystatechange")),T.status=200,T.statusText=d[200],T.response=T.responseText=JSON.stringify(y(T.custom.template,T.custom.options),null,4),T.readyState=f.DONE,T.dispatchEvent(new Event("readystatechange")),T.dispatchEvent(new Event("load")),T.dispatchEvent(new Event("loadend"))}},abort:function(){if(!this.match){this.custom.xhr.abort();return}this.readyState=f.UNSENT,this.dispatchEvent(new Event("abort",!1,!1,this)),this.dispatchEvent(new Event("error",!1,!1,this))}}),o.extend(f.prototype,{responseURL:"",status:f.UNSENT,statusText:"",getResponseHeader:function(_){return this.match?this.custom.responseHeaders[_.toLowerCase()]:this.custom.xhr.getResponseHeader(_)},getAllResponseHeaders:function(){if(!this.match)return this.custom.xhr.getAllResponseHeaders();var _=this.custom.responseHeaders,b="";for(var T in _)_.hasOwnProperty(T)&&(b+=T+": "+_[T]+`\r
`);return b},overrideMimeType:function(){},responseType:"",response:null,responseText:"",responseXML:null}),o.extend(f.prototype,{addEventListener:function(b,T){var C=this.custom.events;C[b]||(C[b]=[]),C[b].push(T)},removeEventListener:function(b,T){for(var C=this.custom.events[b]||[],P=0;P<C.length;P++)C[P]===T&&C.splice(P--,1)},dispatchEvent:function(b){for(var T=this.custom.events[b.type]||[],C=0;C<T.length;C++)T[C].call(this,b);var P="on"+b.type;this[P]&&this[P](b)}});function v(){var _=function(){var C=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,P=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,E=location.href,M=P.exec(E.toLowerCase())||[];return C.test(M[1])}();return window.ActiveXObject?!_&&b()||T():b();function b(){try{return new window._XMLHttpRequest}catch{}}function T(){try{return new window._ActiveXObject("Microsoft.XMLHTTP")}catch{}}}function g(_){for(var b in f.Mock._mocked){var T=f.Mock._mocked[b];if((!T.rurl||C(T.rurl,_.url))&&(!T.rtype||C(T.rtype,_.type.toLowerCase())))return T}function C(P,E){if(o.type(P)==="string")return P===E;if(o.type(P)==="regexp")return P.test(E)}}function y(_,b){return o.isFunction(_.template)?_.template(b):f.Mock.mock(_.template)}r.exports=f}])})})(mock);var mockExports=mock.exports;const Mock=getDefaultExportFromCjs(mockExports),dataTemplate={time:()=>Math.floor(Date.now()/1e3),channel:()=>Mock.Random.integer(1,10),unit:()=>"m/s^2",sampling:()=>8e3,peak:()=>parseFloat(Mock.Random.float(0,.5,7,7).toFixed(7)),valley:()=>-parseFloat(Mock.Random.float(0,.5,7,7).toFixed(7)),peakpeak:()=>parseFloat(Mock.Random.float(0,1,7,7).toFixed(7)),meaning:()=>0,rms:()=>parseFloat(Mock.Random.float(0,.1,4,4).toFixed(4)),skewness:()=>parseFloat(Mock.Random.float(0,.5,1,1).toFixed(1)),kurtosis:()=>parseFloat(Mock.Random.float(1,4,1,1).toFixed(1)),vibration_intensity:()=>parseFloat(Mock.Random.float(0,1,1,1).toFixed(1)),state:()=>Mock.Random.pick(["safe","warning","danger","damage"]),gap_current:()=>parseFloat((20+Math.random()*12).toFixed(2)),gap_minThreshold:()=>20,gap_maxThreshold:()=>30,gap_position:()=>`环号：${1024+Math.floor(Math.random()*10)}`,gap_state:()=>Mock.Random.pick(["normal","abnormal"])},generateMockData=()=>Mock.mock(dataTemplate),_hoisted_1$7={class:"container"},_hoisted_2$7={class:"state-tags"},_hoisted_3$6={class:"data-tags"},_hoisted_4$6={class:"tag-title"},_hoisted_5$6={class:"tag-value"},_hoisted_6$6={class:"chart-container"},_hoisted_7$5={class:"chart-container"},__default__$3={name:"DpFirstpath"},_sfc_main$7=defineComponent({...__default__$3,setup(r){use([install$R,install$O,install$Q,install$g,install$i,install$9,install$p]);const n=[{value:"safe",label:"安全"},{value:"warning",label:"警告"},{value:"danger",label:"危险"},{value:"damage",label:"毁坏"}],a=reactive({value:""}),o=reactive([{name:"峰值",value:0,unit:"MPa"},{name:"峰峰值",value:0,unit:"MPa"},{name:"均值",value:0,unit:"MPa"},{name:"有效值",value:0,unit:"m/s²"},{name:"歪度",value:0,unit:""},{name:"峭度",value:0,unit:""},{name:"烈度",value:0,unit:"mm/s"}]),s=5,l=(y,_,b)=>{const T=s-y;return[{value:y,name:_,itemStyle:{color:b},label:{show:y>0}},{value:T,name:"",itemStyle:{color:"#eee"},label:{show:!1}}]},c=reactive({tooltip:{trigger:"item",formatter:y=>y.name?`${y.name}: ${y.value}`:""},series:[{type:"pie",radius:["65%","80%"],label:{position:"outside",formatter:()=>`峰值
${o[0].value}`,fontSize:14,fontWeight:"bold",distanceToLabelLine:0,align:"center",color:"#73c0de",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:20,length2:0,smooth:!0},data:[]},{type:"pie",radius:["50%","63%"],label:{position:"outside",formatter:()=>`有效值
${o[3].value}`,fontSize:14,fontWeight:"bold",align:"center",verticalAlign:"middle",color:"#91cc75",fixedPosition:!0},labelLine:{show:!0,length:50,length2:0,smooth:!0},data:[]},{type:"pie",radius:["35%","48%"],label:{position:"outside",formatter:()=>`峭度
${o[5].value}`,fontSize:14,fontWeight:"bold",align:"center",color:"#fac858",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:70,length2:0,smooth:!0},data:[]}]}),u=()=>{c.series[0].data=l(o[0].value,"峰值","#73c0de"),c.series[1].data=l(o[3].value,"有效值","#91cc75"),c.series[2].data=l(o[5].value,"峭度","#fac858")},d=reactive({tooltip:{trigger:"axis",formatter:y=>`采集点: ${y[0].value[0]+1}<br/>${y[0].marker} ${y[0].value[1]} mm/s`},xAxis:{type:"value",min:0,max:9,interval:1,axisLabel:{formatter:y=>`${y+1}`}},yAxis:{type:"value",name:"震动烈度 (mm/s)"},series:[{name:"震动烈度",type:"line",showSymbol:!0,symbol:"circle",symbolSize:6,symbolColor:"blue",data:[]}]});let f=0;const v=()=>{const y=generateMockData();o[0].value=y.peak,o[1].value=y.peakpeak,o[2].value=y.meaning,o[3].value=y.rms,o[4].value=y.skewness,o[5].value=y.kurtosis,o[6].value=y.vibration_intensity,a.value=y.state,u(),d.series[0].data.push([f,o[6].value]),d.series[0].data.length>60&&d.series[0].data.shift(),d.series[0].data.length<=10?d.xAxis.max=d.series[0].data.length-1:d.series[0].data.length<=60&&(d.xAxis.min=0,d.xAxis.max=d.series[0].data.length-1),f++};let g=null;return onMounted(()=>{v(),g=setInterval(v,5e3)}),onBeforeUnmount(()=>{g&&clearInterval(g)}),(y,_)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$7,[(openBlock(),createElementBlock(Fragment,null,renderList(n,(b,T)=>createBaseVNode("div",{key:T,class:normalizeClass$1({"state-tag":!0,active:b.value===a.value,safe:b.value==="safe",warning:b.value==="warning",danger:b.value==="danger",damage:b.value==="damage"})},toDisplayString(b.label),3)),64))]),createBaseVNode("div",_hoisted_3$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o,b=>(openBlock(),createElementBlock("div",{key:b.name,class:"tag-item"},[createBaseVNode("div",_hoisted_4$6,toDisplayString(b.name),1),createBaseVNode("div",_hoisted_5$6,toDisplayString(b.value)+toDisplayString(b.unit),1)]))),128))]),createBaseVNode("div",_hoisted_6$6,[createVNode$1(unref(ECharts),{class:"chart",option:c,autoresize:""},null,8,["option"])]),createBaseVNode("div",_hoisted_7$5,[createVNode$1(unref(ECharts),{class:"chart",option:d,autoresize:""},null,8,["option"])])]))}}),Component1=_export_sfc(_sfc_main$7,[["__scopeId","data-v-0a760313"]]),_hoisted_1$6={class:"container"},_hoisted_2$6={class:"state-tags"},_hoisted_3$5={class:"data-tags"},_hoisted_4$5={class:"tag-title"},_hoisted_5$5={class:"tag-value"},_hoisted_6$5={class:"chart-container"},_hoisted_7$4={class:"chart-container"},__default__$2={name:"DpSecondpath"},_sfc_main$6=defineComponent({...__default__$2,setup(r){use([install$R,install$O,install$Q,install$g,install$i,install$9,install$p]);const n=5;let a=0;const o=reactive([{name:"峰值",value:0,unit:"MPa"},{name:"峰峰值",value:0,unit:"MPa"},{name:"均值",value:0,unit:"MPa"},{name:"有效值",value:0,unit:"m/s²"},{name:"歪度",value:0,unit:""},{name:"峭度",value:0,unit:""},{name:"烈度",value:0,unit:"mm/s"}]),s=[{value:"safe",label:"安全"},{value:"warning",label:"警告"},{value:"danger",label:"危险"},{value:"damage",label:"毁坏"}],l=reactive({value:""}),c=(y,_,b)=>{const T=n-y;return[{value:y,name:_,itemStyle:{color:b},label:{show:y>0}},{value:T,name:"",itemStyle:{color:"#eee"},label:{show:!1}}]},u=reactive({tooltip:{trigger:"item",formatter:y=>y.name?`${y.name}: ${y.value}`:""},series:[{type:"pie",radius:["65%","80%"],label:{position:"outside",formatter:()=>`峰值
${o[0].value}`,fontSize:14,fontWeight:"bold",distanceToLabelLine:0,align:"center",color:"#73c0de",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:20,length2:0,smooth:!0},data:[]},{type:"pie",radius:["50%","63%"],label:{position:"outside",formatter:()=>`有效值
${o[3].value}`,fontSize:14,fontWeight:"bold",align:"center",verticalAlign:"middle",color:"#91cc75",fixedPosition:!0},labelLine:{show:!0,length:50,length2:0,smooth:!0},data:[]},{type:"pie",radius:["35%","48%"],label:{position:"outside",formatter:()=>`峭度
${o[5].value}`,fontSize:14,fontWeight:"bold",align:"center",color:"#fac858",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:70,length2:0,smooth:!0},data:[]}]}),d=reactive({tooltip:{trigger:"axis",formatter:y=>`采集点: ${y[0].value[0]+1}<br/>${y[0].marker} ${y[0].value[1]} mm/s`},xAxis:{type:"value",min:0,max:9,interval:1,axisLabel:{formatter:y=>`${y+1}`}},yAxis:{type:"value",name:"震动烈度 (mm/s)"},series:[{name:"震动烈度",type:"line",showSymbol:!0,symbol:"circle",symbolSize:6,symbolColor:"blue",data:[]}]});let f=null;const v=()=>{u.series[0].data=c(o[0].value,"峰值","#73c0de"),u.series[1].data=c(o[3].value,"有效值","#91cc75"),u.series[2].data=c(o[5].value,"峭度","#fac858")},g=()=>{const y=generateMockData();o[0].value=y.peak,o[1].value=y.peakpeak,o[2].value=y.meaning,o[3].value=y.rms,o[4].value=y.skewness,o[5].value=y.kurtosis,o[6].value=y.vibration_intensity,l.value=y.state,v(),d.series[0].data.push([a,o[6].value]),d.series[0].data.length>60&&d.series[0].data.shift(),d.series[0].data.length<=10?d.xAxis.max=d.series[0].data.length-1:d.series[0].data.length<=60&&(d.xAxis.min=0,d.xAxis.max=d.series[0].data.length-1),a++};return onMounted(()=>{g(),f=setInterval(g,5e3)}),onBeforeUnmount(()=>{f&&clearInterval(f)}),(y,_)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$6,[(openBlock(),createElementBlock(Fragment,null,renderList(s,(b,T)=>createBaseVNode("div",{key:T,class:normalizeClass$1({"state-tag":!0,active:b.value===l.value,safe:b.value==="safe",warning:b.value==="warning",danger:b.value==="danger",damage:b.value==="damage"})},toDisplayString(b.label),3)),64))]),createBaseVNode("div",_hoisted_3$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o,b=>(openBlock(),createElementBlock("div",{key:b.name,class:"tag-item"},[createBaseVNode("div",_hoisted_4$5,toDisplayString(b.name),1),createBaseVNode("div",_hoisted_5$5,toDisplayString(b.value)+toDisplayString(b.unit),1)]))),128))]),createBaseVNode("div",_hoisted_6$5,[createVNode$1(unref(ECharts),{class:"chart",option:u,autoresize:""},null,8,["option"])]),createBaseVNode("div",_hoisted_7$4,[createVNode$1(unref(ECharts),{class:"chart",option:d,autoresize:""},null,8,["option"])])]))}}),Component2=_export_sfc(_sfc_main$6,[["__scopeId","data-v-07dbb2a1"]]),_hoisted_1$5={class:"container"},_hoisted_2$5={class:"state-tags"},_hoisted_3$4={class:"data-tags"},_hoisted_4$4={class:"tag-title"},_hoisted_5$4={class:"tag-value"},_hoisted_6$4={class:"chart-container"},_hoisted_7$3={class:"chart-container"},__default__$1={name:"DpThirdpath"},_sfc_main$5=defineComponent({...__default__$1,setup(r){use([install$R,install$O,install$Q,install$g,install$i,install$9,install$p]);const n=5;let a=0;const o=reactive([{name:"峰值",value:0,unit:"MPa"},{name:"峰峰值",value:0,unit:"MPa"},{name:"均值",value:0,unit:"MPa"},{name:"有效值",value:0,unit:"m/s²"},{name:"歪度",value:0,unit:""},{name:"峭度",value:0,unit:""},{name:"烈度",value:0,unit:"mm/s"}]),s=[{value:"safe",label:"安全"},{value:"warning",label:"警告"},{value:"danger",label:"危险"},{value:"damage",label:"毁坏"}],l=reactive({value:""}),c=(y,_,b)=>{const T=n-y;return[{value:y,name:_,itemStyle:{color:b},label:{show:y>0}},{value:T,name:"",itemStyle:{color:"#eee"},label:{show:!1}}]},u=reactive({tooltip:{trigger:"item",formatter:y=>y.name?`${y.name}: ${y.value}`:""},series:[{type:"pie",radius:["65%","80%"],label:{position:"outside",formatter:()=>`峰值
${o[0].value}`,fontSize:14,fontWeight:"bold",distanceToLabelLine:0,align:"center",color:"#73c0de",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:20,length2:0,smooth:!0},data:[]},{type:"pie",radius:["50%","63%"],label:{position:"outside",formatter:()=>`有效值
${o[3].value}`,fontSize:14,fontWeight:"bold",align:"center",verticalAlign:"middle",color:"#91cc75",fixedPosition:!0},labelLine:{show:!0,length:50,length2:0,smooth:!0},data:[]},{type:"pie",radius:["35%","48%"],label:{position:"outside",formatter:()=>`峭度
${o[5].value}`,fontSize:14,fontWeight:"bold",align:"center",color:"#fac858",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:70,length2:0,smooth:!0},data:[]}]}),d=reactive({tooltip:{trigger:"axis",formatter:y=>`采集点: ${y[0].value[0]+1}<br/>${y[0].marker} ${y[0].value[1]} mm/s`},xAxis:{type:"value",min:0,max:9,interval:1,axisLabel:{formatter:y=>`${y+1}`}},yAxis:{type:"value",name:"震动烈度 (mm/s)"},series:[{name:"震动烈度",type:"line",showSymbol:!0,symbol:"circle",symbolSize:6,symbolColor:"blue",data:[]}]});let f=null;const v=()=>{u.series[0].data=c(o[0].value,"峰值","#73c0de"),u.series[1].data=c(o[3].value,"有效值","#91cc75"),u.series[2].data=c(o[5].value,"峭度","#fac858")},g=()=>{const y=generateMockData();o[0].value=y.peak,o[1].value=y.peakpeak,o[2].value=y.meaning,o[3].value=y.rms,o[4].value=y.skewness,o[5].value=y.kurtosis,o[6].value=y.vibration_intensity,l.value=y.state,v(),d.series[0].data.push([a,o[6].value]),d.series[0].data.length>60&&d.series[0].data.shift(),d.series[0].data.length<=10?d.xAxis.max=d.series[0].data.length-1:d.series[0].data.length<=60&&(d.xAxis.min=0,d.xAxis.max=d.series[0].data.length-1),a++};return onMounted(()=>{g(),f=setInterval(g,5e3)}),onBeforeUnmount(()=>{f&&clearInterval(f)}),(y,_)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[(openBlock(),createElementBlock(Fragment,null,renderList(s,(b,T)=>createBaseVNode("div",{key:T,class:normalizeClass$1({"state-tag":!0,active:b.value===l.value,safe:b.value==="safe",warning:b.value==="warning",danger:b.value==="danger",damage:b.value==="damage"})},toDisplayString(b.label),3)),64))]),createBaseVNode("div",_hoisted_3$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o,b=>(openBlock(),createElementBlock("div",{key:b.name,class:"tag-item"},[createBaseVNode("div",_hoisted_4$4,toDisplayString(b.name),1),createBaseVNode("div",_hoisted_5$4,toDisplayString(b.value)+toDisplayString(b.unit),1)]))),128))]),createBaseVNode("div",_hoisted_6$4,[createVNode$1(unref(ECharts),{class:"chart",option:u,autoresize:""},null,8,["option"])]),createBaseVNode("div",_hoisted_7$3,[createVNode$1(unref(ECharts),{class:"chart",option:d,autoresize:""},null,8,["option"])])]))}}),Component3=_export_sfc(_sfc_main$5,[["__scopeId","data-v-e2f211a9"]]),_hoisted_1$4={class:"container"},_hoisted_2$4={class:"state-tags"},_hoisted_3$3={class:"data-tags"},_hoisted_4$3={class:"tag-title"},_hoisted_5$3={class:"tag-value"},_hoisted_6$3={class:"chart-container"},_hoisted_7$2={class:"chart-container"},__default__={name:"DpFourthpath"},_sfc_main$4=defineComponent({...__default__,setup(r){use([install$R,install$O,install$Q,install$g,install$i,install$9,install$p]);const n=5;let a=0;const o=reactive([{name:"峰值",value:0,unit:"MPa"},{name:"峰峰值",value:0,unit:"MPa"},{name:"均值",value:0,unit:"MPa"},{name:"有效值",value:0,unit:"m/s²"},{name:"歪度",value:0,unit:""},{name:"峭度",value:0,unit:""},{name:"烈度",value:0,unit:"mm/s"}]),s=[{value:"safe",label:"安全"},{value:"warning",label:"警告"},{value:"danger",label:"危险"},{value:"damage",label:"毁坏"}],l=reactive({value:""}),c=(y,_,b)=>{const T=n-y;return[{value:y,name:_,itemStyle:{color:b},label:{show:y>0}},{value:T,name:"",itemStyle:{color:"#eee"},label:{show:!1}}]},u=reactive({tooltip:{trigger:"item",formatter:y=>y.name?`${y.name}: ${y.value}`:""},series:[{type:"pie",radius:["65%","80%"],label:{position:"outside",formatter:()=>`峰值
${o[0].value}`,fontSize:14,fontWeight:"bold",distanceToLabelLine:0,align:"center",color:"#73c0de",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:20,length2:0,smooth:!0},data:[]},{type:"pie",radius:["50%","63%"],label:{position:"outside",formatter:()=>`有效值
${o[3].value}`,fontSize:14,fontWeight:"bold",align:"center",verticalAlign:"middle",color:"#91cc75",fixedPosition:!0},labelLine:{show:!0,length:50,length2:0,smooth:!0},data:[]},{type:"pie",radius:["35%","48%"],label:{position:"outside",formatter:()=>`峭度
${o[5].value}`,fontSize:14,fontWeight:"bold",align:"center",color:"#fac858",verticalAlign:"middle",fixedPosition:!0},labelLine:{show:!0,length:70,length2:0,smooth:!0},data:[]}]}),d=reactive({tooltip:{trigger:"axis",formatter:y=>`采集点: ${y[0].value[0]+1}<br/>${y[0].marker} ${y[0].value[1]} mm/s`},xAxis:{type:"value",min:0,max:9,interval:1,axisLabel:{formatter:y=>`${y+1}`}},yAxis:{type:"value",name:"震动烈度 (mm/s)"},series:[{name:"震动烈度",type:"line",showSymbol:!0,symbol:"circle",symbolSize:6,symbolColor:"blue",data:[]}]});let f=null;const v=()=>{u.series[0].data=c(o[0].value,"峰值","#73c0de"),u.series[1].data=c(o[3].value,"有效值","#91cc75"),u.series[2].data=c(o[5].value,"峭度","#fac858")},g=()=>{const y=generateMockData();o[0].value=y.peak,o[1].value=y.peakpeak,o[2].value=y.meaning,o[3].value=y.rms,o[4].value=y.skewness,o[5].value=y.kurtosis,o[6].value=y.vibration_intensity,l.value=y.state,v(),d.series[0].data.push([a,o[6].value]),d.series[0].data.length>60&&d.series[0].data.shift(),d.series[0].data.length<=10?d.xAxis.max=d.series[0].data.length-1:d.series[0].data.length<=60&&(d.xAxis.min=0,d.xAxis.max=d.series[0].data.length-1),a++};return onMounted(()=>{g(),f=setInterval(g,5e3)}),onBeforeUnmount(()=>{f&&clearInterval(f)}),(y,_)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[(openBlock(),createElementBlock(Fragment,null,renderList(s,(b,T)=>createBaseVNode("div",{key:T,class:normalizeClass$1({"state-tag":!0,active:b.value===l.value,safe:b.value==="safe",warning:b.value==="warning",danger:b.value==="danger",damage:b.value==="damage"})},toDisplayString(b.label),3)),64))]),createBaseVNode("div",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o,b=>(openBlock(),createElementBlock("div",{key:b.name,class:"tag-item"},[createBaseVNode("div",_hoisted_4$3,toDisplayString(b.name),1),createBaseVNode("div",_hoisted_5$3,toDisplayString(b.value)+toDisplayString(b.unit),1)]))),128))]),createBaseVNode("div",_hoisted_6$3,[createVNode$1(unref(ECharts),{class:"chart",option:u,autoresize:""},null,8,["option"])]),createBaseVNode("div",_hoisted_7$2,[createVNode$1(unref(ECharts),{class:"chart",option:d,autoresize:""},null,8,["option"])])]))}}),Component4=_export_sfc(_sfc_main$4,[["__scopeId","data-v-855871e9"]]),_hoisted_1$3={class:"DpSystem"},_hoisted_2$3={class:"content-container"},_sfc_main$3=defineComponent({__name:"DpSystem",setup(r){const n=()=>{a.back()},a=useRouter(),o=ref(),s={a:Component1,b:Component2,c:Component3,d:Component4},l=[{text:"通道1",value:"a"},{text:"通道2",value:"b"},{text:"通道3",value:"c"},{text:"通道4",value:"d"}],c=shallowRef("a"),u=d=>{c.value=d};return(d,f)=>{const v=resolveComponent("van-dropdown-item"),g=resolveComponent("van-dropdown-menu"),y=resolveComponent("van-nav-bar");return openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode$1(y,{class:"fixed-nav-bar",title:"刀盘系统监测","left-text":"返回","left-arrow":"",onClickLeft:n},{right:withCtx(()=>[createVNode$1(g,{"active-color":"#1989fa"},{default:withCtx(()=>[createVNode$1(v,{ref_key:"dropdownItem",ref:o,modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=_=>c.value=_),options:l,onChange:u},null,8,["modelValue"])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_2$3,[(openBlock(),createBlock(resolveDynamicComponent(s[c.value])))])])}}}),DpSystem=_export_sfc(_sfc_main$3,[["__scopeId","data-v-0297aa1c"]]),_hoisted_1$2={class:"StcPage"},_hoisted_2$2={class:"status-box"},_hoisted_3$2={class:"data-card"},_hoisted_4$2={class:"value"},_hoisted_5$2={class:"threshold"},_hoisted_6$2={class:"data-list"},_sfc_main$2=defineComponent({__name:"StcPage",setup(r){const n=useRouter(),a=()=>{n.push("/")},o=ref();let s=null;const l=reactive({current:0,minThreshold:0,maxThreshold:0,position:""}),c=ref([]),u=reactive({isNormal:!0,lastAbnormalTime:""}),d=computed(()=>{const b=l.maxThreshold-l.minThreshold;return Math.round((l.current-l.minThreshold)/b*100)}),f=computed(()=>u.isNormal?"#07c160":"#ee0a24");function v(){if(!o.value)return;s=init$1(o.value);const b={tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",name:"间隙值 (mm)"},series:[{name:"盾尾间隙值",type:"line",smooth:!0,data:[],itemStyle:{color:T=>T.data>l.maxThreshold?"red":"green"}}]};s.setOption(b)}function g(){var M;if(!s)return;const b=s.getOption(),T=Array.isArray(b.xAxis)&&b.xAxis[0],C=T&&"data"in T&&T.data||[];let P;if(C.length>0){const I=C[C.length-1];typeof I=="number"?P=I+1:typeof I=="object"&&I!==null&&"value"in I?P=I.value+1:P=1}else P=1;const E=b.series&&Array.isArray(b.series)&&((M=b.series[0])==null?void 0:M.data)||[];s==null||s.setOption({xAxis:{data:[...C,{value:P}]},series:[{data:[...Array.isArray(E)?E:[],l.current]}]})}let y=null;function _(){y=setInterval(()=>{const b=generateMockData();l.current=b.gap_current,l.minThreshold=b.gap_minThreshold,l.maxThreshold=b.gap_maxThreshold,l.position=b.gap_position;const T={value:l.current,time:new Date().toLocaleTimeString(),position:l.position};c.value.unshift(T),c.value.length>20&&c.value.pop();const C=l.current>=l.minThreshold&&l.current<=l.maxThreshold;!C&&u.isNormal&&(u.lastAbnormalTime=new Date().toLocaleString()),u.isNormal=C,g()},3e3)}return onMounted(()=>{v(),_()}),onBeforeUnmount(()=>{y&&clearInterval(y),s==null||s.dispose()}),(b,T)=>{const C=resolveComponent("van-nav-bar"),P=resolveComponent("van-tag"),E=resolveComponent("van-progress"),M=resolveComponent("van-cell");return openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode$1(C,{class:"fixed-nav-bar",title:"盾尾间隙监测","left-text":"返回","left-arrow":"",onClickLeft:a}),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,toDisplayString(l.current.toFixed(2))+"mm",1),T[0]||(T[0]=createBaseVNode("div",{class:"label"},"当前间隙值",-1)),createVNode$1(P,{type:u.isNormal?"success":"danger",class:"state-tag"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.isNormal?"正常":"异常"),1)]),_:1},8,["type"])]),createBaseVNode("div",_hoisted_5$2,[createBaseVNode("div",null,"安全阈值："+toDisplayString(l.minThreshold)+"mm - "+toDisplayString(l.maxThreshold)+"mm",1),createVNode$1(E,{percentage:d.value,"stroke-width":8,color:f.value},null,8,["percentage","color"])])]),createBaseVNode("div",{ref_key:"chartEl",ref:o,class:"chart-container"},null,512),createVNode$1(M,{title:"实时数据记录",icon:"clock"}),createBaseVNode("div",_hoisted_6$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(I,L)=>(openBlock(),createBlock(M,{key:L,title:`${I.value.toFixed(2)}mm`,value:I.time,label:`位置：${I.position}`},null,8,["title","value","label"]))),128))])])}}}),StcPage=_export_sfc(_sfc_main$2,[["__scopeId","data-v-ef8a2897"]]),_hoisted_1$1={class:"progress"},_hoisted_2$1={class:"status-panel"},_hoisted_3$1={class:"segment-info"},_hoisted_4$1={class:"current-segment"},_hoisted_5$1={class:"value"},_hoisted_6$1={class:"total-progress"},_hoisted_7$1={class:"value"},_hoisted_8$1={class:"daily-progress"},_hoisted_9$1={class:"value"},_hoisted_10$1={class:"progress-ring"},_hoisted_11$1={width:"200",height:"200"},_hoisted_12$1=["stroke-dasharray","stroke-dashoffset"],_hoisted_13$1={class:"ring-text"},_hoisted_14$1={class:"percentage"},_hoisted_15={class:"param-item"},_hoisted_16={class:"value"},_hoisted_17={class:"param-item"},_hoisted_18={class:"value"},_hoisted_19={class:"param-item"},_hoisted_20={class:"value"},_hoisted_21={class:"param-item"},_hoisted_22={class:"value"},_hoisted_23={key:0,class:"alarm-status"},_hoisted_24={class:"history-list"},_sfc_main$1=defineComponent({__name:"ProgressPage2",setup(r){const n=useRouter(),a=()=>{n.push("/")},o=reactive({currentSegment:1024,totalSegments:1500,dailyCompleted:12,totalCompleted:856}),s=reactive({speed:45,pressure:28.5,torque:3250,tilt:.12}),l=reactive({isActive:!1,message:""}),c=ref([]),u=computed(()=>2*Math.PI*90),d=computed(()=>Math.round(o.totalCompleted/o.totalSegments*100)),f=computed(()=>u.value*(1-o.totalCompleted/o.totalSegments));let v;const g=()=>{o.currentSegment+=1,o.totalCompleted+=1,o.dailyCompleted+=1,s.speed=40+Math.random()*10,s.pressure=25+Math.random()*5,s.torque=3e3+Math.random()*500,s.tilt=Math.random()*.3;const _=new Date;c.value.unshift({segment:o.currentSegment,time:`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")}`,duration:Math.floor(5+Math.random()*10)}),c.value.length>5&&c.value.pop(),y()},y=()=>{const _=s.pressure>32||s.torque>3500||Math.abs(s.tilt)>.5;l.isActive=_,l.message=_?"参数超标，请注意！":""};return onMounted(()=>{v=setInterval(g,5e3);for(let _=0;_<5;_++)g()}),onBeforeUnmount(()=>{clearInterval(v)}),(_,b)=>{const T=resolveComponent("van-nav-bar"),C=resolveComponent("van-grid-item"),P=resolveComponent("van-grid"),E=resolveComponent("van-icon"),M=resolveComponent("van-tag"),I=resolveComponent("van-cell");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode$1(T,{class:"fixed-nav-bar",title:"盾构掘进进度监测","left-text":"返回","left-arrow":"",onClickLeft:a}),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[b[0]||(b[0]=createBaseVNode("span",{class:"label"},"当前环号",-1)),createBaseVNode("span",_hoisted_5$1,toDisplayString(o.currentSegment),1)]),createBaseVNode("div",_hoisted_6$1,[b[1]||(b[1]=createBaseVNode("span",{class:"label"},"累计推进",-1)),createBaseVNode("span",_hoisted_7$1,toDisplayString(o.totalSegments)+"环",1)]),createBaseVNode("div",_hoisted_8$1,[b[2]||(b[2]=createBaseVNode("span",{class:"label"},"当日完成",-1)),createBaseVNode("span",_hoisted_9$1,toDisplayString(o.dailyCompleted)+"环",1)])]),createBaseVNode("div",_hoisted_10$1,[(openBlock(),createElementBlock("svg",_hoisted_11$1,[b[3]||(b[3]=createBaseVNode("circle",{class:"ring-background",cx:"100",cy:"100",r:"90"},null,-1)),createBaseVNode("circle",{class:"ring-progress",cx:"100",cy:"100",r:"90","stroke-dasharray":u.value,"stroke-dashoffset":f.value},null,8,_hoisted_12$1)])),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,toDisplayString(d.value)+"%",1),b[4]||(b[4]=createBaseVNode("div",{class:"label"},"总体进度",-1))])])]),createVNode$1(P,{"column-num":2,class:"params-grid"},{default:withCtx(()=>[createVNode$1(C,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createTextVNode(toDisplayString(s.speed.toFixed(1)),1),b[5]||(b[5]=createBaseVNode("span",{class:"unit"},"mm/min",-1))]),b[6]||(b[6]=createBaseVNode("div",{class:"label"},"推进速度",-1))])]),_:1}),createVNode$1(C,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[createTextVNode(toDisplayString(s.pressure.toFixed(1)),1),b[7]||(b[7]=createBaseVNode("span",{class:"unit"},"MPa",-1))]),b[8]||(b[8]=createBaseVNode("div",{class:"label"},"主推油压",-1))])]),_:1}),createVNode$1(C,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_19,[createBaseVNode("div",_hoisted_20,[createTextVNode(toDisplayString(s.torque.toFixed(1)),1),b[9]||(b[9]=createBaseVNode("span",{class:"unit"},"kN·m",-1))]),b[10]||(b[10]=createBaseVNode("div",{class:"label"},"刀盘扭矩",-1))])]),_:1}),createVNode$1(C,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_21,[createBaseVNode("div",_hoisted_22,toDisplayString(s.tilt.toFixed(2))+"°",1),b[11]||(b[11]=createBaseVNode("div",{class:"label"},"盾体倾斜度",-1))])]),_:1})]),_:1}),l.isActive?(openBlock(),createElementBlock("div",_hoisted_23,[createVNode$1(M,{type:"danger",class:"alarm-tag"},{default:withCtx(()=>[createVNode$1(E,{name:"warning"}),createTextVNode(" "+toDisplayString(l.message),1)]),_:1})])):createCommentVNode("",!0),createVNode$1(I,{title:"最近完成环",icon:"clock"}),createBaseVNode("div",_hoisted_24,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(L,N)=>(openBlock(),createBlock(I,{key:N,title:`第 ${L.segment} 环`,value:L.time,label:`耗时：${L.duration}分钟`},null,8,["title","value","label"]))),128))])])}}}),ProgressPage2=_export_sfc(_sfc_main$1,[["__scopeId","data-v-f2542329"]]),_hoisted_1={class:"MaterialUse"},_hoisted_2={class:"summary"},_hoisted_3={class:"summary-info"},_hoisted_4={class:"info-item"},_hoisted_5={class:"value"},_hoisted_6={class:"info-item"},_hoisted_7={class:"value"},_hoisted_8={class:"chart-container"},_hoisted_9={class:"material-list"},_hoisted_10={class:"material-header"},_hoisted_11={class:"name"},_hoisted_12={class:"progress-container"},_hoisted_13={class:"progress-info"},_hoisted_14={class:"consumption-rate"},_sfc_main=defineComponent({__name:"MaterialUsepage",setup(r){const n=useRouter(),a=()=>{n.push("/")};use([install$R,install$Q,install$p,install$i,install$9,install$g]);const o=ref(0),s=ref(0),l=ref(0),c=reactive([{name:"管片",icon:"aim",maxStock:2e3,baseConsumption:30,used:0,stock:2e3,todayUsed:0,unit:"环",percentage:0,status:"normal",statusText:"正常",history:[]},{name:"螺栓",icon:"nut",maxStock:5e3,baseConsumption:150,used:0,stock:5e3,todayUsed:0,unit:"套",percentage:0,status:"normal",statusText:"正常",history:[]},{name:"注浆材料",icon:"water-o",maxStock:800,baseConsumption:40,used:0,stock:800,todayUsed:0,unit:"m³",percentage:0,status:"normal",statusText:"正常",history:[]},{name:"润滑油",icon:"oil",maxStock:300,baseConsumption:20,used:0,stock:300,todayUsed:0,unit:"L",percentage:0,status:"normal",statusText:"正常",history:[]}]),u=ref({title:{text:"近7日消耗趋势",left:"center",textStyle:{fontSize:14}},tooltip:{trigger:"axis",formatter:b=>b.map(T=>`
        ${T.marker} 
        ${T.seriesName}<br/>
        ${T.axisValue}: ${T.value}${f(T.seriesName)}
      `).join("")},legend:{bottom:0,data:c.map(b=>b.name)},grid:{containLabel:!0,top:40,left:15,right:15,bottom:30},xAxis:{type:"category",boundaryGap:!1,data:d()},yAxis:{type:"value",axisLabel:{formatter:b=>b.toFixed(0)}},series:c.map(b=>({name:b.name,type:"line",smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:2},data:b.history}))});function d(){const b=[];for(let T=6;T>=0;T--){const C=new Date;C.setDate(C.getDate()-T),b.push(`${C.getMonth()+1}/${C.getDate()}`)}return b}const f=b=>{var T;return((T=c.find(C=>C.name===b))==null?void 0:T.unit)||""},v=b=>({normal:"#52c41a",warning:"#faad14",danger:"#f5222d"})[b],g=b=>b>80?"#f5222d":b>60?"#faad14":"#2d8cf0";let y;const _=()=>{c.forEach(b=>{const T=Math.round(b.baseConsumption*(.8+Math.random()*.4));b.stock=Math.max(0,b.stock-T),b.used=b.maxStock-b.stock,b.todayUsed=T,b.percentage=Math.round(b.used/b.maxStock*100),b.history.length>=7&&b.history.shift(),b.history.push(b.todayUsed);const C=Math.round(b.maxStock*.1);b.stock<C?(b.status="danger",b.statusText=`库存不足 (剩${Math.round(b.stock)}${b.unit})`):b.percentage>80?(b.status="warning",b.statusText="消耗过快"):(b.status="normal",b.statusText="正常")}),s.value=c.reduce((b,T)=>b+T.used,0),l.value=c.reduce((b,T)=>b+T.stock,0),o.value=Math.min(o.value+.5,Math.round(s.value/(s.value+l.value)*100)),o.value=Math.min(o.value+.5,Math.round(s.value/(s.value+l.value)*100)),u.value.series=c.map(b=>({name:b.name,type:"line",smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:2},data:[...b.history]}))};return onMounted(()=>{c.forEach(b=>{b.history=Array.from({length:7},()=>Math.round(b.baseConsumption*(.8+Math.random()*.4)))}),y=setInterval(_,3e3),_()}),onBeforeUnmount(()=>{clearInterval(y)}),(b,T)=>{const C=resolveComponent("van-tag"),P=resolveComponent("van-nav-bar"),E=resolveComponent("van-circle"),M=resolveComponent("van-icon"),I=resolveComponent("van-progress");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode$1(P,{class:"fixed-nav-bar",title:"材料消耗监控","left-text":"返回","left-arrow":"",onClickLeft:a},{right:withCtx(()=>[createVNode$1(C,{plain:"",type:"primary"},{default:withCtx(()=>T[1]||(T[1]=[createTextVNode("今日消耗")])),_:1})]),_:1}),createBaseVNode("div",_hoisted_2,[createVNode$1(E,{"current-rate":o.value,"onUpdate:currentRate":T[0]||(T[0]=L=>o.value=L),rate:o.value,speed:100,"stroke-width":60,text:`总消耗
${o.value}%`,color:"#2d8cf0","layer-color":"#ebedf0",size:"220px"},null,8,["current-rate","rate","text"]),createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[T[2]||(T[2]=createBaseVNode("label",null,"已消耗材料",-1)),createBaseVNode("span",_hoisted_5,toDisplayString(s.value)+"吨",1)]),createBaseVNode("div",_hoisted_6,[T[3]||(T[3]=createBaseVNode("label",null,"剩余库存",-1)),createBaseVNode("span",_hoisted_7,toDisplayString(l.value)+"吨",1)])])]),createBaseVNode("div",_hoisted_8,[createVNode$1(unref(ECharts),{class:"chart",option:u.value,autoresize:!0},null,8,["option"])]),createBaseVNode("div",_hoisted_9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c,L=>(openBlock(),createElementBlock("div",{key:L.name,class:"material-item"},[createBaseVNode("div",_hoisted_10,[createVNode$1(M,{name:L.icon,size:"18"},null,8,["name"]),createBaseVNode("span",_hoisted_11,toDisplayString(L.name),1),createVNode$1(C,{color:v(L.status),plain:""},{default:withCtx(()=>[createTextVNode(toDisplayString(L.statusText),1)]),_:2},1032,["color"])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createBaseVNode("span",null,"已用 "+toDisplayString(L.used)+toDisplayString(L.unit),1),createBaseVNode("span",null,"库存 "+toDisplayString(L.stock)+toDisplayString(L.unit),1)]),createVNode$1(I,{percentage:L.percentage,"stroke-width":6,color:g(L.percentage)},null,8,["percentage","color"])]),createBaseVNode("div",_hoisted_14,[createVNode$1(M,{name:"fire-o"}),createBaseVNode("span",null,"今日消耗："+toDisplayString(L.todayUsed)+toDisplayString(L.unit),1)])]))),128))])])}}}),MaterialUsepage=_export_sfc(_sfc_main,[["__scopeId","data-v-c7b0d8e7"]]),router=createRouter({history:createWebHistory("/"),routes:[{path:"/",name:"main",component:MainPage},{path:"/data",name:"data",component:DataShow},{path:"/class",name:"class",component:ClassPage},{path:"/base",name:"base",component:BaseMsg},{path:"/progress",name:"progress",component:ProgressPage},{path:"/dpsystem",name:"dpsystem",component:DpSystem},{path:"/stc",name:"stc",component:StcPage},{path:"/progress2",name:"progress2",component:ProgressPage2},{path:"/material",name:"material",component:MaterialUsepage}]}),app=createApp(App);app.use(stdin_default);app.use(router);app.mount("#app");
